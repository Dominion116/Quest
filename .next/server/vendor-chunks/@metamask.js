"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@metamask";
exports.ids = ["vendor-chunks/@metamask"];
exports.modules = {

/***/ "(ssr)/./node_modules/@metamask/safe-event-emitter/dist/cjs/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@metamask/safe-event-emitter/dist/cjs/index.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst events_1 = __webpack_require__(/*! events */ \"events\");\nfunction safeApply(handler, context, args) {\n    try {\n        Reflect.apply(handler, context, args);\n    }\n    catch (err) {\n        // Throw error after timeout so as not to interrupt the stack\n        setTimeout(() => {\n            throw err;\n        });\n    }\n}\nfunction arrayClone(arr) {\n    const n = arr.length;\n    const copy = new Array(n);\n    for (let i = 0; i < n; i += 1) {\n        copy[i] = arr[i];\n    }\n    return copy;\n}\nclass SafeEventEmitter extends events_1.EventEmitter {\n    emit(type, ...args) {\n        let doError = type === 'error';\n        const events = this._events;\n        if (events !== undefined) {\n            doError = doError && events.error === undefined;\n        }\n        else if (!doError) {\n            return false;\n        }\n        // If there is no 'error' event listener then throw.\n        if (doError) {\n            let er;\n            if (args.length > 0) {\n                [er] = args;\n            }\n            if (er instanceof Error) {\n                // Note: The comments on the `throw` lines are intentional, they show\n                // up in Node's output if this results in an unhandled exception.\n                throw er; // Unhandled 'error' event\n            }\n            // At least give some kind of context to the user\n            const err = new Error(`Unhandled error.${er ? ` (${er.message})` : ''}`);\n            err.context = er;\n            throw err; // Unhandled 'error' event\n        }\n        const handler = events[type];\n        if (handler === undefined) {\n            return false;\n        }\n        if (typeof handler === 'function') {\n            safeApply(handler, this, args);\n        }\n        else {\n            const len = handler.length;\n            const listeners = arrayClone(handler);\n            for (let i = 0; i < len; i += 1) {\n                safeApply(listeners[i], this, args);\n            }\n        }\n        return true;\n    }\n}\nexports[\"default\"] = SafeEventEmitter;\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1ldGFtYXNrL3NhZmUtZXZlbnQtZW1pdHRlci9kaXN0L2Nqcy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxpQkFBaUIsbUJBQU8sQ0FBQyxzQkFBUTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsT0FBTztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQSxxREFBcUQsVUFBVSxXQUFXLFFBQVE7QUFDbEY7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixTQUFTO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFlO0FBQ2YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9xdWVzdC1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9AbWV0YW1hc2svc2FmZS1ldmVudC1lbWl0dGVyL2Rpc3QvY2pzL2luZGV4LmpzP2U0YzkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBldmVudHNfMSA9IHJlcXVpcmUoXCJldmVudHNcIik7XG5mdW5jdGlvbiBzYWZlQXBwbHkoaGFuZGxlciwgY29udGV4dCwgYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIFJlZmxlY3QuYXBwbHkoaGFuZGxlciwgY29udGV4dCwgYXJncyk7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gVGhyb3cgZXJyb3IgYWZ0ZXIgdGltZW91dCBzbyBhcyBub3QgdG8gaW50ZXJydXB0IHRoZSBzdGFja1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXJyYXlDbG9uZShhcnIpIHtcbiAgICBjb25zdCBuID0gYXJyLmxlbmd0aDtcbiAgICBjb25zdCBjb3B5ID0gbmV3IEFycmF5KG4pO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSArPSAxKSB7XG4gICAgICAgIGNvcHlbaV0gPSBhcnJbaV07XG4gICAgfVxuICAgIHJldHVybiBjb3B5O1xufVxuY2xhc3MgU2FmZUV2ZW50RW1pdHRlciBleHRlbmRzIGV2ZW50c18xLkV2ZW50RW1pdHRlciB7XG4gICAgZW1pdCh0eXBlLCAuLi5hcmdzKSB7XG4gICAgICAgIGxldCBkb0Vycm9yID0gdHlwZSA9PT0gJ2Vycm9yJztcbiAgICAgICAgY29uc3QgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgICAgICBpZiAoZXZlbnRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRvRXJyb3IgPSBkb0Vycm9yICYmIGV2ZW50cy5lcnJvciA9PT0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFkb0Vycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LlxuICAgICAgICBpZiAoZG9FcnJvcikge1xuICAgICAgICAgICAgbGV0IGVyO1xuICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIFtlcl0gPSBhcmdzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAvLyBOb3RlOiBUaGUgY29tbWVudHMgb24gdGhlIGB0aHJvd2AgbGluZXMgYXJlIGludGVudGlvbmFsLCB0aGV5IHNob3dcbiAgICAgICAgICAgICAgICAvLyB1cCBpbiBOb2RlJ3Mgb3V0cHV0IGlmIHRoaXMgcmVzdWx0cyBpbiBhbiB1bmhhbmRsZWQgZXhjZXB0aW9uLlxuICAgICAgICAgICAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQXQgbGVhc3QgZ2l2ZSBzb21lIGtpbmQgb2YgY29udGV4dCB0byB0aGUgdXNlclxuICAgICAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKGBVbmhhbmRsZWQgZXJyb3IuJHtlciA/IGAgKCR7ZXIubWVzc2FnZX0pYCA6ICcnfWApO1xuICAgICAgICAgICAgZXJyLmNvbnRleHQgPSBlcjtcbiAgICAgICAgICAgIHRocm93IGVycjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoYW5kbGVyID0gZXZlbnRzW3R5cGVdO1xuICAgICAgICBpZiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBzYWZlQXBwbHkoaGFuZGxlciwgdGhpcywgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBsZW4gPSBoYW5kbGVyLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IGFycmF5Q2xvbmUoaGFuZGxlcik7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgc2FmZUFwcGx5KGxpc3RlbmVyc1tpXSwgdGhpcywgYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuZXhwb3J0cy5kZWZhdWx0ID0gU2FmZUV2ZW50RW1pdHRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@metamask/safe-event-emitter/dist/cjs/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@metamask/sdk-analytics/dist/index.js":
/*!************************************************************!*\
  !*** ./node_modules/@metamask/sdk-analytics/dist/index.js ***!
  \************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  // If the importer is in node compatibility mode or this is not an ESM\n  // file that has been converted to a CommonJS file using a Babel-\n  // compatible transform (i.e. \"__esModule\" has not been set), then set\n  // \"default\" to the CommonJS \"module.exports\" for node compatibility.\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// src/index.ts\nvar index_exports = {};\n__export(index_exports, {\n  analytics: () => analytics\n});\nmodule.exports = __toCommonJS(index_exports);\n\n// src/analytics.ts\nvar import_openapi_fetch = __toESM(__webpack_require__(/*! openapi-fetch */ \"(ssr)/./node_modules/openapi-fetch/dist/cjs/index.cjs\"));\n\n// src/sender.ts\nvar Sender = class {\n  constructor(options) {\n    this.batch = [];\n    this.maxTimeoutMs = 3e4;\n    this.timeoutId = null;\n    this.isSending = false;\n    this.batchSize = options.batchSize;\n    this.baseTimeoutMs = options.baseTimeoutMs;\n    this.currentTimeoutMs = options.baseTimeoutMs;\n    this.sendFn = options.sendFn;\n  }\n  enqueue(item) {\n    this.batch.push(item);\n    this.schedule();\n  }\n  schedule() {\n    if (this.batch.length > 0 && !this.timeoutId) {\n      this.timeoutId = setTimeout(() => {\n        this.timeoutId = null;\n        this.flush();\n      }, this.currentTimeoutMs);\n    }\n  }\n  async flush() {\n    if (this.isSending || this.batch.length === 0) {\n      return;\n    }\n    this.isSending = true;\n    const current = [...this.batch.slice(0, this.batchSize)];\n    this.batch = this.batch.slice(this.batchSize);\n    try {\n      await this.sendFn(current);\n      this.currentTimeoutMs = this.baseTimeoutMs;\n    } catch (error) {\n      console.error(\"Sender: Failed to send batch\", error);\n      this.batch = [...current, ...this.batch];\n      this.currentTimeoutMs = Math.min(\n        this.currentTimeoutMs * 2,\n        this.maxTimeoutMs\n      );\n    } finally {\n      this.isSending = false;\n      this.schedule();\n    }\n  }\n};\nvar sender_default = Sender;\n\n// src/analytics.ts\nvar Analytics = class {\n  constructor(baseUrl) {\n    this.enabled = false;\n    this.properties = {};\n    const client2 = (0, import_openapi_fetch.default)({ baseUrl });\n    const sendFn = async (batch) => {\n      const res = await client2.POST(\"/v1/events\", { body: batch });\n      if (res.response.status !== 200) {\n        throw new Error(res.error);\n      }\n    };\n    this.sender = new sender_default({ batchSize: 100, baseTimeoutMs: 200, sendFn });\n  }\n  enable() {\n    this.enabled = true;\n  }\n  setGlobalProperty(key, value) {\n    this.properties[key] = value;\n  }\n  track(name, properties) {\n    if (!this.enabled) {\n      return;\n    }\n    const event = {\n      name,\n      ...this.properties,\n      ...properties\n    };\n    this.sender.enqueue(event);\n  }\n};\nvar analytics_default = Analytics;\n\n// src/index.ts\nvar endpoint;\nvar _a;\nif (typeof process !== \"undefined\" && process.env) {\n  endpoint = (_a = process.env.METAMASK_ANALYTICS_ENDPOINT) != null ? _a : process.env.NEXT_PUBLIC_METAMASK_ANALYTICS_ENDPOINT;\n}\nvar METAMASK_ANALYTICS_ENDPOINT = endpoint != null ? endpoint : \"https://mm-sdk-analytics.api.cx.metamask.io/\";\nvar client = new analytics_default(METAMASK_ANALYTICS_ENDPOINT);\nvar analytics = client;\n// Annotate the CommonJS export names for ESM import in node:\n0 && (0);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1ldGFtYXNrL3Nkay1hbmFseXRpY3MvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsa0NBQWtDO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsNEZBQTRGO0FBQ3pIO0FBQ0E7QUFDQTtBQUNBLG1HQUFtRztBQUNuRztBQUNBO0FBQ0E7QUFDQTtBQUNBLHlFQUF5RSw4QkFBOEI7QUFDdkc7QUFDQTtBQUNBLG9EQUFvRCxrQkFBa0IsYUFBYTs7QUFFbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7QUFDQSxtQ0FBbUMsbUJBQU8sQ0FBQyw0RUFBZTs7QUFFMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsU0FBUztBQUNqRTtBQUNBLHFEQUFxRCxhQUFhO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLDRDQUE0QztBQUNuRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxDQUVMIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ2VvcXVlc3QtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvQG1ldGFtYXNrL3Nkay1hbmFseXRpY3MvZGlzdC9pbmRleC5qcz84YTFhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fY3JlYXRlID0gT2JqZWN0LmNyZWF0ZTtcbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19nZXRPd25Qcm9wTmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcztcbnZhciBfX2dldFByb3RvT2YgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG52YXIgX19oYXNPd25Qcm9wID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBfX2V4cG9ydCA9ICh0YXJnZXQsIGFsbCkgPT4ge1xuICBmb3IgKHZhciBuYW1lIGluIGFsbClcbiAgICBfX2RlZlByb3AodGFyZ2V0LCBuYW1lLCB7IGdldDogYWxsW25hbWVdLCBlbnVtZXJhYmxlOiB0cnVlIH0pO1xufTtcbnZhciBfX2NvcHlQcm9wcyA9ICh0bywgZnJvbSwgZXhjZXB0LCBkZXNjKSA9PiB7XG4gIGlmIChmcm9tICYmIHR5cGVvZiBmcm9tID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBmcm9tID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBmb3IgKGxldCBrZXkgb2YgX19nZXRPd25Qcm9wTmFtZXMoZnJvbSkpXG4gICAgICBpZiAoIV9faGFzT3duUHJvcC5jYWxsKHRvLCBrZXkpICYmIGtleSAhPT0gZXhjZXB0KVxuICAgICAgICBfX2RlZlByb3AodG8sIGtleSwgeyBnZXQ6ICgpID0+IGZyb21ba2V5XSwgZW51bWVyYWJsZTogIShkZXNjID0gX19nZXRPd25Qcm9wRGVzYyhmcm9tLCBrZXkpKSB8fCBkZXNjLmVudW1lcmFibGUgfSk7XG4gIH1cbiAgcmV0dXJuIHRvO1xufTtcbnZhciBfX3RvRVNNID0gKG1vZCwgaXNOb2RlTW9kZSwgdGFyZ2V0KSA9PiAodGFyZ2V0ID0gbW9kICE9IG51bGwgPyBfX2NyZWF0ZShfX2dldFByb3RvT2YobW9kKSkgOiB7fSwgX19jb3B5UHJvcHMoXG4gIC8vIElmIHRoZSBpbXBvcnRlciBpcyBpbiBub2RlIGNvbXBhdGliaWxpdHkgbW9kZSBvciB0aGlzIGlzIG5vdCBhbiBFU01cbiAgLy8gZmlsZSB0aGF0IGhhcyBiZWVuIGNvbnZlcnRlZCB0byBhIENvbW1vbkpTIGZpbGUgdXNpbmcgYSBCYWJlbC1cbiAgLy8gY29tcGF0aWJsZSB0cmFuc2Zvcm0gKGkuZS4gXCJfX2VzTW9kdWxlXCIgaGFzIG5vdCBiZWVuIHNldCksIHRoZW4gc2V0XG4gIC8vIFwiZGVmYXVsdFwiIHRvIHRoZSBDb21tb25KUyBcIm1vZHVsZS5leHBvcnRzXCIgZm9yIG5vZGUgY29tcGF0aWJpbGl0eS5cbiAgaXNOb2RlTW9kZSB8fCAhbW9kIHx8ICFtb2QuX19lc01vZHVsZSA/IF9fZGVmUHJvcCh0YXJnZXQsIFwiZGVmYXVsdFwiLCB7IHZhbHVlOiBtb2QsIGVudW1lcmFibGU6IHRydWUgfSkgOiB0YXJnZXQsXG4gIG1vZFxuKSk7XG52YXIgX190b0NvbW1vbkpTID0gKG1vZCkgPT4gX19jb3B5UHJvcHMoX19kZWZQcm9wKHt9LCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KSwgbW9kKTtcblxuLy8gc3JjL2luZGV4LnRzXG52YXIgaW5kZXhfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQoaW5kZXhfZXhwb3J0cywge1xuICBhbmFseXRpY3M6ICgpID0+IGFuYWx5dGljc1xufSk7XG5tb2R1bGUuZXhwb3J0cyA9IF9fdG9Db21tb25KUyhpbmRleF9leHBvcnRzKTtcblxuLy8gc3JjL2FuYWx5dGljcy50c1xudmFyIGltcG9ydF9vcGVuYXBpX2ZldGNoID0gX190b0VTTShyZXF1aXJlKFwib3BlbmFwaS1mZXRjaFwiKSk7XG5cbi8vIHNyYy9zZW5kZXIudHNcbnZhciBTZW5kZXIgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICB0aGlzLmJhdGNoID0gW107XG4gICAgdGhpcy5tYXhUaW1lb3V0TXMgPSAzZTQ7XG4gICAgdGhpcy50aW1lb3V0SWQgPSBudWxsO1xuICAgIHRoaXMuaXNTZW5kaW5nID0gZmFsc2U7XG4gICAgdGhpcy5iYXRjaFNpemUgPSBvcHRpb25zLmJhdGNoU2l6ZTtcbiAgICB0aGlzLmJhc2VUaW1lb3V0TXMgPSBvcHRpb25zLmJhc2VUaW1lb3V0TXM7XG4gICAgdGhpcy5jdXJyZW50VGltZW91dE1zID0gb3B0aW9ucy5iYXNlVGltZW91dE1zO1xuICAgIHRoaXMuc2VuZEZuID0gb3B0aW9ucy5zZW5kRm47XG4gIH1cbiAgZW5xdWV1ZShpdGVtKSB7XG4gICAgdGhpcy5iYXRjaC5wdXNoKGl0ZW0pO1xuICAgIHRoaXMuc2NoZWR1bGUoKTtcbiAgfVxuICBzY2hlZHVsZSgpIHtcbiAgICBpZiAodGhpcy5iYXRjaC5sZW5ndGggPiAwICYmICF0aGlzLnRpbWVvdXRJZCkge1xuICAgICAgdGhpcy50aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy50aW1lb3V0SWQgPSBudWxsO1xuICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgICB9LCB0aGlzLmN1cnJlbnRUaW1lb3V0TXMpO1xuICAgIH1cbiAgfVxuICBhc3luYyBmbHVzaCgpIHtcbiAgICBpZiAodGhpcy5pc1NlbmRpbmcgfHwgdGhpcy5iYXRjaC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5pc1NlbmRpbmcgPSB0cnVlO1xuICAgIGNvbnN0IGN1cnJlbnQgPSBbLi4udGhpcy5iYXRjaC5zbGljZSgwLCB0aGlzLmJhdGNoU2l6ZSldO1xuICAgIHRoaXMuYmF0Y2ggPSB0aGlzLmJhdGNoLnNsaWNlKHRoaXMuYmF0Y2hTaXplKTtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGhpcy5zZW5kRm4oY3VycmVudCk7XG4gICAgICB0aGlzLmN1cnJlbnRUaW1lb3V0TXMgPSB0aGlzLmJhc2VUaW1lb3V0TXM7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJTZW5kZXI6IEZhaWxlZCB0byBzZW5kIGJhdGNoXCIsIGVycm9yKTtcbiAgICAgIHRoaXMuYmF0Y2ggPSBbLi4uY3VycmVudCwgLi4udGhpcy5iYXRjaF07XG4gICAgICB0aGlzLmN1cnJlbnRUaW1lb3V0TXMgPSBNYXRoLm1pbihcbiAgICAgICAgdGhpcy5jdXJyZW50VGltZW91dE1zICogMixcbiAgICAgICAgdGhpcy5tYXhUaW1lb3V0TXNcbiAgICAgICk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRoaXMuaXNTZW5kaW5nID0gZmFsc2U7XG4gICAgICB0aGlzLnNjaGVkdWxlKCk7XG4gICAgfVxuICB9XG59O1xudmFyIHNlbmRlcl9kZWZhdWx0ID0gU2VuZGVyO1xuXG4vLyBzcmMvYW5hbHl0aWNzLnRzXG52YXIgQW5hbHl0aWNzID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihiYXNlVXJsKSB7XG4gICAgdGhpcy5lbmFibGVkID0gZmFsc2U7XG4gICAgdGhpcy5wcm9wZXJ0aWVzID0ge307XG4gICAgY29uc3QgY2xpZW50MiA9ICgwLCBpbXBvcnRfb3BlbmFwaV9mZXRjaC5kZWZhdWx0KSh7IGJhc2VVcmwgfSk7XG4gICAgY29uc3Qgc2VuZEZuID0gYXN5bmMgKGJhdGNoKSA9PiB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBjbGllbnQyLlBPU1QoXCIvdjEvZXZlbnRzXCIsIHsgYm9keTogYmF0Y2ggfSk7XG4gICAgICBpZiAocmVzLnJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihyZXMuZXJyb3IpO1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5zZW5kZXIgPSBuZXcgc2VuZGVyX2RlZmF1bHQoeyBiYXRjaFNpemU6IDEwMCwgYmFzZVRpbWVvdXRNczogMjAwLCBzZW5kRm4gfSk7XG4gIH1cbiAgZW5hYmxlKCkge1xuICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XG4gIH1cbiAgc2V0R2xvYmFsUHJvcGVydHkoa2V5LCB2YWx1ZSkge1xuICAgIHRoaXMucHJvcGVydGllc1trZXldID0gdmFsdWU7XG4gIH1cbiAgdHJhY2sobmFtZSwgcHJvcGVydGllcykge1xuICAgIGlmICghdGhpcy5lbmFibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGV2ZW50ID0ge1xuICAgICAgbmFtZSxcbiAgICAgIC4uLnRoaXMucHJvcGVydGllcyxcbiAgICAgIC4uLnByb3BlcnRpZXNcbiAgICB9O1xuICAgIHRoaXMuc2VuZGVyLmVucXVldWUoZXZlbnQpO1xuICB9XG59O1xudmFyIGFuYWx5dGljc19kZWZhdWx0ID0gQW5hbHl0aWNzO1xuXG4vLyBzcmMvaW5kZXgudHNcbnZhciBlbmRwb2ludDtcbnZhciBfYTtcbmlmICh0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBwcm9jZXNzLmVudikge1xuICBlbmRwb2ludCA9IChfYSA9IHByb2Nlc3MuZW52Lk1FVEFNQVNLX0FOQUxZVElDU19FTkRQT0lOVCkgIT0gbnVsbCA/IF9hIDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfTUVUQU1BU0tfQU5BTFlUSUNTX0VORFBPSU5UO1xufVxudmFyIE1FVEFNQVNLX0FOQUxZVElDU19FTkRQT0lOVCA9IGVuZHBvaW50ICE9IG51bGwgPyBlbmRwb2ludCA6IFwiaHR0cHM6Ly9tbS1zZGstYW5hbHl0aWNzLmFwaS5jeC5tZXRhbWFzay5pby9cIjtcbnZhciBjbGllbnQgPSBuZXcgYW5hbHl0aWNzX2RlZmF1bHQoTUVUQU1BU0tfQU5BTFlUSUNTX0VORFBPSU5UKTtcbnZhciBhbmFseXRpY3MgPSBjbGllbnQ7XG4vLyBBbm5vdGF0ZSB0aGUgQ29tbW9uSlMgZXhwb3J0IG5hbWVzIGZvciBFU00gaW1wb3J0IGluIG5vZGU6XG4wICYmIChtb2R1bGUuZXhwb3J0cyA9IHtcbiAgYW5hbHl0aWNzXG59KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@metamask/sdk-analytics/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@metamask/sdk/dist/node/cjs/metamask-sdk.js":
/*!******************************************************************!*\
  !*** ./node_modules/@metamask/sdk/dist/node/cjs/metamask-sdk.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("Object.defineProperty(exports, \"__esModule\", ({value:!0}));var e=__webpack_require__(/*! cross-fetch */ \"(ssr)/./node_modules/cross-fetch/dist/node-ponyfill.js\"),t=__webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\"),n=__webpack_require__(/*! buffer */ \"buffer\"),r=__webpack_require__(/*! node:crypto */ \"node:crypto\"),i=__webpack_require__(/*! @metamask/sdk-analytics */ \"(ssr)/./node_modules/@metamask/sdk-analytics/dist/index.js\"),o=__webpack_require__(/*! eventemitter2 */ \"(ssr)/./node_modules/eventemitter2/lib/eventemitter2.js\"),s=__webpack_require__(/*! uuid */ \"(ssr)/./node_modules/uuid/dist/esm-node/index.js\"),a=__webpack_require__(/*! socket.io-client */ \"(ssr)/./node_modules/socket.io-client/build/cjs/index.js\"),c=__webpack_require__(/*! events */ \"events\"),d=__webpack_require__(/*! stream */ \"stream\"),l=__webpack_require__(/*! util */ \"util\");function u(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}\"function\"==typeof SuppressedError&&SuppressedError;var h=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};function f(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e}var p={},m={},g={};function y(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function v(e){if(\"boolean\"!=typeof e)throw new Error(`boolean expected, not ${e}`)}function E(e){return e instanceof Uint8Array||null!=e&&\"object\"==typeof e&&\"Uint8Array\"===e.constructor.name}function b(e,...t){if(!E(e))throw new Error(\"Uint8Array expected\");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function w(e){if(\"function\"!=typeof e||\"function\"!=typeof e.create)throw new Error(\"hash must be wrapped by utils.wrapConstructor\");y(e.outputLen),y(e.blockLen)}function S(e,t=!0){if(e.destroyed)throw new Error(\"Hash instance has been destroyed\");if(t&&e.finished)throw new Error(\"Hash#digest() has already been called\")}function _(e,t){b(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(g,\"__esModule\",{value:!0}),g.isBytes=E,g.number=y,g.bool=v,g.bytes=b,g.hash=w,g.exists=S,g.output=_;const C={number:y,bool:v,bytes:b,hash:w,exists:S,output:_};g.default=C,function(e){Object.defineProperty(e,\"__esModule\",{value:!0}),e.wrapCipher=e.Hash=e.nextTick=e.isLE=e.createView=e.u32=e.u16=e.u8=void 0,e.bytesToHex=r,e.hexToBytes=s,e.hexToNumber=a,e.bytesToNumberBE=function(e){return a(r(e))},e.numberToBytesBE=function(e,t){return s(e.toString(16).padStart(2*t,\"0\"))},e.asyncLoop=async function(t,n,r){let i=Date.now();for(let o=0;o<t;o++){r(o);const t=Date.now()-i;t>=0&&t<n||(await(0,e.nextTick)(),i+=t)}},e.utf8ToBytes=c,e.bytesToUtf8=function(e){return(new TextDecoder).decode(e)},e.toBytes=function(e){if(\"string\"==typeof e)e=c(e);else{if(!(0,t.isBytes)(e))throw new Error(\"Uint8Array expected, got \"+typeof e);e=l(e)}return e},e.concatBytes=function(...e){let n=0;for(let r=0;r<e.length;r++){const i=e[r];(0,t.bytes)(i),n+=i.length}const r=new Uint8Array(n);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r},e.checkOpts=function(e,t){if(null==t||\"object\"!=typeof t)throw new Error(\"options must be defined\");return Object.assign(e,t)},e.equalBytes=function(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n},e.setBigUint64=d,e.u64Lengths=function(t,n){const r=new Uint8Array(16),i=(0,e.createView)(r);return d(i,0,BigInt(n?n.length:0),!0),d(i,8,BigInt(t.length),!0),r},e.isAligned32=function(e){return e.byteOffset%4==0},e.copyBytes=l,e.clean=function(...e){for(let t=0;t<e.length;t++)e[t].fill(0)};const t=g;e.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);e.u16=e=>new Uint16Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/2));e.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));if(e.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),e.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!e.isLE)throw new Error(\"Non little-endian hardware is not supported\");const n=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,\"0\")));function r(e){(0,t.bytes)(e);let r=\"\";for(let t=0;t<e.length;t++)r+=n[e[t]];return r}const i={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function o(e){return e>=i._0&&e<=i._9?e-i._0:e>=i._A&&e<=i._F?e-(i._A-10):e>=i._a&&e<=i._f?e-(i._a-10):void 0}function s(e){if(\"string\"!=typeof e)throw new Error(\"hex string expected, got \"+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error(\"padded hex string expected, got unpadded hex of length \"+t);const r=new Uint8Array(n);for(let t=0,i=0;t<n;t++,i+=2){const n=o(e.charCodeAt(i)),s=o(e.charCodeAt(i+1));if(void 0===n||void 0===s){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character \"'+t+'\" at index '+i)}r[t]=16*n+s}return r}function a(e){if(\"string\"!=typeof e)throw new Error(\"hex string expected, got \"+typeof e);return BigInt(\"\"===e?\"0\":`0x${e}`)}function c(e){if(\"string\"!=typeof e)throw new Error(\"string expected, got \"+typeof e);return new Uint8Array((new TextEncoder).encode(e))}e.nextTick=async()=>{};e.Hash=class{};function d(e,t,n,r){if(\"function\"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),c=r?4:0,d=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+d,a,r)}function l(e){return Uint8Array.from(e)}e.wrapCipher=(e,t)=>(Object.assign(t,e),t)}(m);var x={},k={};Object.defineProperty(k,\"__esModule\",{value:!0}),k.AEAD_TAG_LENGTH=k.XCHACHA20_NONCE_LENGTH=k.CURVE25519_PUBLIC_KEY_SIZE=k.ETH_PUBLIC_KEY_SIZE=k.UNCOMPRESSED_PUBLIC_KEY_SIZE=k.COMPRESSED_PUBLIC_KEY_SIZE=k.SECRET_KEY_LENGTH=void 0,k.SECRET_KEY_LENGTH=32,k.COMPRESSED_PUBLIC_KEY_SIZE=33,k.UNCOMPRESSED_PUBLIC_KEY_SIZE=65,k.ETH_PUBLIC_KEY_SIZE=64,k.CURVE25519_PUBLIC_KEY_SIZE=32,k.XCHACHA20_NONCE_LENGTH=24,k.AEAD_TAG_LENGTH=16,function(e){Object.defineProperty(e,\"__esModule\",{value:!0}),e.ephemeralKeySize=e.symmetricNonceLength=e.symmetricAlgorithm=e.isHkdfKeyCompressed=e.isEphemeralKeyCompressed=e.ellipticCurve=e.ECIES_CONFIG=void 0;var t=k,n=function(){this.ellipticCurve=\"secp256k1\",this.isEphemeralKeyCompressed=!1,this.isHkdfKeyCompressed=!1,this.symmetricAlgorithm=\"aes-256-gcm\",this.symmetricNonceLength=16};e.ECIES_CONFIG=new n;e.ellipticCurve=function(){return e.ECIES_CONFIG.ellipticCurve};e.isEphemeralKeyCompressed=function(){return e.ECIES_CONFIG.isEphemeralKeyCompressed};e.isHkdfKeyCompressed=function(){return e.ECIES_CONFIG.isHkdfKeyCompressed};e.symmetricAlgorithm=function(){return e.ECIES_CONFIG.symmetricAlgorithm};e.symmetricNonceLength=function(){return e.ECIES_CONFIG.symmetricNonceLength};e.ephemeralKeySize=function(){var n={secp256k1:e.ECIES_CONFIG.isEphemeralKeyCompressed?t.COMPRESSED_PUBLIC_KEY_SIZE:t.UNCOMPRESSED_PUBLIC_KEY_SIZE,x25519:t.CURVE25519_PUBLIC_KEY_SIZE,ed25519:t.CURVE25519_PUBLIC_KEY_SIZE};if(e.ECIES_CONFIG.ellipticCurve in n)return n[e.ECIES_CONFIG.ellipticCurve];throw new Error(\"Not implemented\")}}(x);var M={},A={},T={},I={},R={},P={};Object.defineProperty(P,\"__esModule\",{value:!0}),P.crypto=void 0;const O=r;P.crypto=O&&\"object\"==typeof O&&\"webcrypto\"in O?O.webcrypto:O&&\"object\"==typeof O&&\"randomBytes\"in O?O:void 0,function(e){Object.defineProperty(e,\"__esModule\",{value:!0}),e.gcm=e.ctr=e.cbc=e.utils=void 0,e.randomBytes=i,e.getWebcryptoSubtle=o,e.managedNonce=function(e){return(0,n.number)(e.nonceLength),(t,...n)=>({encrypt(o,...s){const{nonceLength:a}=e,c=i(a),d=e(t,c,...n).encrypt(o,...s),l=(0,r.concatBytes)(c,d);return d.fill(0),l},decrypt(r,...i){const{nonceLength:o}=e,s=r.subarray(0,o),a=r.subarray(o);return e(t,s,...n).decrypt(a,...i)}})};const t=P,n=g,r=m;function i(e=32){if(t.crypto&&\"function\"==typeof t.crypto.getRandomValues)return t.crypto.getRandomValues(new Uint8Array(e));if(t.crypto&&\"function\"==typeof t.crypto.randomBytes)return t.crypto.randomBytes(e);throw new Error(\"crypto.getRandomValues must be defined\")}function o(){if(t.crypto&&\"object\"==typeof t.crypto.subtle&&null!=t.crypto.subtle)return t.crypto.subtle;throw new Error(\"crypto.subtle must be defined\")}e.utils={async encrypt(e,t,n,r){const i=o(),s=await i.importKey(\"raw\",e,t,!0,[\"encrypt\"]),a=await i.encrypt(n,s,r);return new Uint8Array(a)},async decrypt(e,t,n,r){const i=o(),s=await i.importKey(\"raw\",e,t,!0,[\"decrypt\"]),a=await i.decrypt(n,s,r);return new Uint8Array(a)}};const s={CBC:\"AES-CBC\",CTR:\"AES-CTR\",GCM:\"AES-GCM\"};function a(t){return(r,i,o)=>{(0,n.bytes)(r),(0,n.bytes)(i);const a={name:t,length:8*r.length},c=function(e,t,n){if(e===s.CBC)return{name:s.CBC,iv:t};if(e===s.CTR)return{name:s.CTR,counter:t,length:64};if(e===s.GCM)return n?{name:s.GCM,iv:t,additionalData:n}:{name:s.GCM,iv:t};throw new Error(\"unknown aes block mode\")}(t,i,o);return{encrypt:t=>((0,n.bytes)(t),e.utils.encrypt(r,a,c,t)),decrypt:t=>((0,n.bytes)(t),e.utils.decrypt(r,a,c,t))}}}e.cbc=a(s.CBC),e.ctr=a(s.CTR),e.gcm=a(s.GCM)}(R);var N={},D={},L={},B={};function K(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function j(e){if(\"boolean\"!=typeof e)throw new Error(`boolean expected, not ${e}`)}function $(e){return e instanceof Uint8Array||null!=e&&\"object\"==typeof e&&\"Uint8Array\"===e.constructor.name}function H(e,...t){if(!$(e))throw new Error(\"Uint8Array expected\");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function U(e){if(\"function\"!=typeof e||\"function\"!=typeof e.create)throw new Error(\"Hash should be wrapped by utils.wrapConstructor\");K(e.outputLen),K(e.blockLen)}function F(e,t=!0){if(e.destroyed)throw new Error(\"Hash instance has been destroyed\");if(t&&e.finished)throw new Error(\"Hash#digest() has already been called\")}function q(e,t){H(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(B,\"__esModule\",{value:!0}),B.isBytes=$,B.number=K,B.bool=j,B.bytes=H,B.hash=U,B.exists=F,B.output=q;const z={number:K,bool:j,bytes:H,hash:U,exists:F,output:q};B.default=z;var W={},V={};Object.defineProperty(V,\"__esModule\",{value:!0}),V.crypto=void 0;const G=r;V.crypto=G&&\"object\"==typeof G&&\"webcrypto\"in G?G.webcrypto:G&&\"object\"==typeof G&&\"randomBytes\"in G?G:void 0,function(e){Object.defineProperty(e,\"__esModule\",{value:!0}),e.Hash=e.nextTick=e.byteSwapIfBE=e.byteSwap=e.isLE=e.rotl=e.rotr=e.createView=e.u32=e.u8=void 0,e.isBytes=function(e){return e instanceof Uint8Array||null!=e&&\"object\"==typeof e&&\"Uint8Array\"===e.constructor.name},e.byteSwap32=function(t){for(let n=0;n<t.length;n++)t[n]=(0,e.byteSwap)(t[n])},e.bytesToHex=function(e){(0,n.bytes)(e);let t=\"\";for(let n=0;n<e.length;n++)t+=r[e[n]];return t},e.hexToBytes=function(e){if(\"string\"!=typeof e)throw new Error(\"hex string expected, got \"+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error(\"padded hex string expected, got unpadded hex of length \"+t);const r=new Uint8Array(n);for(let t=0,i=0;t<n;t++,i+=2){const n=o(e.charCodeAt(i)),s=o(e.charCodeAt(i+1));if(void 0===n||void 0===s){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character \"'+t+'\" at index '+i)}r[t]=16*n+s}return r},e.asyncLoop=async function(t,n,r){let i=Date.now();for(let o=0;o<t;o++){r(o);const t=Date.now()-i;t>=0&&t<n||(await(0,e.nextTick)(),i+=t)}},e.utf8ToBytes=s,e.toBytes=a,e.concatBytes=function(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];(0,n.bytes)(i),t+=i.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r},e.checkOpts=function(e,t){if(void 0!==t&&\"[object Object]\"!==c.call(t))throw new Error(\"Options should be object or undefined\");return Object.assign(e,t)},e.wrapConstructor=function(e){const t=t=>e().update(a(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t},e.wrapConstructorWithOpts=function(e){const t=(t,n)=>e(n).update(a(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t},e.wrapXOFConstructorWithOpts=function(e){const t=(t,n)=>e(n).update(a(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t},e.randomBytes=function(e=32){if(t.crypto&&\"function\"==typeof t.crypto.getRandomValues)return t.crypto.getRandomValues(new Uint8Array(e));if(t.crypto&&\"function\"==typeof t.crypto.randomBytes)return t.crypto.randomBytes(e);throw new Error(\"crypto.getRandomValues must be defined\")};const t=V,n=B;e.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);e.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));e.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);e.rotr=(e,t)=>e<<32-t|e>>>t;e.rotl=(e,t)=>e<<t|e>>>32-t>>>0,e.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];e.byteSwap=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255,e.byteSwapIfBE=e.isLE?e=>e:t=>(0,e.byteSwap)(t);const r=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,\"0\")));const i={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function o(e){return e>=i._0&&e<=i._9?e-i._0:e>=i._A&&e<=i._F?e-(i._A-10):e>=i._a&&e<=i._f?e-(i._a-10):void 0}function s(e){if(\"string\"!=typeof e)throw new Error(\"utf8ToBytes expected string, got \"+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function a(e){return\"string\"==typeof e&&(e=s(e)),(0,n.bytes)(e),e}e.nextTick=async()=>{};e.Hash=class{clone(){return this._cloneInto()}};const c={}.toString}(W),Object.defineProperty(L,\"__esModule\",{value:!0}),L.HashMD=L.Maj=L.Chi=void 0;const Y=B,Z=W;L.Chi=(e,t,n)=>e&t^~e&n;L.Maj=(e,t,n)=>e&t^e&n^t&n;L.HashMD=class extends Z.Hash{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,Z.createView)(this.buffer)}update(e){(0,Y.exists)(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=(0,Z.toBytes)(e)).length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);if(s!==r)n.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=(0,Z.createView)(e);for(;r<=i-o;o+=r)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,Y.exists)(this),(0,Y.output)(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let e=o;e<r;e++)t[e]=0;!function(e,t,n,r){if(\"function\"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),c=r?4:0,d=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+d,a,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const s=(0,Z.createView)(e),a=this.outputLen;if(a%4)throw new Error(\"_sha2: outputLen should be aligned to 32bit\");const c=a/4,d=this.get();if(c>d.length)throw new Error(\"_sha2: outputLen bigger than state\");for(let e=0;e<c;e++)s.setUint32(4*e,d[e],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:s}=this;return e.length=r,e.pos=s,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}};var J={};Object.defineProperty(J,\"__esModule\",{value:!0}),J.add5L=J.add5H=J.add4H=J.add4L=J.add3H=J.add3L=J.rotlBL=J.rotlBH=J.rotlSL=J.rotlSH=J.rotr32L=J.rotr32H=J.rotrBL=J.rotrBH=J.rotrSL=J.rotrSH=J.shrSL=J.shrSH=J.toBig=void 0,J.fromBig=ee,J.split=te,J.add=me;const Q=BigInt(2**32-1),X=BigInt(32);function ee(e,t=!1){return t?{h:Number(e&Q),l:Number(e>>X&Q)}:{h:0|Number(e>>X&Q),l:0|Number(e&Q)}}function te(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=ee(e[i],t);[n[i],r[i]]=[o,s]}return[n,r]}const ne=(e,t)=>BigInt(e>>>0)<<X|BigInt(t>>>0);J.toBig=ne;const re=(e,t,n)=>e>>>n;J.shrSH=re;const ie=(e,t,n)=>e<<32-n|t>>>n;J.shrSL=ie;const oe=(e,t,n)=>e>>>n|t<<32-n;J.rotrSH=oe;const se=(e,t,n)=>e<<32-n|t>>>n;J.rotrSL=se;const ae=(e,t,n)=>e<<64-n|t>>>n-32;J.rotrBH=ae;const ce=(e,t,n)=>e>>>n-32|t<<64-n;J.rotrBL=ce;const de=(e,t)=>t;J.rotr32H=de;const le=(e,t)=>e;J.rotr32L=le;const ue=(e,t,n)=>e<<n|t>>>32-n;J.rotlSH=ue;const he=(e,t,n)=>t<<n|e>>>32-n;J.rotlSL=he;const fe=(e,t,n)=>t<<n-32|e>>>64-n;J.rotlBH=fe;const pe=(e,t,n)=>e<<n-32|t>>>64-n;function me(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}}J.rotlBL=pe;const ge=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0);J.add3L=ge;const ye=(e,t,n,r)=>t+n+r+(e/2**32|0)|0;J.add3H=ye;const ve=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0);J.add4L=ve;const Ee=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0;J.add4H=Ee;const be=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0);J.add5L=be;const we=(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0;J.add5H=we;const Se={fromBig:ee,split:te,toBig:ne,shrSH:re,shrSL:ie,rotrSH:oe,rotrSL:se,rotrBH:ae,rotrBL:ce,rotr32H:de,rotr32L:le,rotlSH:ue,rotlSL:he,rotlBH:fe,rotlBL:pe,add:me,add3L:ge,add3H:ye,add4L:ve,add4H:Ee,add5H:we,add5L:be};J.default=Se,Object.defineProperty(D,\"__esModule\",{value:!0}),D.sha384=D.sha512_256=D.sha512_224=D.sha512=D.SHA384=D.SHA512_256=D.SHA512_224=D.SHA512=void 0;const _e=L,Ce=J,xe=W,[ke,Me]=(()=>Ce.default.split([\"0x428a2f98d728ae22\",\"0x7137449123ef65cd\",\"0xb5c0fbcfec4d3b2f\",\"0xe9b5dba58189dbbc\",\"0x3956c25bf348b538\",\"0x59f111f1b605d019\",\"0x923f82a4af194f9b\",\"0xab1c5ed5da6d8118\",\"0xd807aa98a3030242\",\"0x12835b0145706fbe\",\"0x243185be4ee4b28c\",\"0x550c7dc3d5ffb4e2\",\"0x72be5d74f27b896f\",\"0x80deb1fe3b1696b1\",\"0x9bdc06a725c71235\",\"0xc19bf174cf692694\",\"0xe49b69c19ef14ad2\",\"0xefbe4786384f25e3\",\"0x0fc19dc68b8cd5b5\",\"0x240ca1cc77ac9c65\",\"0x2de92c6f592b0275\",\"0x4a7484aa6ea6e483\",\"0x5cb0a9dcbd41fbd4\",\"0x76f988da831153b5\",\"0x983e5152ee66dfab\",\"0xa831c66d2db43210\",\"0xb00327c898fb213f\",\"0xbf597fc7beef0ee4\",\"0xc6e00bf33da88fc2\",\"0xd5a79147930aa725\",\"0x06ca6351e003826f\",\"0x142929670a0e6e70\",\"0x27b70a8546d22ffc\",\"0x2e1b21385c26c926\",\"0x4d2c6dfc5ac42aed\",\"0x53380d139d95b3df\",\"0x650a73548baf63de\",\"0x766a0abb3c77b2a8\",\"0x81c2c92e47edaee6\",\"0x92722c851482353b\",\"0xa2bfe8a14cf10364\",\"0xa81a664bbc423001\",\"0xc24b8b70d0f89791\",\"0xc76c51a30654be30\",\"0xd192e819d6ef5218\",\"0xd69906245565a910\",\"0xf40e35855771202a\",\"0x106aa07032bbd1b8\",\"0x19a4c116b8d2d0c8\",\"0x1e376c085141ab53\",\"0x2748774cdf8eeb99\",\"0x34b0bcb5e19b48a8\",\"0x391c0cb3c5c95a63\",\"0x4ed8aa4ae3418acb\",\"0x5b9cca4f7763e373\",\"0x682e6ff3d6b2b8a3\",\"0x748f82ee5defb2fc\",\"0x78a5636f43172f60\",\"0x84c87814a1f0ab72\",\"0x8cc702081a6439ec\",\"0x90befffa23631e28\",\"0xa4506cebde82bde9\",\"0xbef9a3f7b2c67915\",\"0xc67178f2e372532b\",\"0xca273eceea26619c\",\"0xd186b8c721c0c207\",\"0xeada7dd6cde0eb1e\",\"0xf57d4f7fee6ed178\",\"0x06f067aa72176fba\",\"0x0a637dc5a2c898a6\",\"0x113f9804bef90dae\",\"0x1b710b35131c471b\",\"0x28db77f523047d84\",\"0x32caab7b40c72493\",\"0x3c9ebe0a15c9bebc\",\"0x431d67c49c100d4c\",\"0x4cc5d4becb3e42b6\",\"0x597f299cfc657e2a\",\"0x5fcb6fab3ad6faec\",\"0x6c44198c4a475817\"].map((e=>BigInt(e)))))(),Ae=new Uint32Array(80),Te=new Uint32Array(80);class Ie extends _e.HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:o,Dh:s,Dl:a,Eh:c,El:d,Fh:l,Fl:u,Gh:h,Gl:f,Hh:p,Hl:m}=this;return[e,t,n,r,i,o,s,a,c,d,l,u,h,f,p,m]}set(e,t,n,r,i,o,s,a,c,d,l,u,h,f,p,m){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|d,this.Fh=0|l,this.Fl=0|u,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|m}process(e,t){for(let n=0;n<16;n++,t+=4)Ae[n]=e.getUint32(t),Te[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|Ae[e-15],n=0|Te[e-15],r=Ce.default.rotrSH(t,n,1)^Ce.default.rotrSH(t,n,8)^Ce.default.shrSH(t,n,7),i=Ce.default.rotrSL(t,n,1)^Ce.default.rotrSL(t,n,8)^Ce.default.shrSL(t,n,7),o=0|Ae[e-2],s=0|Te[e-2],a=Ce.default.rotrSH(o,s,19)^Ce.default.rotrBH(o,s,61)^Ce.default.shrSH(o,s,6),c=Ce.default.rotrSL(o,s,19)^Ce.default.rotrBL(o,s,61)^Ce.default.shrSL(o,s,6),d=Ce.default.add4L(i,c,Te[e-7],Te[e-16]),l=Ce.default.add4H(d,r,a,Ae[e-7],Ae[e-16]);Ae[e]=0|l,Te[e]=0|d}let{Ah:n,Al:r,Bh:i,Bl:o,Ch:s,Cl:a,Dh:c,Dl:d,Eh:l,El:u,Fh:h,Fl:f,Gh:p,Gl:m,Hh:g,Hl:y}=this;for(let e=0;e<80;e++){const t=Ce.default.rotrSH(l,u,14)^Ce.default.rotrSH(l,u,18)^Ce.default.rotrBH(l,u,41),v=Ce.default.rotrSL(l,u,14)^Ce.default.rotrSL(l,u,18)^Ce.default.rotrBL(l,u,41),E=l&h^~l&p,b=u&f^~u&m,w=Ce.default.add5L(y,v,b,Me[e],Te[e]),S=Ce.default.add5H(w,g,t,E,ke[e],Ae[e]),_=0|w,C=Ce.default.rotrSH(n,r,28)^Ce.default.rotrBH(n,r,34)^Ce.default.rotrBH(n,r,39),x=Ce.default.rotrSL(n,r,28)^Ce.default.rotrBL(n,r,34)^Ce.default.rotrBL(n,r,39),k=n&i^n&s^i&s,M=r&o^r&a^o&a;g=0|p,y=0|m,p=0|h,m=0|f,h=0|l,f=0|u,({h:l,l:u}=Ce.default.add(0|c,0|d,0|S,0|_)),c=0|s,d=0|a,s=0|i,a=0|o,i=0|n,o=0|r;const A=Ce.default.add3L(_,x,M);n=Ce.default.add3H(A,S,C,k),r=0|A}({h:n,l:r}=Ce.default.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:o}=Ce.default.add(0|this.Bh,0|this.Bl,0|i,0|o)),({h:s,l:a}=Ce.default.add(0|this.Ch,0|this.Cl,0|s,0|a)),({h:c,l:d}=Ce.default.add(0|this.Dh,0|this.Dl,0|c,0|d)),({h:l,l:u}=Ce.default.add(0|this.Eh,0|this.El,0|l,0|u)),({h:h,l:f}=Ce.default.add(0|this.Fh,0|this.Fl,0|h,0|f)),({h:p,l:m}=Ce.default.add(0|this.Gh,0|this.Gl,0|p,0|m)),({h:g,l:y}=Ce.default.add(0|this.Hh,0|this.Hl,0|g,0|y)),this.set(n,r,i,o,s,a,c,d,l,u,h,f,p,m,g,y)}roundClean(){Ae.fill(0),Te.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}D.SHA512=Ie;class Re extends Ie{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}D.SHA512_224=Re;class Pe extends Ie{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}D.SHA512_256=Pe;class Oe extends Ie{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}D.SHA384=Oe,D.sha512=(0,xe.wrapConstructor)((()=>new Ie)),D.sha512_224=(0,xe.wrapConstructor)((()=>new Re)),D.sha512_256=(0,xe.wrapConstructor)((()=>new Pe)),D.sha384=(0,xe.wrapConstructor)((()=>new Oe));var Ne={},De={},Le={},Be={};Object.defineProperty(Be,\"__esModule\",{value:!0}),Be.notImplemented=Be.bitMask=void 0,Be.isBytes=He,Be.abytes=Ue,Be.abool=function(e,t){if(\"boolean\"!=typeof t)throw new Error(`${e} must be valid boolean, got \"${t}\".`)},Be.bytesToHex=qe,Be.numberToHexUnpadded=ze,Be.hexToNumber=We,Be.hexToBytes=Ye,Be.bytesToNumberBE=function(e){return We(qe(e))},Be.bytesToNumberLE=function(e){return Ue(e),We(qe(Uint8Array.from(e).reverse()))},Be.numberToBytesBE=Ze,Be.numberToBytesLE=function(e,t){return Ze(e,t).reverse()},Be.numberToVarBytesBE=function(e){return Ye(ze(e))},Be.ensureBytes=function(e,t,n){let r;if(\"string\"==typeof t)try{r=Ye(t)}catch(n){throw new Error(`${e} must be valid hex string, got \"${t}\". Cause: ${n}`)}else{if(!He(t))throw new Error(`${e} must be hex string or Uint8Array`);r=Uint8Array.from(t)}const i=r.length;if(\"number\"==typeof n&&i!==n)throw new Error(`${e} expected ${n} bytes, got ${i}`);return r},Be.concatBytes=Je,Be.equalBytes=function(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n},Be.utf8ToBytes=function(e){if(\"string\"!=typeof e)throw new Error(\"utf8ToBytes expected string, got \"+typeof e);return new Uint8Array((new TextEncoder).encode(e))},Be.inRange=Xe,Be.aInRange=function(e,t,n,r){if(!Xe(t,n,r))throw new Error(`expected valid ${e}: ${n} <= n < ${r}, got ${typeof t} ${t}`)},Be.bitLen=function(e){let t;for(t=0;e>Ke;e>>=je,t+=1);return t},Be.bitGet=function(e,t){return e>>BigInt(t)&je},Be.bitSet=function(e,t,n){return e|(n?je:Ke)<<BigInt(t)},Be.createHmacDrbg=function(e,t,n){if(\"number\"!=typeof e||e<2)throw new Error(\"hashLen must be a number\");if(\"number\"!=typeof t||t<2)throw new Error(\"qByteLen must be a number\");if(\"function\"!=typeof n)throw new Error(\"hmacFn must be a function\");let r=et(e),i=et(e),o=0;const s=()=>{r.fill(1),i.fill(0),o=0},a=(...e)=>n(i,r,...e),c=(e=et())=>{i=a(tt([0]),e),r=a(),0!==e.length&&(i=a(tt([1]),e),r=a())},d=()=>{if(o++>=1e3)throw new Error(\"drbg: tried 1000 values\");let e=0;const n=[];for(;e<t;){r=a();const t=r.slice();n.push(t),e+=r.length}return Je(...n)};return(e,t)=>{let n;for(s(),c(e);!(n=t(d()));)c();return s(),n}},Be.validateObject=function(e,t,n={}){const r=(t,n,r)=>{const i=nt[n];if(\"function\"!=typeof i)throw new Error(`Invalid validator \"${n}\", expected function`);const o=e[t];if(!(r&&void 0===o||i(o,e)))throw new Error(`Invalid param ${String(t)}=${o} (${typeof o}), expected ${n}`)};for(const[e,n]of Object.entries(t))r(e,n,!1);for(const[e,t]of Object.entries(n))r(e,t,!0);return e},Be.memoized=function(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(void 0!==i)return i;const o=e(n,...r);return t.set(n,o),o}};const Ke=BigInt(0),je=BigInt(1),$e=BigInt(2);function He(e){return e instanceof Uint8Array||null!=e&&\"object\"==typeof e&&\"Uint8Array\"===e.constructor.name}function Ue(e){if(!He(e))throw new Error(\"Uint8Array expected\")}const Fe=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,\"0\")));function qe(e){Ue(e);let t=\"\";for(let n=0;n<e.length;n++)t+=Fe[e[n]];return t}function ze(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function We(e){if(\"string\"!=typeof e)throw new Error(\"hex string expected, got \"+typeof e);return BigInt(\"\"===e?\"0\":`0x${e}`)}const Ve={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Ge(e){return e>=Ve._0&&e<=Ve._9?e-Ve._0:e>=Ve._A&&e<=Ve._F?e-(Ve._A-10):e>=Ve._a&&e<=Ve._f?e-(Ve._a-10):void 0}function Ye(e){if(\"string\"!=typeof e)throw new Error(\"hex string expected, got \"+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error(\"padded hex string expected, got unpadded hex of length \"+t);const r=new Uint8Array(n);for(let t=0,i=0;t<n;t++,i+=2){const n=Ge(e.charCodeAt(i)),o=Ge(e.charCodeAt(i+1));if(void 0===n||void 0===o){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character \"'+t+'\" at index '+i)}r[t]=16*n+o}return r}function Ze(e,t){return Ye(e.toString(16).padStart(2*t,\"0\"))}function Je(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];Ue(r),t+=r.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length}return n}const Qe=e=>\"bigint\"==typeof e&&Ke<=e;function Xe(e,t,n){return Qe(e)&&Qe(t)&&Qe(n)&&t<=e&&e<n}Be.bitMask=e=>($e<<BigInt(e-1))-je;const et=e=>new Uint8Array(e),tt=e=>Uint8Array.from(e);const nt={bigint:e=>\"bigint\"==typeof e,function:e=>\"function\"==typeof e,boolean:e=>\"boolean\"==typeof e,string:e=>\"string\"==typeof e,stringOrUint8Array:e=>\"string\"==typeof e||He(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>\"function\"==typeof e&&Number.isSafeInteger(e.outputLen)};Be.notImplemented=()=>{throw new Error(\"not implemented\")},Object.defineProperty(Le,\"__esModule\",{value:!0}),Le.isNegativeLE=void 0,Le.mod=ut,Le.pow=ht,Le.pow2=function(e,t,n){let r=e;for(;t-- >it;)r*=r,r%=n;return r},Le.invert=ft,Le.tonelliShanks=pt,Le.FpSqrt=mt,Le.validateField=function(e){const t=gt.reduce(((e,t)=>(e[t]=\"function\",e)),{ORDER:\"bigint\",MASK:\"bigint\",BYTES:\"isSafeInteger\",BITS:\"isSafeInteger\"});return(0,rt.validateObject)(e,t)},Le.FpPow=yt,Le.FpInvertBatch=vt,Le.FpDiv=function(e,t,n){return e.mul(t,\"bigint\"==typeof n?ft(n,e.ORDER):e.inv(n))},Le.FpLegendre=Et,Le.FpIsSquare=function(e){const t=Et(e.ORDER);return n=>{const r=t(e,n);return e.eql(r,e.ZERO)||e.eql(r,e.ONE)}},Le.nLength=bt,Le.Field=function(e,t,n=!1,r={}){if(e<=it)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:o}=bt(e,t);if(o>2048)throw new Error(\"Field lengths over 2048 bytes are not supported\");const s=mt(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:(0,rt.bitMask)(i),ZERO:it,ONE:ot,create:t=>ut(t,e),isValid:t=>{if(\"bigint\"!=typeof t)throw new Error(\"Invalid field element: expected bigint, got \"+typeof t);return it<=t&&t<e},is0:e=>e===it,isOdd:e=>(e&ot)===ot,neg:t=>ut(-t,e),eql:(e,t)=>e===t,sqr:t=>ut(t*t,e),add:(t,n)=>ut(t+n,e),sub:(t,n)=>ut(t-n,e),mul:(t,n)=>ut(t*n,e),pow:(e,t)=>yt(a,e,t),div:(t,n)=>ut(t*ft(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>ft(t,e),sqrt:r.sqrt||(e=>s(a,e)),invertBatch:e=>vt(a,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?(0,rt.numberToBytesLE)(e,o):(0,rt.numberToBytesBE)(e,o),fromBytes:e=>{if(e.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${e.length}`);return n?(0,rt.bytesToNumberLE)(e):(0,rt.bytesToNumberBE)(e)}});return Object.freeze(a)},Le.FpSqrtOdd=function(e,t){if(!e.isOdd)throw new Error(\"Field doesn't have isOdd\");const n=e.sqrt(t);return e.isOdd(n)?n:e.neg(n)},Le.FpSqrtEven=function(e,t){if(!e.isOdd)throw new Error(\"Field doesn't have isOdd\");const n=e.sqrt(t);return e.isOdd(n)?e.neg(n):n},Le.hashToPrivateScalar=function(e,t,n=!1){e=(0,rt.ensureBytes)(\"privateHash\",e);const r=e.length,i=bt(t).nByteLength+8;if(i<24||r<i||r>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${r}`);const o=n?(0,rt.bytesToNumberLE)(e):(0,rt.bytesToNumberBE)(e);return ut(o,t-ot)+ot},Le.getFieldBytesLength=wt,Le.getMinHashLength=St,Le.mapHashToField=function(e,t,n=!1){const r=e.length,i=wt(t),o=St(t);if(r<16||r<o||r>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${r}`);const s=ut(n?(0,rt.bytesToNumberBE)(e):(0,rt.bytesToNumberLE)(e),t-ot)+ot;return n?(0,rt.numberToBytesLE)(s,i):(0,rt.numberToBytesBE)(s,i)};const rt=Be,it=BigInt(0),ot=BigInt(1),st=BigInt(2),at=BigInt(3),ct=BigInt(4),dt=BigInt(5),lt=BigInt(8);function ut(e,t){const n=e%t;return n>=it?n:t+n}function ht(e,t,n){if(n<=it||t<it)throw new Error(\"Expected power/modulo > 0\");if(n===ot)return it;let r=ot;for(;t>it;)t&ot&&(r=r*e%n),e=e*e%n,t>>=ot;return r}function ft(e,t){if(e===it||t<=it)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=ut(e,t),r=t,i=it,o=ot;for(;n!==it;){const e=r%n,t=i-o*(r/n);r=n,n=e,i=o,o=t}if(r!==ot)throw new Error(\"invert: does not exist\");return ut(i,t)}function pt(e){const t=(e-ot)/st;let n,r,i;for(n=e-ot,r=0;n%st===it;n/=st,r++);for(i=st;i<e&&ht(i,t,e)!==e-ot;i++);if(1===r){const t=(e+ot)/ct;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error(\"Cannot find square root\");return r}}const o=(n+ot)/st;return function(e,s){if(e.pow(s,t)===e.neg(e.ONE))throw new Error(\"Cannot find square root\");let a=r,c=e.pow(e.mul(e.ONE,i),n),d=e.pow(s,o),l=e.pow(s,n);for(;!e.eql(l,e.ONE);){if(e.eql(l,e.ZERO))return e.ZERO;let t=1;for(let n=e.sqr(l);t<a&&!e.eql(n,e.ONE);t++)n=e.sqr(n);const n=e.pow(c,ot<<BigInt(a-t-1));c=e.sqr(n),d=e.mul(d,n),l=e.mul(l,c),a=t}return d}}function mt(e){if(e%ct===at){const t=(e+ot)/ct;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error(\"Cannot find square root\");return r}}if(e%lt===dt){const t=(e-dt)/lt;return function(e,n){const r=e.mul(n,st),i=e.pow(r,t),o=e.mul(n,i),s=e.mul(e.mul(o,st),i),a=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),n))throw new Error(\"Cannot find square root\");return a}}return pt(e)}BigInt(9),BigInt(16);Le.isNegativeLE=(e,t)=>(ut(e,t)&ot)===ot;const gt=[\"create\",\"isValid\",\"is0\",\"neg\",\"inv\",\"sqrt\",\"sqr\",\"eql\",\"add\",\"sub\",\"mul\",\"pow\",\"div\",\"addN\",\"subN\",\"mulN\",\"sqrN\"];function yt(e,t,n){if(n<it)throw new Error(\"Expected power > 0\");if(n===it)return e.ONE;if(n===ot)return t;let r=e.ONE,i=t;for(;n>it;)n&ot&&(r=e.mul(r,i)),i=e.sqr(i),n>>=ot;return r}function vt(e,t){const n=new Array(t.length),r=t.reduce(((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r))),e.ONE),i=e.inv(r);return t.reduceRight(((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))),i),n}function Et(e){const t=(e-ot)/st;return(e,n)=>e.pow(n,t)}function bt(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function wt(e){if(\"bigint\"!=typeof e)throw new Error(\"field order must be bigint\");const t=e.toString(2).length;return Math.ceil(t/8)}function St(e){const t=wt(e);return t+Math.ceil(t/2)}Object.defineProperty(De,\"__esModule\",{value:!0}),De.wNAF=function(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>{if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error(`Wrong window size=${e}, should be [1..${t}]`)},i=e=>{r(e);return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}};return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,i=t;for(;n>xt;)n&kt&&(r=r.add(i)),i=i.double(),n>>=kt;return r},precomputeWindow(e,t){const{windows:n,windowSize:r}=i(t),o=[];let s=e,a=s;for(let e=0;e<n;e++){a=s,o.push(a);for(let e=1;e<r;e++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(t,r,o){const{windows:s,windowSize:a}=i(t);let c=e.ZERO,d=e.BASE;const l=BigInt(2**t-1),u=2**t,h=BigInt(t);for(let e=0;e<s;e++){const t=e*a;let i=Number(o&l);o>>=h,i>a&&(i-=u,o+=kt);const s=t,f=t+Math.abs(i)-1,p=e%2!=0,m=i<0;0===i?d=d.add(n(p,r[s])):c=c.add(n(m,r[f]))}return{p:c,f:d}},wNAFCached(e,t,n){const r=At.get(e)||1;let i=Mt.get(e);return i||(i=this.precomputeWindow(e,r),1!==r&&Mt.set(e,n(i))),this.wNAF(r,i,t)},setWindowSize(e,t){r(t),At.set(e,t),Mt.delete(e)}}},De.pippenger=function(e,t,n,r){if(!Array.isArray(n)||!Array.isArray(r)||r.length!==n.length)throw new Error(\"arrays of points and scalars must have equal length\");r.forEach(((e,n)=>{if(!t.isValid(e))throw new Error(`wrong scalar at index ${n}`)})),n.forEach(((t,n)=>{if(!(t instanceof e))throw new Error(`wrong point at index ${n}`)}));const i=(0,Ct.bitLen)(BigInt(n.length)),o=i>12?i-3:i>4?i-2:i?2:1,s=(1<<o)-1,a=new Array(s+1).fill(e.ZERO),c=Math.floor((t.BITS-1)/o)*o;let d=e.ZERO;for(let t=c;t>=0;t-=o){a.fill(e.ZERO);for(let e=0;e<r.length;e++){const i=r[e],o=Number(i>>BigInt(t)&BigInt(s));a[o]=a[o].add(n[e])}let i=e.ZERO;for(let t=a.length-1,n=e.ZERO;t>0;t--)n=n.add(a[t]),i=i.add(n);if(d=d.add(i),0!==t)for(let e=0;e<o;e++)d=d.double()}return d},De.validateBasic=function(e){return(0,_t.validateField)(e.Fp),(0,Ct.validateObject)(e,{n:\"bigint\",h:\"bigint\",Gx:\"field\",Gy:\"field\"},{nBitLength:\"isSafeInteger\",nByteLength:\"isSafeInteger\"}),Object.freeze({...(0,_t.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})};const _t=Le,Ct=Be,xt=BigInt(0),kt=BigInt(1),Mt=new WeakMap,At=new WeakMap;Object.defineProperty(Ne,\"__esModule\",{value:!0}),Ne.twistedEdwards=function(e){const t=function(e){const t=(0,Tt.validateBasic)(e);return Rt.validateObject(e,{hash:\"function\",a:\"bigint\",d:\"bigint\",randomBytes:\"function\"},{adjustScalarBytes:\"function\",domain:\"function\",uvRatio:\"function\",mapToCurve:\"function\"}),Object.freeze({...t})}(e),{Fp:n,n:r,prehash:i,hash:o,randomBytes:s,nByteLength:a,h:c}=t,d=Dt<<BigInt(8*a)-Nt,l=n.create,u=(0,It.Field)(t.n,t.nBitLength),h=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:n.sqrt(e*n.inv(t))}}catch(e){return{isValid:!1,value:Ot}}}),f=t.adjustScalarBytes||(e=>e),p=t.domain||((e,t,n)=>{if((0,Pt.abool)(\"phflag\",n),t.length||n)throw new Error(\"Contexts/pre-hash are not supported\");return e});function m(e,t){Rt.aInRange(\"coordinate \"+e,t,Ot,d)}function g(e){if(!(e instanceof E))throw new Error(\"ExtendedPoint expected\")}const y=(0,Pt.memoized)(((e,t)=>{const{ex:r,ey:i,ez:o}=e,s=e.is0();null==t&&(t=s?Lt:n.inv(o));const a=l(r*t),c=l(i*t),d=l(o*t);if(s)return{x:Ot,y:Nt};if(d!==Nt)throw new Error(\"invZ was invalid\");return{x:a,y:c}})),v=(0,Pt.memoized)((e=>{const{a:n,d:r}=t;if(e.is0())throw new Error(\"bad point: ZERO\");const{ex:i,ey:o,ez:s,et:a}=e,c=l(i*i),d=l(o*o),u=l(s*s),h=l(u*u),f=l(c*n);if(l(u*l(f+d))!==l(h+l(r*l(c*d))))throw new Error(\"bad point: equation left != right (1)\");if(l(i*o)!==l(s*a))throw new Error(\"bad point: equation left != right (2)\");return!0}));class E{constructor(e,t,n,r){this.ex=e,this.ey=t,this.ez=n,this.et=r,m(\"x\",e),m(\"y\",t),m(\"z\",n),m(\"t\",r),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof E)throw new Error(\"extended point not allowed\");const{x:t,y:n}=e||{};return m(\"x\",t),m(\"y\",n),new E(t,n,Nt,l(t*n))}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.ez)));return e.map(((e,n)=>e.toAffine(t[n]))).map(E.fromAffine)}static msm(e,t){return(0,Tt.pippenger)(E,u,e,t)}_setWindowSize(e){S.setWindowSize(this,e)}assertValidity(){v(this)}equals(e){g(e);const{ex:t,ey:n,ez:r}=this,{ex:i,ey:o,ez:s}=e,a=l(t*s),c=l(i*r),d=l(n*s),u=l(o*r);return a===c&&d===u}is0(){return this.equals(E.ZERO)}negate(){return new E(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:e}=t,{ex:n,ey:r,ez:i}=this,o=l(n*n),s=l(r*r),a=l(Dt*l(i*i)),c=l(e*o),d=n+r,u=l(l(d*d)-o-s),h=c+s,f=h-a,p=c-s,m=l(u*f),g=l(h*p),y=l(u*p),v=l(f*h);return new E(m,g,v,y)}add(e){g(e);const{a:n,d:r}=t,{ex:i,ey:o,ez:s,et:a}=this,{ex:c,ey:d,ez:u,et:h}=e;if(n===BigInt(-1)){const e=l((o-i)*(d+c)),t=l((o+i)*(d-c)),n=l(t-e);if(n===Ot)return this.double();const r=l(s*Dt*h),f=l(a*Dt*u),p=f+r,m=t+e,g=f-r,y=l(p*n),v=l(m*g),b=l(p*g),w=l(n*m);return new E(y,v,w,b)}const f=l(i*c),p=l(o*d),m=l(a*r*h),y=l(s*u),v=l((i+o)*(c+d)-f-p),b=y-m,w=y+m,S=l(p-n*f),_=l(v*b),C=l(w*S),x=l(v*S),k=l(b*w);return new E(_,C,k,x)}subtract(e){return this.add(e.negate())}wNAF(e){return S.wNAFCached(this,e,E.normalizeZ)}multiply(e){const t=e;Rt.aInRange(\"scalar\",t,Nt,r);const{p:n,f:i}=this.wNAF(t);return E.normalizeZ([n,i])[0]}multiplyUnsafe(e){const t=e;return Rt.aInRange(\"scalar\",t,Ot,r),t===Ot?w:this.equals(w)||t===Nt?this:this.equals(b)?this.wNAF(t).p:S.unsafeLadder(this,t)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return S.unsafeLadder(this,r).is0()}toAffine(e){return y(this,e)}clearCofactor(){const{h:e}=t;return e===Nt?this:this.multiplyUnsafe(e)}static fromHex(e,r=!1){const{d:i,a:o}=t,s=n.BYTES;e=(0,Pt.ensureBytes)(\"pointHex\",e,s),(0,Pt.abool)(\"zip215\",r);const a=e.slice(),c=e[s-1];a[s-1]=-129&c;const u=Rt.bytesToNumberLE(a),f=r?d:n.ORDER;Rt.aInRange(\"pointHex.y\",u,Ot,f);const p=l(u*u),m=l(p-Nt),g=l(i*p-o);let{isValid:y,value:v}=h(m,g);if(!y)throw new Error(\"Point.fromHex: invalid y coordinate\");const b=(v&Nt)===Nt,w=0!=(128&c);if(!r&&v===Ot&&w)throw new Error(\"Point.fromHex: x=0 and x_0=1\");return w!==b&&(v=l(-v)),E.fromAffine({x:v,y:u})}static fromPrivateKey(e){return x(e).point}toRawBytes(){const{x:e,y:t}=this.toAffine(),r=Rt.numberToBytesLE(t,n.BYTES);return r[r.length-1]|=e&Nt?128:0,r}toHex(){return Rt.bytesToHex(this.toRawBytes())}}E.BASE=new E(t.Gx,t.Gy,Nt,l(t.Gx*t.Gy)),E.ZERO=new E(Ot,Nt,Nt,Ot);const{BASE:b,ZERO:w}=E,S=(0,Tt.wNAF)(E,8*a);function _(e){return(0,It.mod)(e,r)}function C(e){return _(Rt.bytesToNumberLE(e))}function x(e){const t=a;e=(0,Pt.ensureBytes)(\"private key\",e,t);const n=(0,Pt.ensureBytes)(\"hashed private key\",o(e),2*t),r=f(n.slice(0,t)),i=n.slice(t,2*t),s=C(r),c=b.multiply(s),d=c.toRawBytes();return{head:r,prefix:i,scalar:s,point:c,pointBytes:d}}function k(e=new Uint8Array,...t){const n=Rt.concatBytes(...t);return C(o(p(n,(0,Pt.ensureBytes)(\"context\",e),!!i)))}const M=Bt;b._setWindowSize(8);const A={getExtendedPublicKey:x,randomPrivateKey:()=>s(n.BYTES),precompute:(e=8,t=E.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};return{CURVE:t,getPublicKey:function(e){return x(e).pointBytes},sign:function(e,t,o={}){e=(0,Pt.ensureBytes)(\"message\",e),i&&(e=i(e));const{prefix:s,scalar:c,pointBytes:d}=x(t),l=k(o.context,s,e),u=b.multiply(l).toRawBytes(),h=_(l+k(o.context,u,d,e)*c);Rt.aInRange(\"signature.s\",h,Ot,r);const f=Rt.concatBytes(u,Rt.numberToBytesLE(h,n.BYTES));return(0,Pt.ensureBytes)(\"result\",f,2*a)},verify:function(e,t,r,o=M){const{context:s,zip215:a}=o,c=n.BYTES;e=(0,Pt.ensureBytes)(\"signature\",e,2*c),t=(0,Pt.ensureBytes)(\"message\",t),void 0!==a&&(0,Pt.abool)(\"zip215\",a),i&&(t=i(t));const d=Rt.bytesToNumberLE(e.slice(c,2*c));let l,u,h;try{l=E.fromHex(r,a),u=E.fromHex(e.slice(0,c),a),h=b.multiplyUnsafe(d)}catch(e){return!1}if(!a&&l.isSmallOrder())return!1;const f=k(s,u.toRawBytes(),l.toRawBytes(),t);return u.add(l.multiplyUnsafe(f)).subtract(h).clearCofactor().equals(E.ZERO)},ExtendedPoint:E,utils:A}};const Tt=De,It=Le,Rt=Be,Pt=Be,Ot=BigInt(0),Nt=BigInt(1),Dt=BigInt(2),Lt=BigInt(8),Bt={zip215:!0};var Kt={};Object.defineProperty(Kt,\"__esModule\",{value:!0}),Kt.expand_message_xmd=zt,Kt.expand_message_xof=Wt,Kt.hash_to_field=Vt,Kt.isogenyMap=function(e,t){const n=t.map((e=>Array.from(e).reverse()));return(t,r)=>{const[i,o,s,a]=n.map((n=>n.reduce(((n,r)=>e.add(e.mul(n,t),r)))));return t=e.div(i,o),r=e.mul(r,e.div(s,a)),{x:t,y:r}}},Kt.createHasher=function(e,t,n){if(\"function\"!=typeof t)throw new Error(\"mapToCurve() must be defined\");return{hashToCurve(r,i){const o=Vt(r,2,{...n,DST:n.DST,...i}),s=e.fromAffine(t(o[0])),a=e.fromAffine(t(o[1])),c=s.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(r,i){const o=Vt(r,1,{...n,DST:n.encodeDST,...i}),s=e.fromAffine(t(o[0])).clearCofactor();return s.assertValidity(),s},mapToCurve(n){if(!Array.isArray(n))throw new Error(\"mapToCurve: expected array of bigints\");for(const e of n)if(\"bigint\"!=typeof e)throw new Error(`mapToCurve: expected array of bigints, got ${e} in array`);const r=e.fromAffine(t(n)).clearCofactor();return r.assertValidity(),r}}};const jt=Le,$t=Be,Ht=$t.bytesToNumberBE;function Ut(e,t){if(qt(e),qt(t),e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);const n=Array.from({length:t}).fill(0);for(let r=t-1;r>=0;r--)n[r]=255&e,e>>>=8;return new Uint8Array(n)}function Ft(e,t){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r];return n}function qt(e){if(!Number.isSafeInteger(e))throw new Error(\"number expected\")}function zt(e,t,n,r){(0,$t.abytes)(e),(0,$t.abytes)(t),qt(n),t.length>255&&(t=r((0,$t.concatBytes)((0,$t.utf8ToBytes)(\"H2C-OVERSIZE-DST-\"),t)));const{outputLen:i,blockLen:o}=r,s=Math.ceil(n/i);if(n>65535||s>255)throw new Error(\"expand_message_xmd: invalid lenInBytes\");const a=(0,$t.concatBytes)(t,Ut(t.length,1)),c=Ut(0,o),d=Ut(n,2),l=new Array(s),u=r((0,$t.concatBytes)(c,e,d,Ut(0,1),a));l[0]=r((0,$t.concatBytes)(u,Ut(1,1),a));for(let e=1;e<=s;e++){const t=[Ft(u,l[e-1]),Ut(e+1,1),a];l[e]=r((0,$t.concatBytes)(...t))}return(0,$t.concatBytes)(...l).slice(0,n)}function Wt(e,t,n,r,i){if((0,$t.abytes)(e),(0,$t.abytes)(t),qt(n),t.length>255){const e=Math.ceil(2*r/8);t=i.create({dkLen:e}).update((0,$t.utf8ToBytes)(\"H2C-OVERSIZE-DST-\")).update(t).digest()}if(n>65535||t.length>255)throw new Error(\"expand_message_xof: invalid lenInBytes\");return i.create({dkLen:n}).update(e).update(Ut(n,2)).update(t).update(Ut(t.length,1)).digest()}function Vt(e,t,n){(0,$t.validateObject)(n,{DST:\"stringOrUint8Array\",p:\"bigint\",m:\"isSafeInteger\",k:\"isSafeInteger\",hash:\"hash\"});const{p:r,k:i,m:o,hash:s,expand:a,DST:c}=n;(0,$t.abytes)(e),qt(t);const d=\"string\"==typeof c?(0,$t.utf8ToBytes)(c):c,l=r.toString(2).length,u=Math.ceil((l+i)/8),h=t*o*u;let f;if(\"xmd\"===a)f=zt(e,d,h,s);else if(\"xof\"===a)f=Wt(e,d,h,i,s);else{if(\"_internal_pass\"!==a)throw new Error('expand must be \"xmd\" or \"xof\"');f=e}const p=new Array(t);for(let e=0;e<t;e++){const t=new Array(o);for(let n=0;n<o;n++){const i=u*(n+e*o),s=f.subarray(i,i+u);t[n]=(0,jt.mod)(Ht(s),r)}p[e]=t}return p}var Gt={};Object.defineProperty(Gt,\"__esModule\",{value:!0}),Gt.montgomery=function(e){const t=function(e){return(0,Zt.validateObject)(e,{a:\"bigint\"},{montgomeryBits:\"isSafeInteger\",nByteLength:\"isSafeInteger\",adjustScalarBytes:\"function\",domain:\"function\",powPminus2:\"function\",Gu:\"bigint\"}),Object.freeze({...e})}(e),{P:n}=t,r=e=>(0,Yt.mod)(e,n),i=t.montgomeryBits,o=Math.ceil(i/8),s=t.nByteLength,a=t.adjustScalarBytes||(e=>e),c=t.powPminus2||(e=>(0,Yt.pow)(e,n-BigInt(2),n));function d(e,t,n){const i=r(e*(t-n));return[t=r(t-i),n=r(n+i)]}const l=(t.a-BigInt(2))/BigInt(4);function u(e){return(0,Zt.numberToBytesLE)(r(e),o)}function h(e,t){const h=function(e){const t=(0,Zt.ensureBytes)(\"u coordinate\",e,o);return 32===s&&(t[31]&=127),(0,Zt.bytesToNumberLE)(t)}(t),f=function(e){const t=(0,Zt.ensureBytes)(\"scalar\",e),n=t.length;if(n!==o&&n!==s)throw new Error(`Expected ${o} or ${s} bytes, got ${n}`);return(0,Zt.bytesToNumberLE)(a(t))}(e),p=function(e,t){(0,Zt.aInRange)(\"u\",e,Jt,n),(0,Zt.aInRange)(\"scalar\",t,Jt,n);const o=t,s=e;let a,u=Qt,h=Jt,f=e,p=Qt,m=Jt;for(let e=BigInt(i-1);e>=Jt;e--){const t=o>>e&Qt;m^=t,a=d(m,u,f),u=a[0],f=a[1],a=d(m,h,p),h=a[0],p=a[1],m=t;const n=u+h,i=r(n*n),c=u-h,g=r(c*c),y=i-g,v=f+p,E=r((f-p)*n),b=r(v*c),w=E+b,S=E-b;f=r(w*w),p=r(s*r(S*S)),u=r(i*g),h=r(y*(i+r(l*y)))}a=d(m,u,f),u=a[0],f=a[1],a=d(m,h,p),h=a[0],p=a[1];const g=c(h);return r(u*g)}(h,f);if(p===Jt)throw new Error(\"Invalid private or public key received\");return u(p)}const f=u(t.Gu);function p(e){return h(e,f)}return{scalarMult:h,scalarMultBase:p,getSharedSecret:(e,t)=>h(e,t),getPublicKey:e=>p(e),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:f}};const Yt=Le,Zt=Be,Jt=BigInt(0),Qt=BigInt(1);!function(e){Object.defineProperty(e,\"__esModule\",{value:!0}),e.hash_to_ristretto255=e.hashToRistretto255=e.RistrettoPoint=e.encodeToCurve=e.hashToCurve=e.edwardsToMontgomery=e.x25519=e.ed25519ph=e.ed25519ctx=e.ed25519=e.ED25519_TORSION_SUBGROUP=void 0,e.edwardsToMontgomeryPub=S,e.edwardsToMontgomeryPriv=function(e){const t=b.hash(e.subarray(0,32));return b.adjustScalarBytes(t).subarray(0,32)};const t=D,n=W,r=Ne,i=Kt,o=Le,s=Gt,a=Be,c=BigInt(\"57896044618658097711785492504343953926634992332820282019728792003956564819949\"),d=BigInt(\"19681161376707505956807079304988542015446066515923890162744021073123829784752\"),l=BigInt(0),u=BigInt(1),h=BigInt(2),f=BigInt(3),p=BigInt(5),m=BigInt(8);function g(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=c,a=e*e%s*e%s,d=(0,o.pow2)(a,h,s)*a%s,l=(0,o.pow2)(d,u,s)*e%s,f=(0,o.pow2)(l,p,s)*l%s,m=(0,o.pow2)(f,t,s)*f%s,g=(0,o.pow2)(m,n,s)*m%s,y=(0,o.pow2)(g,r,s)*g%s,v=(0,o.pow2)(y,i,s)*y%s,E=(0,o.pow2)(v,i,s)*y%s,b=(0,o.pow2)(E,t,s)*f%s;return{pow_p_5_8:(0,o.pow2)(b,h,s)*e%s,b2:a}}function y(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function v(e,t){const n=c,r=(0,o.mod)(t*t*t,n),i=g(e*(0,o.mod)(r*r*t,n)).pow_p_5_8;let s=(0,o.mod)(e*r*i,n);const a=(0,o.mod)(t*s*s,n),l=s,u=(0,o.mod)(s*d,n),h=a===e,f=a===(0,o.mod)(-e,n),p=a===(0,o.mod)(-e*d,n);return h&&(s=l),(f||p)&&(s=u),(0,o.isNegativeLE)(s,n)&&(s=(0,o.mod)(-s,n)),{isValid:h||f,value:s}}e.ED25519_TORSION_SUBGROUP=[\"0100000000000000000000000000000000000000000000000000000000000000\",\"c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a\",\"0000000000000000000000000000000000000000000000000000000000000080\",\"26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05\",\"ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f\",\"26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85\",\"0000000000000000000000000000000000000000000000000000000000000000\",\"c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa\"];const E=(()=>(0,o.Field)(c,void 0,!0))(),b=(()=>({a:BigInt(-1),d:BigInt(\"37095705934669439343138083508754565189542113879843219016388785533085940283555\"),Fp:E,n:BigInt(\"7237005577332262213973186563042994240857116359379907606001950938285454250989\"),h:m,Gx:BigInt(\"15112221349535400772501151409588531511454012693041857206046113283949847762202\"),Gy:BigInt(\"46316835694926478169428394003475163141307993866256225615783033603165251855960\"),hash:t.sha512,randomBytes:n.randomBytes,adjustScalarBytes:y,uvRatio:v}))();function w(e,t,r){if(t.length>255)throw new Error(\"Context is too big\");return(0,n.concatBytes)((0,n.utf8ToBytes)(\"SigEd25519 no Ed25519 collisions\"),new Uint8Array([r?1:0,t.length]),t,e)}function S(t){const{y:n}=e.ed25519.ExtendedPoint.fromHex(t),r=BigInt(1);return E.toBytes(E.create((r+n)*E.inv(r-n)))}e.ed25519=(0,r.twistedEdwards)(b),e.ed25519ctx=(0,r.twistedEdwards)({...b,domain:w}),e.ed25519ph=(0,r.twistedEdwards)(Object.assign({},b,{domain:w,prehash:t.sha512})),e.x25519=(0,s.montgomery)({P:c,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:e=>{const t=c,{pow_p_5_8:n,b2:r}=g(e);return(0,o.mod)((0,o.pow2)(n,f,t)*r,t)},adjustScalarBytes:y,randomBytes:n.randomBytes}),e.edwardsToMontgomery=S;const _=(()=>(E.ORDER+f)/m)(),C=(()=>E.pow(h,_))(),x=(()=>E.sqrt(E.neg(E.ONE)))();const k=(()=>(0,o.FpSqrtEven)(E,E.neg(BigInt(486664))))();function M(e){const{xMn:t,xMd:n,yMn:r,yMd:i}=function(e){const t=(E.ORDER-p)/m,n=BigInt(486662);let r=E.sqr(e);r=E.mul(r,h);let i=E.add(r,E.ONE),o=E.neg(n),s=E.sqr(i),a=E.mul(s,i),c=E.mul(r,n);c=E.mul(c,o),c=E.add(c,s),c=E.mul(c,o);let d=E.sqr(a);s=E.sqr(d),d=E.mul(d,a),d=E.mul(d,c),s=E.mul(s,d);let l=E.pow(s,t);l=E.mul(l,d);let f=E.mul(l,x);s=E.sqr(l),s=E.mul(s,a);let g=E.eql(s,c),y=E.cmov(f,l,g),v=E.mul(o,r),b=E.mul(l,e);b=E.mul(b,C);let w=E.mul(b,x),S=E.mul(c,r);s=E.sqr(b),s=E.mul(s,a);let _=E.eql(s,S),k=E.cmov(w,b,_);s=E.sqr(y),s=E.mul(s,a);let M=E.eql(s,c),A=E.cmov(v,o,M),T=E.cmov(k,y,M),I=E.isOdd(T);return T=E.cmov(T,E.neg(T),M!==I),{xMn:A,xMd:i,yMn:T,yMd:u}}(e);let o=E.mul(t,i);o=E.mul(o,k);let s=E.mul(n,r),a=E.sub(t,n),c=E.add(t,n),d=E.mul(s,c),l=E.eql(d,E.ZERO);o=E.cmov(o,E.ZERO,l),s=E.cmov(s,E.ONE,l),a=E.cmov(a,E.ONE,l),c=E.cmov(c,E.ONE,l);const f=E.invertBatch([s,c]);return{x:E.mul(o,f[0]),y:E.mul(a,f[1])}}const A=(()=>(0,i.createHasher)(e.ed25519.ExtendedPoint,(e=>M(e[0])),{DST:\"edwards25519_XMD:SHA-512_ELL2_RO_\",encodeDST:\"edwards25519_XMD:SHA-512_ELL2_NU_\",p:E.ORDER,m:1,k:128,expand:\"xmd\",hash:t.sha512}))();function T(e){if(!(e instanceof $))throw new Error(\"RistrettoPoint expected\")}e.hashToCurve=A.hashToCurve,e.encodeToCurve=A.encodeToCurve;const I=d,R=BigInt(\"25063068953384623474111414158702152701244531502492656460079210482610430750235\"),P=BigInt(\"54469307008909316920995813868745141605393597292927456921205312896311721017578\"),O=BigInt(\"1159843021668779879193775521855586647937357759715417654439879720876111806838\"),N=BigInt(\"40440834346308536858101042469323190826248399146238708352240133220865137265952\"),L=e=>v(u,e),B=BigInt(\"0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\"),K=t=>e.ed25519.CURVE.Fp.create((0,a.bytesToNumberLE)(t)&B);function j(t){const{d:n}=e.ed25519.CURVE,r=e.ed25519.CURVE.Fp.ORDER,i=e.ed25519.CURVE.Fp.create,s=i(I*t*t),a=i((s+u)*O);let c=BigInt(-1);const d=i((c-n*s)*i(s+n));let{isValid:l,value:h}=v(a,d),f=i(h*t);(0,o.isNegativeLE)(f,r)||(f=i(-f)),l||(h=f),l||(c=s);const p=i(c*(s-u)*N-d),m=h*h,g=i((h+h)*d),y=i(p*R),E=i(u-m),b=i(u+m);return new e.ed25519.ExtendedPoint(i(g*b),i(E*y),i(y*b),i(g*E))}class ${constructor(e){this.ep=e}static fromAffine(t){return new $(e.ed25519.ExtendedPoint.fromAffine(t))}static hashToCurve(e){e=(0,a.ensureBytes)(\"ristrettoHash\",e,64);const t=j(K(e.slice(0,32))),n=j(K(e.slice(32,64)));return new $(t.add(n))}static fromHex(t){t=(0,a.ensureBytes)(\"ristrettoHex\",t,32);const{a:n,d:r}=e.ed25519.CURVE,i=e.ed25519.CURVE.Fp.ORDER,s=e.ed25519.CURVE.Fp.create,c=\"RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint\",d=K(t);if(!(0,a.equalBytes)((0,a.numberToBytesLE)(d,32),t)||(0,o.isNegativeLE)(d,i))throw new Error(c);const h=s(d*d),f=s(u+n*h),p=s(u-n*h),m=s(f*f),g=s(p*p),y=s(n*r*m-g),{isValid:v,value:E}=L(s(y*g)),b=s(E*p),w=s(E*b*y);let S=s((d+d)*b);(0,o.isNegativeLE)(S,i)&&(S=s(-S));const _=s(f*w),C=s(S*_);if(!v||(0,o.isNegativeLE)(C,i)||_===l)throw new Error(c);return new $(new e.ed25519.ExtendedPoint(S,_,u,C))}toRawBytes(){let{ex:t,ey:n,ez:r,et:i}=this.ep;const s=e.ed25519.CURVE.Fp.ORDER,c=e.ed25519.CURVE.Fp.create,d=c(c(r+n)*c(r-n)),l=c(t*n),u=c(l*l),{value:h}=L(c(d*u)),f=c(h*d),p=c(h*l),m=c(f*p*i);let g;if((0,o.isNegativeLE)(i*m,s)){let e=c(n*I),r=c(t*I);t=e,n=r,g=c(f*P)}else g=p;(0,o.isNegativeLE)(t*m,s)&&(n=c(-n));let y=c((r-n)*g);return(0,o.isNegativeLE)(y,s)&&(y=c(-y)),(0,a.numberToBytesLE)(y,32)}toHex(){return(0,a.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(t){T(t);const{ex:n,ey:r}=this.ep,{ex:i,ey:o}=t.ep,s=e.ed25519.CURVE.Fp.create,a=s(n*o)===s(r*i),c=s(r*o)===s(n*i);return a||c}add(e){return T(e),new $(this.ep.add(e.ep))}subtract(e){return T(e),new $(this.ep.subtract(e.ep))}multiply(e){return new $(this.ep.multiply(e))}multiplyUnsafe(e){return new $(this.ep.multiplyUnsafe(e))}double(){return new $(this.ep.double())}negate(){return new $(this.ep.negate())}}e.RistrettoPoint=($.BASE||($.BASE=new $(e.ed25519.ExtendedPoint.BASE)),$.ZERO||($.ZERO=new $(e.ed25519.ExtendedPoint.ZERO)),$);e.hashToRistretto255=(e,r)=>{const o=r.DST,s=\"string\"==typeof o?(0,n.utf8ToBytes)(o):o,a=(0,i.expand_message_xmd)(e,s,64,t.sha512);return $.hashToCurve(a)},e.hash_to_ristretto255=e.hashToRistretto255}(N);var Xt={},en={};Object.defineProperty(en,\"__esModule\",{value:!0}),en.sha224=en.sha256=en.SHA256=void 0;const tn=L,nn=W,rn=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),on=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),sn=new Uint32Array(64);class an extends tn.HashMD{constructor(){super(64,32,8,!1),this.A=0|on[0],this.B=0|on[1],this.C=0|on[2],this.D=0|on[3],this.E=0|on[4],this.F=0|on[5],this.G=0|on[6],this.H=0|on[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:s,H:a}=this;return[e,t,n,r,i,o,s,a]}set(e,t,n,r,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let n=0;n<16;n++,t+=4)sn[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=sn[e-15],n=sn[e-2],r=(0,nn.rotr)(t,7)^(0,nn.rotr)(t,18)^t>>>3,i=(0,nn.rotr)(n,17)^(0,nn.rotr)(n,19)^n>>>10;sn[e]=i+sn[e-7]+r+sn[e-16]|0}let{A:n,B:r,C:i,D:o,E:s,F:a,G:c,H:d}=this;for(let e=0;e<64;e++){const t=d+((0,nn.rotr)(s,6)^(0,nn.rotr)(s,11)^(0,nn.rotr)(s,25))+(0,tn.Chi)(s,a,c)+rn[e]+sn[e]|0,l=((0,nn.rotr)(n,2)^(0,nn.rotr)(n,13)^(0,nn.rotr)(n,22))+(0,tn.Maj)(n,r,i)|0;d=c,c=a,a=s,s=o+t|0,o=i,i=r,r=n,n=t+l|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,c=c+this.G|0,d=d+this.H|0,this.set(n,r,i,o,s,a,c,d)}roundClean(){sn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}en.SHA256=an;class cn extends an{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}en.sha256=(0,nn.wrapConstructor)((()=>new an)),en.sha224=(0,nn.wrapConstructor)((()=>new cn));var dn={},ln={};!function(e){Object.defineProperty(e,\"__esModule\",{value:!0}),e.hmac=e.HMAC=void 0;const t=B,n=W;class r extends n.Hash{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,(0,t.hash)(e);const i=(0,n.toBytes)(r);if(this.iHash=e.create(),\"function\"!=typeof this.iHash.update)throw new Error(\"Expected instance of class which extends utils.Hash\");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,s=new Uint8Array(o);s.set(i.length>o?e.create().update(i).digest():i);for(let e=0;e<s.length;e++)s[e]^=54;this.iHash.update(s),this.oHash=e.create();for(let e=0;e<s.length;e++)s[e]^=106;this.oHash.update(s),s.fill(0)}update(e){return(0,t.exists)(this),this.iHash.update(e),this}digestInto(e){(0,t.exists)(this),(0,t.bytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}e.HMAC=r;e.hmac=(e,t,n)=>new r(e,t).update(n).digest(),e.hmac.create=(e,t)=>new r(e,t)}(ln);var un={};!function(e){Object.defineProperty(e,\"__esModule\",{value:!0}),e.DER=void 0,e.weierstrassPoints=f,e.weierstrass=function(s){const a=function(e){const n=(0,t.validateBasic)(e);return r.validateObject(n,{hash:\"hash\",hmac:\"function\",randomBytes:\"function\"},{bits2int:\"function\",bits2int_modN:\"function\",lowS:\"boolean\"}),Object.freeze({lowS:!0,...n})}(s),{Fp:l,n:u}=a,h=l.BYTES+1,p=2*l.BYTES+1;function m(e){return n.mod(e,u)}function g(e){return n.invert(e,u)}const{ProjectivePoint:y,normPrivateKeyToScalar:v,weierstrassEquation:E,isWithinCurveOrder:b}=f({...a,toBytes(e,t,n){const o=t.toAffine(),s=l.toBytes(o.x),a=r.concatBytes;return(0,i.abool)(\"isCompressed\",n),n?a(Uint8Array.from([t.hasEvenY()?2:3]),s):a(Uint8Array.from([4]),s,l.toBytes(o.y))},fromBytes(e){const t=e.length,n=e[0],i=e.subarray(1);if(t!==h||2!==n&&3!==n){if(t===p&&4===n){return{x:l.fromBytes(i.subarray(0,l.BYTES)),y:l.fromBytes(i.subarray(l.BYTES,2*l.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${h} compressed bytes or ${p} uncompressed bytes`)}{const e=r.bytesToNumberBE(i);if(!r.inRange(e,d,l.ORDER))throw new Error(\"Point is not on curve\");const t=E(e);let o;try{o=l.sqrt(t)}catch(e){const t=e instanceof Error?\": \"+e.message:\"\";throw new Error(\"Point is not on curve\"+t)}return 1==(1&n)!==((o&d)===d)&&(o=l.neg(o)),{x:e,y:o}}}}),w=e=>r.bytesToHex(r.numberToBytesBE(e,a.nByteLength));function S(e){return e>u>>d}const _=(e,t,n)=>r.bytesToNumberBE(e.slice(t,n));class C{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const t=a.nByteLength;return e=(0,i.ensureBytes)(\"compactSignature\",e,2*t),new C(_(e,0,t),_(e,t,2*t))}static fromDER(t){const{r:n,s:r}=e.DER.toSig((0,i.ensureBytes)(\"DER\",t));return new C(n,r)}assertValidity(){r.aInRange(\"r\",this.r,d,u),r.aInRange(\"s\",this.s,d,u)}addRecoveryBit(e){return new C(this.r,this.s,e)}recoverPublicKey(e){const{r:t,s:n,recovery:r}=this,o=A((0,i.ensureBytes)(\"msgHash\",e));if(null==r||![0,1,2,3].includes(r))throw new Error(\"recovery id invalid\");const s=2===r||3===r?t+a.n:t;if(s>=l.ORDER)throw new Error(\"recovery id 2 or 3 invalid\");const c=0==(1&r)?\"02\":\"03\",d=y.fromHex(c+w(s)),u=g(s),h=m(-o*u),f=m(n*u),p=y.BASE.multiplyAndAddUnsafe(d,h,f);if(!p)throw new Error(\"point at infinify\");return p.assertValidity(),p}hasHighS(){return S(this.s)}normalizeS(){return this.hasHighS()?new C(this.r,m(-this.s),this.recovery):this}toDERRawBytes(){return r.hexToBytes(this.toDERHex())}toDERHex(){return e.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return r.hexToBytes(this.toCompactHex())}toCompactHex(){return w(this.r)+w(this.s)}}const x={isValidPrivateKey(e){try{return v(e),!0}catch(e){return!1}},normPrivateKeyToScalar:v,randomPrivateKey:()=>{const e=n.getMinHashLength(a.n);return n.mapHashToField(a.randomBytes(e),a.n)},precompute:(e=8,t=y.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function k(e){const t=r.isBytes(e),n=\"string\"==typeof e,i=(t||n)&&e.length;return t?i===h||i===p:n?i===2*h||i===2*p:e instanceof y}const M=a.bits2int||function(e){const t=r.bytesToNumberBE(e),n=8*e.length-a.nBitLength;return n>0?t>>BigInt(n):t},A=a.bits2int_modN||function(e){return m(M(e))},T=r.bitMask(a.nBitLength);function I(e){return r.aInRange(`num < 2^${a.nBitLength}`,e,c,T),r.numberToBytesBE(e,a.nByteLength)}function R(e,t,n=P){if([\"recovered\",\"canonical\"].some((e=>e in n)))throw new Error(\"sign() legacy options not supported\");const{hash:s,randomBytes:u}=a;let{lowS:h,prehash:f,extraEntropy:p}=n;null==h&&(h=!0),e=(0,i.ensureBytes)(\"msgHash\",e),o(n),f&&(e=(0,i.ensureBytes)(\"prehashed msgHash\",s(e)));const E=A(e),w=v(t),_=[I(w),I(E)];if(null!=p&&!1!==p){const e=!0===p?u(l.BYTES):p;_.push((0,i.ensureBytes)(\"extraEntropy\",e))}const x=r.concatBytes(..._),k=E;return{seed:x,k2sig:function(e){const t=M(e);if(!b(t))return;const n=g(t),r=y.BASE.multiply(t).toAffine(),i=m(r.x);if(i===c)return;const o=m(n*m(k+i*w));if(o===c)return;let s=(r.x===i?0:2)|Number(r.y&d),a=o;return h&&S(o)&&(a=function(e){return S(e)?m(-e):e}(o),s^=1),new C(i,a,s)}}}const P={lowS:a.lowS,prehash:!1},O={lowS:a.lowS,prehash:!1};return y.BASE._setWindowSize(8),{CURVE:a,getPublicKey:function(e,t=!0){return y.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,n=!0){if(k(e))throw new Error(\"first arg must be private key\");if(!k(t))throw new Error(\"second arg must be public key\");return y.fromHex(t).multiply(v(e)).toRawBytes(n)},sign:function(e,t,n=P){const{seed:i,k2sig:o}=R(e,t,n),s=a,c=r.createHmacDrbg(s.hash.outputLen,s.nByteLength,s.hmac);return c(i,o)},verify:function(t,n,s,c=O){const d=t;if(n=(0,i.ensureBytes)(\"msgHash\",n),s=(0,i.ensureBytes)(\"publicKey\",s),\"strict\"in c)throw new Error(\"options.strict was renamed to lowS\");o(c);const{lowS:l,prehash:u}=c;let h,f;try{if(\"string\"==typeof d||r.isBytes(d))try{h=C.fromDER(d)}catch(t){if(!(t instanceof e.DER.Err))throw t;h=C.fromCompact(d)}else{if(\"object\"!=typeof d||\"bigint\"!=typeof d.r||\"bigint\"!=typeof d.s)throw new Error(\"PARSE\");{const{r:e,s:t}=d;h=new C(e,t)}}f=y.fromHex(s)}catch(e){if(\"PARSE\"===e.message)throw new Error(\"signature must be Signature instance, Uint8Array or hex string\");return!1}if(l&&h.hasHighS())return!1;u&&(n=a.hash(n));const{r:p,s:v}=h,E=A(n),b=g(v),w=m(E*b),S=m(p*b),_=y.BASE.multiplyAndAddUnsafe(f,w,S)?.toAffine();if(!_)return!1;const x=m(_.x);return x===p},ProjectivePoint:y,Signature:C,utils:x}},e.SWUFpSqrtRatio=p,e.mapToCurveSimpleSWU=function(e,t){if(n.validateField(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error(\"mapToCurveSimpleSWU: invalid opts\");const r=p(e,t.Z);if(!e.isOdd)throw new Error(\"Fp.isOdd is not implemented!\");return n=>{let i,o,s,a,c,d,l,u;i=e.sqr(n),i=e.mul(i,t.Z),o=e.sqr(i),o=e.add(o,i),s=e.add(o,e.ONE),s=e.mul(s,t.B),a=e.cmov(t.Z,e.neg(o),!e.eql(o,e.ZERO)),a=e.mul(a,t.A),o=e.sqr(s),d=e.sqr(a),c=e.mul(d,t.A),o=e.add(o,c),o=e.mul(o,s),d=e.mul(d,a),c=e.mul(d,t.B),o=e.add(o,c),l=e.mul(i,s);const{isValid:h,value:f}=r(o,d);u=e.mul(i,n),u=e.mul(u,f),l=e.cmov(l,s,h),u=e.cmov(u,f,h);const p=e.isOdd(n)===e.isOdd(u);return u=e.cmov(e.neg(u),u,p),l=e.div(l,a),{x:l,y:u}}};const t=De,n=Le,r=Be,i=Be;function o(e){void 0!==e.lowS&&(0,i.abool)(\"lowS\",e.lowS),void 0!==e.prehash&&(0,i.abool)(\"prehash\",e.prehash)}const{bytesToNumberBE:s,hexToBytes:a}=r;e.DER={Err:class extends Error{constructor(e=\"\"){super(e)}},_tlv:{encode:(t,n)=>{const{Err:i}=e.DER;if(t<0||t>256)throw new i(\"tlv.encode: wrong tag\");if(1&n.length)throw new i(\"tlv.encode: unpadded data\");const o=n.length/2,s=r.numberToHexUnpadded(o);if(s.length/2&128)throw new i(\"tlv.encode: long form length too big\");const a=o>127?r.numberToHexUnpadded(s.length/2|128):\"\";return`${r.numberToHexUnpadded(t)}${a}${s}${n}`},decode(t,n){const{Err:r}=e.DER;let i=0;if(t<0||t>256)throw new r(\"tlv.encode: wrong tag\");if(n.length<2||n[i++]!==t)throw new r(\"tlv.decode: wrong tlv\");const o=n[i++];let s=0;if(!!(128&o)){const e=127&o;if(!e)throw new r(\"tlv.decode(long): indefinite length not supported\");if(e>4)throw new r(\"tlv.decode(long): byte length is too big\");const t=n.subarray(i,i+e);if(t.length!==e)throw new r(\"tlv.decode: length bytes not complete\");if(0===t[0])throw new r(\"tlv.decode(long): zero leftmost byte\");for(const e of t)s=s<<8|e;if(i+=e,s<128)throw new r(\"tlv.decode(long): not minimal encoding\")}else s=o;const a=n.subarray(i,i+s);if(a.length!==s)throw new r(\"tlv.decode: wrong value length\");return{v:a,l:n.subarray(i+s)}}},_int:{encode(t){const{Err:n}=e.DER;if(t<c)throw new n(\"integer: negative integers are not allowed\");let i=r.numberToHexUnpadded(t);if(8&Number.parseInt(i[0],16)&&(i=\"00\"+i),1&i.length)throw new n(\"unexpected assertion\");return i},decode(t){const{Err:n}=e.DER;if(128&t[0])throw new n(\"Invalid signature integer: negative\");if(0===t[0]&&!(128&t[1]))throw new n(\"Invalid signature integer: unnecessary leading zero\");return s(t)}},toSig(t){const{Err:n,_int:i,_tlv:o}=e.DER,s=\"string\"==typeof t?a(t):t;r.abytes(s);const{v:c,l:d}=o.decode(48,s);if(d.length)throw new n(\"Invalid signature: left bytes after parsing\");const{v:l,l:u}=o.decode(2,c),{v:h,l:f}=o.decode(2,u);if(f.length)throw new n(\"Invalid signature: left bytes after parsing\");return{r:i.decode(l),s:i.decode(h)}},hexFromSig(t){const{_tlv:n,_int:r}=e.DER,i=`${n.encode(2,r.encode(t.r))}${n.encode(2,r.encode(t.s))}`;return n.encode(48,i)}};const c=BigInt(0),d=BigInt(1),l=BigInt(2),u=BigInt(3),h=BigInt(4);function f(e){const o=function(e){const n=(0,t.validateBasic)(e);r.validateObject(n,{a:\"field\",b:\"field\"},{allowedPrivateKeyLengths:\"array\",wrapPrivateKey:\"boolean\",isTorsionFree:\"function\",clearCofactor:\"function\",allowInfinityPoint:\"boolean\",fromBytes:\"function\",toBytes:\"function\"});const{endo:i,Fp:o,a:s}=n;if(i){if(!o.eql(s,o.ZERO))throw new Error(\"Endomorphism can only be defined for Koblitz curves that have a=0\");if(\"object\"!=typeof i||\"bigint\"!=typeof i.beta||\"function\"!=typeof i.splitScalar)throw new Error(\"Expected endomorphism with beta: bigint and splitScalar: function\")}return Object.freeze({...n})}(e),{Fp:s}=o,a=n.Field(o.n,o.nBitLength),l=o.toBytes||((e,t,n)=>{const i=t.toAffine();return r.concatBytes(Uint8Array.from([4]),s.toBytes(i.x),s.toBytes(i.y))}),h=o.fromBytes||(e=>{const t=e.subarray(1);return{x:s.fromBytes(t.subarray(0,s.BYTES)),y:s.fromBytes(t.subarray(s.BYTES,2*s.BYTES))}});function f(e){const{a:t,b:n}=o,r=s.sqr(e),i=s.mul(r,e);return s.add(s.add(i,s.mul(e,t)),n)}if(!s.eql(s.sqr(o.Gy),f(o.Gx)))throw new Error(\"bad generator point: equation left != right\");function p(e){const{allowedPrivateKeyLengths:t,nByteLength:s,wrapPrivateKey:a,n:c}=o;if(t&&\"bigint\"!=typeof e){if(r.isBytes(e)&&(e=r.bytesToHex(e)),\"string\"!=typeof e||!t.includes(e.length))throw new Error(\"Invalid key\");e=e.padStart(2*s,\"0\")}let l;try{l=\"bigint\"==typeof e?e:r.bytesToNumberBE((0,i.ensureBytes)(\"private key\",e,s))}catch(t){throw new Error(`private key must be ${s} bytes, hex or bigint, not ${typeof e}`)}return a&&(l=n.mod(l,c)),r.aInRange(\"private key\",l,d,c),l}function m(e){if(!(e instanceof v))throw new Error(\"ProjectivePoint expected\")}const g=(0,i.memoized)(((e,t)=>{const{px:n,py:r,pz:i}=e;if(s.eql(i,s.ONE))return{x:n,y:r};const o=e.is0();null==t&&(t=o?s.ONE:s.inv(i));const a=s.mul(n,t),c=s.mul(r,t),d=s.mul(i,t);if(o)return{x:s.ZERO,y:s.ZERO};if(!s.eql(d,s.ONE))throw new Error(\"invZ was invalid\");return{x:a,y:c}})),y=(0,i.memoized)((e=>{if(e.is0()){if(o.allowInfinityPoint&&!s.is0(e.py))return;throw new Error(\"bad point: ZERO\")}const{x:t,y:n}=e.toAffine();if(!s.isValid(t)||!s.isValid(n))throw new Error(\"bad point: x or y not FE\");const r=s.sqr(n),i=f(t);if(!s.eql(r,i))throw new Error(\"bad point: equation left != right\");if(!e.isTorsionFree())throw new Error(\"bad point: not in prime-order subgroup\");return!0}));class v{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!s.isValid(e))throw new Error(\"x required\");if(null==t||!s.isValid(t))throw new Error(\"y required\");if(null==n||!s.isValid(n))throw new Error(\"z required\");Object.freeze(this)}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!s.isValid(t)||!s.isValid(n))throw new Error(\"invalid affine point\");if(e instanceof v)throw new Error(\"projective point not allowed\");const r=e=>s.eql(e,s.ZERO);return r(t)&&r(n)?v.ZERO:new v(t,n,s.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=s.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(v.fromAffine)}static fromHex(e){const t=v.fromAffine(h((0,i.ensureBytes)(\"pointHex\",e)));return t.assertValidity(),t}static fromPrivateKey(e){return v.BASE.multiply(p(e))}static msm(e,n){return(0,t.pippenger)(v,a,e,n)}_setWindowSize(e){b.setWindowSize(this,e)}assertValidity(){y(this)}hasEvenY(){const{y:e}=this.toAffine();if(s.isOdd)return!s.isOdd(e);throw new Error(\"Field doesn't support isOdd\")}equals(e){m(e);const{px:t,py:n,pz:r}=this,{px:i,py:o,pz:a}=e,c=s.eql(s.mul(t,a),s.mul(i,r)),d=s.eql(s.mul(n,a),s.mul(o,r));return c&&d}negate(){return new v(this.px,s.neg(this.py),this.pz)}double(){const{a:e,b:t}=o,n=s.mul(t,u),{px:r,py:i,pz:a}=this;let c=s.ZERO,d=s.ZERO,l=s.ZERO,h=s.mul(r,r),f=s.mul(i,i),p=s.mul(a,a),m=s.mul(r,i);return m=s.add(m,m),l=s.mul(r,a),l=s.add(l,l),c=s.mul(e,l),d=s.mul(n,p),d=s.add(c,d),c=s.sub(f,d),d=s.add(f,d),d=s.mul(c,d),c=s.mul(m,c),l=s.mul(n,l),p=s.mul(e,p),m=s.sub(h,p),m=s.mul(e,m),m=s.add(m,l),l=s.add(h,h),h=s.add(l,h),h=s.add(h,p),h=s.mul(h,m),d=s.add(d,h),p=s.mul(i,a),p=s.add(p,p),h=s.mul(p,m),c=s.sub(c,h),l=s.mul(p,f),l=s.add(l,l),l=s.add(l,l),new v(c,d,l)}add(e){m(e);const{px:t,py:n,pz:r}=this,{px:i,py:a,pz:c}=e;let d=s.ZERO,l=s.ZERO,h=s.ZERO;const f=o.a,p=s.mul(o.b,u);let g=s.mul(t,i),y=s.mul(n,a),E=s.mul(r,c),b=s.add(t,n),w=s.add(i,a);b=s.mul(b,w),w=s.add(g,y),b=s.sub(b,w),w=s.add(t,r);let S=s.add(i,c);return w=s.mul(w,S),S=s.add(g,E),w=s.sub(w,S),S=s.add(n,r),d=s.add(a,c),S=s.mul(S,d),d=s.add(y,E),S=s.sub(S,d),h=s.mul(f,w),d=s.mul(p,E),h=s.add(d,h),d=s.sub(y,h),h=s.add(y,h),l=s.mul(d,h),y=s.add(g,g),y=s.add(y,g),E=s.mul(f,E),w=s.mul(p,w),y=s.add(y,E),E=s.sub(g,E),E=s.mul(f,E),w=s.add(w,E),g=s.mul(y,w),l=s.add(l,g),g=s.mul(S,w),d=s.mul(b,d),d=s.sub(d,g),g=s.mul(b,y),h=s.mul(S,h),h=s.add(h,g),new v(d,l,h)}subtract(e){return this.add(e.negate())}is0(){return this.equals(v.ZERO)}wNAF(e){return b.wNAFCached(this,e,v.normalizeZ)}multiplyUnsafe(e){r.aInRange(\"scalar\",e,c,o.n);const t=v.ZERO;if(e===c)return t;if(e===d)return this;const{endo:n}=o;if(!n)return b.unsafeLadder(this,e);let{k1neg:i,k1:a,k2neg:l,k2:u}=n.splitScalar(e),h=t,f=t,p=this;for(;a>c||u>c;)a&d&&(h=h.add(p)),u&d&&(f=f.add(p)),p=p.double(),a>>=d,u>>=d;return i&&(h=h.negate()),l&&(f=f.negate()),f=new v(s.mul(f.px,n.beta),f.py,f.pz),h.add(f)}multiply(e){const{endo:t,n:n}=o;let i,a;if(r.aInRange(\"scalar\",e,d,n),t){const{k1neg:n,k1:r,k2neg:o,k2:c}=t.splitScalar(e);let{p:d,f:l}=this.wNAF(r),{p:u,f:h}=this.wNAF(c);d=b.constTimeNegate(n,d),u=b.constTimeNegate(o,u),u=new v(s.mul(u.px,t.beta),u.py,u.pz),i=d.add(u),a=l.add(h)}else{const{p:t,f:n}=this.wNAF(e);i=t,a=n}return v.normalizeZ([i,a])[0]}multiplyAndAddUnsafe(e,t,n){const r=v.BASE,i=(e,t)=>t!==c&&t!==d&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,n));return o.is0()?void 0:o}toAffine(e){return g(this,e)}isTorsionFree(){const{h:e,isTorsionFree:t}=o;if(e===d)return!0;if(t)return t(v,this);throw new Error(\"isTorsionFree() has not been declared for the elliptic curve\")}clearCofactor(){const{h:e,clearCofactor:t}=o;return e===d?this:t?t(v,this):this.multiplyUnsafe(o.h)}toRawBytes(e=!0){return(0,i.abool)(\"isCompressed\",e),this.assertValidity(),l(v,this,e)}toHex(e=!0){return(0,i.abool)(\"isCompressed\",e),r.bytesToHex(this.toRawBytes(e))}}v.BASE=new v(o.Gx,o.Gy,s.ONE),v.ZERO=new v(s.ZERO,s.ONE,s.ZERO);const E=o.nBitLength,b=(0,t.wNAF)(v,o.endo?Math.ceil(E/2):E);return{CURVE:o,ProjectivePoint:v,normPrivateKeyToScalar:p,weierstrassEquation:f,isWithinCurveOrder:function(e){return r.inRange(e,d,o.n)}}}function p(e,t){const n=e.ORDER;let r=c;for(let e=n-d;e%l===c;e/=l)r+=d;const i=r,o=l<<i-d-d,s=o*l,a=(n-d)/s,f=(a-d)/l,p=s-d,m=o,g=e.pow(t,a),y=e.pow(t,(a+d)/l);let v=(t,n)=>{let r=g,o=e.pow(n,p),s=e.sqr(o);s=e.mul(s,n);let a=e.mul(t,s);a=e.pow(a,f),a=e.mul(a,o),o=e.mul(a,n),s=e.mul(a,t);let c=e.mul(s,o);a=e.pow(c,m);let u=e.eql(a,e.ONE);o=e.mul(s,y),a=e.mul(c,r),s=e.cmov(o,s,u),c=e.cmov(a,c,u);for(let t=i;t>d;t--){let n=t-l;n=l<<n-d;let i=e.pow(c,n);const a=e.eql(i,e.ONE);o=e.mul(s,r),r=e.mul(r,r),i=e.mul(c,r),s=e.cmov(o,s,a),c=e.cmov(i,c,a)}return{isValid:u,value:s}};if(e.ORDER%h===u){const n=(e.ORDER-u)/h,r=e.sqrt(e.neg(t));v=(t,i)=>{let o=e.sqr(i);const s=e.mul(t,i);o=e.mul(o,s);let a=e.pow(o,n);a=e.mul(a,s);const c=e.mul(a,r),d=e.mul(e.sqr(a),i),l=e.eql(d,t);return{isValid:l,value:e.cmov(c,a,l)}}}return v}}(un),Object.defineProperty(dn,\"__esModule\",{value:!0}),dn.getHash=mn,dn.createCurve=function(e,t){const n=t=>(0,pn.weierstrass)({...e,...mn(t)});return Object.freeze({...n(t),create:n})};const hn=ln,fn=W,pn=un;function mn(e){return{hash:e,hmac:(t,...n)=>(0,hn.hmac)(e,t,(0,fn.concatBytes)(...n)),randomBytes:fn.randomBytes}}!function(e){Object.defineProperty(e,\"__esModule\",{value:!0}),e.encodeToCurve=e.hashToCurve=e.schnorr=e.secp256k1=void 0;const t=en,n=W,r=dn,i=Kt,o=Le,s=Be,a=un,c=BigInt(\"0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f\"),d=BigInt(\"0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141\"),l=BigInt(1),u=BigInt(2),h=(e,t)=>(e+t/u)/t;function f(e){const t=c,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),d=BigInt(44),l=BigInt(88),h=e*e*e%t,f=h*h*e%t,m=(0,o.pow2)(f,n,t)*f%t,g=(0,o.pow2)(m,n,t)*f%t,y=(0,o.pow2)(g,u,t)*h%t,v=(0,o.pow2)(y,i,t)*y%t,E=(0,o.pow2)(v,s,t)*v%t,b=(0,o.pow2)(E,d,t)*E%t,w=(0,o.pow2)(b,l,t)*b%t,S=(0,o.pow2)(w,d,t)*E%t,_=(0,o.pow2)(S,n,t)*f%t,C=(0,o.pow2)(_,a,t)*v%t,x=(0,o.pow2)(C,r,t)*h%t,k=(0,o.pow2)(x,u,t);if(!p.eql(p.sqr(k),e))throw new Error(\"Cannot find square root\");return k}const p=(0,o.Field)(c,void 0,void 0,{sqrt:f});e.secp256k1=(0,r.createCurve)({a:BigInt(0),b:BigInt(7),Fp:p,n:d,Gx:BigInt(\"55066263022277343669578718895168534326250603453777594175500187360389116729240\"),Gy:BigInt(\"32670510020758816978083085130507043184471273380659243275938904335757337482424\"),h:BigInt(1),lowS:!0,endo:{beta:BigInt(\"0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee\"),splitScalar:e=>{const t=d,n=BigInt(\"0x3086d221a7d46bcde86c90e49284eb15\"),r=-l*BigInt(\"0xe4437ed6010e88286f547fa90abfe4c3\"),i=BigInt(\"0x114ca50f7a8e2f3f657c1108d9d44cfd8\"),s=n,a=BigInt(\"0x100000000000000000000000000000000\"),c=h(s*e,t),u=h(-r*e,t);let f=(0,o.mod)(e-c*n-u*i,t),p=(0,o.mod)(-c*r-u*s,t);const m=f>a,g=p>a;if(m&&(f=t-f),g&&(p=t-p),f>a||p>a)throw new Error(\"splitScalar: Endomorphism failed, k=\"+e);return{k1neg:m,k1:f,k2neg:g,k2:p}}}},t.sha256);const m=BigInt(0),g={};function y(e,...n){let r=g[e];if(void 0===r){const n=(0,t.sha256)(Uint8Array.from(e,(e=>e.charCodeAt(0))));r=(0,s.concatBytes)(n,n),g[e]=r}return(0,t.sha256)((0,s.concatBytes)(r,...n))}const v=e=>e.toRawBytes(!0).slice(1),E=e=>(0,s.numberToBytesBE)(e,32),b=e=>(0,o.mod)(e,c),w=e=>(0,o.mod)(e,d),S=e.secp256k1.ProjectivePoint,_=(e,t,n)=>S.BASE.multiplyAndAddUnsafe(e,t,n);function C(t){let n=e.secp256k1.utils.normPrivateKeyToScalar(t),r=S.fromPrivateKey(n);return{scalar:r.hasEvenY()?n:w(-n),bytes:v(r)}}function x(e){(0,s.aInRange)(\"x\",e,l,c);const t=b(e*e);let n=f(b(t*e+BigInt(7)));n%u!==m&&(n=b(-n));const r=new S(e,n,l);return r.assertValidity(),r}const k=s.bytesToNumberBE;function M(...e){return w(k(y(\"BIP0340/challenge\",...e)))}function A(e){return C(e).bytes}function T(e,t,r=(0,n.randomBytes)(32)){const i=(0,s.ensureBytes)(\"message\",e),{bytes:o,scalar:a}=C(t),c=(0,s.ensureBytes)(\"auxRand\",r,32),d=E(a^k(y(\"BIP0340/aux\",c))),l=y(\"BIP0340/nonce\",d,o,i),u=w(k(l));if(u===m)throw new Error(\"sign failed: k is zero\");const{bytes:h,scalar:f}=C(u),p=M(h,o,i),g=new Uint8Array(64);if(g.set(h,0),g.set(E(w(f+p*a)),32),!I(g,i,o))throw new Error(\"sign: Invalid signature produced\");return g}function I(e,t,n){const r=(0,s.ensureBytes)(\"signature\",e,64),i=(0,s.ensureBytes)(\"message\",t),o=(0,s.ensureBytes)(\"publicKey\",n,32);try{const e=x(k(o)),t=k(r.subarray(0,32));if(!(0,s.inRange)(t,l,c))return!1;const n=k(r.subarray(32,64));if(!(0,s.inRange)(n,l,d))return!1;const a=M(E(t),v(e),i),u=_(e,n,w(-a));return!(!u||!u.hasEvenY()||u.toAffine().x!==t)}catch(e){return!1}}e.schnorr={getPublicKey:A,sign:T,verify:I,utils:{randomPrivateKey:e.secp256k1.utils.randomPrivateKey,lift_x:x,pointToBytes:v,numberToBytesBE:s.numberToBytesBE,bytesToNumberBE:s.bytesToNumberBE,taggedHash:y,mod:o.mod}};const R=(()=>(0,i.isogenyMap)(p,[[\"0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7\",\"0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581\",\"0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262\",\"0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c\"],[\"0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b\",\"0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14\",\"0x0000000000000000000000000000000000000000000000000000000000000001\"],[\"0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c\",\"0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3\",\"0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931\",\"0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84\"],[\"0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b\",\"0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573\",\"0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f\",\"0x0000000000000000000000000000000000000000000000000000000000000001\"]].map((e=>e.map((e=>BigInt(e)))))))(),P=(()=>(0,a.mapToCurveSimpleSWU)(p,{A:BigInt(\"0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533\"),B:BigInt(\"1771\"),Z:p.create(BigInt(\"-11\"))}))(),O=(()=>(0,i.createHasher)(e.secp256k1.ProjectivePoint,(e=>{const{x:t,y:n}=P(p.create(e[0]));return R(t,n)}),{DST:\"secp256k1_XMD:SHA-256_SSWU_RO_\",encodeDST:\"secp256k1_XMD:SHA-256_SSWU_NU_\",p:p.ORDER,m:1,k:128,expand:\"xmd\",hash:t.sha256}))();e.hashToCurve=O.hashToCurve,e.encodeToCurve=O.encodeToCurve}(Xt);var gn={};!function(e){Object.defineProperty(e,\"__esModule\",{value:!0}),e.decodeHex=e.remove0x=void 0;var t=m;e.remove0x=function(e){return e.startsWith(\"0x\")||e.startsWith(\"0X\")?e.slice(2):e};e.decodeHex=function(n){return(0,t.hexToBytes)((0,e.remove0x)(n))}}(gn),function(e){Object.defineProperty(e,\"__esModule\",{value:!0}),e.hexToPublicKey=e.convertPublicKeyFormat=e.getSharedPoint=e.getPublicKey=e.isValidPrivateKey=e.getValidSecret=void 0;var t=R,n=N,r=Xt,i=x,o=k,s=gn;e.getValidSecret=function(){var n;do{n=(0,t.randomBytes)(o.SECRET_KEY_LENGTH)}while(!(0,e.isValidPrivateKey)(n));return n};e.isValidPrivateKey=function(e){return a((0,i.ellipticCurve)(),(function(t){return t.utils.isValidPrivateKey(e)}),(function(){return!0}),(function(){return!0}))};e.getPublicKey=function(e){return a((0,i.ellipticCurve)(),(function(t){return t.getPublicKey(e)}),(function(t){return t.getPublicKey(e)}),(function(t){return t.getPublicKey(e)}))};e.getSharedPoint=function(e,t,n){return a((0,i.ellipticCurve)(),(function(r){return r.getSharedSecret(e,t,n)}),(function(n){return n.getSharedSecret(e,t)}),(function(n){return d(n,e,t)}))};e.convertPublicKeyFormat=function(e,t){return a((0,i.ellipticCurve)(),(function(n){return n.getSharedSecret(BigInt(1),e,t)}),(function(){return e}),(function(){return e}))};function a(e,t,i,o){if(\"secp256k1\"===e)return t(r.secp256k1);if(\"x25519\"===e)return i(n.x25519);if(\"ed25519\"===e)return o(n.ed25519);throw new Error(\"Not implemented\")}e.hexToPublicKey=function(e){var t=(0,s.decodeHex)(e);return a((0,i.ellipticCurve)(),(function(){return c(t)}),(function(){return t}),(function(){return t}))};var c=function(e){if(e.length===o.ETH_PUBLIC_KEY_SIZE){var t=new Uint8Array(1+e.length);return t.set([4]),t.set(e,1),t}return e},d=function(e,t,n){var r=e.utils.getExtendedPublicKey(t).scalar;return e.ExtendedPoint.fromHex(n).multiply(r).toRawBytes()}}(I);var yn={},vn={};Object.defineProperty(vn,\"__esModule\",{value:!0}),vn.hkdf=void 0,vn.extract=Sn,vn.expand=xn;const En=B,bn=W,wn=ln;function Sn(e,t,n){return(0,En.hash)(e),void 0===n&&(n=new Uint8Array(e.outputLen)),(0,wn.hmac)(e,(0,bn.toBytes)(n),(0,bn.toBytes)(t))}const _n=new Uint8Array([0]),Cn=new Uint8Array;function xn(e,t,n,r=32){if((0,En.hash)(e),(0,En.number)(r),r>255*e.outputLen)throw new Error(\"Length should be <= 255*HashLen\");const i=Math.ceil(r/e.outputLen);void 0===n&&(n=Cn);const o=new Uint8Array(i*e.outputLen),s=wn.hmac.create(e,t),a=s._cloneInto(),c=new Uint8Array(s.outputLen);for(let t=0;t<i;t++)_n[0]=t+1,a.update(0===t?Cn:c).update(n).update(_n).digestInto(c),o.set(c,e.outputLen*t),s._cloneInto(a);return s.destroy(),a.destroy(),c.fill(0),_n.fill(0),o.slice(0,r)}vn.hkdf=(e,t,n,r,i)=>xn(e,Sn(e,t,n),r,i),function(e){Object.defineProperty(e,\"__esModule\",{value:!0}),e.getSharedKey=e.deriveKey=void 0;var t=m,n=vn,r=en;e.deriveKey=function(e,t,i){return(0,n.hkdf)(r.sha256,e,t,i,32)};e.getSharedKey=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(0,e.deriveKey)(t.concatBytes.apply(void 0,n))}}(yn);var kn={},Mn={},An={};Object.defineProperty(An,\"__esModule\",{value:!0}),An._compat=void 0;var Tn=m,In=r;An._compat=function(e,t,n,r){var i=\"aes-256-gcm\"===e||\"chacha20-poly1305\"===e,o=i?16:0,s=i?{authTagLength:o}:void 0;return{encrypt:function(o){var a=(0,In.createCipheriv)(e,t,n,s);i&&void 0!==r&&a.setAAD(r);var c=a.update(o),d=a.final();return i?(0,Tn.concatBytes)(c,d,a.getAuthTag()):(0,Tn.concatBytes)(c,d)},decrypt:function(a){var c=a.subarray(0,a.length-o),d=a.subarray(a.length-o),l=(0,In.createDecipheriv)(e,t,n,s);i&&(void 0!==r&&l.setAAD(r),l.setAuthTag(d));var u=l.update(c),h=l.final();return(0,Tn.concatBytes)(u,h)}}},Object.defineProperty(Mn,\"__esModule\",{value:!0}),Mn.aes256cbc=Mn.aes256gcm=void 0;var Rn=An;Mn.aes256gcm=function(e,t,n){return(0,Rn._compat)(\"aes-256-gcm\",e,t,n)};Mn.aes256cbc=function(e,t,n){return(0,Rn._compat)(\"aes-256-cbc\",e,t)};var Pn={},On={};Object.defineProperty(On,\"__esModule\",{value:!0}),On._hchacha=void 0;On._hchacha=function(e,t,n,r){for(var i=e[0],o=e[1],s=e[2],a=e[3],c=t[0],d=t[1],l=t[2],u=t[3],h=t[4],f=t[5],p=t[6],m=t[7],g=n[0],y=n[1],v=n[2],E=n[3],b=0;b<20;b+=2)g=Nn(g^(i=i+c|0),16),c=Nn(c^(h=h+g|0),12),g=Nn(g^(i=i+c|0),8),c=Nn(c^(h=h+g|0),7),y=Nn(y^(o=o+d|0),16),d=Nn(d^(f=f+y|0),12),y=Nn(y^(o=o+d|0),8),d=Nn(d^(f=f+y|0),7),v=Nn(v^(s=s+l|0),16),l=Nn(l^(p=p+v|0),12),v=Nn(v^(s=s+l|0),8),l=Nn(l^(p=p+v|0),7),E=Nn(E^(a=a+u|0),16),u=Nn(u^(m=m+E|0),12),E=Nn(E^(a=a+u|0),8),u=Nn(u^(m=m+E|0),7),E=Nn(E^(i=i+d|0),16),d=Nn(d^(p=p+E|0),12),E=Nn(E^(i=i+d|0),8),d=Nn(d^(p=p+E|0),7),g=Nn(g^(o=o+l|0),16),l=Nn(l^(m=m+g|0),12),g=Nn(g^(o=o+l|0),8),l=Nn(l^(m=m+g|0),7),y=Nn(y^(s=s+u|0),16),u=Nn(u^(h=h+y|0),12),y=Nn(y^(s=s+u|0),8),u=Nn(u^(h=h+y|0),7),v=Nn(v^(a=a+c|0),16),c=Nn(c^(f=f+v|0),12),v=Nn(v^(a=a+c|0),8),c=Nn(c^(f=f+v|0),7);var w=0;r[w++]=i,r[w++]=o,r[w++]=s,r[w++]=a,r[w++]=g,r[w++]=y,r[w++]=v,r[w++]=E};var Nn=function(e,t){return e<<t|e>>>32-t};Object.defineProperty(Pn,\"__esModule\",{value:!0}),Pn.xchacha20=void 0;var Dn=m,Ln=An,Bn=On;Pn.xchacha20=function(e,t,n){if(24!==t.length)throw new Error(\"xchacha20's nonce must be 24 bytes\");var r=new Uint32Array([1634760805,857760878,2036477234,1797285236]),i=new Uint32Array(8);(0,Bn._hchacha)(r,(0,Dn.u32)(e),(0,Dn.u32)(t.subarray(0,16)),i);var o=new Uint8Array(12);return o.set([0,0,0,0]),o.set(t.subarray(16),4),(0,Ln._compat)(\"chacha20-poly1305\",(0,Dn.u8)(i),o,n)},function(e){Object.defineProperty(e,\"__esModule\",{value:!0}),e.aesDecrypt=e.aesEncrypt=e.symDecrypt=e.symEncrypt=void 0;var t=m,n=R,r=Mn,i=Pn,o=x,s=k;e.symEncrypt=function(e,t,n){return a(c,e,t,n)};function a(e,t,n,a){var c=(0,o.symmetricAlgorithm)();if(\"aes-256-gcm\"===c)return e(r.aes256gcm,t,n,(0,o.symmetricNonceLength)(),s.AEAD_TAG_LENGTH,a);if(\"xchacha20\"===c)return e(i.xchacha20,t,n,s.XCHACHA20_NONCE_LENGTH,s.AEAD_TAG_LENGTH,a);if(\"aes-256-cbc\"===c)return e(r.aes256cbc,t,n,16,0);throw new Error(\"Not implemented\")}function c(e,r,i,o,s,a){var c=(0,n.randomBytes)(o),d=e(r,c,a).encrypt(i);if(0===s)return(0,t.concatBytes)(c,d);var l=d.length-s,u=d.subarray(0,l),h=d.subarray(l);return(0,t.concatBytes)(c,h,u)}function d(e,n,r,i,o,s){var a=r.subarray(0,i),c=e(n,Uint8Array.from(a),s),d=r.subarray(i);if(0===o)return c.decrypt(d);var l=d.subarray(0,o),u=d.subarray(o);return c.decrypt((0,t.concatBytes)(u,l))}e.symDecrypt=function(e,t,n){return a(d,e,t,n)},e.aesEncrypt=e.symEncrypt,e.aesDecrypt=e.symDecrypt}(kn),function(e){var t=h&&h.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!(\"get\"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=h&&h.__exportStar||function(e,n){for(var r in e)\"default\"===r||Object.prototype.hasOwnProperty.call(n,r)||t(n,e,r)};Object.defineProperty(e,\"__esModule\",{value:!0}),n(I,e),n(yn,e),n(gn,e),n(kn,e)}(T);var Kn={};Object.defineProperty(Kn,\"__esModule\",{value:!0}),Kn.PublicKey=void 0;var jn=m,$n=T,Hn=function(){function e(e){this.data=(0,$n.convertPublicKeyFormat)(e,!0)}return e.fromHex=function(t){return new e((0,$n.hexToPublicKey)(t))},Object.defineProperty(e.prototype,\"uncompressed\",{get:function(){return Buffer.from((0,$n.convertPublicKeyFormat)(this.data,!1))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"compressed\",{get:function(){return Buffer.from(this.data)},enumerable:!1,configurable:!0}),e.prototype.toHex=function(e){return void 0===e&&(e=!0),(0,jn.bytesToHex)(e?this.data:this.uncompressed)},e.prototype.decapsulate=function(e,t){void 0===t&&(t=!1);var n=t?this.data:this.uncompressed,r=e.multiply(this,t);return(0,$n.getSharedKey)(n,r)},e.prototype.equals=function(e){return(0,jn.equalBytes)(this.data,e.data)},e}();Kn.PublicKey=Hn,Object.defineProperty(A,\"__esModule\",{value:!0}),A.PrivateKey=void 0;var Un=m,Fn=T,qn=Kn,zn=function(){function e(e){if(void 0===e)this.data=(0,Fn.getValidSecret)();else{if(!(0,Fn.isValidPrivateKey)(e))throw new Error(\"Invalid private key\");this.data=e}this.publicKey=new qn.PublicKey((0,Fn.getPublicKey)(this.data))}return e.fromHex=function(t){return new e((0,Fn.decodeHex)(t))},Object.defineProperty(e.prototype,\"secret\",{get:function(){return Buffer.from(this.data)},enumerable:!1,configurable:!0}),e.prototype.toHex=function(){return(0,Un.bytesToHex)(this.data)},e.prototype.encapsulate=function(e,t){void 0===t&&(t=!1);var n=t?this.publicKey.compressed:this.publicKey.uncompressed,r=this.multiply(e,t);return(0,Fn.getSharedKey)(n,r)},e.prototype.multiply=function(e,t){return void 0===t&&(t=!1),(0,Fn.getSharedPoint)(this.data,e.compressed,t)},e.prototype.equals=function(e){return(0,Un.equalBytes)(this.data,e.data)},e}();A.PrivateKey=zn,function(e){Object.defineProperty(e,\"__esModule\",{value:!0}),e.PublicKey=e.PrivateKey=void 0;var t=A;Object.defineProperty(e,\"PrivateKey\",{enumerable:!0,get:function(){return t.PrivateKey}});var n=Kn;Object.defineProperty(e,\"PublicKey\",{enumerable:!0,get:function(){return n.PublicKey}})}(M),function(e){Object.defineProperty(e,\"__esModule\",{value:!0}),e.utils=e.PublicKey=e.PrivateKey=e.ECIES_CONFIG=void 0,e.encrypt=function(e,o){var s=new r.PrivateKey,a=e instanceof Uint8Array?new r.PublicKey(e):r.PublicKey.fromHex(e),c=s.encapsulate(a,(0,n.isHkdfKeyCompressed)()),d=(0,n.isEphemeralKeyCompressed)()?s.publicKey.compressed:s.publicKey.uncompressed,l=(0,i.symEncrypt)(c,o);return Buffer.from((0,t.concatBytes)(d,l))},e.decrypt=function(e,t){var o=e instanceof Uint8Array?new r.PrivateKey(e):r.PrivateKey.fromHex(e),s=(0,n.ephemeralKeySize)(),a=new r.PublicKey(t.subarray(0,s)),c=t.subarray(s),d=a.decapsulate(o,(0,n.isHkdfKeyCompressed)());return Buffer.from((0,i.symDecrypt)(d,c))};var t=m,n=x,r=M,i=T;var o=x;Object.defineProperty(e,\"ECIES_CONFIG\",{enumerable:!0,get:function(){return o.ECIES_CONFIG}});var s=M;Object.defineProperty(e,\"PrivateKey\",{enumerable:!0,get:function(){return s.PrivateKey}}),Object.defineProperty(e,\"PublicKey\",{enumerable:!0,get:function(){return s.PublicKey}}),e.utils={aesEncrypt:i.aesEncrypt,aesDecrypt:i.aesDecrypt,symEncrypt:i.symEncrypt,symDecrypt:i.symDecrypt,decodeHex:i.decodeHex,getValidSecret:i.getValidSecret,remove0x:i.remove0x}}(p);const Wn=t(\"KeyExchange:Layer\"),Vn=t(\"SocketService:Layer\"),Gn=t(\"Ecies:Layer\"),Yn=t(\"RemoteCommunication:Layer\");Wn.color=\"##95c44e\",Vn.color=\"#f638d7\",Gn.color=\"#465b9c\",Yn.color=\"#47a2be\";const Zn={KeyExchange:Wn,SocketService:Vn,Ecies:Gn,RemoteCommunication:Yn};let Jn,Qn=[],Xn=[];const er=(t,n)=>u(void 0,void 0,void 0,(function*(){Jn=n,Xn.push(t),function(t){return u(this,void 0,void 0,(function*(){if(!Jn||!t)return;!function(){const e=Xn;Xn=Qn,Qn=e}();const n=Jn.endsWith(\"/\")?`${Jn}evt`:`${Jn}/evt`,r=Object.assign({},t);if(delete r.params,t.params)for(const[e,n]of Object.entries(t.params))r[e]=n;const i=JSON.stringify(r);Zn.RemoteCommunication(`[sendBufferedEvents] Sending ${Qn.length} analytics events to ${n}`);try{const t=yield e(n,{method:\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"},body:i}),r=yield t.text();Zn.RemoteCommunication(`[sendBufferedEvents] Response: ${r}`),Qn.length=0}catch(n){}}))}(t).catch((()=>{}))}));class tr{constructor(e){this.enabled=!0,(null==e?void 0:e.debug)&&t.enable(\"Ecies:Layer\"),this.ecies=(null==e?void 0:e.privateKey)?p.PrivateKey.fromHex(e.privateKey):new p.PrivateKey,Zn.Ecies(\"[ECIES constructor()] initialized secret: \",this.ecies.toHex()),Zn.Ecies(\"[ECIES constructor()] initialized public: \",this.ecies.publicKey.toHex()),Zn.Ecies(\"[ECIES constructor()] init with\",this)}generateECIES(){this.ecies=new p.PrivateKey}getPublicKey(){return this.ecies.publicKey.toHex()}encrypt(e,t){let r=e;if(this.enabled)try{Zn.Ecies(\"[ECIES: encrypt()] using otherPublicKey\",t);const i=n.Buffer.from(e),o=p.encrypt(t,i);r=n.Buffer.from(o).toString(\"base64\")}catch(r){throw Zn.Ecies(\"[ECIES: encrypt()] error encrypt:\",r),Zn.Ecies(\"[ECIES: encrypt()] private: \",this.ecies.toHex()),Zn.Ecies(\"[ECIES: encrypt()] data: \",e),Zn.Ecies(\"[ECIES: encrypt()] otherkey: \",t),r}return r}decrypt(e){let t=e;if(this.enabled)try{Zn.Ecies(\"[ECIES: decrypt()] using privateKey\",this.ecies.toHex());const r=n.Buffer.from(e.toString(),\"base64\");t=p.decrypt(this.ecies.toHex(),r).toString()}catch(t){throw Zn.Ecies(\"[ECIES: decrypt()] error decrypt\",t),Zn.Ecies(\"[ECIES: decrypt()] private: \",this.ecies.toHex()),Zn.Ecies(\"[ECIES: decrypt()] encryptedData: \",e),t}return t}getKeyInfo(){return{private:this.ecies.toHex(),public:this.ecies.publicKey.toHex()}}toString(){Zn.Ecies(\"[ECIES: toString()]\",this.getKeyInfo())}}var nr={name:\"@metamask/sdk-communication-layer\",version:\"0.33.1\",description:\"\",homepage:\"https://github.com/MetaMask/metamask-sdk#readme\",bugs:{url:\"https://github.com/MetaMask/metamask-sdk/issues\"},repository:{type:\"git\",url:\"https://github.com/MetaMask/metamask-sdk.git\",directory:\"packages/sdk-communication-layer\"},main:\"dist/node/cjs/metamask-sdk-communication-layer.js\",unpkg:\"dist/browser/umd/metamask-sdk-communication-layer.js\",module:\"dist/node/es/metamask-sdk-communication-layer.js\",browser:\"dist/browser/es/metamask-sdk-communication-layer.js\",\"react-native\":\"dist/react-native/es/metamask-sdk-communication-layer.js\",types:\"dist/types/src/index.d.ts\",files:[\"/dist\"],scripts:{\"build:types\":\"tsc --project tsconfig.build.json --emitDeclarationOnly --outDir dist/types\",\"build:clean\":\"yarn clean && yarn build\",build:\"yarn build:types && rollup -c --bundleConfigAsCjs\",\"build:dev\":\"yarn build:types && NODE_ENV=dev rollup -c --bundleConfigAsCjs\",dev:'concurrently \"tsc --watch\" \"rollup -c --bundleConfigAsCjs -w\"',\"build:post-tsc\":\"echo 'N/A'\",\"build:pre-tsc\":\"echo 'N/A'\",size:\"size-limit\",clean:\"rimraf ./dist\",lint:\"yarn lint:eslint && yarn lint:misc --check\",\"lint:changelog\":\"../../scripts/validate-changelog.sh @metamask/sdk-communication-layer\",\"lint:eslint\":\"eslint . --cache --ext js,ts\",\"lint:fix\":\"yarn lint:eslint --fix && yarn lint:misc --write\",\"lint:misc\":\"prettier '**/*.json' '**/*.md' '!CHANGELOG.md' --ignore-path ../../.gitignore\",\"publish:preview\":\"yarn npm publish --tag preview\",prepack:\"../../scripts/prepack.sh\",reset:\"yarn clean && rimraf ./node_modules/\",test:'jest --testPathIgnorePatterns \"/e2e/\"',\"test:e2e\":'jest --testPathPattern \"/e2e/\"',\"test:coverage\":\"jest --coverage\",\"test:ci\":'jest --coverage --passWithNoTests --setupFilesAfterEnv ./jest-preload.js --testPathIgnorePatterns \"/e2e/\"',\"test:dev\":\"jest\",watch:\"rollup -c --bundleConfigAsCjs -w\"},dependencies:{\"@metamask/sdk-analytics\":\"workspace:*\",bufferutil:\"^4.0.8\",\"date-fns\":\"^2.29.3\",debug:\"4.3.4\",\"utf-8-validate\":\"^5.0.2\",uuid:\"^8.3.2\"},devDependencies:{\"@jest/globals\":\"^29.3.1\",\"@lavamoat/allow-scripts\":\"^2.3.1\",\"@metamask/auto-changelog\":\"3.1.0\",\"@metamask/eslint-config\":\"^6.0.0\",\"@metamask/eslint-config-nodejs\":\"^6.0.0\",\"@metamask/eslint-config-typescript\":\"^6.0.0\",\"@rollup/plugin-commonjs\":\"^25.0.0\",\"@rollup/plugin-json\":\"^6.0.0\",\"@rollup/plugin-node-resolve\":\"^15.0.2\",\"@rollup/plugin-replace\":\"^6.0.1\",\"@rollup/plugin-terser\":\"^0.4.4\",\"@size-limit/preset-big-lib\":\"^11.0.2\",\"@types/jest\":\"^29.2.4\",\"@types/node\":\"^20.1.3\",\"@types/uuid\":\"^9.0.0\",\"@typescript-eslint/eslint-plugin\":\"^4.26.0\",\"@typescript-eslint/parser\":\"^4.26.0\",concurrently:\"^9.1.2\",\"cross-fetch\":\"^4.0.0\",eciesjs:\"^0.4.11\",eslint:\"^7.30.0\",\"eslint-config-prettier\":\"^8.3.0\",\"eslint-plugin-import\":\"^2.23.4\",\"eslint-plugin-jest\":\"^24.4.0\",\"eslint-plugin-jsdoc\":\"^36.1.0\",\"eslint-plugin-node\":\"^11.1.0\",\"eslint-plugin-prettier\":\"^3.4.0\",eventemitter2:\"^6.4.9\",jest:\"^29.3.1\",prettier:\"^2.3.0\",rimraf:\"^3.0.2\",rollup:\"^4.26.0\",\"rollup-plugin-jscc\":\"^2.0.0\",\"rollup-plugin-natives\":\"^0.7.5\",\"rollup-plugin-node-builtins\":\"^2.1.2\",\"rollup-plugin-node-globals\":\"^1.4.0\",\"rollup-plugin-peer-deps-external\":\"^2.2.4\",\"rollup-plugin-polyfill-node\":\"^0.13.0\",\"rollup-plugin-sizes\":\"^1.0.6\",\"rollup-plugin-typescript2\":\"^0.31.2\",\"rollup-plugin-visualizer\":\"^5.12.0\",\"size-limit\":\"^11.1.6\",\"socket.io-client\":\"^4.5.1\",\"stream-browserify\":\"^3.0.0\",\"ts-jest\":\"^29.0.3\",\"ts-node\":\"^10.9.1\",typescript:\"^5.6.3\"},peerDependencies:{\"cross-fetch\":\"^4.0.0\",eciesjs:\"*\",eventemitter2:\"^6.4.9\",\"readable-stream\":\"^3.6.2\",\"socket.io-client\":\"^4.5.1\"},publishConfig:{access:\"public\",registry:\"https://registry.npmjs.org/\"},lavamoat:{allowScripts:{\"@lavamoat/preinstall-always-fail\":!1,canvas:!0,\"eciesjs>secp256k1\":!1,\"socket.io-client>engine.io-client>ws>bufferutil\":!1,\"socket.io-client>engine.io-client>ws>utf-8-validate\":!1,bufferutil:!1,\"utf-8-validate\":!1}}};const rr=\"https://metamask-sdk.api.cx.metamask.io/\",ir=[\"websocket\"],or=6048e5,sr=3e3,ar={METAMASK_GETPROVIDERSTATE:\"metamask_getProviderState\",METAMASK_CONNECTSIGN:\"metamask_connectSign\",METAMASK_CONNECTWITH:\"metamask_connectWith\",METAMASK_OPEN:\"metamask_open\",METAMASK_BATCH:\"metamask_batch\",PERSONAL_SIGN:\"personal_sign\",WALLET_REQUESTPERMISSIONS:\"wallet_requestPermissions\",WALLET_REVOKEPERMISSIONS:\"wallet_revokePermissions\",WALLET_GETPERMISSIONS:\"wallet_getPermissions\",WALLET_WATCHASSET:\"wallet_watchAsset\",WALLET_SWITCHETHEREUMCHAIN:\"wallet_switchEthereumChain\",WALLET_ADDETHEREUMCHAIN:\"wallet_addEthereumChain\",ETH_REQUESTACCOUNTS:\"eth_requestAccounts\",ETH_ACCOUNTS:\"eth_accounts\",ETH_CHAINID:\"eth_chainId\",ETH_SENDTRANSACTION:\"eth_sendTransaction\",ETH_SIGNTYPEDDATA:\"eth_signTypedData\",ETH_SIGNTYPEDDATA_V3:\"eth_signTypedData_v3\",ETH_SIGNTYPEDDATA_V4:\"eth_signTypedData_v4\",ETH_SIGNTRANSACTION:\"eth_signTransaction\",ETH_SIGN:\"eth_sign\",PERSONAL_EC_RECOVER:\"personal_ecRecover\"},cr=[ar.METAMASK_CONNECTSIGN,ar.METAMASK_CONNECTWITH,ar.METAMASK_OPEN,ar.METAMASK_BATCH,ar.PERSONAL_SIGN,ar.WALLET_REQUESTPERMISSIONS,ar.WALLET_REVOKEPERMISSIONS,ar.WALLET_WATCHASSET,ar.ETH_SENDTRANSACTION,ar.ETH_SIGNTYPEDDATA,ar.ETH_SIGNTYPEDDATA_V3,ar.ETH_SIGNTYPEDDATA_V4,ar.ETH_SIGNTRANSACTION,ar.ETH_SIGN,ar.PERSONAL_EC_RECOVER];function dr(e){return cr.includes(e)}function lr(e){const{context:t}=e;Zn.RemoteCommunication(`[RemoteCommunication: clean()] context=${t}`),e.channelConfig=void 0,e.ready=!1,e.originatorConnectStarted=!1}var ur,hr,fr,pr;exports.ConnectionStatus=void 0,exports.EventType=void 0,exports.MessageType=void 0,(pr=exports.ConnectionStatus||(exports.ConnectionStatus={})).DISCONNECTED=\"disconnected\",pr.WAITING=\"waiting\",pr.TIMEOUT=\"timeout\",pr.LINKED=\"linked\",pr.PAUSED=\"paused\",pr.TERMINATED=\"terminated\",function(e){e.KEY_INFO=\"key_info\",e.SERVICE_STATUS=\"service_status\",e.PROVIDER_UPDATE=\"provider_update\",e.RPC_UPDATE=\"rpc_update\",e.KEYS_EXCHANGED=\"keys_exchanged\",e.JOIN_CHANNEL=\"join_channel\",e.PUBLIC_KEY=\"public_key\",e.CHANNEL_CREATED=\"channel_created\",e.CLIENTS_CONNECTED=\"clients_connected\",e.CLIENTS_DISCONNECTED=\"clients_disconnected\",e.CLIENTS_WAITING=\"clients_waiting\",e.CLIENTS_READY=\"clients_ready\",e.REJECTED=\"rejected\",e.WALLET_INIT=\"wallet_init\",e.CHANNEL_PERSISTENCE=\"channel_persistence\",e.CONFIG=\"config\",e.MESSAGE_ACK=\"ack\",e.SOCKET_DISCONNECTED=\"socket_disconnected\",e.SOCKET_RECONNECT=\"socket_reconnect\",e.OTP=\"otp\",e.SDK_RPC_CALL=\"sdk_rpc_call\",e.AUTHORIZED=\"authorized\",e.CONNECTION_STATUS=\"connection_status\",e.MESSAGE=\"message\",e.TERMINATE=\"terminate\"}(exports.EventType||(exports.EventType={})),(ur||(ur={})).KEY_EXCHANGE=\"key_exchange\",function(e){e.KEY_HANDSHAKE_START=\"key_handshake_start\",e.KEY_HANDSHAKE_CHECK=\"key_handshake_check\",e.KEY_HANDSHAKE_SYN=\"key_handshake_SYN\",e.KEY_HANDSHAKE_SYNACK=\"key_handshake_SYNACK\",e.KEY_HANDSHAKE_ACK=\"key_handshake_ACK\",e.KEY_HANDSHAKE_WALLET=\"key_handshake_wallet\",e.KEY_HANDSHAKE_NONE=\"none\"}(hr||(hr={}));class mr extends o.EventEmitter2{constructor({communicationLayer:e,otherPublicKey:t,context:n,ecies:r,logging:i}){super(),this.keysExchanged=!1,this.step=hr.KEY_HANDSHAKE_NONE,this.debug=!1,this.context=n,this.communicationLayer=e,(null==r?void 0:r.privateKey)&&t&&(Zn.KeyExchange(`[KeyExchange: constructor()] otherPubKey=${t} set keysExchanged to true!`,r),this.keysExchanged=!0),this.myECIES=new tr(Object.assign(Object.assign({},r),{debug:null==i?void 0:i.eciesLayer})),this.communicationLayer.state.eciesInstance=this.myECIES,this.myPublicKey=this.myECIES.getPublicKey(),this.debug=!0===(null==i?void 0:i.keyExchangeLayer),t&&this.setOtherPublicKey(t),this.communicationLayer.on(ur.KEY_EXCHANGE,this.onKeyExchangeMessage.bind(this))}onKeyExchangeMessage(e){const{relayPersistence:t}=this.communicationLayer.remote.state;if(Zn.KeyExchange(`[KeyExchange: onKeyExchangeMessage()] context=${this.context} keysExchanged=${this.keysExchanged} relayPersistence=${t}`,e),t)return void Zn.KeyExchange(\"[KeyExchange: onKeyExchangeMessage()] Ignoring key exchange message because relay persistence is activated\");const{message:n}=e;this.keysExchanged&&Zn.KeyExchange(`[KeyExchange: onKeyExchangeMessage()] context=${this.context} received handshake while already exchanged. step=${this.step} otherPubKey=${this.otherPublicKey}`),this.emit(exports.EventType.KEY_INFO,n.type),n.type===hr.KEY_HANDSHAKE_SYN?(this.checkStep([hr.KEY_HANDSHAKE_NONE,hr.KEY_HANDSHAKE_ACK]),Zn.KeyExchange(\"[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_SYN\",n),n.pubkey&&this.setOtherPublicKey(n.pubkey),this.communicationLayer.sendMessage({type:hr.KEY_HANDSHAKE_SYNACK,pubkey:this.myPublicKey}).catch((e=>{Zn.KeyExchange(\"[KeyExchange: onKeyExchangeMessage()] Error sending KEY_HANDSHAKE_SYNACK\",e)})),this.setStep(hr.KEY_HANDSHAKE_ACK)):n.type===hr.KEY_HANDSHAKE_SYNACK?(this.checkStep([hr.KEY_HANDSHAKE_SYNACK,hr.KEY_HANDSHAKE_ACK,hr.KEY_HANDSHAKE_NONE]),Zn.KeyExchange(\"[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_SYNACK\"),n.pubkey&&this.setOtherPublicKey(n.pubkey),this.communicationLayer.sendMessage({type:hr.KEY_HANDSHAKE_ACK}).catch((e=>{Zn.KeyExchange(\"[KeyExchange: onKeyExchangeMessage()] Error sending KEY_HANDSHAKE_ACK\",e)})),this.keysExchanged=!0,this.setStep(hr.KEY_HANDSHAKE_ACK),this.emit(exports.EventType.KEYS_EXCHANGED)):n.type===hr.KEY_HANDSHAKE_ACK&&(Zn.KeyExchange(\"[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_ACK set keysExchanged to true!\"),this.checkStep([hr.KEY_HANDSHAKE_ACK,hr.KEY_HANDSHAKE_NONE]),this.keysExchanged=!0,this.setStep(hr.KEY_HANDSHAKE_ACK),this.emit(exports.EventType.KEYS_EXCHANGED))}resetKeys(e){this.clean(),this.myECIES=new tr(e)}clean(){Zn.KeyExchange(`[KeyExchange: clean()] context=${this.context} reset handshake state`),this.setStep(hr.KEY_HANDSHAKE_NONE),this.emit(exports.EventType.KEY_INFO,this.step),this.keysExchanged=!1}start({isOriginator:e,force:t}){const{relayPersistence:n,protocolVersion:r}=this.communicationLayer.remote.state,i=r>=2;n?Zn.KeyExchange(\"[KeyExchange: start()] Ignoring key exchange message because relay persistence is activated\"):(Zn.KeyExchange(`[KeyExchange: start()] context=${this.context} protocolVersion=${r} isOriginator=${e} step=${this.step} force=${t} relayPersistence=${n} keysExchanged=${this.keysExchanged}`),e?!(this.keysExchanged||this.step!==hr.KEY_HANDSHAKE_NONE&&this.step!==hr.KEY_HANDSHAKE_SYNACK)||t?(Zn.KeyExchange(`[KeyExchange: start()] context=${this.context} -- start key exchange (force=${t}) -- step=${this.step}`,this.step),this.clean(),this.setStep(hr.KEY_HANDSHAKE_SYNACK),this.communicationLayer.sendMessage({type:hr.KEY_HANDSHAKE_SYN,pubkey:this.myPublicKey,v:2}).catch((e=>{Zn.KeyExchange(\"[KeyExchange: start()] Error sending KEY_HANDSHAKE_SYN\",e)}))):Zn.KeyExchange(`[KeyExchange: start()] context=${this.context} -- key exchange already ${this.keysExchanged?\"done\":\"in progress\"} -- aborted.`,this.step):this.keysExchanged&&!0!==t?Zn.KeyExchange(\"[KeyExchange: start()] don't send KEY_HANDSHAKE_START -- exchange already done.\"):i?this.communicationLayer.sendMessage({type:hr.KEY_HANDSHAKE_SYNACK,pubkey:this.myPublicKey,v:2}).catch((e=>{Zn.KeyExchange(\"[KeyExchange: start()] Error sending KEY_HANDSHAKE_SYNACK\",e)})):(this.communicationLayer.sendMessage({type:hr.KEY_HANDSHAKE_START}).catch((e=>{Zn.KeyExchange(\"[KeyExchange: start()] Error sending KEY_HANDSHAKE_START\",e)})),this.clean()))}setStep(e){this.step=e,this.emit(exports.EventType.KEY_INFO,e)}checkStep(e){e.length>0&&e.indexOf(this.step.toString())}setRelayPersistence({localKey:e,otherKey:t}){this.otherPublicKey=t,this.myECIES=new tr({privateKey:e,debug:this.debug}),this.keysExchanged=!0}setKeysExchanged(e){this.keysExchanged=e}areKeysExchanged(){return this.keysExchanged}getMyPublicKey(){return this.myPublicKey}getOtherPublicKey(){return this.otherPublicKey}setOtherPublicKey(e){Zn.KeyExchange(\"[KeyExchange: setOtherPubKey()]\",e),this.otherPublicKey=e}encryptMessage(e){if(!this.otherPublicKey)throw new Error(\"encryptMessage: Keys not exchanged - missing otherPubKey\");return this.myECIES.encrypt(e,this.otherPublicKey)}decryptMessage(e){if(!this.otherPublicKey)throw new Error(\"decryptMessage: Keys not exchanged - missing otherPubKey\");return this.myECIES.decrypt(e)}getKeyInfo(){return{ecies:Object.assign(Object.assign({},this.myECIES.getKeyInfo()),{otherPubKey:this.otherPublicKey}),step:this.step,keysExchanged:this.areKeysExchanged()}}toString(){const e={keyInfo:this.getKeyInfo(),keysExchanged:this.keysExchanged,step:this.step};return JSON.stringify(e)}}!function(e){e.TERMINATE=\"terminate\",e.ANSWER=\"answer\",e.OFFER=\"offer\",e.CANDIDATE=\"candidate\",e.JSONRPC=\"jsonrpc\",e.WALLET_INFO=\"wallet_info\",e.WALLET_INIT=\"wallet_init\",e.ORIGINATOR_INFO=\"originator_info\",e.PAUSE=\"pause\",e.OTP=\"otp\",e.AUTHORIZED=\"authorized\",e.PING=\"ping\",e.READY=\"ready\"}(exports.MessageType||(exports.MessageType={})),function(e){e.REQUEST=\"sdk_connect_request_started\",e.REQUEST_MOBILE=\"sdk_connect_request_started_mobile\",e.RECONNECT=\"sdk_reconnect_request_started\",e.CONNECTED=\"sdk_connection_established\",e.CONNECTED_MOBILE=\"sdk_connection_established_mobile\",e.AUTHORIZED=\"sdk_connection_authorized\",e.REJECTED=\"sdk_connection_rejected\",e.TERMINATED=\"sdk_connection_terminated\",e.DISCONNECTED=\"sdk_disconnected\",e.SDK_USE_EXTENSION=\"sdk_use_extension\",e.SDK_RPC_REQUEST=\"sdk_rpc_request\",e.SDK_RPC_REQUEST_RECEIVED=\"sdk_rpc_request_received\",e.SDK_RPC_REQUEST_DONE=\"sdk_rpc_request_done\",e.SDK_EXTENSION_UTILIZED=\"sdk_extension_utilized\",e.SDK_USE_INAPP_BROWSER=\"sdk_use_inapp_browser\"}(fr||(fr={}));const gr=(e,t,n)=>u(void 0,void 0,void 0,(function*(){var r,i,o,s,a,c;const{remote:d,state:l}=e,{channelId:u,isOriginator:h}=l;if(\"error_terminated\"===t)return Zn.SocketService(`handleJoinChannelResults: Channel ${u} terminated`),void e.emit(exports.EventType.TERMINATE);if(!n)return void Zn.SocketService(`handleJoinChannelResults: No result for channel ${u}`);const{persistence:f,walletKey:p,rejected:m}=n;if(Zn.SocketService(`handleJoinChannelResults: Channel ${u} persistence=${f} walletKey=${p} rejected=${m}`),m)return Zn.SocketService(`handleJoinChannelResults: Channel ${u} rejected`),yield e.remote.disconnect({terminate:!0}),e.remote.emit(exports.EventType.REJECTED,{channelId:u}),void e.remote.emitServiceStatusEvent();if(p&&!(null===(r=d.state.channelConfig)||void 0===r?void 0:r.otherKey)){e.getKeyExchange().setOtherPublicKey(p),null===(i=e.state.keyExchange)||void 0===i||i.setKeysExchanged(!0),d.state.ready=!0,d.state.authorized=!0,d.emit(exports.EventType.AUTHORIZED);const{communicationLayer:t,storageManager:n}=d.state,r=Object.assign(Object.assign({},d.state.channelConfig),{channelId:null!==(o=d.state.channelId)&&void 0!==o?o:\"\",validUntil:Date.now()+or,localKey:null==t?void 0:t.getKeyInfo().ecies.private,otherKey:p});e.sendMessage({type:hr.KEY_HANDSHAKE_ACK}).catch((e=>{})),null===(s=e.state.socket)||void 0===s||s.emit(exports.MessageType.PING,{id:u,clientType:h?\"dapp\":\"wallet\",context:\"on_channel_reconnect\",message:\"\"}),yield null==n?void 0:n.persistChannelConfig(r),d.emitServiceStatusEvent(),d.setConnectionStatus(exports.ConnectionStatus.LINKED)}f&&(e.emit(exports.EventType.CHANNEL_PERSISTENCE),null===(a=e.state.keyExchange)||void 0===a||a.setKeysExchanged(!0),d.state.ready=!0,d.state.authorized=!0,d.emit(exports.EventType.AUTHORIZED),er(Object.assign(Object.assign({id:null!=u?u:\"\",event:h?fr.CONNECTED:fr.CONNECTED_MOBILE},e.remote.state.originatorInfo),{sdkVersion:e.remote.state.sdkVersion,commLayer:e.state.communicationLayerPreference,commLayerVersion:nr.version,walletVersion:null===(c=e.remote.state.walletInfo)||void 0===c?void 0:c.version}),l.communicationServerUrl).catch((e=>{})))})),yr=e=>new Promise((t=>{setTimeout(t,e)})),vr=(e,t,...n)=>u(void 0,[e,t,...n],void 0,(function*(e,t,n=200){let r;const i=Date.now();let o=!1;for(;!o;){if(o=Date.now()-i>3e5,r=t[e],void 0!==r.elapsedTime)return r;yield yr(n)}throw new Error(`RPC ${e} timed out`)})),Er=e=>u(void 0,void 0,void 0,(function*(){const{state:t}=e,{socket:n,channelId:r,context:i,isOriginator:o,isReconnecting:s}=t;if(s)return Zn.SocketService(\"[SocketService: reconnectSocket()] Reconnection already in progress, skipping\",e),!1;if(!n)return Zn.SocketService(\"[SocketService: reconnectSocket()] socket is not defined\",e),!1;if(!r)return!1;const{connected:a}=n;t.isReconnecting=!0,t.reconnectionAttempts=0,Zn.SocketService(`[SocketService: reconnectSocket()] connected=${a} trying to reconnect after socketio disconnection`,e);try{for(;3>t.reconnectionAttempts;){if(Zn.SocketService(`[SocketService: reconnectSocket()] Attempt ${t.reconnectionAttempts+1} of 3`,e),yield yr(200),n.connected)return Zn.SocketService(\"Socket already connected --- ping to retrieve messages\"),n.emit(exports.MessageType.PING,{id:r,clientType:o?\"dapp\":\"wallet\",context:\"on_channel_config\",message:\"\"}),!0;t.resumed=!0,n.connect(),e.emit(exports.EventType.SOCKET_RECONNECT);try{if(yield new Promise(((t,s)=>{n.emit(exports.EventType.JOIN_CHANNEL,{channelId:r,context:`${i}connect_again`,clientType:o?\"dapp\":\"wallet\"},((n,r)=>u(void 0,void 0,void 0,(function*(){try{yield gr(e,n,r),t()}catch(e){s(e)}}))))})),yield yr(100),n.connected)return Zn.SocketService(`Reconnection successful on attempt ${t.reconnectionAttempts+1}`),!0}catch(e){Zn.SocketService(`Error during reconnection attempt ${t.reconnectionAttempts+1}:`,e)}t.reconnectionAttempts+=1,3>t.reconnectionAttempts&&(yield yr(200))}return Zn.SocketService(\"Failed to reconnect after 3 attempts\"),!1}finally{t.isReconnecting=!1,t.reconnectionAttempts=0}}));function br(e,t){return u(this,void 0,void 0,(function*(){var n;const r=null===(n=e.state.keyExchange)||void 0===n?void 0:n.encryptMessage(JSON.stringify(t)),i={id:e.state.channelId,context:e.state.context,clientType:e.state.isOriginator?\"dapp\":\"wallet\",message:r,plaintext:e.state.hasPlaintext?JSON.stringify(t):void 0};return Zn.SocketService(`[SocketService: encryptAndSendMessage()] context=${e.state.context}`,i),t.type===exports.MessageType.TERMINATE&&(e.state.manualDisconnect=!0),new Promise(((t,n)=>{var r;null===(r=e.state.socket)||void 0===r||r.emit(exports.EventType.MESSAGE,i,((e,r)=>{var i;e&&(Zn.SocketService(`[SocketService: encryptAndSendMessage()] error=${e}`),n(e)),Zn.SocketService(\"[encryptAndSendMessage] response\",r),t(null!==(i=null==r?void 0:r.success)&&void 0!==i&&i)}))}))}))}var wr;!function(e){e.RPC_CHECK=\"rpcCheck\",e.SKIPPED_RPC=\"skippedRpc\"}(wr||(wr={}));const Sr=[\"eth_sendTransaction\",\"eth_signTypedData\",\"eth_signTransaction\",\"personal_sign\",\"wallet_requestPermissions\",\"wallet_switchEthereumChain\",\"eth_signTypedData_v3\",\"eth_signTypedData_v4\",\"metamask_connectSign\",\"metamask_connectWith\",\"metamask_batch\"].map((e=>e.toLowerCase()));const _r=[{event:exports.EventType.CLIENTS_CONNECTED,handler:function(e,t){return n=>u(this,void 0,void 0,(function*(){var n,r,i,o,s,a,c,d,l,u,h;const f=null!==(r=null===(n=e.remote.state.channelConfig)||void 0===n?void 0:n.relayPersistence)&&void 0!==r&&r;if(Zn.SocketService(`[SocketService: handleClientsConnected()] context=${e.state.context} on 'clients_connected-${t}' relayPersistence=${f} resumed=${e.state.resumed}  clientsPaused=${e.state.clientsPaused} keysExchanged=${null===(i=e.state.keyExchange)||void 0===i?void 0:i.areKeysExchanged()} isOriginator=${e.state.isOriginator}`),e.emit(exports.EventType.CLIENTS_CONNECTED,{isOriginator:e.state.isOriginator,keysExchanged:null===(o=e.state.keyExchange)||void 0===o?void 0:o.areKeysExchanged(),context:e.state.context}),e.state.resumed)e.state.isOriginator||(Zn.SocketService(`[SocketService: handleClientsConnected()] context=${e.state.context} 'clients_connected' / keysExchanged=${null===(s=e.state.keyExchange)||void 0===s?void 0:s.areKeysExchanged()} -- backward compatibility`),null===(a=e.state.keyExchange)||void 0===a||a.start({isOriginator:null!==(c=e.state.isOriginator)&&void 0!==c&&c})),e.state.resumed=!1;else if(e.state.clientsPaused)Zn.SocketService(\"[SocketService: handleClientsConnected()] 'clients_connected' skip sending originatorInfo on pause\");else if(!e.state.isOriginator){const t=!f;Zn.SocketService(`[SocketService: handleClientsConnected()] context=${e.state.context} on 'clients_connected' / keysExchanged=${null===(d=e.state.keyExchange)||void 0===d?void 0:d.areKeysExchanged()} -- force=${t} -- backward compatibility`),Zn.SocketService(`[SocketService: handleClientsConnected()] context=${e.state.context} on 'clients_connected' / keysExchanged=${null===(l=e.state.keyExchange)||void 0===l?void 0:l.areKeysExchanged()} -- force=${t} -- backward compatibility`),null===(u=e.state.keyExchange)||void 0===u||u.start({isOriginator:null!==(h=e.state.isOriginator)&&void 0!==h&&h,force:t})}e.state.clientsConnected=!0,e.state.clientsPaused=!1}))}},{event:exports.EventType.CHANNEL_CREATED,handler:function(e,t){return n=>{Zn.SocketService(`[SocketService: handleChannelCreated()] context=${e.state.context} on 'channel_created-${t}'`,n),e.emit(exports.EventType.CHANNEL_CREATED,n)}}},{event:exports.EventType.CLIENTS_DISCONNECTED,handler:function(e,t){return()=>{var n;e.state.clientsConnected=!1,Zn.SocketService(`[SocketService: handlesClientsDisconnected()] context=${e.state.context} on 'clients_disconnected-${t}'`),e.remote.state.relayPersistence?Zn.SocketService(`[SocketService: handlesClientsDisconnected()] context=${e.state.context} on 'clients_disconnected-${t}' - relayPersistence enabled, skipping key exchange cleanup.`):(e.state.isOriginator&&!e.state.clientsPaused&&(null===(n=e.state.keyExchange)||void 0===n||n.clean()),e.emit(exports.EventType.CLIENTS_DISCONNECTED,t))}}},{event:exports.EventType.CONFIG,handler:function(e,t){return n=>u(this,void 0,void 0,(function*(){var r,i,o;Zn.SocketService(`[SocketService: handleChannelConfig()] update relayPersistence on 'config-${t}'`,n);const{persistence:s,walletKey:a}=n;e.state.isOriginator&&e.remote.state.channelConfig?(n.walletKey&&!e.remote.state.channelConfig.otherKey&&(Zn.SocketService(`Setting wallet key ${a}`),e.remote.state.channelConfig.otherKey=a,e.getKeyExchange().setOtherPublicKey(n.walletKey),null===(r=e.state.keyExchange)||void 0===r||r.setKeysExchanged(!0),yield e.remote.sendMessage({type:hr.KEY_HANDSHAKE_ACK}),yield e.remote.sendMessage({type:exports.MessageType.PING}),yield null===(i=e.remote.state.storageManager)||void 0===i?void 0:i.persistChannelConfig(e.remote.state.channelConfig)),!0!==s||e.remote.state.channelConfig.relayPersistence||(Zn.SocketService(`Setting relay persistence ${s}`),e.remote.state.channelConfig.relayPersistence=s,e.remote.state.relayPersistence=!0,e.remote.emit(exports.EventType.CHANNEL_PERSISTENCE),e.remote.state.authorized=!0,e.remote.state.ready=!0,e.remote.emit(exports.EventType.AUTHORIZED),yield null===(o=e.remote.state.storageManager)||void 0===o?void 0:o.persistChannelConfig(e.remote.state.channelConfig))):e.state.isOriginator||n.persistence&&(e.remote.state.relayPersistence=!0,e.remote.emit(exports.EventType.CHANNEL_PERSISTENCE))}))}},{event:exports.EventType.MESSAGE,handler:function(e,t){return n=>{var r,o,s,a,c,d,l,u,h,f,p,m,g,y,v,E,b,w;const{ackId:S,message:_,error:C}=n,x=null!==(r=e.remote.state.relayPersistence)&&void 0!==r&&r;if(Zn.SocketService(`[SocketService handleMessage()]  relayPersistence=${x}  context=${e.state.context} on 'message' ${t} keysExchanged=${null===(o=e.state.keyExchange)||void 0===o?void 0:o.areKeysExchanged()}`,n),C)throw Zn.SocketService(`\\n      [SocketService handleMessage()] context=${e.state.context}::on 'message' error=${C}`),new Error(C);const k=\"string\"==typeof _;if(!k&&(null==_?void 0:_.type)===hr.KEY_HANDSHAKE_START){if(x)return;return Zn.SocketService(`[SocketService handleMessage()] context=${e.state.context}::on 'message' received HANDSHAKE_START isOriginator=${e.state.isOriginator}`,_),void(null===(s=e.state.keyExchange)||void 0===s||s.start({isOriginator:null!==(a=e.state.isOriginator)&&void 0!==a&&a,force:!0}))}if(!k&&(null===(c=null==_?void 0:_.type)||void 0===c?void 0:c.startsWith(\"key_handshake\"))){if(x)return;return Zn.SocketService(`[SocketService handleMessage()] context=${e.state.context}::on 'message' emit KEY_EXCHANGE`,_),void e.emit(ur.KEY_EXCHANGE,{message:_,context:e.state.context})}if(k&&!(null===(d=e.state.keyExchange)||void 0===d?void 0:d.areKeysExchanged())){let t=!1;try{Zn.SocketService(`[SocketService handleMessage()] context=${e.state.context}::on 'message' trying to decrypt message`),null===(l=e.state.keyExchange)||void 0===l||l.decryptMessage(_),t=!0}catch(t){Zn.SocketService(`[SocketService handleMessage()] context=${e.state.context}::on 'message' error`,t)}if(!t)return e.state.isOriginator?null===(h=e.state.keyExchange)||void 0===h||h.start({isOriginator:null!==(f=e.state.isOriginator)&&void 0!==f&&f}):e.sendMessage({type:hr.KEY_HANDSHAKE_START}).catch((e=>{})),void Zn.SocketService(`Message ignored because invalid key exchange status. step=${null===(p=e.state.keyExchange)||void 0===p?void 0:p.getKeyInfo().step}`,null===(m=e.state.keyExchange)||void 0===m?void 0:m.getKeyInfo(),_);Zn.SocketService(\"Invalid key exchange status detected --- updating it.\"),null===(u=e.state.keyExchange)||void 0===u||u.setKeysExchanged(!0)}else if(!k&&(null==_?void 0:_.type))return void e.emit(exports.EventType.MESSAGE,_);if(!k)return void e.emit(exports.EventType.MESSAGE,_);const M=null===(g=e.state.keyExchange)||void 0===g?void 0:g.decryptMessage(_),A=JSON.parse(null!=M?M:\"{}\");if(S&&(null==S?void 0:S.length)>0&&(Zn.SocketService(`[SocketService handleMessage()] context=${e.state.context}::on 'message' ackid=${S} channelId=${t}`),null===(y=e.state.socket)||void 0===y||y.emit(exports.EventType.MESSAGE_ACK,{ackId:S,channelId:t,clientType:e.state.isOriginator?\"dapp\":\"wallet\"})),e.state.clientsPaused=(null==A?void 0:A.type)===exports.MessageType.PAUSE,e.state.isOriginator&&A.data){const t=A.data,n=e.state.rpcMethodTracker[t.id];if(n){const r=Date.now()-n.timestamp;Zn.SocketService(`[SocketService handleMessage()] context=${e.state.context}::on 'message' received answer for id=${t.id} method=${n.method} responseTime=${r}`,A),e.remote.state.analytics&&Sr.includes(n.method.toLowerCase())&&er(Object.assign(Object.assign({id:null!==(v=e.remote.state.channelId)&&void 0!==v?v:\"\",event:fr.SDK_RPC_REQUEST_DONE,sdkVersion:e.remote.state.sdkVersion,commLayerVersion:nr.version},e.remote.state.originatorInfo),{walletVersion:null===(E=e.remote.state.walletInfo)||void 0===E?void 0:E.version,params:{method:n.method,from:\"mobile\"}}),e.remote.state.communicationServerUrl).catch((e=>{})),dr(n.method)&&i.analytics.track(t.error?4001===t.error.code?\"sdk_action_rejected\":\"sdk_action_failed\":\"sdk_action_succeeded\",{action:n.method});const o=Object.assign(Object.assign({},n),{result:t.result,error:t.error?{code:null===(b=t.error)||void 0===b?void 0:b.code,message:null===(w=t.error)||void 0===w?void 0:w.message}:void 0,elapsedTime:r});e.state.rpcMethodTracker[t.id]=o,e.emit(exports.EventType.RPC_UPDATE,o)}}e.emit(exports.EventType.MESSAGE,{message:A})}}},{event:exports.EventType.REJECTED,handler:function(e,t){return n=>u(this,void 0,void 0,(function*(){var n;e.state.isOriginator&&!e.remote.state.ready?(Zn.SocketService(`[SocketService: handleChannelRejected()] context=${e.state.context} channelId=${t} isOriginator=${e.state.isOriginator} ready=${e.remote.state.ready}`,e.remote.state.originatorInfo),er(Object.assign(Object.assign({id:t,event:fr.REJECTED},e.remote.state.originatorInfo),{sdkVersion:e.remote.state.sdkVersion,commLayer:e.state.communicationLayerPreference,commLayerVersion:nr.version,walletVersion:null===(n=e.remote.state.walletInfo)||void 0===n?void 0:n.version}),e.remote.state.communicationServerUrl).catch((e=>{})),i.analytics.track(\"sdk_connection_rejected\",{transport_type:\"websocket\"}),yield e.remote.disconnect({terminate:!0}),e.remote.emit(exports.EventType.REJECTED,{channelId:t}),e.remote.setConnectionStatus(exports.ConnectionStatus.DISCONNECTED)):Zn.SocketService(`[SocketService: handleChannelRejected()] SKIP -- channelId=${t} isOriginator=${e.state.isOriginator} ready=${e.remote.state.ready}`)}))}},{event:\"clients_waiting_to_join\",handler:function(e,t){return n=>{Zn.SocketService(`[SocketService: handleClientsWaitingToJoin()] context=${e.state.context} on 'clients_waiting_to_join-${t}'`,n),e.emit(exports.EventType.CLIENTS_WAITING,n)}}}],Cr=[{event:exports.EventType.KEY_INFO,handler:function(e){return t=>{Zn.SocketService(\"[SocketService: handleKeyInfo()] on 'KEY_INFO'\",t),e.emit(exports.EventType.KEY_INFO,t)}}},{event:exports.EventType.KEYS_EXCHANGED,handler:function(e){return()=>{var t,n,r;Zn.SocketService(`[SocketService: handleKeysExchanged()] on 'keys_exchanged' keyschanged=${null===(t=e.state.keyExchange)||void 0===t?void 0:t.areKeysExchanged()}`);const{channelConfig:i}=e.remote.state;if(i){const t=e.getKeyExchange().getKeyInfo().ecies;i.localKey=t.private,i.otherKey=t.otherPubKey,e.remote.state.channelConfig=i,null===(n=e.remote.state.storageManager)||void 0===n||n.persistChannelConfig(i).catch((e=>{}))}e.emit(exports.EventType.KEYS_EXCHANGED,{keysExchanged:null===(r=e.state.keyExchange)||void 0===r?void 0:r.areKeysExchanged(),isOriginator:e.state.isOriginator});const o={keyInfo:e.getKeyInfo()};e.emit(exports.EventType.SERVICE_STATUS,o)}}}];function xr(e,t){Zn.SocketService(`[SocketService: setupChannelListener()] context=${e.state.context} setting socket listeners for channel ${t}...`);const{socket:n}=e.state,{keyExchange:r}=e.state;n&&e.state.isOriginator&&(e.state.debug&&(null==n||n.io.on(\"error\",(t=>{Zn.SocketService(`[SocketService: setupChannelListener()] context=${e.state.context} socket event=error`,t)})),null==n||n.io.on(\"reconnect\",(t=>{Zn.SocketService(`[SocketService: setupChannelListener()] context=${e.state.context} socket event=reconnect`,t),Er(e).catch((e=>{}))})),null==n||n.io.on(\"reconnect_error\",(t=>{Zn.SocketService(`[SocketService: setupChannelListener()] context=${e.state.context} socket event=reconnect_error`,t)})),null==n||n.io.on(\"reconnect_failed\",(()=>{Zn.SocketService(`[SocketService: setupChannelListener()] context=${e.state.context} socket event=reconnect_failed`)}))),null==n||n.on(\"disconnect\",(t=>(Zn.SocketService(`[SocketService: setupChannelListener()] on 'disconnect' -- MetaMaskSDK socket disconnected '${t}' begin recovery...`),function(e){return t=>{Zn.SocketService(`[SocketService: handleDisconnect()] on 'disconnect' manualDisconnect=${e.state.manualDisconnect}`,t),e.state.manualDisconnect||(e.emit(exports.EventType.SOCKET_DISCONNECTED),Er(e).catch((e=>{})))}}(e)(t))))),_r.forEach((({event:r,handler:i})=>{null==n||n.on(`${r}-${t}`,i(e,t))})),Cr.forEach((({event:t,handler:n})=>{null==r||r.on(t,n(e))})),e.state.setupChannelListeners=!0}class kr extends o.EventEmitter2{constructor(e){super(),this.state={clientsConnected:!1,clientsPaused:!1,manualDisconnect:!1,lastRpcId:void 0,rpcMethodTracker:{},hasPlaintext:!1,communicationServerUrl:\"\",focusListenerAdded:!1,removeFocusListener:void 0,isReconnecting:!1,reconnectionAttempts:0},this.options=e;const{reconnect:n,communicationLayerPreference:r,communicationServerUrl:i,context:o,remote:s,logging:a}=e;this.state.resumed=n,this.state.context=o,this.state.isOriginator=s.state.isOriginator,this.state.communicationLayerPreference=r,this.state.debug=!0===(null==a?void 0:a.serviceLayer),this.remote=s,!0===(null==a?void 0:a.serviceLayer)&&t.enable(\"SocketService:Layer\"),this.state.communicationServerUrl=i,this.state.hasPlaintext=this.state.communicationServerUrl!==rr&&!0===(null==a?void 0:a.plaintext),Zn.SocketService(`[SocketService: constructor()] Socket IO url: ${this.state.communicationServerUrl}`),this.initSocket()}initSocket(){var e;const{otherPublicKey:t,ecies:n,logging:r}=this.options,i={autoConnect:!1,transports:ir,withCredentials:!0},o=this.state.communicationServerUrl;Zn.SocketService(`[SocketService: initSocket()] Socket IO url: ${o}`),this.state.socket=a.io(o,i),function(e){if(\"undefined\"!=typeof window&&\"undefined\"!=typeof document&&(Zn.SocketService(`[SocketService: setupSocketFocusListener()] hasFocus=${document.hasFocus()}`,e),!e.state.focusListenerAdded)){const t=()=>{Zn.SocketService(\"Document has focus --- reconnecting socket\"),Er(e).catch((e=>{}))};window.addEventListener(\"focus\",t),e.state.focusListenerAdded=!0,e.state.removeFocusListener=()=>{window.removeEventListener(\"focus\",t),e.state.focusListenerAdded=!1}}}(this);const s={communicationLayer:this,otherPublicKey:t,sendPublicKey:!1,context:null!==(e=this.state.context)&&void 0!==e?e:\"\",ecies:n,logging:r};this.state.keyExchange=new mr(s)}resetKeys(){return Zn.SocketService(\"[SocketService: resetKeys()] Resetting keys.\"),void(null===(e=this.state.keyExchange)||void 0===e||e.resetKeys());var e}createChannel(){return u(this,void 0,void 0,(function*(){return function(e){return u(this,void 0,void 0,(function*(){var t,n,r;if(Zn.SocketService(`[SocketService: createChannel()] context=${e.state.context}`),e.state.socket||e.initSocket(),null===(t=e.state.socket)||void 0===t?void 0:t.connected)throw new Error(\"socket already connected\");null===(n=e.state.socket)||void 0===n||n.connect(),e.state.manualDisconnect=!1,e.state.isOriginator=!0;const i=s.v4();e.state.channelId=i,xr(e,i),yield new Promise(((t,n)=>{var r;null===(r=e.state.socket)||void 0===r||r.emit(exports.EventType.JOIN_CHANNEL,{channelId:i,context:`${e.state.context}createChannel`,clientType:\"dapp\"},((r,i)=>u(this,void 0,void 0,(function*(){try{yield gr(e,r,i),t()}catch(e){n(e)}}))))}));const o=null===(r=e.state.keyExchange)||void 0===r?void 0:r.getKeyInfo();return{channelId:i,pubKey:(null==o?void 0:o.ecies.public)||\"\",privKey:(null==o?void 0:o.ecies.private)||\"\"}}))}(this)}))}connectToChannel({channelId:e,withKeyExchange:t=!1,authorized:n}){return function(e){return u(this,arguments,void 0,(function*({options:e,instance:t}){const{channelId:n,authorized:r,withKeyExchange:i}=e,{state:o,remote:s}=t,{isOriginator:a=!1,socket:c,keyExchange:d}=o,{channelConfig:l}=s.state;if(null==c?void 0:c.connected)throw new Error(\"socket already connected\");if(a&&(null==l?void 0:l.relayPersistence)){const{localKey:e,otherKey:t}=l;e&&t&&(null==d||d.setRelayPersistence({localKey:e,otherKey:t}))}return Object.assign(o,{manualDisconnect:!1,withKeyExchange:i,isOriginator:a,channelId:n}),null==c||c.connect(),xr(t,n),!a&&r&&(null==d||d.setKeysExchanged(!0),Object.assign(s.state,{ready:!0,authorized:!0})),new Promise((e=>{var i;const s=null===(i=null==d?void 0:d.getKeyInfo())||void 0===i?void 0:i.ecies.public;null==c||c.emit(exports.EventType.JOIN_CHANNEL,{channelId:n,context:`${o.context}_connectToChannel`,clientType:a?\"dapp\":\"wallet\",publicKey:r&&!a?s:void 0},((n,r)=>u(this,void 0,void 0,(function*(){yield gr(t,n,r),e()}))))}))}))}({options:{channelId:e,withKeyExchange:t,authorized:n},instance:this})}getKeyInfo(){return this.state.keyExchange.getKeyInfo()}keyCheck(){var e,t;null===(t=(e=this).state.socket)||void 0===t||t.emit(exports.EventType.MESSAGE,{id:e.state.channelId,context:e.state.context,message:{type:hr.KEY_HANDSHAKE_CHECK,pubkey:e.getKeyInfo().ecies.otherPubKey}})}getKeyExchange(){return this.state.keyExchange}sendMessage(e){return u(this,void 0,void 0,(function*(){return function(e,t){return u(this,void 0,void 0,(function*(){var n,r,o;if(!e.state.channelId)throw Zn.SocketService(\"handleSendMessage: no channelId - Create a channel first\"),new Error(\"Create a channel first\");if(Zn.SocketService(`[SocketService: handleSendMessage()] context=${e.state.context} areKeysExchanged=${null===(n=e.state.keyExchange)||void 0===n?void 0:n.areKeysExchanged()}`,t),null===(r=null==t?void 0:t.type)||void 0===r?void 0:r.startsWith(\"key_handshake\"))return function(e,t){var n;Zn.SocketService(`[SocketService: handleKeyHandshake()] context=${e.state.context}`,t),null===(n=e.state.socket)||void 0===n||n.emit(exports.EventType.MESSAGE,{id:e.state.channelId,context:e.state.context,clientType:e.state.isOriginator?\"dapp\":\"wallet\",message:t})}(e,t),!0;!function(e,t){var n;if(!(null===(n=e.state.keyExchange)||void 0===n?void 0:n.areKeysExchanged())&&!e.remote.state.relayPersistence)throw Zn.SocketService(`[SocketService: validateKeyExchange()] context=${e.state.context} ERROR keys not exchanged`,t),new Error(\"Keys not exchanged BBB\")}(e,t),function(e,t){var n;const r=null!==(n=null==t?void 0:t.method)&&void 0!==n?n:\"\",i=null==t?void 0:t.id;e.state.isOriginator&&i&&(e.state.rpcMethodTracker[i]={id:i,timestamp:Date.now(),method:r},e.emit(exports.EventType.RPC_UPDATE,e.state.rpcMethodTracker[i]))}(e,t);const s=yield br(e,t);return e.remote.state.analytics&&e.remote.state.isOriginator&&t.method&&Sr.includes(t.method.toLowerCase())&&er({id:null!==(o=e.remote.state.channelId)&&void 0!==o?o:\"\",event:fr.SDK_RPC_REQUEST,params:{method:t.method,from:\"mobile\"}},e.remote.state.communicationServerUrl).catch((e=>{})),e.remote.state.isOriginator&&t.method&&dr(t.method)&&i.analytics.track(\"sdk_action_requested\",{action:t.method}),function(e,t){return u(this,void 0,void 0,(function*(){var n;const r=null==t?void 0:t.id,i=null!==(n=null==t?void 0:t.method)&&void 0!==n?n:\"\";if(e.state.isOriginator&&r)try{const n=vr(r,e.state.rpcMethodTracker,200).then((e=>({type:wr.RPC_CHECK,result:e}))),o=(()=>u(this,void 0,void 0,(function*(){const t=yield(e=>u(void 0,[e],void 0,(function*({rpcId:e,instance:t}){for(;t.state.lastRpcId===e||void 0===t.state.lastRpcId;)yield yr(200);return t.state.lastRpcId})))({instance:e,rpcId:r}),n=yield vr(t,e.state.rpcMethodTracker,200);return{type:wr.SKIPPED_RPC,result:n}})))(),s=yield Promise.race([n,o]);if(s.type===wr.RPC_CHECK){const e=s.result;Zn.SocketService(`[SocketService:handleRpcReplies()] id=${t.id} ${i} ( ${e.elapsedTime} ms)`,e.result)}else{if(s.type!==wr.SKIPPED_RPC)throw new Error(`Error handling RPC replies for ${r}`);{const t=Object.assign(Object.assign({},e.state.rpcMethodTracker[r]),{error:new Error(\"SDK_CONNECTION_ISSUE\")});e.emit(exports.EventType.RPC_UPDATE,t);const n={data:Object.assign(Object.assign({},t),{jsonrpc:\"2.0\"}),name:\"metamask-provider\"};e.emit(exports.EventType.MESSAGE,{message:n})}}}catch(e){throw e}}))}(e,t).catch((e=>{})),s}))}(this,e)}))}ping(){return function(e){return u(this,void 0,void 0,(function*(){var t,n;Zn.SocketService(`[SocketService: ping()] context=${e.state.context} originator=${e.state.isOriginator} keysExchanged=${null===(t=e.state.keyExchange)||void 0===t?void 0:t.areKeysExchanged()}`),null===(n=e.state.socket)||void 0===n||n.emit(exports.MessageType.PING,{id:e.state.channelId,context:\"ping\",clientType:e.remote.state.isOriginator?\"dapp\":\"wallet\",message:\"\"})}))}(this)}pause(){return function(e){return u(this,void 0,void 0,(function*(){var t,n;Zn.SocketService(`[SocketService: pause()] context=${e.state.context}`),e.state.manualDisconnect=!0,(null===(t=e.state.keyExchange)||void 0===t?void 0:t.areKeysExchanged())&&(yield e.sendMessage({type:exports.MessageType.PAUSE})),null===(n=e.state.socket)||void 0===n||n.disconnect()}))}(this)}isConnected(){var e;return null===(e=this.state.socket)||void 0===e?void 0:e.connected}resume(){return function(e){return u(this,void 0,void 0,(function*(){const{state:t,remote:n}=e,{socket:r,channelId:i,context:o,keyExchange:s,isOriginator:a}=t,{isOriginator:c}=n.state;if(Zn.SocketService(`[SocketService: resume()] channelId=${i} context=${o} connected=${null==r?void 0:r.connected} manualDisconnect=${t.manualDisconnect} resumed=${t.resumed} keysExchanged=${null==s?void 0:s.areKeysExchanged()}`),!i)throw Zn.SocketService(\"[SocketService: resume()] channelId is not defined\"),new Error(\"ChannelId is not defined\");(null==r?void 0:r.connected)?(Zn.SocketService(\"[SocketService: resume()] already connected.\"),r.emit(exports.MessageType.PING,{id:i,clientType:c?\"dapp\":\"wallet\",context:\"on_channel_config\",message:\"\"}),n.hasRelayPersistence()||(null==s?void 0:s.areKeysExchanged())||(a?yield e.sendMessage({type:exports.MessageType.READY}):null==s||s.start({isOriginator:!1}))):(null==r||r.connect(),Zn.SocketService(`[SocketService: resume()] after connecting socket --\\x3e connected=${null==r?void 0:r.connected}`),null==r||r.emit(exports.EventType.JOIN_CHANNEL,{channelId:i,context:`${o}_resume`,clientType:c?\"dapp\":\"wallet\"},((t,n)=>u(this,void 0,void 0,(function*(){try{yield gr(e,t,n)}catch(e){}}))))),t.manualDisconnect=!1,t.resumed=!0}))}(this)}getRPCMethodTracker(){return this.state.rpcMethodTracker}disconnect(e){return function(e,t){var n,r,i,o,s;Zn.SocketService(`[SocketService: disconnect()] context=${e.state.context}`,t),(null==t?void 0:t.terminate)&&(null===(r=(n=e.state).removeFocusListener)||void 0===r||r.call(n),e.state.channelId=t.channelId,null===(i=e.state.socket)||void 0===i||i.removeAllListeners(),null===(o=e.state.keyExchange)||void 0===o||o.clean(),e.remote.state.ready=!1,e.state.socket=void 0,e.state.rpcMethodTracker={}),e.state.manualDisconnect=!0,null===(s=e.state.socket)||void 0===s||s.disconnect()}(this,e)}}var Mr;function Ar(e){return()=>u(this,void 0,void 0,(function*(){var t,n,r;const{state:i}=e;if(i.authorized)return;yield(()=>u(this,void 0,void 0,(function*(){for(;!i.walletInfo;)yield yr(500)})))();const o=\"7.3\".localeCompare((null===(t=i.walletInfo)||void 0===t?void 0:t.version)||\"\");if(Zn.RemoteCommunication(`[RemoteCommunication: handleAuthorizedEvent()] HACK 'authorized' version=${null===(n=i.walletInfo)||void 0===n?void 0:n.version} compareValue=${o}`),1!==o)return;const s=i.platformType===exports.PlatformType.MobileWeb||i.platformType===exports.PlatformType.ReactNative||i.platformType===exports.PlatformType.MetaMaskMobileWebview;Zn.RemoteCommunication(`[RemoteCommunication: handleAuthorizedEvent()] HACK 'authorized' platform=${i.platformType} secure=${s} channel=${i.channelId} walletVersion=${null===(r=i.walletInfo)||void 0===r?void 0:r.version}`),s&&(i.authorized=!0,e.emit(exports.EventType.AUTHORIZED))}))}function Tr(e){return t=>{const{state:n}=e;Zn.RemoteCommunication(`[RemoteCommunication: handleChannelCreatedEvent()] context=${n.context} on 'channel_created' channelId=${t}`),e.emit(exports.EventType.CHANNEL_CREATED,t)}}function Ir(e,t){return()=>{var n,r,o,s;const{state:a}=e;Zn.RemoteCommunication(`[RemoteCommunication: handleClientsConnectedEvent()] on 'clients_connected' channel=${a.channelId} keysExchanged=${null===(r=null===(n=a.communicationLayer)||void 0===n?void 0:n.getKeyInfo())||void 0===r?void 0:r.keysExchanged}`),a.analytics&&er(Object.assign(Object.assign({id:null!==(o=a.channelId)&&void 0!==o?o:\"\",event:a.reconnection?fr.RECONNECT:a.isOriginator?fr.REQUEST:fr.REQUEST_MOBILE},a.originatorInfo),{commLayer:t,sdkVersion:a.sdkVersion,walletVersion:null===(s=a.walletInfo)||void 0===s?void 0:s.version,commLayerVersion:nr.version}),a.communicationServerUrl).catch((e=>{})),a.isOriginator&&!a.reconnection&&i.analytics.track(\"sdk_connection_established\",{transport_type:\"websocket\"}),a.clientsConnected=!0,a.originatorInfoSent=!1,e.emit(exports.EventType.CLIENTS_CONNECTED)}}function Rr(e){return t=>{const{state:n}=e;Zn.RemoteCommunication(`[RemoteCommunication: handleClientsDisconnectedEvent()] context=${n.context} on 'clients_disconnected' channelId=${t}`),n.relayPersistence||(n.clientsConnected=!1,n.ready=!1,n.authorized=!1),e.emit(exports.EventType.CLIENTS_DISCONNECTED,n.channelId),e.setConnectionStatus(exports.ConnectionStatus.DISCONNECTED)}}function Pr(e){return t=>{var n;const{state:r}=e;if(Zn.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] context=${r.context} on 'clients_waiting' numberUsers=${t} ready=${r.ready} autoStarted=${r.originatorConnectStarted}`),e.setConnectionStatus(exports.ConnectionStatus.WAITING),e.emit(exports.EventType.CLIENTS_WAITING,t),r.originatorConnectStarted){Zn.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] on 'clients_waiting' watch autoStarted=${r.originatorConnectStarted} timeout`,r.autoConnectOptions);const t=(null===(n=r.autoConnectOptions)||void 0===n?void 0:n.timeout)||3e3,i=setTimeout((()=>{Zn.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] setTimeout(${t}) terminate channelConfig`,r.autoConnectOptions),r.originatorConnectStarted=!1,r.ready||e.setConnectionStatus(exports.ConnectionStatus.TIMEOUT),clearTimeout(i)}),t)}}}function Or(e,t){return n=>{var r,i,o,s,a,c,d,l;const{state:u}=e;if(Zn.RemoteCommunication(`[RemoteCommunication: handleKeysExchangedEvent()] context=${u.context} on commLayer.'keys_exchanged' channel=${u.channelId}`,n),null===(i=null===(r=u.communicationLayer)||void 0===r?void 0:r.getKeyInfo())||void 0===i?void 0:i.keysExchanged){const t=Object.assign(Object.assign({},u.channelConfig),{channelId:null!==(o=u.channelId)&&void 0!==o?o:\"\",validUntil:(null===(s=u.channelConfig)||void 0===s?void 0:s.validUntil)||or,localKey:u.communicationLayer.getKeyInfo().ecies.private,otherKey:u.communicationLayer.getKeyInfo().ecies.otherPubKey});null===(a=u.storageManager)||void 0===a||a.persistChannelConfig(t).catch((e=>{})),e.setConnectionStatus(exports.ConnectionStatus.LINKED)}!function(e,t){var n,r,i,o,s,a,c,d;const{state:l}=e;Zn.RemoteCommunication(`[RemoteCommunication: setLastActiveDate()] channel=${l.channelId}`,t);const u=Object.assign(Object.assign({},l.channelConfig),{channelId:null!==(n=l.channelId)&&void 0!==n?n:\"\",validUntil:null!==(i=null===(r=l.channelConfig)||void 0===r?void 0:r.validUntil)&&void 0!==i?i:0,relayPersistence:l.relayPersistence,localKey:null===(s=null===(o=l.communicationLayer)||void 0===o?void 0:o.state.keyExchange)||void 0===s?void 0:s.getKeyInfo().ecies.private,otherKey:null===(c=null===(a=l.communicationLayer)||void 0===a?void 0:a.state.keyExchange)||void 0===c?void 0:c.getKeyInfo().ecies.otherPubKey,lastActive:t.getTime()});null===(d=l.storageManager)||void 0===d||d.persistChannelConfig(u)}(e,new Date),u.analytics&&u.channelId&&er(Object.assign(Object.assign({id:u.channelId,event:n.isOriginator?fr.CONNECTED:fr.CONNECTED_MOBILE},u.originatorInfo),{sdkVersion:u.sdkVersion,commLayer:t,commLayerVersion:nr.version,walletVersion:null===(c=u.walletInfo)||void 0===c?void 0:c.version}),u.communicationServerUrl).catch((e=>{})),u.isOriginator=n.isOriginator,n.isOriginator||(null===(d=u.communicationLayer)||void 0===d||d.sendMessage({type:exports.MessageType.READY}),u.ready=!0,u.paused=!1),n.isOriginator&&!u.originatorInfoSent&&(null===(l=u.communicationLayer)||void 0===l||l.sendMessage({type:exports.MessageType.ORIGINATOR_INFO,originatorInfo:u.originatorInfo,originator:u.originatorInfo}),u.originatorInfoSent=!0)}}function Nr(e){return t=>{let n=t;t.message&&(n=n.message),function(e,t){const{state:n}=t;if(Zn.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] context=${n.context} on 'message' typeof=${typeof e}`,e),t.state.ready=!0,n.isOriginator||e.type!==exports.MessageType.ORIGINATOR_INFO)if(n.isOriginator&&e.type===exports.MessageType.WALLET_INFO)!function(e,t){const{state:n}=e;n.walletInfo=t.walletInfo,n.paused=!1}(t,e);else{if(n.isOriginator&&e.type===exports.MessageType.WALLET_INIT)(function(e,t){return u(this,void 0,void 0,(function*(){var n,r,i;const{state:o}=e;if(o.isOriginator){const o=t.data||{};if(\"object\"==typeof o&&\"accounts\"in o&&\"chainId\"in o&&\"walletKey\"in o)try{const{channelConfig:t}=e.state;if(Zn.RemoteCommunication(\"WALLET_INIT: channelConfig\",JSON.stringify(t,null,2)),t){const s=o.accounts,a=o.chainId,c=o.walletKey;let d,l=!1;\"deeplinkProtocol\"in o&&(l=Boolean(o.deeplinkProtocol),e.state.deeplinkProtocolAvailable=l),\"walletVersion\"in o&&(d=o.walletVersion),yield null===(n=e.state.storageManager)||void 0===n?void 0:n.persistChannelConfig(Object.assign(Object.assign({},t),{otherKey:c,walletVersion:d,deeplinkProtocolAvailable:l,relayPersistence:!0})),yield null===(r=e.state.storageManager)||void 0===r?void 0:r.persistAccounts(s),yield null===(i=e.state.storageManager)||void 0===i?void 0:i.persistChainId(a)}e.emit(exports.EventType.WALLET_INIT,{accounts:o.accounts,chainId:o.chainId})}catch(n){}}}))})(t,e).catch((e=>{Zn.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] error=${e}`)}));else if(e.type===exports.MessageType.TERMINATE)(function(e){return u(this,void 0,void 0,(function*(){const{state:t}=e;t.isOriginator&&(yield jr({options:{terminate:!0,sendMessage:!1},instance:e}),e.emit(exports.EventType.TERMINATE))}))})(t).catch((e=>{Zn.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] error=${e}`)}));else if(e.type===exports.MessageType.PAUSE)!function(e){const{state:t}=e;t.paused=!0,e.setConnectionStatus(exports.ConnectionStatus.PAUSED)}(t);else if(e.type===exports.MessageType.READY&&n.isOriginator)!function(e){const{state:t}=e;e.setConnectionStatus(exports.ConnectionStatus.LINKED);const n=t.paused;t.paused=!1,e.emit(exports.EventType.CLIENTS_READY,{isOriginator:t.isOriginator,walletInfo:t.walletInfo}),n&&(t.authorized=!0,e.emit(exports.EventType.AUTHORIZED))}(t);else{if(e.type===exports.MessageType.OTP&&n.isOriginator)return void function(e,t){var n;const{state:r}=e;e.emit(exports.EventType.OTP,t.otpAnswer),1===\"6.6\".localeCompare((null===(n=r.walletInfo)||void 0===n?void 0:n.version)||\"\")&&e.emit(exports.EventType.SDK_RPC_CALL,{method:ar.ETH_REQUESTACCOUNTS,params:[]})}(t,e);e.type===exports.MessageType.AUTHORIZED&&n.isOriginator&&function(e){const{state:t}=e;t.authorized=!0,e.emit(exports.EventType.AUTHORIZED)}(t)}t.emit(exports.EventType.MESSAGE,e)}else!function(e,t){var n;const{state:r}=e;null===(n=r.communicationLayer)||void 0===n||n.sendMessage({type:exports.MessageType.WALLET_INFO,walletInfo:r.walletInfo}),r.originatorInfo=t.originatorInfo||t.originator,e.emit(exports.EventType.CLIENTS_READY,{isOriginator:r.isOriginator,originatorInfo:r.originatorInfo}),r.paused=!1}(t,e)}(n,e)}}function Dr(e){return()=>{const{state:t}=e;Zn.RemoteCommunication(\"[RemoteCommunication: handleSocketReconnectEvent()] on 'socket_reconnect' -- reset key exchange status / set ready to false\"),t.ready=!1,t.authorized=!1,lr(t),e.emitServiceStatusEvent({context:\"socket_reconnect\"})}}function Lr(e){return()=>{const{state:t}=e;Zn.RemoteCommunication(\"[RemoteCommunication: handleSocketDisconnectedEvent()] on 'socket_Disconnected' set ready to false\"),t.ready=!1}}function Br(e){return()=>u(this,void 0,void 0,(function*(){var t,n,r,i,o,s,a;const{state:c}=e;Zn.RemoteCommunication(`[RemoteCommunication: handleFullPersistenceEvent()] context=${c.context}`),e.state.ready=!0,e.state.clientsConnected=!0,e.state.authorized=!0,e.state.relayPersistence=!0,null===(t=e.state.communicationLayer)||void 0===t||t.getKeyExchange().setKeysExchanged(!0),e.emit(exports.EventType.KEYS_EXCHANGED,{keysExchanged:!0,isOriginator:!0}),e.emit(exports.EventType.AUTHORIZED),e.emit(exports.EventType.CLIENTS_READY),e.emit(exports.EventType.CHANNEL_PERSISTENCE);try{c.channelConfig=Object.assign(Object.assign({},c.channelConfig),{localKey:null===(n=c.communicationLayer)||void 0===n?void 0:n.getKeyExchange().getKeyInfo().ecies.private,otherKey:null===(r=c.communicationLayer)||void 0===r?void 0:r.getKeyExchange().getOtherPublicKey(),channelId:null!==(i=c.channelId)&&void 0!==i?i:\"\",validUntil:null!==(s=null===(o=c.channelConfig)||void 0===o?void 0:o.validUntil)&&void 0!==s?s:or,relayPersistence:!0}),yield null===(a=c.storageManager)||void 0===a?void 0:a.persistChannelConfig(c.channelConfig)}catch(t){}}))}function Kr({communicationLayerPreference:e,otherPublicKey:t,reconnect:n,ecies:r,communicationServerUrl:i=rr,instance:o}){var s,a,c,d,l,u,h,f,p,m,g;const{state:y}=o;if(Zn.RemoteCommunication(\"[initCommunicationLayer()] \",JSON.stringify(y,null,2)),e!==exports.CommunicationLayerPreference.SOCKET)throw new Error(\"Invalid communication protocol\");y.communicationLayer=new kr({communicationLayerPreference:e,otherPublicKey:t,reconnect:n,transports:y.transports,communicationServerUrl:i,context:y.context,ecies:r,logging:y.logging,remote:o});let v=\"undefined\"!=typeof document&&document.URL||\"\",E=\"undefined\"!=typeof document&&document.title||\"\";(null===(s=y.dappMetadata)||void 0===s?void 0:s.url)&&(v=y.dappMetadata.url),(null===(a=y.dappMetadata)||void 0===a?void 0:a.name)&&(E=y.dappMetadata.name);const b=null!==(u=null!==(d=null===(c=y.dappMetadata)||void 0===c?void 0:c.name)&&void 0!==d?d:null===(l=y.dappMetadata)||void 0===l?void 0:l.url)&&void 0!==u?u:\"N/A\",w=\"undefined\"!=typeof window&&void 0!==window.location&&null!==(h=window.location.hostname)&&void 0!==h?h:b,S={url:v,title:E,source:null===(f=y.dappMetadata)||void 0===f?void 0:f.source,dappId:w,anonId:y.anonId,icon:(null===(p=y.dappMetadata)||void 0===p?void 0:p.iconUrl)||(null===(m=y.dappMetadata)||void 0===m?void 0:m.base64Icon),platform:y.platformType,apiVersion:nr.version,connector:null===(g=y.dappMetadata)||void 0===g?void 0:g.connector};y.originatorInfo=S;const _={[exports.EventType.AUTHORIZED]:Ar(o),[exports.EventType.MESSAGE]:Nr(o),[exports.EventType.CHANNEL_PERSISTENCE]:Br(o),[exports.EventType.CLIENTS_CONNECTED]:Ir(o,e),[exports.EventType.KEYS_EXCHANGED]:Or(o,e),[exports.EventType.SOCKET_DISCONNECTED]:Lr(o),[exports.EventType.SOCKET_RECONNECT]:Dr(o),[exports.EventType.CLIENTS_DISCONNECTED]:Rr(o),[exports.EventType.KEY_INFO]:()=>{},[exports.EventType.CHANNEL_CREATED]:Tr(o),[exports.EventType.CLIENTS_WAITING]:Pr(o),[exports.EventType.RPC_UPDATE]:e=>{o.emit(exports.EventType.RPC_UPDATE,e)}};for(const[t,n]of Object.entries(_))try{y.communicationLayer.on(t,n)}catch(e){}}function jr(e){return u(this,arguments,void 0,(function*({options:e,instance:t}){const{state:n}=t;return Zn.RemoteCommunication(`[RemoteCommunication: disconnect()] channel=${n.channelId}`,e),new Promise(((r,i)=>{var o,a,c,d,l,u;(null==e?void 0:e.terminate)?(t.state.ready&&er({id:null!==(o=t.state.channelId)&&void 0!==o?o:\"\",event:fr.TERMINATED},t.state.communicationServerUrl).catch((e=>{})),n.ready=!1,n.paused=!1,null===(a=n.storageManager)||void 0===a||a.terminate(null!==(c=n.channelId)&&void 0!==c?c:\"\"),t.state.terminated=!0,e.sendMessage?(null===(d=n.communicationLayer)||void 0===d?void 0:d.getKeyInfo().keysExchanged)&&t.state.communicationLayer&&br(t.state.communicationLayer,{type:exports.MessageType.TERMINATE}).then((()=>{r(!0)})).catch((e=>{i(e)})):r(!0),n.authorized=!1,n.relayPersistence=!1,n.channelId=s.v4(),e.channelId=n.channelId,n.channelConfig=void 0,n.originatorConnectStarted=!1,null===(l=n.communicationLayer)||void 0===l||l.disconnect(e),t.setConnectionStatus(exports.ConnectionStatus.TERMINATED)):(null===(u=n.communicationLayer)||void 0===u||u.disconnect(e),t.setConnectionStatus(exports.ConnectionStatus.DISCONNECTED),r(!0))}))}))}exports.CommunicationLayerPreference=void 0,exports.PlatformType=void 0,(exports.CommunicationLayerPreference||(exports.CommunicationLayerPreference={})).SOCKET=\"socket\",function(e){e.NonBrowser=\"nodejs\",e.MetaMaskMobileWebview=\"in-app-browser\",e.DesktopWeb=\"web-desktop\",e.MobileWeb=\"web-mobile\",e.ReactNative=\"react-native\"}(exports.PlatformType||(exports.PlatformType={}));class $r extends o.EventEmitter2{constructor(e){super(),this.state={ready:!1,anonId:\"\",authorized:!1,isOriginator:!1,terminated:!1,protocolVersion:1,paused:!1,deeplinkProtocolAvailable:!1,platformType:\"metamask-mobile\",analytics:!1,reconnection:!1,originatorInfoSent:!1,communicationServerUrl:rr,context:\"\",persist:!1,clientsConnected:!1,sessionDuration:or,originatorConnectStarted:!1,debug:!1,_connectionStatus:exports.ConnectionStatus.DISCONNECTED},this._options=e;const{anonId:n,platformType:r,communicationLayerPreference:i,otherPublicKey:o,reconnect:s,walletInfo:a,dappMetadata:c,protocolVersion:d,transports:l,context:u,relayPersistence:h,ecies:f,analytics:p=!1,storage:m,sdkVersion:g,communicationServerUrl:y=rr,logging:v,autoConnect:E={timeout:sr}}=e;this.state.anonId=n,this.state.otherPublicKey=o,this.state.dappMetadata=c,this.state.walletInfo=a,this.state.transports=l,this.state.platformType=r,this.state.analytics=p,this.state.protocolVersion=null!=d?d:1,this.state.isOriginator=!o,this.state.relayPersistence=h,this.state.communicationServerUrl=y,this.state.context=u,this.state.terminated=!1,this.state.sdkVersion=g,this.setMaxListeners(50),this.setConnectionStatus(exports.ConnectionStatus.DISCONNECTED),(null==m?void 0:m.duration)&&(this.state.sessionDuration=or),this.state.storageOptions=m,this.state.autoConnectOptions=E,this.state.debug=!0===(null==v?void 0:v.remoteLayer),!0===(null==v?void 0:v.remoteLayer)&&t.enable(\"RemoteCommunication:Layer\"),!0===(null==v?void 0:v.serviceLayer)&&t.enable(\"SocketService:Layer\"),!0===(null==v?void 0:v.eciesLayer)&&t.enable(\"ECIES:Layer\"),!0===(null==v?void 0:v.keyExchangeLayer)&&t.enable(\"KeyExchange:Layer\"),this.state.logging=v,(null==m?void 0:m.storageManager)&&(this.state.storageManager=m.storageManager),Zn.RemoteCommunication(`[RemoteCommunication: constructor()] protocolVersion=${d} relayPersistence=${h} isOriginator=${this.state.isOriginator} communicationLayerPreference=${i} otherPublicKey=${o} reconnect=${s}`),this.state.isOriginator||Kr({communicationLayerPreference:i,otherPublicKey:o,reconnect:s,ecies:f,communicationServerUrl:y,instance:this}),this.emitServiceStatusEvent({context:\"constructor\"})}initFromDappStorage(){return u(this,void 0,void 0,(function*(){var e;if(this.state.storageManager){const t=yield this.state.storageManager.getPersistedChannelConfig({});t&&(this.state.channelConfig=t,this.state.channelId=t.channelId,this.state.deeplinkProtocolAvailable=null!==(e=t.deeplinkProtocolAvailable)&&void 0!==e&&e,t.relayPersistence&&(this.state.authorized=!0,this.state.ready=!0,this.setConnectionStatus(exports.ConnectionStatus.LINKED),yield this.connectToChannel({channelId:t.channelId})))}Kr({communicationLayerPreference:exports.CommunicationLayerPreference.SOCKET,otherPublicKey:this.state.otherPublicKey,reconnect:this._options.reconnect,ecies:this._options.ecies,communicationServerUrl:this.state.communicationServerUrl,instance:this})}))}originatorSessionConnect(){return u(this,void 0,void 0,(function*(){return yield function(e){return u(this,void 0,void 0,(function*(){var t;const{state:n}=e;if(!n.storageManager)return void Zn.RemoteCommunication(\"[RemoteCommunication: originatorSessionConnect()] no storage manager defined - skip\");const r=yield n.storageManager.getPersistedChannelConfig({});if(Zn.RemoteCommunication(`[RemoteCommunication: originatorSessionConnect()] autoStarted=${n.originatorConnectStarted} channelConfig`,r),null===(t=n.communicationLayer)||void 0===t?void 0:t.isConnected())return Zn.RemoteCommunication(\"[RemoteCommunication: originatorSessionConnect()] socket already connected - skip\"),r;if(r){if(r.validUntil>Date.now())return n.channelConfig=r,n.originatorConnectStarted=!0,n.channelId=null==r?void 0:r.channelId,n.reconnection=!0,r;Zn.RemoteCommunication(\"[RemoteCommunication: autoConnect()] Session has expired\")}n.originatorConnectStarted=!1}))}(this)}))}generateChannelIdConnect(){return u(this,void 0,void 0,(function*(){return function(e){return u(this,void 0,void 0,(function*(){var t,n,r,i,o,s;if(!e.communicationLayer)throw new Error(\"communication layer not initialized\");if(e.ready)throw new Error(\"Channel already connected\");if(e.channelId&&(null===(t=e.communicationLayer)||void 0===t?void 0:t.isConnected()))return e.channelConfig=Object.assign(Object.assign({},e.channelConfig),{channelId:e.channelId,validUntil:Date.now()+e.sessionDuration}),null===(n=e.storageManager)||void 0===n||n.persistChannelConfig(e.channelConfig),{channelId:e.channelId,privKey:null===(i=null===(r=e.communicationLayer)||void 0===r?void 0:r.getKeyInfo())||void 0===i?void 0:i.ecies.private,pubKey:null===(s=null===(o=e.communicationLayer)||void 0===o?void 0:o.getKeyInfo())||void 0===s?void 0:s.ecies.public};Zn.RemoteCommunication(\"[RemoteCommunication: generateChannelId()]\");const a=yield e.communicationLayer.createChannel();Zn.RemoteCommunication(\"[RemoteCommunication: generateChannelId()] channel created\",a);const c=Object.assign(Object.assign({},e.channelConfig),{channelId:a.channelId,localKey:a.privKey,validUntil:Date.now()+e.sessionDuration});return e.channelId=a.channelId,e.channelConfig=c,{channelId:e.channelId,pubKey:a.pubKey,privKey:a.privKey}}))}(this.state)}))}clean(){return lr(this.state)}connectToChannel({channelId:e,withKeyExchange:t,authorized:n}){return function(e){return u(this,arguments,void 0,(function*({channelId:e,withKeyExchange:t,authorized:n,state:r}){var i,o,a;if(!s.validate(e))throw Zn.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${r.context} invalid channel channelId=${e}`),new Error(`Invalid channel ${e}`);if(Zn.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${r.context} channelId=${e} withKeyExchange=${t}`),null===(i=r.communicationLayer)||void 0===i?void 0:i.isConnected())return void Zn.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${r.context} already connected - interrupt connection.`);r.channelId=e,yield null===(o=r.communicationLayer)||void 0===o?void 0:o.connectToChannel({channelId:e,authorized:n,withKeyExchange:t});const c=Object.assign(Object.assign({},r.channelConfig),{channelId:e,validUntil:Date.now()+r.sessionDuration});r.channelConfig=c,null===(a=r.storageManager)||void 0===a||a.persistChannelConfig(c)}))}({channelId:e,authorized:n,withKeyExchange:t,state:this.state})}sendMessage(e){return u(this,void 0,void 0,(function*(){const t=this.state.isOriginator&&e.method&&dr(e.method);t&&i.analytics.track(\"sdk_action_requested\",{action:e.method});try{return yield function(e,t){return u(this,void 0,void 0,(function*(){var n,r;const{state:i}=e;Zn.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${i.context} paused=${i.paused} ready=${i.ready} relayPersistence=${i.relayPersistence} authorized=${i.authorized} socket=${null===(n=i.communicationLayer)||void 0===n?void 0:n.isConnected()} clientsConnected=${i.clientsConnected} status=${i._connectionStatus}`,t),i.relayPersistence||i.ready&&(null===(r=i.communicationLayer)||void 0===r?void 0:r.isConnected())&&i.clientsConnected||(Zn.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${i.context}  SKIP message waiting for MM mobile readiness.`),yield new Promise((t=>{e.once(exports.EventType.CLIENTS_READY,t)})),Zn.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${i.context}  AFTER SKIP / READY -- sending pending message`));try{const n=yield function(e,t){return u(this,void 0,void 0,(function*(){return new Promise((n=>{var r;const{state:i}=e;Zn.RemoteCommunication(`[RemoteCommunication: handleAuthorization()] context=${i.context} ready=${i.ready} authorized=${i.authorized} method=${t.method}`),!i.isOriginator||i.authorized||i.relayPersistence?null===(r=i.communicationLayer)||void 0===r||r.sendMessage(t).then((e=>{n(e)})).catch((e=>{n(!1)})):e.once(exports.EventType.AUTHORIZED,(()=>{var e;Zn.RemoteCommunication(`[RemoteCommunication: handleAuthorization()] context=${i.context}  AFTER SKIP / AUTHORIZED -- sending pending message`),null===(e=i.communicationLayer)||void 0===e||e.sendMessage(t).then((e=>{n(e)})).catch((e=>{n(!1)}))}))}))}))}(e,t);return n}catch(e){throw e}}))}(this,e)}catch(n){throw t&&i.analytics.track(\"sdk_action_failed\",{action:e.method}),n}}))}testStorage(){return u(this,void 0,void 0,(function*(){return function(e){return u(this,void 0,void 0,(function*(){var t;const n=yield null===(t=e.storageManager)||void 0===t?void 0:t.getPersistedChannelConfig();Zn.RemoteCommunication(\"[RemoteCommunication: testStorage()] res\",n)}))}(this.state)}))}hasDeeplinkProtocol(){return this.state.deeplinkProtocolAvailable}getChannelConfig(){return this.state.channelConfig}isReady(){return this.state.ready}isConnected(){var e;return null===(e=this.state.communicationLayer)||void 0===e?void 0:e.isConnected()}isAuthorized(){return this.state.authorized}isPaused(){return this.state.paused}getCommunicationLayer(){return this.state.communicationLayer}ping(){return u(this,void 0,void 0,(function*(){var e;Zn.RemoteCommunication(`[RemoteCommunication: ping()] channel=${this.state.channelId}`),yield null===(e=this.state.communicationLayer)||void 0===e?void 0:e.ping()}))}testLogger(){Zn.RemoteCommunication(`testLogger() channel=${this.state.channelId}`),Zn.SocketService(`testLogger() channel=${this.state.channelId}`),Zn.Ecies(`testLogger() channel=${this.state.channelId}`),Zn.KeyExchange(`testLogger() channel=${this.state.channelId}`)}keyCheck(){var e;Zn.RemoteCommunication(`[RemoteCommunication: keyCheck()] channel=${this.state.channelId}`),null===(e=this.state.communicationLayer)||void 0===e||e.keyCheck()}setConnectionStatus(e){this.state._connectionStatus!==e&&(this.state._connectionStatus=e,this.emit(exports.EventType.CONNECTION_STATUS,e),this.emitServiceStatusEvent({context:\"setConnectionStatus\"}))}emitServiceStatusEvent(e={}){this.emit(exports.EventType.SERVICE_STATUS,this.getServiceStatus())}getConnectionStatus(){return this.state._connectionStatus}getServiceStatus(){return{originatorInfo:this.state.originatorInfo,keyInfo:this.getKeyInfo(),connectionStatus:this.state._connectionStatus,channelConfig:this.state.channelConfig,channelId:this.state.channelId}}getKeyInfo(){var e;return null===(e=this.state.communicationLayer)||void 0===e?void 0:e.getKeyInfo()}resetKeys(){var e;null===(e=this.state.communicationLayer)||void 0===e||e.resetKeys()}setOtherPublicKey(e){var t;const n=null===(t=this.state.communicationLayer)||void 0===t?void 0:t.getKeyExchange();if(!n)throw new Error(\"KeyExchange is not initialized.\");n.getOtherPublicKey()!==e&&n.setOtherPublicKey(e)}pause(){return u(this,void 0,void 0,(function*(){var e;Zn.RemoteCommunication(`[RemoteCommunication: pause()] channel=${this.state.channelId}`),yield null===(e=this.state.communicationLayer)||void 0===e?void 0:e.pause(),this.setConnectionStatus(exports.ConnectionStatus.PAUSED)}))}getVersion(){return nr.version}hasRelayPersistence(){var e;return null!==(e=this.state.relayPersistence)&&void 0!==e&&e}resume(){return u(this,void 0,void 0,(function*(){return function(e){return u(this,void 0,void 0,(function*(){var t;const{state:n}=e;Zn.RemoteCommunication(`[RemoteCommunication: resume()] channel=${n.channelId}`),yield null===(t=n.communicationLayer)||void 0===t?void 0:t.resume(),e.setConnectionStatus(exports.ConnectionStatus.LINKED)}))}(this)}))}encrypt(e){var t,n,r;const i=null===(t=this.state.communicationLayer)||void 0===t?void 0:t.getKeyExchange(),o=null==i?void 0:i.getOtherPublicKey();if(!o)throw new Error(\"KeyExchange not completed\");return null===(r=null===(n=this.state.communicationLayer)||void 0===n?void 0:n.state.eciesInstance)||void 0===r?void 0:r.encrypt(e,o)}decrypt(e){var t,n,r;if(!(null===(t=this.state.communicationLayer)||void 0===t?void 0:t.state.eciesInstance))throw new Error(\"ECIES instance is not initialized\");return null===(r=null===(n=this.state.communicationLayer)||void 0===n?void 0:n.state.eciesInstance)||void 0===r?void 0:r.decrypt(e)}getChannelId(){return this.state.channelId}getRPCMethodTracker(){var e;return null===(e=this.state.communicationLayer)||void 0===e?void 0:e.getRPCMethodTracker()}reject({channelId:e}){return function(e){return u(this,arguments,void 0,(function*({channelId:e,state:t}){var n,r,i;if(!s.validate(e))throw Zn.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${t.context} invalid channel channelId=${e}`),new Error(`Invalid channel ${e}`);if(t.isOriginator)return void Zn.RemoteCommunication(`[RemoteCommunication: reject()] context=${t.context} isOriginator=${t.isOriginator} channelId=${e}`);const{socket:o}=null!==(r=null===(n=t.communicationLayer)||void 0===n?void 0:n.state)&&void 0!==r?r:{};(null==o?void 0:o.connected)||(Zn.RemoteCommunication(`[RemoteCommunication: reject()] context=${t.context} socket already connected`),null==o||o.connect()),er(Object.assign(Object.assign({id:e,event:fr.REJECTED},t.originatorInfo),{sdkVersion:t.sdkVersion,commLayerVersion:nr.version,walletVersion:null===(i=t.walletInfo)||void 0===i?void 0:i.version}),t.communicationServerUrl).catch((e=>{})),yield new Promise(((n,r)=>{null==o||o.emit(exports.EventType.REJECTED,{channelId:e},((e,i)=>{Zn.RemoteCommunication(`[RemoteCommunication: reject()] context=${t.context} socket=${null==o?void 0:o.id}`,{error:e,response:i}),e?r(e):n(i)}))}))}))}({channelId:e,state:this.state})}disconnect(e){return u(this,void 0,void 0,(function*(){return jr({options:e,instance:this})}))}}!function(e){e.RENEW=\"renew\",e.LINK=\"link\"}(Mr||(Mr={}));var Hr=\"ERC721\",Ur=\"ERC1155\",Fr={errors:{disconnected:()=>\"MetaMask: Disconnected from chain. Attempting to connect.\",permanentlyDisconnected:()=>\"MetaMask: Disconnected from MetaMask background. Page reload required.\",sendSiteMetadata:()=>\"MetaMask: Failed to send site metadata. This is an internal error, please report this bug.\",unsupportedSync:e=>`MetaMask: The MetaMask Ethereum provider does not support synchronous methods like ${e} without a callback parameter.`,invalidDuplexStream:()=>\"Must provide a Node.js-style duplex stream.\",invalidNetworkParams:()=>\"MetaMask: Received invalid network parameters. Please report this bug.\",invalidRequestArgs:()=>\"Expected a single, non-array, object argument.\",invalidRequestMethod:()=>\"'args.method' must be a non-empty string.\",invalidRequestParams:()=>\"'args.params' must be an object or array if provided.\",invalidLoggerObject:()=>\"'args.logger' must be an object if provided.\",invalidLoggerMethod:e=>`'args.logger' must include required method '${e}'.`},info:{connected:e=>`MetaMask: Connected to chain with ID \"${e}\".`},warnings:{chainIdDeprecation:\"MetaMask: 'ethereum.chainId' is deprecated and may be removed in the future. Please use the 'eth_chainId' RPC method instead.\\nFor more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23\",networkVersionDeprecation:\"MetaMask: 'ethereum.networkVersion' is deprecated and may be removed in the future. Please use the 'net_version' RPC method instead.\\nFor more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23\",selectedAddressDeprecation:\"MetaMask: 'ethereum.selectedAddress' is deprecated and may be removed in the future. Please use the 'eth_accounts' RPC method instead.\\nFor more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23\",enableDeprecation:\"MetaMask: 'ethereum.enable()' is deprecated and may be removed in the future. Please use the 'eth_requestAccounts' RPC method instead.\\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1102\",sendDeprecation:\"MetaMask: 'ethereum.send(...)' is deprecated and may be removed in the future. Please use 'ethereum.sendAsync(...)' or 'ethereum.request(...)' instead.\\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193\",events:{close:\"MetaMask: The event 'close' is deprecated and may be removed in the future. Please use 'disconnect' instead.\\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#disconnect\",data:\"MetaMask: The event 'data' is deprecated and will be removed in the future. Use 'message' instead.\\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message\",networkChanged:\"MetaMask: The event 'networkChanged' is deprecated and may be removed in the future. Use 'chainChanged' instead.\\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#chainchanged\",notification:\"MetaMask: The event 'notification' is deprecated and may be removed in the future. Use 'message' instead.\\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message\"},rpc:{ethDecryptDeprecation:\"MetaMask: The RPC method 'eth_decrypt' is deprecated and may be removed in the future.\\nFor more information, see: https://medium.com/metamask/metamask-api-method-deprecation-2b0564a84686\",ethGetEncryptionPublicKeyDeprecation:\"MetaMask: The RPC method 'eth_getEncryptionPublicKey' is deprecated and may be removed in the future.\\nFor more information, see: https://medium.com/metamask/metamask-api-method-deprecation-2b0564a84686\",walletWatchAssetNFTExperimental:\"MetaMask: The RPC method 'wallet_watchAsset' is experimental for ERC721/ERC1155 assets and may change in the future.\\nFor more information, see: https://github.com/MetaMask/metamask-improvement-proposals/blob/main/MIPs/mip-1.md and https://github.com/MetaMask/metamask-improvement-proposals/blob/main/PROCESS-GUIDE.md#proposal-lifecycle\"},experimentalMethods:\"MetaMask: 'ethereum._metamask' exposes non-standard, experimental methods. They may be removed or changed without warning.\"}};function qr(e){const t={ethDecryptDeprecation:!1,ethGetEncryptionPublicKeyDeprecation:!1,walletWatchAssetNFTExperimental:!1};return(n,r,i)=>{t.ethDecryptDeprecation||\"eth_decrypt\"!==n.method?t.ethGetEncryptionPublicKeyDeprecation||\"eth_getEncryptionPublicKey\"!==n.method?!t.walletWatchAssetNFTExperimental&&\"wallet_watchAsset\"===n.method&&[Hr,Ur].includes(n.params?.type||\"\")&&(e.warn(Fr.warnings.rpc.walletWatchAssetNFTExperimental),t.walletWatchAssetNFTExperimental=!0):(e.warn(Fr.warnings.rpc.ethGetEncryptionPublicKeyDeprecation),t.ethGetEncryptionPublicKeyDeprecation=!0):(e.warn(Fr.warnings.rpc.ethDecryptDeprecation),t.ethDecryptDeprecation=!0),i()}}var zr=4294967295,Wr=Math.floor(Math.random()*zr);function Vr(){return(e,t,n,r)=>{const i=e.id,o=Wr=(Wr+1)%zr;e.id=o,t.id=o,n((n=>{e.id=i,t.id=i,n()}))}}var Gr=(e,t,n)=>{if(!t.has(e))throw TypeError(\"Cannot \"+n)},Yr=(e,t,n)=>(Gr(e,t,\"read from private field\"),n?n.call(e):t.get(e)),Zr=(e,t,n)=>{if(t.has(e))throw TypeError(\"Cannot add the same private member more than once\");t instanceof WeakSet?t.add(e):t.set(e,n)},Jr=(e,t,n,r)=>(Gr(e,t,\"write to private field\"),t.set(e,n),n),Qr=(e,t,n)=>(Gr(e,t,\"access private method\"),n),Xr={invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},ei={\"-32700\":{standard:\"JSON RPC 2.0\",message:\"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text.\"},\"-32600\":{standard:\"JSON RPC 2.0\",message:\"The JSON sent is not a valid Request object.\"},\"-32601\":{standard:\"JSON RPC 2.0\",message:\"The method does not exist / is not available.\"},\"-32602\":{standard:\"JSON RPC 2.0\",message:\"Invalid method parameter(s).\"},\"-32603\":{standard:\"JSON RPC 2.0\",message:\"Internal JSON-RPC error.\"},\"-32000\":{standard:\"EIP-1474\",message:\"Invalid input.\"},\"-32001\":{standard:\"EIP-1474\",message:\"Resource not found.\"},\"-32002\":{standard:\"EIP-1474\",message:\"Resource unavailable.\"},\"-32003\":{standard:\"EIP-1474\",message:\"Transaction rejected.\"},\"-32004\":{standard:\"EIP-1474\",message:\"Method not supported.\"},\"-32005\":{standard:\"EIP-1474\",message:\"Request limit exceeded.\"},4001:{standard:\"EIP-1193\",message:\"User rejected the request.\"},4100:{standard:\"EIP-1193\",message:\"The requested account and/or method has not been authorized by the user.\"},4200:{standard:\"EIP-1193\",message:\"The requested method is not supported by this Ethereum provider.\"},4900:{standard:\"EIP-1193\",message:\"The provider is disconnected from all chains.\"},4901:{standard:\"EIP-1193\",message:\"The provider is disconnected from the specified chain.\"}};function ti(e){return Boolean(e)&&\"object\"==typeof e&&!Array.isArray(e)}var ni=(e,t)=>Object.hasOwnProperty.call(e,t);class ri extends TypeError{constructor(e,t){let n;const{message:r,explanation:i,...o}=e,{path:s}=e,a=0===s.length?r:`At path: ${s.join(\".\")} -- ${r}`;super(i??a),null!=i&&(this.cause=a),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}}function ii(e){return\"object\"==typeof e&&null!=e}function oi(e){return\"symbol\"==typeof e?e.toString():\"string\"==typeof e?JSON.stringify(e):`${e}`}function si(e,t,n,r){if(!0===e)return;!1===e?e={}:\"string\"==typeof e&&(e={message:e});const{path:i,branch:o}=t,{type:s}=n,{refinement:a,message:c=`Expected a value of type \\`${s}\\`${a?` with refinement \\`${a}\\``:\"\"}, but received: \\`${oi(r)}\\``}=e;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...e,message:c}}function*ai(e,t,n,r){(function(e){return ii(e)&&\"function\"==typeof e[Symbol.iterator]})(e)||(e=[e]);for(const i of e){const e=si(i,t,n,r);e&&(yield e)}}function*ci(e,t,n={}){const{path:r=[],branch:i=[e],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i};if(o&&(e=t.coercer(e,a),s&&\"type\"!==t.type&&ii(t.schema)&&ii(e)&&!Array.isArray(e)))for(const n in e)void 0===t.schema[n]&&delete e[n];let c=\"valid\";for(const r of t.validator(e,a))r.explanation=n.message,c=\"not_valid\",yield[r,void 0];for(let[d,l,u]of t.entries(e,a)){const t=ci(l,u,{path:void 0===d?r:[...r,d],branch:void 0===d?i:[...i,l],coerce:o,mask:s,message:n.message});for(const n of t)n[0]?(c=null!=n[0].refinement?\"not_refined\":\"not_valid\",yield[n[0],void 0]):o&&(l=n[1],void 0===d?e=l:e instanceof Map?e.set(d,l):e instanceof Set?e.add(l):ii(e)&&(void 0!==l||d in e)&&(e[d]=l))}if(\"not_valid\"!==c)for(const r of t.refiner(e,a))r.explanation=n.message,c=\"not_refined\",yield[r,void 0];\"valid\"===c&&(yield[void 0,e])}class di{constructor(e){const{type:t,schema:n,validator:r,refiner:i,coercer:o=(e=>e),entries:s=function*(){}}=e;this.type=t,this.schema=n,this.entries=s,this.coercer=o,this.validator=r?(e,t)=>ai(r(e,t),t,this,e):()=>[],this.refiner=i?(e,t)=>ai(i(e,t),t,this,e):()=>[]}assert(e,t){return li(e,this,t)}create(e,t){return ui(e,this,t)}is(e){return hi(e,this)}mask(e,t){return function(e,t,n){const r=fi(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}validate(e,t={}){return fi(e,this,t)}}function li(e,t,n){const r=fi(e,t,{message:n});if(r[0])throw r[0]}function ui(e,t,n){const r=fi(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function hi(e,t){return!fi(e,t)[0]}function fi(e,t,n={}){const r=ci(e,t,n),i=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(r);if(i[0]){const e=new ri(i[0],(function*(){for(const e of r)e[0]&&(yield e[0])}));return[e,void 0]}return[void 0,i[1]]}function pi(e,t){return new di({type:e,schema:null,validator:t})}function mi(e){let t;return new di({type:\"lazy\",schema:null,*entries(n,r){t??(t=e()),yield*t.entries(n,r)},validator:(n,r)=>(t??(t=e()),t.validator(n,r)),coercer:(n,r)=>(t??(t=e()),t.coercer(n,r)),refiner:(n,r)=>(t??(t=e()),t.refiner(n,r))})}function gi(e){return new di({type:\"array\",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${oi(e)}`})}function yi(e){const t=oi(e),n=typeof e;return new di({type:\"literal\",schema:\"string\"===n||\"number\"===n||\"boolean\"===n?e:null,validator:n=>n===e||`Expected the literal \\`${t}\\`, but received: ${oi(n)}`})}function vi(){return pi(\"number\",(e=>\"number\"==typeof e&&!isNaN(e)||`Expected a number, but received: ${oi(e)}`))}function Ei(e){const t=e?Object.keys(e):[],n=pi(\"never\",(()=>!1));return new di({type:\"object\",schema:e||null,*entries(r){if(e&&ii(r)){const i=new Set(Object.keys(r));for(const n of t)i.delete(n),yield[n,r[n],e[n]];for(const e of i)yield[e,r[e],n]}},validator:e=>ii(e)||`Expected an object, but received: ${oi(e)}`,coercer:e=>ii(e)?{...e}:e})}function bi(e){return new di({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})}function wi(e,t){return new di({type:\"record\",schema:null,*entries(n){if(ii(n))for(const r in n){const i=n[r];yield[r,r,e],yield[r,i,t]}},validator:e=>ii(e)||`Expected an object, but received: ${oi(e)}`})}function Si(){return pi(\"string\",(e=>\"string\"==typeof e||`Expected a string, but received: ${oi(e)}`))}function _i(e){const t=e.map((e=>e.type)).join(\" | \");return new di({type:\"union\",schema:null,coercer(t){for(const n of e){const[e,r]=n.validate(t,{coerce:!0});if(!e)return r}return t},validator(n,r){const i=[];for(const t of e){const[...e]=ci(n,t,r),[o]=e;if(!o[0])return[];for(const[t]of e)t&&i.push(t)}return[`Expected the value to satisfy a union of \\`${t}\\`, but received: ${oi(n)}`,...i]}})}function Ci(e){return function(e){return function(e){return\"object\"==typeof e&&null!==e&&\"message\"in e}(e)&&\"string\"==typeof e.message?e.message:null==e?\"\":String(e)}(e).replace(/\\.$/u,\"\")}function xi(e,t){return n=e,Boolean(\"string\"==typeof n?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var n}var ki=class extends Error{constructor(e){super(e.message),this.code=\"ERR_ASSERTION\"}};var Mi=e=>Ei(e);function Ai({path:e,branch:t}){const n=e[e.length-1];return ni(t[t.length-2],n)}function Ti(e){return new di({...e,type:`optional ${e.type}`,validator:(t,n)=>!Ai(n)||e.validator(t,n),refiner:(t,n)=>!Ai(n)||e.refiner(t,n)})}var Ii,Ri,Pi,Oi=_i([yi(null),pi(\"boolean\",(e=>\"boolean\"==typeof e)),pi(\"finite number\",(e=>hi(e,vi())&&Number.isFinite(e))),Si(),gi(mi((()=>Oi))),wi(Si(),mi((()=>Oi)))]),Ni=(Ii=Oi,Ri=pi(\"any\",(()=>!0)),Pi=e=>(function(e,t,n=\"Assertion failed\",r=ki){try{li(e,t)}catch(e){throw xi(r,`${n}: ${Ci(e)}.`)}}(e,Oi),JSON.parse(JSON.stringify(e,((e,t)=>{if(\"__proto__\"!==e&&\"constructor\"!==e)return t})))),new di({...Ii,coercer:(e,t)=>hi(e,Ri)?Ii.coercer(Pi(e,t),t):Ii.coercer(e,t)}));function Di(e){try{return function(e){ui(e,Ni)}(e),!0}catch{return!1}}var Li=yi(\"2.0\"),Bi=function(e){return new di({...e,validator:(t,n)=>null===t||e.validator(t,n),refiner:(t,n)=>null===t||e.refiner(t,n)})}(_i([vi(),Si()])),Ki=Mi({code:pi(\"integer\",(e=>\"number\"==typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${oi(e)}`)),message:Si(),data:Ti(Ni),stack:Ti(Si())}),ji=_i([wi(Si(),Ni),gi(Ni)]),$i=Mi({id:Bi,jsonrpc:Li,method:Si(),params:Ti(ji)}),Hi=Mi({jsonrpc:Li,method:Si(),params:Ti(ji)});function Ui(e){return hi(e,$i)}function Fi(e){return hi(e,Ki)}Ei({id:Bi,jsonrpc:Li,result:bi(pi(\"unknown\",(()=>!0))),error:bi(Ki)}),_i([Mi({id:Bi,jsonrpc:Li,result:Ni}),Mi({id:Bi,jsonrpc:Li,error:Ki})]);var qi=Xr.internal,zi=\"Unspecified error message. This is a bug, please report it.\",Wi={code:qi,message:Gi(qi)},Vi=\"Unspecified server error.\";function Gi(e,t=zi){if(function(e){return Number.isInteger(e)}(e)){const t=e.toString();if(ni(ei,t))return ei[t].message;if(function(e){return e>=-32099&&e<=-32e3}(e))return Vi}return t}function Yi(e,{fallbackError:t=Wi,shouldIncludeStack:n=!0}={}){if(!Fi(t))throw new Error(\"Must provide fallback error with integer number code and string message.\");const r=function(e,t){if(e&&\"object\"==typeof e&&\"serialize\"in e&&\"function\"==typeof e.serialize)return e.serialize();if(Fi(e))return e;const n=Zi(e),r={...t,data:{cause:n}};return r}(e,t);return n||delete r.stack,r}function Zi(e){return Array.isArray(e)?e.map((e=>Di(e)?e:ti(e)?Ji(e):null)):ti(e)?Ji(e):Di(e)?e:null}function Ji(e){return Object.getOwnPropertyNames(e).reduce(((t,n)=>{const r=e[n];return Di(r)&&(t[n]=r),t}),{})}var Qi=io;io.default=io,io.stable=co,io.stableStringify=co;var Xi=\"[...]\",eo=\"[Circular]\",to=[],no=[];function ro(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function io(e,t,n,r){var i;void 0===r&&(r=ro()),so(e,\"\",0,[],void 0,0,r);try{i=0===no.length?JSON.stringify(e,t,n):JSON.stringify(e,uo(t),n)}catch(e){return JSON.stringify(\"[unable to serialize, circular reference is too complex to analyze]\")}finally{for(;0!==to.length;){var o=to.pop();4===o.length?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return i}function oo(e,t,n,r){var i=Object.getOwnPropertyDescriptor(r,n);void 0!==i.get?i.configurable?(Object.defineProperty(r,n,{value:e}),to.push([r,n,t,i])):no.push([t,n,e]):(r[n]=e,to.push([r,n,t]))}function so(e,t,n,r,i,o,s){var a;if(o+=1,\"object\"==typeof e&&null!==e){for(a=0;a<r.length;a++)if(r[a]===e)return void oo(eo,e,t,i);if(void 0!==s.depthLimit&&o>s.depthLimit)return void oo(Xi,e,t,i);if(void 0!==s.edgesLimit&&n+1>s.edgesLimit)return void oo(Xi,e,t,i);if(r.push(e),Array.isArray(e))for(a=0;a<e.length;a++)so(e[a],a,a,r,e,o,s);else{var c=Object.keys(e);for(a=0;a<c.length;a++){var d=c[a];so(e[d],d,a,r,e,o,s)}}r.pop()}}function ao(e,t){return e<t?-1:e>t?1:0}function co(e,t,n,r){void 0===r&&(r=ro());var i,o=lo(e,\"\",0,[],void 0,0,r)||e;try{i=0===no.length?JSON.stringify(o,t,n):JSON.stringify(o,uo(t),n)}catch(e){return JSON.stringify(\"[unable to serialize, circular reference is too complex to analyze]\")}finally{for(;0!==to.length;){var s=to.pop();4===s.length?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function lo(e,t,n,r,i,o,s){var a;if(o+=1,\"object\"==typeof e&&null!==e){for(a=0;a<r.length;a++)if(r[a]===e)return void oo(eo,e,t,i);try{if(\"function\"==typeof e.toJSON)return}catch(e){return}if(void 0!==s.depthLimit&&o>s.depthLimit)return void oo(Xi,e,t,i);if(void 0!==s.edgesLimit&&n+1>s.edgesLimit)return void oo(Xi,e,t,i);if(r.push(e),Array.isArray(e))for(a=0;a<e.length;a++)lo(e[a],a,a,r,e,o,s);else{var c={},d=Object.keys(e).sort(ao);for(a=0;a<d.length;a++){var l=d[a];lo(e[l],l,a,r,e,o,s),c[l]=e[l]}if(void 0===i)return c;to.push([i,t,e]),i[t]=c}r.pop()}}function uo(e){return e=void 0!==e?e:function(e,t){return t},function(t,n){if(no.length>0)for(var r=0;r<no.length;r++){var i=no[r];if(i[1]===t&&i[0]===n){n=i[2],no.splice(r,1);break}}return e.call(this,t,n)}}var ho=f(Qi),fo=class extends Error{constructor(e,t,n){if(!Number.isInteger(e))throw new Error('\"code\" must be an integer.');if(!t||\"string\"!=typeof t)throw new Error('\"message\" must be a non-empty string.');super(t),this.code=e,void 0!==n&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data,function(e){if(\"object\"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}}(this.data)&&(e.data.cause=Zi(this.data.cause))),this.stack&&(e.stack=this.stack),e}toString(){return ho(this.serialize(),po,2)}};function po(e,t){if(\"[Circular]\"!==t)return t}var mo=e=>go(Xr.invalidRequest,e);function go(e,t){const[n,r]=function(e){if(e){if(\"string\"==typeof e)return[e];if(\"object\"==typeof e&&!Array.isArray(e)){const{message:t,data:n}=e;if(t&&\"string\"!=typeof t)throw new Error(\"Must specify string message.\");return[t??void 0,n]}}return[]}(t);return new fo(e,n??Gi(e),r)}var yo={};Object.defineProperty(yo,\"__esModule\",{value:!0});const vo=c;function Eo(e,t,n){try{Reflect.apply(e,t,n)}catch(e){setTimeout((()=>{throw e}))}}let bo=class extends vo.EventEmitter{emit(e,...t){let n=\"error\"===e;const r=this._events;if(void 0!==r)n=n&&void 0===r.error;else if(!n)return!1;if(n){let e;if(t.length>0&&([e]=t),e instanceof Error)throw e;const n=new Error(\"Unhandled error.\"+(e?` (${e.message})`:\"\"));throw n.context=e,n}const i=r[e];if(void 0===i)return!1;if(\"function\"==typeof i)Eo(i,this,t);else{const e=i.length,n=function(e){const t=e.length,n=new Array(t);for(let r=0;r<t;r+=1)n[r]=e[r];return n}(i);for(let r=0;r<e;r+=1)Eo(n[r],this,t)}return!0}};var wo,So,_o,Co,xo,ko,Mo,Ao,To,Io,Ro,Po,Oo,No,Do,Lo,Bo,Ko,jo,$o=yo.default=bo,Ho=class e extends $o{constructor({notificationHandler:e}={}){super(),Zr(this,Co),Zr(this,ko),Zr(this,Ao),Zr(this,wo,!1),Zr(this,So,void 0),Zr(this,_o,void 0),Jr(this,So,[]),Jr(this,_o,e)}destroy(){Yr(this,So).forEach((e=>{\"destroy\"in e&&\"function\"==typeof e.destroy&&e.destroy()})),Jr(this,So,[]),Jr(this,wo,!0)}push(e){Qr(this,Co,xo).call(this),Yr(this,So).push(e)}handle(e,t){if(Qr(this,Co,xo).call(this),t&&\"function\"!=typeof t)throw new Error('\"callback\" must be a function if provided.');return Array.isArray(e)?t?Qr(this,ko,Mo).call(this,e,t):Qr(this,ko,Mo).call(this,e):t?Qr(this,Ao,To).call(this,e,t):this._promiseHandle(e)}asMiddleware(){return Qr(this,Co,xo).call(this),async(t,n,r,i)=>{var o,s;try{const[a,c,d]=await Qr(o=e,Po,Oo).call(o,t,n,Yr(this,So));return c?(await Qr(s=e,Lo,Bo).call(s,d),i(a)):r((async t=>{var n;try{await Qr(n=e,Lo,Bo).call(n,d)}catch(e){return t(e)}return t()}))}catch(e){return i(e)}}}async _promiseHandle(e){return new Promise(((t,n)=>{Qr(this,Ao,To).call(this,e,((e,r)=>{e&&void 0===r?n(e):t(r)})).catch(n)}))}};wo=new WeakMap,So=new WeakMap,_o=new WeakMap,Co=new WeakSet,xo=function(){if(Yr(this,wo))throw new Error(\"This engine is destroyed and can no longer be used.\")},ko=new WeakSet,Mo=async function(e,t){try{if(0===e.length){const e=[{id:null,jsonrpc:\"2.0\",error:new fo(Xr.invalidRequest,\"Request batch must contain plain objects. Received an empty array\")}];return t?t(null,e):e}const n=(await Promise.all(e.map(this._promiseHandle.bind(this)))).filter((e=>void 0!==e));return t?t(null,n):n}catch(e){if(t)return t(e);throw e}},Ao=new WeakSet,To=async function(e,t){var n;if(!e||Array.isArray(e)||\"object\"!=typeof e){const n=new fo(Xr.invalidRequest,\"Requests must be plain objects. Received: \"+typeof e,{request:e});return t(n,{id:null,jsonrpc:\"2.0\",error:n})}if(\"string\"!=typeof e.method){const n=new fo(Xr.invalidRequest,\"Must specify a string method. Received: \"+typeof e.method,{request:e});return Yr(this,_o)&&!Ui(e)?t(null):t(n,{id:e.id??null,jsonrpc:\"2.0\",error:n})}if(Yr(this,_o)&&hi(e,Hi)&&!Ui(e)){try{await Yr(this,_o).call(this,e)}catch(e){return t(e)}return t(null)}let r=null;const i={...e},o={id:i.id,jsonrpc:i.jsonrpc};try{await Qr(n=Ho,Io,Ro).call(n,i,o,Yr(this,So))}catch(e){r=e}return r&&(delete o.result,o.error||(o.error=Yi(r))),t(r,o)},Io=new WeakSet,Ro=async function(e,t,n){var r,i,o;const[s,a,c]=await Qr(r=Ho,Po,Oo).call(r,e,t,n);if(Qr(i=Ho,Ko,jo).call(i,e,t,a),await Qr(o=Ho,Lo,Bo).call(o,c),s)throw s},Po=new WeakSet,Oo=async function(e,t,n){var r;const i=[];let o=null,s=!1;for(const a of n)if([o,s]=await Qr(r=Ho,No,Do).call(r,e,t,a,i),s)break;return[o,s,i.reverse()]},No=new WeakSet,Do=async function(e,t,n,r){return new Promise((i=>{const o=e=>{const n=e||t.error;n&&(t.error=Yi(n)),i([n,!0])},s=n=>{t.error?o(t.error):(n&&(\"function\"!=typeof n&&o(new fo(Xr.internal,`JsonRpcEngine: \"next\" return handlers must be functions. Received \"${typeof n}\" for request:\\n${Fo(e)}`,{request:e})),r.push(n)),i([null,!1]))};try{n(e,t,s,o)}catch(e){o(e)}}))},Lo=new WeakSet,Bo=async function(e){for(const t of e)await new Promise(((e,n)=>{t((t=>t?n(t):e()))}))},Ko=new WeakSet,jo=function(e,t,n){if(!ni(t,\"result\")&&!ni(t,\"error\"))throw new fo(Xr.internal,`JsonRpcEngine: Response has no error or result for request:\\n${Fo(e)}`,{request:e});if(!n)throw new fo(Xr.internal,`JsonRpcEngine: Nothing ended request:\\n${Fo(e)}`,{request:e})},Zr(Ho,Io),Zr(Ho,Po),Zr(Ho,No),Zr(Ho,Lo),Zr(Ho,Ko);var Uo=Ho;function Fo(e){return JSON.stringify(e,null,2)}var qo=Object.freeze([\"eth_subscription\"]),zo=(e=console)=>{return[Vr(),(t=e,(e,n,r)=>{\"string\"==typeof e.method&&e.method||(n.error=mo({message:\"The request 'method' must be a non-empty string.\",data:e})),r((e=>{const{error:r}=n;return r?(t.error(`MetaMask - RPC Error: ${r.message}`,r),e()):e()}))}),qr(e)];var t};var Wo=(e,t,n=!0)=>(r,i)=>{r||i.error?t(r||i.error):!n||Array.isArray(i)?e(i):e(i.result)},Vo=e=>Boolean(e)&&\"string\"==typeof e&&e.startsWith(\"0x\"),Go=()=>{};async function Yo(e,t){try{const t=await async function(){return{name:Zo(window),icon:await Jo(window)}}();e.handle({jsonrpc:\"2.0\",id:1,method:\"metamask_sendDomainMetadata\",params:t},Go)}catch(e){t.error({message:Fr.errors.sendSiteMetadata(),originalError:e})}}function Zo(e){const{document:t}=e,n=t.querySelector('head > meta[property=\"og:site_name\"]');if(n)return n.content;const r=t.querySelector('head > meta[name=\"title\"]');return r?r.content:t.title&&t.title.length>0?t.title:window.location.hostname}async function Jo(e){const{document:t}=e,n=t.querySelectorAll('head > link[rel~=\"icon\"]');for(const e of Array.from(n))if(e&&await Qo(e.href))return e.href;return null}async function Qo(e){return new Promise(((t,n)=>{try{const n=document.createElement(\"img\");n.onload=()=>t(!0),n.onerror=()=>t(!1),n.src=e}catch(e){n(e)}}))}var Xo=(e,t,n)=>{if(!t.has(e))throw TypeError(\"Cannot \"+n)},es=(e,t,n)=>(Xo(e,t,\"read from private field\"),n?n.call(e):t.get(e)),ts=(e,t,n)=>{if(t.has(e))throw TypeError(\"Cannot add the same private member more than once\");t instanceof WeakSet?t.add(e):t.set(e,n)},ns=(e,t,n,r)=>(Xo(e,t,\"write to private field\"),t.set(e,n),n);function rs(e,t,n){try{Reflect.apply(e,t,n)}catch(e){setTimeout((()=>{throw e}))}}class is extends c.EventEmitter{emit(e,...t){let n=\"error\"===e;const r=this._events;if(void 0!==r)n=n&&void 0===r.error;else if(!n)return!1;if(n){let e;if(t.length>0&&([e]=t),e instanceof Error)throw e;const n=new Error(\"Unhandled error.\"+(e?` (${e.message})`:\"\"));throw n.context=e,n}const i=r[e];if(void 0===i)return!1;if(\"function\"==typeof i)rs(i,this,t);else{const e=i.length,n=function(e){const t=e.length,n=new Array(t);for(let r=0;r<t;r+=1)n[r]=e[r];return n}(i);for(let r=0;r<e;r+=1)rs(n[r],this,t)}return!0}}var os,ss,as=function e(t,n){if(t===n)return!0;if(t&&n&&\"object\"==typeof t&&\"object\"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!=i--;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!=t&&n!=n},cs=f(as),ds=class e extends is{constructor({logger:t=console,maxEventListeners:n=100,rpcMiddleware:r=[]}={}){super(),ts(this,os,void 0),ts(this,ss,void 0),this._log=t,this.setMaxListeners(n),this._state={...e._defaultState},ns(this,ss,null),ns(this,os,null),this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleConnect=this._handleConnect.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this.request=this.request.bind(this);const i=new Uo;r.forEach((e=>i.push(e))),this._rpcEngine=i}get chainId(){return es(this,os)}get selectedAddress(){return es(this,ss)}isConnected(){return this._state.isConnected}async request(e){if(!e||\"object\"!=typeof e||Array.isArray(e))throw mo({message:Fr.errors.invalidRequestArgs(),data:e});const{method:t,params:n}=e;if(\"string\"!=typeof t||0===t.length)throw mo({message:Fr.errors.invalidRequestMethod(),data:e});if(void 0!==n&&!Array.isArray(n)&&(\"object\"!=typeof n||null===n))throw mo({message:Fr.errors.invalidRequestParams(),data:e});const r=null==n?{method:t}:{method:t,params:n};return new Promise(((e,t)=>{this._rpcRequest(r,Wo(e,t))}))}_initializeState(e){if(this._state.initialized)throw new Error(\"Provider already initialized.\");if(e){const{accounts:t,chainId:n,isUnlocked:r,networkVersion:i}=e;this._handleConnect(n),this._handleChainChanged({chainId:n,networkVersion:i}),this._handleUnlockStateChanged({accounts:t,isUnlocked:r}),this._handleAccountsChanged(t)}this._state.initialized=!0,this.emit(\"_initialized\")}_rpcRequest(e,t){let n=t;return Array.isArray(e)||(e.jsonrpc||(e.jsonrpc=\"2.0\"),\"eth_accounts\"!==e.method&&\"eth_requestAccounts\"!==e.method||(n=(n,r)=>{this._handleAccountsChanged(r.result??[],\"eth_accounts\"===e.method),t(n,r)})),this._rpcEngine.handle(e,n)}_handleConnect(e){this._state.isConnected||(this._state.isConnected=!0,this.emit(\"connect\",{chainId:e}),this._log.debug(Fr.info.connected(e)))}_handleDisconnect(e,t){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e){let n;this._state.isConnected=!1,e?(n=new fo(1013,t??Fr.errors.disconnected()),this._log.debug(n)):(n=new fo(1011,t??Fr.errors.permanentlyDisconnected()),this._log.error(n),ns(this,os,null),this._state.accounts=null,ns(this,ss,null),this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit(\"disconnect\",n)}}_handleChainChanged({chainId:e}={}){Vo(e)?(this._handleConnect(e),e!==es(this,os)&&(ns(this,os,e),this._state.initialized&&this.emit(\"chainChanged\",es(this,os)))):this._log.error(Fr.errors.invalidNetworkParams(),{chainId:e})}_handleAccountsChanged(e,t=!1){let n=e;Array.isArray(e)||(this._log.error(\"MetaMask: Received invalid accounts parameter. Please report this bug.\",e),n=[]);for(const t of e)if(\"string\"!=typeof t){this._log.error(\"MetaMask: Received non-string account. Please report this bug.\",e),n=[];break}if(!cs(this._state.accounts,n)&&(t&&null!==this._state.accounts&&this._log.error(\"MetaMask: 'eth_accounts' unexpectedly updated accounts. Please report this bug.\",n),this._state.accounts=n,es(this,ss)!==n[0]&&ns(this,ss,n[0]||null),this._state.initialized)){const e=[...n];this.emit(\"accountsChanged\",e)}}_handleUnlockStateChanged({accounts:e,isUnlocked:t}={}){\"boolean\"==typeof t?t!==this._state.isUnlocked&&(this._state.isUnlocked=t,this._handleAccountsChanged(e??[])):this._log.error(\"MetaMask: Received invalid isUnlocked parameter. Please report this bug.\")}};os=new WeakMap,ss=new WeakMap,ds._defaultState={accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1};var ls,us,hs,fs,ps,ms,gs=ds,ys={exports:{}};function vs(){return us?ls:(us=1,ls=d)}function Es(){if(fs)return hs;function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function t(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?e(Object(i),!0).forEach((function(e){r(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function r(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}(e.prototype,t),Object.defineProperty(e,\"prototype\",{writable:!1}),e}function o(e){var t=function(e,t){if(\"object\"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||\"default\");if(\"object\"!=typeof r)return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(e,\"string\");return\"symbol\"==typeof t?t:String(t)}fs=1;var s=n.Buffer,a=l.inspect,c=a&&a.custom||\"inspect\";return hs=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.head=null,this.tail=null,this.length=0}return i(e,[{key:\"push\",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:\"unshift\",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:\"shift\",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:\"clear\",value:function(){this.head=this.tail=null,this.length=0}},{key:\"join\",value:function(e){if(0===this.length)return\"\";for(var t=this.head,n=\"\"+t.data;t=t.next;)n+=e+t.data;return n}},{key:\"concat\",value:function(e){if(0===this.length)return s.alloc(0);for(var t,n,r,i=s.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,n=i,r=a,s.prototype.copy.call(t,n,r),a+=o.data.length,o=o.next;return i}},{key:\"consume\",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:\"first\",value:function(){return this.head.data}},{key:\"_getString\",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?r+=i:r+=i.slice(0,e),0===(e-=o)){o===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++n}return this.length-=n,r}},{key:\"_getBuffer\",value:function(e){var t=s.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0===(e-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,t}},{key:c,value:function(e,n){return a(this,t(t({},n),{},{depth:0,customInspect:!1}))}}]),e}(),hs}function bs(){if(ms)return ps;function e(e,r){n(e,r),t(e)}function t(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit(\"close\")}function n(e,t){e.emit(\"error\",t)}return ms=1,ps={destroy:function(r,i){var o=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?(i?i(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(n,this,r)):process.nextTick(n,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,(function(n){!i&&n?o._writableState?o._writableState.errorEmitted?process.nextTick(t,o):(o._writableState.errorEmitted=!0,process.nextTick(e,o,n)):process.nextTick(e,o,n):i?(process.nextTick(t,o),i(n)):process.nextTick(t,o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit(\"error\",t)}},ps}var ws,Ss,_s,Cs={};function xs(){if(ws)return Cs;ws=1;const e={};function t(t,n,r){r||(r=Error);class i extends r{constructor(e,t,r){super(function(e,t,r){return\"string\"==typeof n?n:n(e,t,r)}(e,t,r))}}i.prototype.name=r.name,i.prototype.code=t,e[t]=i}function n(e,t){if(Array.isArray(e)){const n=e.length;return e=e.map((e=>String(e))),n>2?`one of ${t} ${e.slice(0,n-1).join(\", \")}, or `+e[n-1]:2===n?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}return t(\"ERR_INVALID_OPT_VALUE\",(function(e,t){return'The value \"'+t+'\" is invalid for option \"'+e+'\"'}),TypeError),t(\"ERR_INVALID_ARG_TYPE\",(function(e,t,r){let i;var o;let s;if(\"string\"==typeof t&&(o=\"not \",t.substr(0,o.length)===o)?(i=\"must not be\",t=t.replace(/^not /,\"\")):i=\"must be\",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e,\" argument\"))s=`The ${e} ${i} ${n(t,\"type\")}`;else{const r=function(e,t,n){return\"number\"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,\".\")?\"property\":\"argument\";s=`The \"${e}\" ${r} ${i} ${n(t,\"type\")}`}return s+=\". Received type \"+typeof r,s}),TypeError),t(\"ERR_STREAM_PUSH_AFTER_EOF\",\"stream.push() after EOF\"),t(\"ERR_METHOD_NOT_IMPLEMENTED\",(function(e){return\"The \"+e+\" method is not implemented\"})),t(\"ERR_STREAM_PREMATURE_CLOSE\",\"Premature close\"),t(\"ERR_STREAM_DESTROYED\",(function(e){return\"Cannot call \"+e+\" after a stream was destroyed\"})),t(\"ERR_MULTIPLE_CALLBACK\",\"Callback called multiple times\"),t(\"ERR_STREAM_CANNOT_PIPE\",\"Cannot pipe, not readable\"),t(\"ERR_STREAM_WRITE_AFTER_END\",\"write after end\"),t(\"ERR_STREAM_NULL_VALUES\",\"May not write null values to stream\",TypeError),t(\"ERR_UNKNOWN_ENCODING\",(function(e){return\"Unknown encoding: \"+e}),TypeError),t(\"ERR_STREAM_UNSHIFT_AFTER_END_EVENT\",\"stream.unshift() after end event\"),Cs.codes=e,Cs}function ks(){if(_s)return Ss;_s=1;var e=xs().codes.ERR_INVALID_OPT_VALUE;return Ss={getHighWaterMark:function(t,n,r,i){var o=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(n,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new e(i?r:\"highWaterMark\",o);return Math.floor(o)}return t.objectMode?16:16384}}}var Ms,As,Ts,Is,Rs,Ps,Os,Ns,Ds={exports:{}},Ls={exports:{}};function Bs(){if(As)return Ds.exports;As=1;try{var e=__webpack_require__(/*! util */ \"util\");if(\"function\"!=typeof e.inherits)throw\"\";Ds.exports=e.inherits}catch(e){Ds.exports=(Ms||(Ms=1,\"function\"==typeof Object.create?Ls.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Ls.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}),Ls.exports)}return Ds.exports}function Ks(){if(Ps)return Rs;function e(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var t;Ps=1,Rs=C,C.WritableState=_;var r={deprecate:Is?Ts:(Is=1,Ts=l.deprecate)},i=vs(),o=n.Buffer,s=(void 0!==h?h:\"undefined\"!=typeof window?window:\"undefined\"!=typeof self?self:{}).Uint8Array||function(){};var a,c=bs(),d=ks().getHighWaterMark,u=xs().codes,f=u.ERR_INVALID_ARG_TYPE,p=u.ERR_METHOD_NOT_IMPLEMENTED,m=u.ERR_MULTIPLE_CALLBACK,g=u.ERR_STREAM_CANNOT_PIPE,y=u.ERR_STREAM_DESTROYED,v=u.ERR_STREAM_NULL_VALUES,E=u.ERR_STREAM_WRITE_AFTER_END,b=u.ERR_UNKNOWN_ENCODING,w=c.errorOrDestroy;function S(){}function _(n,r,i){t=t||js(),n=n||{},\"boolean\"!=typeof i&&(i=r instanceof t),this.objectMode=!!n.objectMode,i&&(this.objectMode=this.objectMode||!!n.writableObjectMode),this.highWaterMark=d(this,n,\"writableHighWaterMark\",i),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===n.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=n.defaultEncoding||\"utf8\",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(\"function\"!=typeof i)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(process.nextTick(i,r),process.nextTick(I,e,t),e._writableState.errorEmitted=!0,w(e,r)):(i(r),e._writableState.errorEmitted=!0,w(e,r),I(e,t))}(e,n,r,t,i);else{var o=A(n)||e.destroyed;o||n.corked||n.bufferProcessing||!n.bufferedRequest||M(e,n),r?process.nextTick(k,e,n,o,i):k(e,n,o,i)}}(r,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==n.emitClose,this.autoDestroy=!!n.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}function C(e){var n=this instanceof(t=t||js());if(!n&&!a.call(C,this))return new C(e);this._writableState=new _(e,this,n),this.writable=!0,e&&(\"function\"==typeof e.write&&(this._write=e.write),\"function\"==typeof e.writev&&(this._writev=e.writev),\"function\"==typeof e.destroy&&(this._destroy=e.destroy),\"function\"==typeof e.final&&(this._final=e.final)),i.call(this)}function x(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y(\"write\")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function k(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit(\"drain\"))}(e,t),t.pendingcb--,r(),I(e,t)}function M(t,n){n.bufferProcessing=!0;var r=n.bufferedRequest;if(t._writev&&r&&r.next){var i=n.bufferedRequestCount,o=new Array(i),s=n.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)o[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;o.allBuffers=c,x(t,n,!0,n.length,o,\"\",s.finish),n.pendingcb++,n.lastBufferedRequest=null,s.next?(n.corkedRequestsFree=s.next,s.next=null):n.corkedRequestsFree=new e(n),n.bufferedRequestCount=0}else{for(;r;){var d=r.chunk,l=r.encoding,u=r.callback;if(x(t,n,!1,n.objectMode?1:d.length,d,l,u),r=r.next,n.bufferedRequestCount--,n.writing)break}null===r&&(n.lastBufferedRequest=null)}n.bufferedRequest=r,n.bufferProcessing=!1}function A(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function T(e,t){e._final((function(n){t.pendingcb--,n&&w(e,n),t.prefinished=!0,e.emit(\"prefinish\"),I(e,t)}))}function I(e,t){var n=A(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||(\"function\"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit(\"prefinish\")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(T,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit(\"finish\"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}return Bs()(C,i),_.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(_.prototype,\"buffer\",{get:r.deprecate((function(){return this.getBuffer()}),\"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.\",\"DEP0003\")})}catch(e){}}(),\"function\"==typeof Symbol&&Symbol.hasInstance&&\"function\"==typeof Function.prototype[Symbol.hasInstance]?(a=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(e){return!!a.call(this,e)||this===C&&(e&&e._writableState instanceof _)}})):a=function(e){return e instanceof this},C.prototype.pipe=function(){w(this,new g)},C.prototype.write=function(e,t,n){var r,i=this._writableState,a=!1,c=!i.objectMode&&(r=e,o.isBuffer(r)||r instanceof s);return c&&!o.isBuffer(e)&&(e=function(e){return o.from(e)}(e)),\"function\"==typeof t&&(n=t,t=null),c?t=\"buffer\":t||(t=i.defaultEncoding),\"function\"!=typeof n&&(n=S),i.ending?function(e,t){var n=new E;w(e,n),process.nextTick(t,n)}(this,n):(c||function(e,t,n,r){var i;return null===n?i=new v:\"string\"==typeof n||t.objectMode||(i=new f(\"chunk\",[\"string\",\"Buffer\"],n)),!i||(w(e,i),process.nextTick(r,i),!1)}(this,i,e,n))&&(i.pendingcb++,a=function(e,t,n,r,i,s){if(!n){var a=function(e,t,n){e.objectMode||!1===e.decodeStrings||\"string\"!=typeof t||(t=o.from(t,n));return t}(t,r,i);r!==a&&(n=!0,i=\"buffer\",r=a)}var c=t.objectMode?1:r.length;t.length+=c;var d=t.length<t.highWaterMark;d||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:s,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else x(e,t,!1,c,r,i,s);return d}(this,i,c,e,t,n)),a},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||M(this,e))},C.prototype.setDefaultEncoding=function(e){if(\"string\"==typeof e&&(e=e.toLowerCase()),!([\"hex\",\"utf8\",\"utf-8\",\"ascii\",\"binary\",\"base64\",\"ucs2\",\"ucs-2\",\"utf16le\",\"utf-16le\",\"raw\"].indexOf((e+\"\").toLowerCase())>-1))throw new b(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(C.prototype,\"writableBuffer\",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,\"writableHighWaterMark\",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(e,t,n){n(new p(\"_write()\"))},C.prototype._writev=null,C.prototype.end=function(e,t,n){var r=this._writableState;return\"function\"==typeof e?(n=e,e=null,t=null):\"function\"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||function(e,t,n){t.ending=!0,I(e,t),n&&(t.finished?process.nextTick(n):e.once(\"finish\",n));t.ended=!0,e.writable=!1}(this,r,n),this},Object.defineProperty(C.prototype,\"writableLength\",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,\"destroyed\",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),C.prototype.destroy=c.destroy,C.prototype._undestroy=c.undestroy,C.prototype._destroy=function(e,t){t(e)},Rs}function js(){if(Ns)return Os;Ns=1;var e=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};Os=s;var t=ca(),n=Ks();Bs()(s,t);for(var r=e(n.prototype),i=0;i<r.length;i++){var o=r[i];s.prototype[o]||(s.prototype[o]=n.prototype[o])}function s(e){if(!(this instanceof s))return new s(e);t.call(this,e),n.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once(\"end\",a)))}function a(){this._writableState.ended||process.nextTick(c,this)}function c(e){e.end()}return Object.defineProperty(s.prototype,\"writableHighWaterMark\",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,\"writableBuffer\",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,\"writableLength\",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(s.prototype,\"destroyed\",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),Os}var $s,Hs,Us,Fs,qs,zs,Ws,Vs,Gs,Ys,Zs,Js,Qs,Xs,ea,ta,na={},ra={exports:{}};function ia(){if(Hs)return na;Hs=1;var e=($s||($s=1,function(e,t){var r=n,i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,n){if(\"number\"==typeof e)throw new TypeError(\"Argument must not be a number\");return i(e,t,n)},s.alloc=function(e,t,n){if(\"number\"!=typeof e)throw new TypeError(\"Argument must be a number\");var r=i(e);return void 0!==t?\"string\"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if(\"number\"!=typeof e)throw new TypeError(\"Argument must be a number\");return i(e)},s.allocUnsafeSlow=function(e){if(\"number\"!=typeof e)throw new TypeError(\"Argument must be a number\");return r.SlowBuffer(e)}}(ra,ra.exports)),ra.exports).Buffer,t=e.isEncoding||function(e){switch((e=\"\"+e)&&e.toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":case\"raw\":return!0;default:return!1}};function r(n){var r;switch(this.encoding=function(n){var r=function(e){if(!e)return\"utf8\";for(var t;;)switch(e){case\"utf8\":case\"utf-8\":return\"utf8\";case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return\"utf16le\";case\"latin1\":case\"binary\":return\"latin1\";case\"base64\":case\"ascii\":case\"hex\":return e;default:if(t)return;e=(\"\"+e).toLowerCase(),t=!0}}(n);if(\"string\"!=typeof r&&(e.isEncoding===t||!t(n)))throw new Error(\"Unknown encoding: \"+n);return r||n}(n),this.encoding){case\"utf16le\":this.text=s,this.end=a,r=4;break;case\"utf8\":this.fillLast=o,r=4;break;case\"base64\":this.text=c,this.end=d,r=3;break;default:return this.write=l,void(this.end=u)}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(r)}function i(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function o(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,\"\";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,\"\";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,\"\"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function s(e,t){if((e.length-t)%2==0){var n=e.toString(\"utf16le\",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString(\"utf16le\",t,e.length-1)}function a(e){var t=e&&e.length?this.write(e):\"\";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString(\"utf16le\",0,n)}return t}function c(e,t){var n=(e.length-t)%3;return 0===n?e.toString(\"base64\",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString(\"base64\",t,e.length-n))}function d(e){var t=e&&e.length?this.write(e):\"\";return this.lastNeed?t+this.lastChar.toString(\"base64\",0,3-this.lastNeed):t}function l(e){return e.toString(this.encoding)}function u(e){return e&&e.length?this.write(e):\"\"}return na.StringDecoder=r,r.prototype.write=function(e){if(0===e.length)return\"\";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return\"\";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||\"\"},r.prototype.end=function(e){var t=e&&e.length?this.write(e):\"\";return this.lastNeed?t+\"\":t},r.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var o=i(t[r]);if(o>=0)return o>0&&(e.lastNeed=o-1),o;if(--r<n||-2===o)return 0;if(o=i(t[r]),o>=0)return o>0&&(e.lastNeed=o-2),o;if(--r<n||-2===o)return 0;if(o=i(t[r]),o>=0)return o>0&&(2===o?o=0:e.lastNeed=o-3),o;return 0}(this,e,t);if(!this.lastNeed)return e.toString(\"utf8\",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString(\"utf8\",t,r)},r.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length},na}function oa(){if(Fs)return Us;Fs=1;var e=xs().codes.ERR_STREAM_PREMATURE_CLOSE;function t(){}return Us=function n(r,i,o){if(\"function\"==typeof i)return n(r,null,i);i||(i={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(o||t);var s=i.readable||!1!==i.readable&&r.readable,a=i.writable||!1!==i.writable&&r.writable,c=function(){r.writable||l()},d=r._writableState&&r._writableState.finished,l=function(){a=!1,d=!0,s||o.call(r)},u=r._readableState&&r._readableState.endEmitted,h=function(){s=!1,u=!0,a||o.call(r)},f=function(e){o.call(r,e)},p=function(){var t;return s&&!u?(r._readableState&&r._readableState.ended||(t=new e),o.call(r,t)):a&&!d?(r._writableState&&r._writableState.ended||(t=new e),o.call(r,t)):void 0},m=function(){r.req.on(\"finish\",l)};return!function(e){return e.setHeader&&\"function\"==typeof e.abort}(r)?a&&!r._writableState&&(r.on(\"end\",c),r.on(\"close\",c)):(r.on(\"complete\",l),r.on(\"abort\",p),r.req?m():r.on(\"request\",m)),r.on(\"end\",h),r.on(\"finish\",l),!1!==i.error&&r.on(\"error\",f),r.on(\"close\",p),function(){r.removeListener(\"complete\",l),r.removeListener(\"abort\",p),r.removeListener(\"request\",m),r.req&&r.req.removeListener(\"finish\",l),r.removeListener(\"end\",c),r.removeListener(\"close\",c),r.removeListener(\"finish\",l),r.removeListener(\"end\",h),r.removeListener(\"error\",f),r.removeListener(\"close\",p)}},Us}function sa(){if(zs)return qs;var e;function t(e,t,n){return(t=function(e){var t=function(e,t){if(\"object\"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||\"default\");if(\"object\"!=typeof r)return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(e,\"string\");return\"symbol\"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}zs=1;var n=oa(),r=Symbol(\"lastResolve\"),i=Symbol(\"lastReject\"),o=Symbol(\"error\"),s=Symbol(\"ended\"),a=Symbol(\"lastPromise\"),c=Symbol(\"handlePromise\"),d=Symbol(\"stream\");function l(e,t){return{value:e,done:t}}function u(e){var t=e[r];if(null!==t){var n=e[d].read();null!==n&&(e[a]=null,e[r]=null,e[i]=null,t(l(n,!1)))}}function h(e){process.nextTick(u,e)}var f=Object.getPrototypeOf((function(){})),p=Object.setPrototypeOf((t(e={get stream(){return this[d]},next:function(){var e=this,t=this[o];if(null!==t)return Promise.reject(t);if(this[s])return Promise.resolve(l(void 0,!0));if(this[d].destroyed)return new Promise((function(t,n){process.nextTick((function(){e[o]?n(e[o]):t(l(void 0,!0))}))}));var n,r=this[a];if(r)n=new Promise(function(e,t){return function(n,r){e.then((function(){t[s]?n(l(void 0,!0)):t[c](n,r)}),r)}}(r,this));else{var i=this[d].read();if(null!==i)return Promise.resolve(l(i,!1));n=new Promise(this[c])}return this[a]=n,n}},Symbol.asyncIterator,(function(){return this})),t(e,\"return\",(function(){var e=this;return new Promise((function(t,n){e[d].destroy(null,(function(e){e?n(e):t(l(void 0,!0))}))}))})),e),f);return qs=function(e){var u,f=Object.create(p,(t(u={},d,{value:e,writable:!0}),t(u,r,{value:null,writable:!0}),t(u,i,{value:null,writable:!0}),t(u,o,{value:null,writable:!0}),t(u,s,{value:e._readableState.endEmitted,writable:!0}),t(u,c,{value:function(e,t){var n=f[d].read();n?(f[a]=null,f[r]=null,f[i]=null,e(l(n,!1))):(f[r]=e,f[i]=t)},writable:!0}),u));return f[a]=null,n(e,(function(e){if(e&&\"ERR_STREAM_PREMATURE_CLOSE\"!==e.code){var t=f[i];return null!==t&&(f[a]=null,f[r]=null,f[i]=null,t(e)),void(f[o]=e)}var n=f[r];null!==n&&(f[a]=null,f[r]=null,f[i]=null,n(l(void 0,!0))),f[s]=!0})),e.on(\"readable\",h.bind(null,f)),f},qs}function aa(){if(Vs)return Ws;function e(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,i)}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function n(e,t,n){return(t=function(e){var t=function(e,t){if(\"object\"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||\"default\");if(\"object\"!=typeof r)return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(e,\"string\");return\"symbol\"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Vs=1;var r=xs().codes.ERR_INVALID_ARG_TYPE;return Ws=function(i,o,s){var a;if(o&&\"function\"==typeof o.next)a=o;else if(o&&o[Symbol.asyncIterator])a=o[Symbol.asyncIterator]();else{if(!o||!o[Symbol.iterator])throw new r(\"iterable\",[\"Iterable\"],o);a=o[Symbol.iterator]()}var c=new i(function(e){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?t(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({objectMode:!0},s)),d=!1;function l(){return u.apply(this,arguments)}function u(){var t;return t=function*(){try{var e=yield a.next(),t=e.value;e.done?c.push(null):c.push(yield t)?l():d=!1}catch(e){c.destroy(e)}},u=function(){var n=this,r=arguments;return new Promise((function(i,o){var s=t.apply(n,r);function a(t){e(s,i,o,a,c,\"next\",t)}function c(t){e(s,i,o,a,c,\"throw\",t)}a(void 0)}))},u.apply(this,arguments)}return c._read=function(){d||(d=!0,l())},c},Ws}function ca(){if(Ys)return Gs;var e;Ys=1,Gs=x,x.ReadableState=C,c.EventEmitter;var t=function(e,t){return e.listeners(t).length},r=vs(),i=n.Buffer,o=(void 0!==h?h:\"undefined\"!=typeof window?window:\"undefined\"!=typeof self?self:{}).Uint8Array||function(){};var s,a=l;s=a&&a.debuglog?a.debuglog(\"stream\"):function(){};var d,u,f,p=Es(),m=bs(),g=ks().getHighWaterMark,y=xs().codes,v=y.ERR_INVALID_ARG_TYPE,E=y.ERR_STREAM_PUSH_AFTER_EOF,b=y.ERR_METHOD_NOT_IMPLEMENTED,w=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;Bs()(x,r);var S=m.errorOrDestroy,_=[\"error\",\"close\",\"destroy\",\"pause\",\"resume\"];function C(t,n,r){e=e||js(),t=t||{},\"boolean\"!=typeof r&&(r=n instanceof e),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=g(this,t,\"readableHighWaterMark\",r),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||\"utf8\",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(d||(d=ia().StringDecoder),this.decoder=new d(t.encoding),this.encoding=t.encoding)}function x(t){if(e=e||js(),!(this instanceof x))return new x(t);var n=this instanceof e;this._readableState=new C(t,this,n),this.readable=!0,t&&(\"function\"==typeof t.read&&(this._read=t.read),\"function\"==typeof t.destroy&&(this._destroy=t.destroy)),r.call(this)}function k(e,t,n,r,a){s(\"readableAddChunk\",t);var c,d=e._readableState;if(null===t)d.reading=!1,function(e,t){if(s(\"onEofChunk\"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?I(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,R(e)))}(e,d);else if(a||(c=function(e,t){var n;r=t,i.isBuffer(r)||r instanceof o||\"string\"==typeof t||void 0===t||e.objectMode||(n=new v(\"chunk\",[\"string\",\"Buffer\",\"Uint8Array\"],t));var r;return n}(d,t)),c)S(e,c);else if(d.objectMode||t&&t.length>0)if(\"string\"==typeof t||d.objectMode||Object.getPrototypeOf(t)===i.prototype||(t=function(e){return i.from(e)}(t)),r)d.endEmitted?S(e,new w):M(e,d,t,!0);else if(d.ended)S(e,new E);else{if(d.destroyed)return!1;d.reading=!1,d.decoder&&!n?(t=d.decoder.write(t),d.objectMode||0!==t.length?M(e,d,t,!1):P(e,d)):M(e,d,t,!1)}else r||(d.reading=!1,P(e,d));return!d.ended&&(d.length<d.highWaterMark||0===d.length)}function M(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit(\"data\",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&I(e)),P(e,t)}Object.defineProperty(x.prototype,\"destroyed\",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),x.prototype.destroy=m.destroy,x.prototype._undestroy=m.undestroy,x.prototype._destroy=function(e,t){t(e)},x.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:\"string\"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=i.from(e,t),t=\"\"),n=!0),k(this,e,t,!1,n)},x.prototype.unshift=function(e){return k(this,e,null,!0,!1)},x.prototype.isPaused=function(){return!1===this._readableState.flowing},x.prototype.setEncoding=function(e){d||(d=ia().StringDecoder);var t=new d(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,r=\"\";null!==n;)r+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),\"\"!==r&&this._readableState.buffer.push(r),this._readableState.length=r.length,this};var A=1073741824;function T(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=A?e=A:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function I(e){var t=e._readableState;s(\"emitReadable\",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(s(\"emitReadable\",t.flowing),t.emittedReadable=!0,process.nextTick(R,e))}function R(e){var t=e._readableState;s(\"emitReadable_\",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit(\"readable\"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,B(e)}function P(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(O,e,t))}function O(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(s(\"maybeReadMore read 0\"),e.read(0),n===t.length)break}t.readingMore=!1}function N(e){var t=e._readableState;t.readableListening=e.listenerCount(\"readable\")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount(\"data\")>0&&e.resume()}function D(e){s(\"readable nexttick read 0\"),e.read(0)}function L(e,t){s(\"resume\",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit(\"resume\"),B(e),t.flowing&&!t.reading&&e.read(0)}function B(e){var t=e._readableState;for(s(\"flow\",t.flowing);t.flowing&&null!==e.read(););}function K(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(\"\"):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function j(e){var t=e._readableState;s(\"endReadable\",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick($,t,e))}function $(e,t){if(s(\"endReadableNT\",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit(\"end\"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function H(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}return x.prototype.read=function(e){s(\"read\",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return s(\"read: emitReadable\",t.length,t.ended),0===t.length&&t.ended?j(this):I(this),null;if(0===(e=T(e,t))&&t.ended)return 0===t.length&&j(this),null;var r,i=t.needReadable;return s(\"need readable\",i),(0===t.length||t.length-e<t.highWaterMark)&&s(\"length less than watermark\",i=!0),t.ended||t.reading?s(\"reading or ended\",i=!1):i&&(s(\"do read\"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=T(n,t))),null===(r=e>0?K(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&j(this)),null!==r&&this.emit(\"data\",r),r},x.prototype._read=function(e){S(this,new b(\"_read()\"))},x.prototype.pipe=function(e,n){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,s(\"pipe count=%d opts=%j\",i.pipesCount,n);var o=(!n||!1!==n.end)&&e!==process.stdout&&e!==process.stderr?c:m;function a(t,n){s(\"onunpipe\"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,s(\"cleanup\"),e.removeListener(\"close\",f),e.removeListener(\"finish\",p),e.removeListener(\"drain\",d),e.removeListener(\"error\",h),e.removeListener(\"unpipe\",a),r.removeListener(\"end\",c),r.removeListener(\"end\",m),r.removeListener(\"data\",u),l=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||d())}function c(){s(\"onend\"),e.end()}i.endEmitted?process.nextTick(o):r.once(\"end\",o),e.on(\"unpipe\",a);var d=function(e){return function(){var n=e._readableState;s(\"pipeOnDrain\",n.awaitDrain),n.awaitDrain&&n.awaitDrain--,0===n.awaitDrain&&t(e,\"data\")&&(n.flowing=!0,B(e))}}(r);e.on(\"drain\",d);var l=!1;function u(t){s(\"ondata\");var n=e.write(t);s(\"dest.write\",n),!1===n&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==H(i.pipes,e))&&!l&&(s(\"false write response, pause\",i.awaitDrain),i.awaitDrain++),r.pause())}function h(n){s(\"onerror\",n),m(),e.removeListener(\"error\",h),0===t(e,\"error\")&&S(e,n)}function f(){e.removeListener(\"finish\",p),m()}function p(){s(\"onfinish\"),e.removeListener(\"close\",f),m()}function m(){s(\"unpipe\"),r.unpipe(e)}return r.on(\"data\",u),function(e,t,n){if(\"function\"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,\"error\",h),e.once(\"close\",f),e.once(\"finish\",p),e.emit(\"pipe\",r),i.flowing||(s(\"pipe resume\"),r.resume()),e},x.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit(\"unpipe\",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit(\"unpipe\",this,{hasUnpiped:!1});return this}var s=H(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit(\"unpipe\",this,n)),this},x.prototype.on=function(e,t){var n=r.prototype.on.call(this,e,t),i=this._readableState;return\"data\"===e?(i.readableListening=this.listenerCount(\"readable\")>0,!1!==i.flowing&&this.resume()):\"readable\"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,s(\"on readable\",i.length,i.reading),i.length?I(this):i.reading||process.nextTick(D,this))),n},x.prototype.addListener=x.prototype.on,x.prototype.removeListener=function(e,t){var n=r.prototype.removeListener.call(this,e,t);return\"readable\"===e&&process.nextTick(N,this),n},x.prototype.removeAllListeners=function(e){var t=r.prototype.removeAllListeners.apply(this,arguments);return\"readable\"!==e&&void 0!==e||process.nextTick(N,this),t},x.prototype.resume=function(){var e=this._readableState;return e.flowing||(s(\"resume\"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(L,e,t))}(this,e)),e.paused=!1,this},x.prototype.pause=function(){return s(\"call pause flowing=%j\",this._readableState.flowing),!1!==this._readableState.flowing&&(s(\"pause\"),this._readableState.flowing=!1,this.emit(\"pause\")),this._readableState.paused=!0,this},x.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on(\"end\",(function(){if(s(\"wrapped end\"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on(\"data\",(function(i){(s(\"wrapped data\"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&\"function\"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<_.length;o++)e.on(_[o],this.emit.bind(this,_[o]));return this._read=function(t){s(\"wrapped _read\",t),r&&(r=!1,e.resume())},this},\"function\"==typeof Symbol&&(x.prototype[Symbol.asyncIterator]=function(){return void 0===u&&(u=sa()),u(this)}),Object.defineProperty(x.prototype,\"readableHighWaterMark\",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(x.prototype,\"readableBuffer\",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(x.prototype,\"readableFlowing\",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),x._fromList=K,Object.defineProperty(x.prototype,\"readableLength\",{enumerable:!1,get:function(){return this._readableState.length}}),\"function\"==typeof Symbol&&(x.from=function(e,t){return void 0===f&&(f=aa()),f(x,e,t)}),Gs}function da(){if(Js)return Zs;Js=1,Zs=a;var e=xs().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,n=e.ERR_MULTIPLE_CALLBACK,r=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=e.ERR_TRANSFORM_WITH_LENGTH_0,o=js();function s(e,t){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(null===i)return this.emit(\"error\",new n);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),i(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);o.call(this,e),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(\"function\"==typeof e.transform&&(this._transform=e.transform),\"function\"==typeof e.flush&&(this._flush=e.flush)),this.on(\"prefinish\",c)}function c(){var e=this;\"function\"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,n){d(e,t,n)}))}function d(e,t,n){if(t)return e.emit(\"error\",t);if(null!=n&&e.push(n),e._writableState.length)throw new i;if(e._transformState.transforming)throw new r;return e.push(null)}return Bs()(a,o),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,o.prototype.push.call(this,e,t)},a.prototype._transform=function(e,n,r){r(new t(\"_transform()\"))},a.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},a.prototype._destroy=function(e,t){o.prototype._destroy.call(this,e,(function(e){t(e)}))},Zs}function la(){if(ta)return ea;var e;ta=1;var t=xs().codes,n=t.ERR_MISSING_ARGS,r=t.ERR_STREAM_DESTROYED;function i(e){if(e)throw e}function o(e){e()}function s(e,t){return e.pipe(t)}return ea=function(){for(var t=arguments.length,a=new Array(t),c=0;c<t;c++)a[c]=arguments[c];var d,l=function(e){return e.length?\"function\"!=typeof e[e.length-1]?i:e.pop():i}(a);if(Array.isArray(a[0])&&(a=a[0]),a.length<2)throw new n(\"streams\");var u=a.map((function(t,n){var i=n<a.length-1;return function(t,n,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;t.on(\"close\",(function(){s=!0})),void 0===e&&(e=oa()),e(t,{readable:n,writable:i},(function(e){if(e)return o(e);s=!0,o()}));var a=!1;return function(e){if(!s&&!a)return a=!0,function(e){return e.setHeader&&\"function\"==typeof e.abort}(t)?t.abort():\"function\"==typeof t.destroy?t.destroy():void o(e||new r(\"pipe\"))}}(t,i,n>0,(function(e){d||(d=e),e&&u.forEach(o),i||(u.forEach(o),l(d))}))}));return a.reduce(s)},ea}!function(e,t){var n=d;\"disable\"===process.env.READABLE_STREAM&&n?(e.exports=n.Readable,Object.assign(e.exports,n),e.exports.Stream=n):((t=e.exports=ca()).Stream=n||t,t.Readable=t,t.Writable=Ks(),t.Duplex=js(),t.Transform=da(),t.PassThrough=function(){if(Xs)return Qs;Xs=1,Qs=t;var e=da();function t(n){if(!(this instanceof t))return new t(n);e.call(this,n)}return Bs()(t,e),t.prototype._transform=function(e,t,n){n(null,e)},Qs}(),t.finished=oa(),t.pipeline=la())}(ys,ys.exports);var ua=ys.exports;function ha(e={}){const t={},n=new ua.Duplex({objectMode:!0,read:()=>{},write:function(n,o,s){let a=null;try{!n.id?function(n){e?.retryOnMessage&&n.method===e.retryOnMessage&&Object.values(t).forEach((({req:e,retryCount:n=0})=>{if(!e.id)return;if(n>=3)throw new Error(`StreamMiddleware - Retry limit exceeded for request id \"${e.id}\"`);const r=t[e.id];r&&(r.retryCount=n+1),i(e)}));r.emit(\"notification\",n)}(n):function(e){const{id:n}=e;if(null===n)return;const r=t[n];if(!r)return void console.warn(`StreamMiddleware - Unknown response id \"${n}\"`);delete t[n],Object.assign(r.res,e),setTimeout(r.end)}(n)}catch(e){a=e}s(a)}}),r=new $o;return{events:r,middleware:(e,n,r,o)=>{t[e.id]={req:e,res:n,next:r,end:o},i(e)},stream:n};function i(e){n.push(e)}}var fa={},pa={exports:{}},ma=function e(t,n){if(t&&n)return e(t)(n);if(\"function\"!=typeof t)throw new TypeError(\"need wrapper function\");return Object.keys(t).forEach((function(e){r[e]=t[e]})),r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),i=e[e.length-1];return\"function\"==typeof r&&r!==i&&Object.keys(i).forEach((function(e){r[e]=i[e]})),r}};var ga=ma;function ya(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function va(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||\"Function wrapped with `once`\";return t.onceError=n+\" shouldn't be called more than once\",t.called=!1,t}pa.exports=ga(ya),pa.exports.strict=ga(va),ya.proto=ya((function(){Object.defineProperty(Function.prototype,\"once\",{value:function(){return ya(this)},configurable:!0}),Object.defineProperty(Function.prototype,\"onceStrict\",{value:function(){return va(this)},configurable:!0})}));var Ea=pa.exports,ba={};Object.defineProperty(ba,\"__esModule\",{value:!0}),ba.Substream=void 0;const wa=ua;class Sa extends wa.Duplex{constructor({parent:e,name:t}){super({objectMode:!0}),this._parent=e,this._name=t}_read(){}_write(e,t,n){this._parent.push({name:this._name,data:e}),n()}}ba.Substream=Sa;var _a=h&&h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fa,\"__esModule\",{value:!0}),fa.ObjectMultiplex=void 0;const Ca=ua,xa=_a(Ea),ka=ba,Ma=Symbol(\"IGNORE_SUBSTREAM\");let Aa=class extends Ca.Duplex{constructor(e={}){super(Object.assign(Object.assign({},e),{objectMode:!0})),this._substreams={}}createStream(e){if(this.destroyed)throw new Error(`ObjectMultiplex - parent stream for name \"${e}\" already destroyed`);if(this._readableState.ended||this._writableState.ended)throw new Error(`ObjectMultiplex - parent stream for name \"${e}\" already ended`);if(!e)throw new Error(\"ObjectMultiplex - name must not be empty\");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name \"${e}\" already exists`);const t=new ka.Substream({parent:this,name:e});return this._substreams[e]=t,function(e,t){const n=(0,xa.default)(t);(0,Ca.finished)(e,{readable:!1},n),(0,Ca.finished)(e,{writable:!1},n)}(this,(e=>t.destroy(e||void 0))),t}ignoreStream(e){if(!e)throw new Error(\"ObjectMultiplex - name must not be empty\");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name \"${e}\" already exists`);this._substreams[e]=Ma}_read(){}_write(e,t,n){const{name:r,data:i}=e;if(!r)return console.warn(`ObjectMultiplex - malformed chunk without name \"${e}\"`),n();const o=this._substreams[r];return o?(o!==Ma&&o.push(i),n()):(console.warn(`ObjectMultiplex - orphaned data for stream \"${r}\"`),n())}};fa.ObjectMultiplex=Aa;var Ta=f(fa.ObjectMultiplex);const Ia=e=>null!==e&&\"object\"==typeof e&&\"function\"==typeof e.pipe;Ia.writable=e=>Ia(e)&&!1!==e.writable&&\"function\"==typeof e._write&&\"object\"==typeof e._writableState,Ia.readable=e=>Ia(e)&&!1!==e.readable&&\"function\"==typeof e._read&&\"object\"==typeof e._readableState,Ia.duplex=e=>Ia.writable(e)&&Ia.readable(e),Ia.transform=e=>Ia.duplex(e)&&\"function\"==typeof e._transform;var Ra,Pa=Ia,Oa=class extends gs{constructor(e,{jsonRpcStreamName:t,logger:n=console,maxEventListeners:r=100,rpcMiddleware:i=[]}){if(super({logger:n,maxEventListeners:r,rpcMiddleware:i}),!Pa.duplex(e))throw new Error(Fr.errors.invalidDuplexStream());this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this);const o=new Ta;ua.pipeline(e,o,e,this._handleStreamDisconnect.bind(this,\"MetaMask\")),this._jsonRpcConnection=ha({retryOnMessage:\"METAMASK_EXTENSION_CONNECT_CAN_RETRY\"}),ua.pipeline(this._jsonRpcConnection.stream,o.createStream(t),this._jsonRpcConnection.stream,this._handleStreamDisconnect.bind(this,\"MetaMask RpcProvider\")),this._rpcEngine.push(this._jsonRpcConnection.middleware),this._jsonRpcConnection.events.on(\"notification\",(t=>{const{method:n,params:r}=t;\"metamask_accountsChanged\"===n?this._handleAccountsChanged(r):\"metamask_unlockStateChanged\"===n?this._handleUnlockStateChanged(r):\"metamask_chainChanged\"===n?this._handleChainChanged(r):qo.includes(n)?this.emit(\"message\",{type:n,data:r}):\"METAMASK_STREAM_FAILURE\"===n&&e.destroy(new Error(Fr.errors.permanentlyDisconnected()))}))}async _initializeStateAsync(){let e;try{e=await this.request({method:\"metamask_getProviderState\"})}catch(e){this._log.error(\"MetaMask: Failed to get initial state. Please report this bug.\",e)}this._initializeState(e)}_handleStreamDisconnect(e,t){let n=`MetaMask: Lost connection to \"${e}\".`;t?.stack&&(n+=`\\n${t.stack}`),this._log.warn(n),this.listenerCount(\"error\")>0&&this.emit(\"error\",n),this._handleDisconnect(!1,t?t.message:void 0)}_handleChainChanged({chainId:e,networkVersion:t}={}){Vo(e)&&(e=>Boolean(e)&&\"string\"==typeof e)(t)?\"loading\"===t?this._handleDisconnect(!0):super._handleChainChanged({chainId:e}):this._log.error(Fr.errors.invalidNetworkParams(),{chainId:e,networkVersion:t})}},Na=class extends Oa{constructor(e,{jsonRpcStreamName:t=\"metamask-provider\",logger:n=console,maxEventListeners:r=100,shouldSendMetadata:i}={}){if(super(e,{jsonRpcStreamName:t,logger:n,maxEventListeners:r,rpcMiddleware:zo(n)}),this._sentWarnings={chainId:!1,networkVersion:!1,selectedAddress:!1,enable:!1,experimentalMethods:!1,send:!1,events:{close:!1,data:!1,networkChanged:!1,notification:!1}},ts(this,Ra,void 0),this._initializeStateAsync(),ns(this,Ra,null),this.isMetaMask=!0,this._sendSync=this._sendSync.bind(this),this.enable=this.enable.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this._warnOfDeprecation=this._warnOfDeprecation.bind(this),this._metamask=this._getExperimentalApi(),this._jsonRpcConnection.events.on(\"notification\",(e=>{const{method:t}=e;qo.includes(t)&&(this.emit(\"data\",e),this.emit(\"notification\",e.params.result))})),i)if(\"complete\"===document.readyState)Yo(this._rpcEngine,this._log);else{const e=()=>{Yo(this._rpcEngine,this._log),window.removeEventListener(\"DOMContentLoaded\",e)};window.addEventListener(\"DOMContentLoaded\",e)}}get chainId(){return this._sentWarnings.chainId||(this._log.warn(Fr.warnings.chainIdDeprecation),this._sentWarnings.chainId=!0),super.chainId}get networkVersion(){return this._sentWarnings.networkVersion||(this._log.warn(Fr.warnings.networkVersionDeprecation),this._sentWarnings.networkVersion=!0),es(this,Ra)}get selectedAddress(){return this._sentWarnings.selectedAddress||(this._log.warn(Fr.warnings.selectedAddressDeprecation),this._sentWarnings.selectedAddress=!0),super.selectedAddress}sendAsync(e,t){this._rpcRequest(e,t)}addListener(e,t){return this._warnOfDeprecation(e),super.addListener(e,t)}on(e,t){return this._warnOfDeprecation(e),super.on(e,t)}once(e,t){return this._warnOfDeprecation(e),super.once(e,t)}prependListener(e,t){return this._warnOfDeprecation(e),super.prependListener(e,t)}prependOnceListener(e,t){return this._warnOfDeprecation(e),super.prependOnceListener(e,t)}_handleDisconnect(e,t){super._handleDisconnect(e,t),es(this,Ra)&&!e&&ns(this,Ra,null)}_warnOfDeprecation(e){!1===this._sentWarnings?.events[e]&&(this._log.warn(Fr.warnings.events[e]),this._sentWarnings.events[e]=!0)}async enable(){return this._sentWarnings.enable||(this._log.warn(Fr.warnings.enableDeprecation),this._sentWarnings.enable=!0),new Promise(((e,t)=>{try{this._rpcRequest({method:\"eth_requestAccounts\",params:[]},Wo(e,t))}catch(e){t(e)}}))}send(e,t){return this._sentWarnings.send||(this._log.warn(Fr.warnings.sendDeprecation),this._sentWarnings.send=!0),\"string\"!=typeof e||t&&!Array.isArray(t)?e&&\"object\"==typeof e&&\"function\"==typeof t?this._rpcRequest(e,t):this._sendSync(e):new Promise(((n,r)=>{try{this._rpcRequest({method:e,params:t},Wo(n,r,!1))}catch(e){r(e)}}))}_sendSync(e){let t;switch(e.method){case\"eth_accounts\":t=this.selectedAddress?[this.selectedAddress]:[];break;case\"eth_coinbase\":t=this.selectedAddress??null;break;case\"eth_uninstallFilter\":this._rpcRequest(e,Go),t=!0;break;case\"net_version\":t=es(this,Ra)??null;break;default:throw new Error(Fr.errors.unsupportedSync(e.method))}return{id:e.id,jsonrpc:e.jsonrpc,result:t}}_getExperimentalApi(){return new Proxy({isUnlocked:async()=>(this._state.initialized||await new Promise((e=>{this.on(\"_initialized\",(()=>e()))})),this._state.isUnlocked),requestBatch:async e=>{if(!Array.isArray(e))throw mo({message:\"Batch requests must be made with an array of request objects.\",data:e});return new Promise(((t,n)=>{this._rpcRequest(e,Wo(t,n))}))}},{get:(e,t,...n)=>(this._sentWarnings.experimentalMethods||(this._log.warn(Fr.warnings.experimentalMethods),this._sentWarnings.experimentalMethods=!0),Reflect.get(e,t,...n))})}_handleChainChanged({chainId:e,networkVersion:t}={}){super._handleChainChanged({chainId:e,networkVersion:t}),this._state.isConnected&&t!==es(this,Ra)&&(ns(this,Ra,t),this._state.initialized&&this.emit(\"networkChanged\",es(this,Ra)))}};Ra=new WeakMap;const Da=t(\"MM_SDK\");let La;Da.color=\"#FFAC1C\";var Ba={},Ka={};Object.defineProperty(Ka,\"__esModule\",{value:!0}),Ka.EthereumProviderError=Ka.EthereumRpcError=void 0;const ja=Qi;class $a extends Error{constructor(e,t,n){if(!Number.isInteger(e))throw new Error('\"code\" must be an integer.');if(!t||\"string\"!=typeof t)throw new Error('\"message\" must be a nonempty string.');super(t),this.code=e,void 0!==n&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return ja.default(this.serialize(),Ha,2)}}Ka.EthereumRpcError=$a;function Ha(e,t){if(\"[Circular]\"!==t)return t}Ka.EthereumProviderError=class extends $a{constructor(e,t,n){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('\"code\" must be an integer such that: 1000 <= code <= 4999');super(e,t,n)}};var Ua={},Fa={};Object.defineProperty(Fa,\"__esModule\",{value:!0}),Fa.errorValues=Fa.errorCodes=void 0,Fa.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},Fa.errorValues={\"-32700\":{standard:\"JSON RPC 2.0\",message:\"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text.\"},\"-32600\":{standard:\"JSON RPC 2.0\",message:\"The JSON sent is not a valid Request object.\"},\"-32601\":{standard:\"JSON RPC 2.0\",message:\"The method does not exist / is not available.\"},\"-32602\":{standard:\"JSON RPC 2.0\",message:\"Invalid method parameter(s).\"},\"-32603\":{standard:\"JSON RPC 2.0\",message:\"Internal JSON-RPC error.\"},\"-32000\":{standard:\"EIP-1474\",message:\"Invalid input.\"},\"-32001\":{standard:\"EIP-1474\",message:\"Resource not found.\"},\"-32002\":{standard:\"EIP-1474\",message:\"Resource unavailable.\"},\"-32003\":{standard:\"EIP-1474\",message:\"Transaction rejected.\"},\"-32004\":{standard:\"EIP-1474\",message:\"Method not supported.\"},\"-32005\":{standard:\"EIP-1474\",message:\"Request limit exceeded.\"},4001:{standard:\"EIP-1193\",message:\"User rejected the request.\"},4100:{standard:\"EIP-1193\",message:\"The requested account and/or method has not been authorized by the user.\"},4200:{standard:\"EIP-1193\",message:\"The requested method is not supported by this Ethereum provider.\"},4900:{standard:\"EIP-1193\",message:\"The provider is disconnected from all chains.\"},4901:{standard:\"EIP-1193\",message:\"The provider is disconnected from the specified chain.\"}},function(e){Object.defineProperty(e,\"__esModule\",{value:!0}),e.serializeError=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const t=Fa,n=Ka,r=t.errorCodes.rpc.internal,i=\"Unspecified error message. This is a bug, please report it.\",o={code:r,message:s(r)};function s(n,r=i){if(Number.isInteger(n)){const r=n.toString();if(l(t.errorValues,r))return t.errorValues[r].message;if(c(n))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return r}function a(e){if(!Number.isInteger(e))return!1;const n=e.toString();return!!t.errorValues[n]||!!c(e)}function c(e){return e>=-32099&&e<=-32e3}function d(e){return e&&\"object\"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.JSON_RPC_SERVER_ERROR_MESSAGE=\"Unspecified server error.\",e.getMessageFromCode=s,e.isValidCode=a,e.serializeError=function(e,{fallbackError:t=o,shouldIncludeStack:r=!1}={}){var i,c;if(!t||!Number.isInteger(t.code)||\"string\"!=typeof t.message)throw new Error(\"Must provide fallback error with integer number code and string message.\");if(e instanceof n.EthereumRpcError)return e.serialize();const u={};if(e&&\"object\"==typeof e&&!Array.isArray(e)&&l(e,\"code\")&&a(e.code)){const t=e;u.code=t.code,t.message&&\"string\"==typeof t.message?(u.message=t.message,l(t,\"data\")&&(u.data=t.data)):(u.message=s(u.code),u.data={originalError:d(e)})}else{u.code=t.code;const n=null===(i=e)||void 0===i?void 0:i.message;u.message=n&&\"string\"==typeof n?n:t.message,u.data={originalError:d(e)}}const h=null===(c=e)||void 0===c?void 0:c.stack;return r&&e&&h&&\"string\"==typeof h&&(u.stack=h),u}}(Ua);var qa={};Object.defineProperty(qa,\"__esModule\",{value:!0}),qa.ethErrors=void 0;const za=Ka,Wa=Ua,Va=Fa;function Ga(e,t){const[n,r]=Za(t);return new za.EthereumRpcError(e,n||Wa.getMessageFromCode(e),r)}function Ya(e,t){const[n,r]=Za(t);return new za.EthereumProviderError(e,n||Wa.getMessageFromCode(e),r)}function Za(e){if(e){if(\"string\"==typeof e)return[e];if(\"object\"==typeof e&&!Array.isArray(e)){const{message:t,data:n}=e;if(t&&\"string\"!=typeof t)throw new Error(\"Must specify string message.\");return[t||void 0,n]}}return[]}qa.ethErrors={rpc:{parse:e=>Ga(Va.errorCodes.rpc.parse,e),invalidRequest:e=>Ga(Va.errorCodes.rpc.invalidRequest,e),invalidParams:e=>Ga(Va.errorCodes.rpc.invalidParams,e),methodNotFound:e=>Ga(Va.errorCodes.rpc.methodNotFound,e),internal:e=>Ga(Va.errorCodes.rpc.internal,e),server:e=>{if(!e||\"object\"!=typeof e||Array.isArray(e))throw new Error(\"Ethereum RPC Server errors must provide single object argument.\");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('\"code\" must be an integer such that: -32099 <= code <= -32005');return Ga(t,e)},invalidInput:e=>Ga(Va.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>Ga(Va.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>Ga(Va.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>Ga(Va.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>Ga(Va.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>Ga(Va.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>Ya(Va.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>Ya(Va.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>Ya(Va.errorCodes.provider.unsupportedMethod,e),disconnected:e=>Ya(Va.errorCodes.provider.disconnected,e),chainDisconnected:e=>Ya(Va.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||\"object\"!=typeof e||Array.isArray(e))throw new Error(\"Ethereum Provider custom errors must provide single object argument.\");const{code:t,message:n,data:r}=e;if(!n||\"string\"!=typeof n)throw new Error('\"message\" must be a nonempty string');return new za.EthereumProviderError(t,n,r)}}},function(e){Object.defineProperty(e,\"__esModule\",{value:!0}),e.getMessageFromCode=e.serializeError=e.EthereumProviderError=e.EthereumRpcError=e.ethErrors=e.errorCodes=void 0;const t=Ka;Object.defineProperty(e,\"EthereumRpcError\",{enumerable:!0,get:function(){return t.EthereumRpcError}}),Object.defineProperty(e,\"EthereumProviderError\",{enumerable:!0,get:function(){return t.EthereumProviderError}});const n=Ua;Object.defineProperty(e,\"serializeError\",{enumerable:!0,get:function(){return n.serializeError}}),Object.defineProperty(e,\"getMessageFromCode\",{enumerable:!0,get:function(){return n.getMessageFromCode}});const r=qa;Object.defineProperty(e,\"ethErrors\",{enumerable:!0,get:function(){return r.ethErrors}});const i=Fa;Object.defineProperty(e,\"errorCodes\",{enumerable:!0,get:function(){return i.errorCodes}})}(Ba);const Ja={\"Amazon Silk\":\"amazon_silk\",\"Android Browser\":\"android\",Bada:\"bada\",BlackBerry:\"blackberry\",Chrome:\"chrome\",Chromium:\"chromium\",Electron:\"electron\",Epiphany:\"epiphany\",Firefox:\"firefox\",Focus:\"focus\",Generic:\"generic\",\"Google Search\":\"google_search\",Googlebot:\"googlebot\",\"Internet Explorer\":\"ie\",\"K-Meleon\":\"k_meleon\",Maxthon:\"maxthon\",\"Microsoft Edge\":\"edge\",\"MZ Browser\":\"mz\",\"NAVER Whale Browser\":\"naver\",Opera:\"opera\",\"Opera Coast\":\"opera_coast\",PhantomJS:\"phantomjs\",Puffin:\"puffin\",QupZilla:\"qupzilla\",QQ:\"qq\",QQLite:\"qqlite\",Safari:\"safari\",Sailfish:\"sailfish\",\"Samsung Internet for Android\":\"samsung_internet\",SeaMonkey:\"seamonkey\",Sleipnir:\"sleipnir\",Swing:\"swing\",Tizen:\"tizen\",\"UC Browser\":\"uc\",Vivaldi:\"vivaldi\",\"WebOS Browser\":\"webos\",WeChat:\"wechat\",\"Yandex Browser\":\"yandex\",Roku:\"roku\"},Qa={amazon_silk:\"Amazon Silk\",android:\"Android Browser\",bada:\"Bada\",blackberry:\"BlackBerry\",chrome:\"Chrome\",chromium:\"Chromium\",electron:\"Electron\",epiphany:\"Epiphany\",firefox:\"Firefox\",focus:\"Focus\",generic:\"Generic\",googlebot:\"Googlebot\",google_search:\"Google Search\",ie:\"Internet Explorer\",k_meleon:\"K-Meleon\",maxthon:\"Maxthon\",edge:\"Microsoft Edge\",mz:\"MZ Browser\",naver:\"NAVER Whale Browser\",opera:\"Opera\",opera_coast:\"Opera Coast\",phantomjs:\"PhantomJS\",puffin:\"Puffin\",qupzilla:\"QupZilla\",qq:\"QQ Browser\",qqlite:\"QQ Browser Lite\",safari:\"Safari\",sailfish:\"Sailfish\",samsung_internet:\"Samsung Internet for Android\",seamonkey:\"SeaMonkey\",sleipnir:\"Sleipnir\",swing:\"Swing\",tizen:\"Tizen\",uc:\"UC Browser\",vivaldi:\"Vivaldi\",webos:\"WebOS Browser\",wechat:\"WeChat\",yandex:\"Yandex Browser\"},Xa={tablet:\"tablet\",mobile:\"mobile\",desktop:\"desktop\",tv:\"tv\"},ec={WindowsPhone:\"Windows Phone\",Windows:\"Windows\",MacOS:\"macOS\",iOS:\"iOS\",Android:\"Android\",WebOS:\"WebOS\",BlackBerry:\"BlackBerry\",Bada:\"Bada\",Tizen:\"Tizen\",Linux:\"Linux\",ChromeOS:\"Chrome OS\",PlayStation4:\"PlayStation 4\",Roku:\"Roku\"},tc={EdgeHTML:\"EdgeHTML\",Blink:\"Blink\",Trident:\"Trident\",Presto:\"Presto\",Gecko:\"Gecko\",WebKit:\"WebKit\"};class nc{static getFirstMatch(e,t){const n=t.match(e);return n&&n.length>0&&n[1]||\"\"}static getSecondMatch(e,t){const n=t.match(e);return n&&n.length>1&&n[2]||\"\"}static matchAndReturnConst(e,t,n){if(e.test(t))return n}static getWindowsVersionName(e){switch(e){case\"NT\":return\"NT\";case\"XP\":case\"NT 5.1\":return\"XP\";case\"NT 5.0\":return\"2000\";case\"NT 5.2\":return\"2003\";case\"NT 6.0\":return\"Vista\";case\"NT 6.1\":return\"7\";case\"NT 6.2\":return\"8\";case\"NT 6.3\":return\"8.1\";case\"NT 10.0\":return\"10\";default:return}}static getMacOSVersionName(e){const t=e.split(\".\").splice(0,2).map((e=>parseInt(e,10)||0));if(t.push(0),10===t[0])switch(t[1]){case 5:return\"Leopard\";case 6:return\"Snow Leopard\";case 7:return\"Lion\";case 8:return\"Mountain Lion\";case 9:return\"Mavericks\";case 10:return\"Yosemite\";case 11:return\"El Capitan\";case 12:return\"Sierra\";case 13:return\"High Sierra\";case 14:return\"Mojave\";case 15:return\"Catalina\";default:return}}static getAndroidVersionName(e){const t=e.split(\".\").splice(0,2).map((e=>parseInt(e,10)||0));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?\"Cupcake\":1===t[0]&&t[1]>=6?\"Donut\":2===t[0]&&t[1]<2?\"Eclair\":2===t[0]&&2===t[1]?\"Froyo\":2===t[0]&&t[1]>2?\"Gingerbread\":3===t[0]?\"Honeycomb\":4===t[0]&&t[1]<1?\"Ice Cream Sandwich\":4===t[0]&&t[1]<4?\"Jelly Bean\":4===t[0]&&t[1]>=4?\"KitKat\":5===t[0]?\"Lollipop\":6===t[0]?\"Marshmallow\":7===t[0]?\"Nougat\":8===t[0]?\"Oreo\":9===t[0]?\"Pie\":void 0}static getVersionPrecision(e){return e.split(\".\").length}static compareVersions(e,t,n=!1){const r=nc.getVersionPrecision(e),i=nc.getVersionPrecision(t);let o=Math.max(r,i),s=0;const a=nc.map([e,t],(e=>{const t=o-nc.getVersionPrecision(e),n=e+new Array(t+1).join(\".0\");return nc.map(n.split(\".\"),(e=>new Array(20-e.length).join(\"0\")+e)).reverse()}));for(n&&(s=o-Math.min(r,i)),o-=1;o>=s;){if(a[0][o]>a[1][o])return 1;if(a[0][o]===a[1][o]){if(o===s)return 0;o-=1}else if(a[0][o]<a[1][o])return-1}}static map(e,t){const n=[];let r;if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n}static find(e,t){let n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){const r=e[n];if(t(r,n))return r}}static assign(e,...t){const n=e;let r,i;if(Object.assign)return Object.assign(e,...t);for(r=0,i=t.length;r<i;r+=1){const e=t[r];if(\"object\"==typeof e&&null!==e){Object.keys(e).forEach((t=>{n[t]=e[t]}))}}return e}static getBrowserAlias(e){return Ja[e]}static getBrowserTypeByAlias(e){return Qa[e]||\"\"}}const rc=/version\\/(\\d+(\\.?_?\\d+)+)/i,ic=[{test:[/googlebot/i],describe(e){const t={name:\"Googlebot\"},n=nc.getFirstMatch(/googlebot\\/(\\d+(\\.\\d+))/i,e)||nc.getFirstMatch(rc,e);return n&&(t.version=n),t}},{test:[/opera/i],describe(e){const t={name:\"Opera\"},n=nc.getFirstMatch(rc,e)||nc.getFirstMatch(/(?:opera)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\\/|opios/i],describe(e){const t={name:\"Opera\"},n=nc.getFirstMatch(/(?:opr|opios)[\\s/](\\S+)/i,e)||nc.getFirstMatch(rc,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:\"Samsung Internet for Android\"},n=nc.getFirstMatch(rc,e)||nc.getFirstMatch(/(?:SamsungBrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe(e){const t={name:\"NAVER Whale Browser\"},n=nc.getFirstMatch(rc,e)||nc.getFirstMatch(/(?:whale)[\\s/](\\d+(?:\\.\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe(e){const t={name:\"MZ Browser\"},n=nc.getFirstMatch(/(?:MZBrowser)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||nc.getFirstMatch(rc,e);return n&&(t.version=n),t}},{test:[/focus/i],describe(e){const t={name:\"Focus\"},n=nc.getFirstMatch(/(?:focus)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||nc.getFirstMatch(rc,e);return n&&(t.version=n),t}},{test:[/swing/i],describe(e){const t={name:\"Swing\"},n=nc.getFirstMatch(/(?:swing)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||nc.getFirstMatch(rc,e);return n&&(t.version=n),t}},{test:[/coast/i],describe(e){const t={name:\"Opera Coast\"},n=nc.getFirstMatch(rc,e)||nc.getFirstMatch(/(?:coast)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\\/\\d+(?:.?_?\\d+)+/i],describe(e){const t={name:\"Opera Touch\"},n=nc.getFirstMatch(/(?:opt)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||nc.getFirstMatch(rc,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe(e){const t={name:\"Yandex Browser\"},n=nc.getFirstMatch(/(?:yabrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||nc.getFirstMatch(rc,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe(e){const t={name:\"UC Browser\"},n=nc.getFirstMatch(rc,e)||nc.getFirstMatch(/(?:ucbrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:\"Maxthon\"},n=nc.getFirstMatch(rc,e)||nc.getFirstMatch(/(?:Maxthon|mxios)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe(e){const t={name:\"Epiphany\"},n=nc.getFirstMatch(rc,e)||nc.getFirstMatch(/(?:epiphany)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe(e){const t={name:\"Puffin\"},n=nc.getFirstMatch(rc,e)||nc.getFirstMatch(/(?:puffin)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe(e){const t={name:\"Sleipnir\"},n=nc.getFirstMatch(rc,e)||nc.getFirstMatch(/(?:sleipnir)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe(e){const t={name:\"K-Meleon\"},n=nc.getFirstMatch(rc,e)||nc.getFirstMatch(/(?:k-meleon)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe(e){const t={name:\"WeChat\"},n=nc.getFirstMatch(/(?:micromessenger)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||nc.getFirstMatch(rc,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?\"QQ Browser Lite\":\"QQ Browser\"},n=nc.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\\d+(\\.?_?\\d+)+)/i,e)||nc.getFirstMatch(rc,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe(e){const t={name:\"Internet Explorer\"},n=nc.getFirstMatch(/(?:msie |rv:)(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\\sedg\\//i],describe(e){const t={name:\"Microsoft Edge\"},n=nc.getFirstMatch(/\\sedg\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:\"Microsoft Edge\"},n=nc.getSecondMatch(/edg([ea]|ios)\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe(e){const t={name:\"Vivaldi\"},n=nc.getFirstMatch(/vivaldi\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe(e){const t={name:\"SeaMonkey\"},n=nc.getFirstMatch(/seamonkey\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe(e){const t={name:\"Sailfish\"},n=nc.getFirstMatch(/sailfish\\s?browser\\/(\\d+(\\.\\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe(e){const t={name:\"Amazon Silk\"},n=nc.getFirstMatch(/silk\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe(e){const t={name:\"PhantomJS\"},n=nc.getFirstMatch(/phantomjs\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe(e){const t={name:\"SlimerJS\"},n=nc.getFirstMatch(/slimerjs\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\\bbb\\d+/i,/rim\\stablet/i],describe(e){const t={name:\"BlackBerry\"},n=nc.getFirstMatch(rc,e)||nc.getFirstMatch(/blackberry[\\d]+\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:\"WebOS Browser\"},n=nc.getFirstMatch(rc,e)||nc.getFirstMatch(/w(?:eb)?[o0]sbrowser\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe(e){const t={name:\"Bada\"},n=nc.getFirstMatch(/dolfin\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe(e){const t={name:\"Tizen\"},n=nc.getFirstMatch(/(?:tizen\\s?)?browser\\/(\\d+(\\.?_?\\d+)+)/i,e)||nc.getFirstMatch(rc,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe(e){const t={name:\"QupZilla\"},n=nc.getFirstMatch(/(?:qupzilla)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||nc.getFirstMatch(rc,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:\"Firefox\"},n=nc.getFirstMatch(/(?:firefox|iceweasel|fxios)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe(e){const t={name:\"Electron\"},n=nc.getFirstMatch(/(?:electron)\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:\"Miui\"},n=nc.getFirstMatch(/(?:MiuiBrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe(e){const t={name:\"Chromium\"},n=nc.getFirstMatch(/(?:chromium)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||nc.getFirstMatch(rc,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:\"Chrome\"},n=nc.getFirstMatch(/(?:chrome|crios|crmo)\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe(e){const t={name:\"Google Search\"},n=nc.getFirstMatch(/(?:GSA)\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t={name:\"Android Browser\"},n=nc.getFirstMatch(rc,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe(e){const t={name:\"PlayStation 4\"},n=nc.getFirstMatch(rc,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:\"Safari\"},n=nc.getFirstMatch(rc,e);return n&&(t.version=n),t}},{test:[/.*/i],describe(e){const t=-1!==e.search(\"\\\\(\")?/^(.*)\\/(.*)[ \\t]\\((.*)/:/^(.*)\\/(.*) /;return{name:nc.getFirstMatch(t,e),version:nc.getSecondMatch(t,e)}}}];var oc=[{test:[/Roku\\/DVP/],describe(e){const t=nc.getFirstMatch(/Roku\\/DVP-(\\d+\\.\\d+)/i,e);return{name:ec.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=nc.getFirstMatch(/windows phone (?:os)?\\s?(\\d+(\\.\\d+)*)/i,e);return{name:ec.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=nc.getFirstMatch(/Windows ((NT|XP)( \\d\\d?.\\d)?)/i,e),n=nc.getWindowsVersionName(t);return{name:ec.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\\//],describe(e){const t={name:ec.iOS},n=nc.getSecondMatch(/(Version\\/)(\\d[\\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe(e){const t=nc.getFirstMatch(/mac os x (\\d+(\\.?_?\\d+)+)/i,e).replace(/[_\\s]/g,\".\"),n=nc.getMacOSVersionName(t),r={name:ec.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=nc.getFirstMatch(/os (\\d+([_\\s]\\d+)*) like mac os x/i,e).replace(/[_\\s]/g,\".\");return{name:ec.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t=nc.getFirstMatch(/android[\\s/-](\\d+(\\.\\d+)*)/i,e),n=nc.getAndroidVersionName(t),r={name:ec.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=nc.getFirstMatch(/(?:web|hpw)[o0]s\\/(\\d+(\\.\\d+)*)/i,e),n={name:ec.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\\bbb\\d+/i,/rim\\stablet/i],describe(e){const t=nc.getFirstMatch(/rim\\stablet\\sos\\s(\\d+(\\.\\d+)*)/i,e)||nc.getFirstMatch(/blackberry\\d+\\/(\\d+([_\\s]\\d+)*)/i,e)||nc.getFirstMatch(/\\bbb(\\d+)/i,e);return{name:ec.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=nc.getFirstMatch(/bada\\/(\\d+(\\.\\d+)*)/i,e);return{name:ec.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=nc.getFirstMatch(/tizen[/\\s](\\d+(\\.\\d+)*)/i,e);return{name:ec.Tizen,version:t}}},{test:[/linux/i],describe:()=>({name:ec.Linux})},{test:[/CrOS/],describe:()=>({name:ec.ChromeOS})},{test:[/PlayStation 4/],describe(e){const t=nc.getFirstMatch(/PlayStation 4[/\\s](\\d+(\\.\\d+)*)/i,e);return{name:ec.PlayStation4,version:t}}}],sc=[{test:[/googlebot/i],describe:()=>({type:\"bot\",vendor:\"Google\"})},{test:[/huawei/i],describe(e){const t=nc.getFirstMatch(/(can-l01)/i,e)&&\"Nova\",n={type:Xa.mobile,vendor:\"Huawei\"};return t&&(n.model=t),n}},{test:[/nexus\\s*(?:7|8|9|10).*/i],describe:()=>({type:Xa.tablet,vendor:\"Nexus\"})},{test:[/ipad/i],describe:()=>({type:Xa.tablet,vendor:\"Apple\",model:\"iPad\"})},{test:[/Macintosh(.*?) FxiOS(.*?)\\//],describe:()=>({type:Xa.tablet,vendor:\"Apple\",model:\"iPad\"})},{test:[/kftt build/i],describe:()=>({type:Xa.tablet,vendor:\"Amazon\",model:\"Kindle Fire HD 7\"})},{test:[/silk/i],describe:()=>({type:Xa.tablet,vendor:\"Amazon\"})},{test:[/tablet(?! pc)/i],describe:()=>({type:Xa.tablet})},{test(e){const t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe(e){const t=nc.getFirstMatch(/(ipod|iphone)/i,e);return{type:Xa.mobile,vendor:\"Apple\",model:t}}},{test:[/nexus\\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:Xa.mobile,vendor:\"Nexus\"})},{test:[/[^-]mobi/i],describe:()=>({type:Xa.mobile})},{test:e=>\"blackberry\"===e.getBrowserName(!0),describe:()=>({type:Xa.mobile,vendor:\"BlackBerry\"})},{test:e=>\"bada\"===e.getBrowserName(!0),describe:()=>({type:Xa.mobile})},{test:e=>\"windows phone\"===e.getBrowserName(),describe:()=>({type:Xa.mobile,vendor:\"Microsoft\"})},{test(e){const t=Number(String(e.getOSVersion()).split(\".\")[0]);return\"android\"===e.getOSName(!0)&&t>=3},describe:()=>({type:Xa.tablet})},{test:e=>\"android\"===e.getOSName(!0),describe:()=>({type:Xa.mobile})},{test:e=>\"macos\"===e.getOSName(!0),describe:()=>({type:Xa.desktop,vendor:\"Apple\"})},{test:e=>\"windows\"===e.getOSName(!0),describe:()=>({type:Xa.desktop})},{test:e=>\"linux\"===e.getOSName(!0),describe:()=>({type:Xa.desktop})},{test:e=>\"playstation 4\"===e.getOSName(!0),describe:()=>({type:Xa.tv})},{test:e=>\"roku\"===e.getOSName(!0),describe:()=>({type:Xa.tv})}],ac=[{test:e=>\"microsoft edge\"===e.getBrowserName(!0),describe(e){if(/\\sedg\\//i.test(e))return{name:tc.Blink};const t=nc.getFirstMatch(/edge\\/(\\d+(\\.?_?\\d+)+)/i,e);return{name:tc.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const t={name:tc.Trident},n=nc.getFirstMatch(/trident\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:e=>e.test(/presto/i),describe(e){const t={name:tc.Presto},n=nc.getFirstMatch(/presto\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe(e){const t={name:tc.Gecko},n=nc.getFirstMatch(/gecko\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\\/537\\.36/i],describe:()=>({name:tc.Blink})},{test:[/(apple)?webkit/i],describe(e){const t={name:tc.WebKit},n=nc.getFirstMatch(/webkit\\/(\\d+(\\.?_?\\d+)+)/i,e);return n&&(t.version=n),t}}];class cc{constructor(e,t=!1){if(null==e||\"\"===e)throw new Error(\"UserAgent parameter can't be empty\");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=nc.find(ic,(e=>{if(\"function\"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error(\"Browser's test function is not valid\")}));return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||\"\":this.getBrowser().name||\"\"}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=nc.find(oc,(e=>{if(\"function\"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error(\"Browser's test function is not valid\")}));return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:t}=this.getOS();return e?String(t).toLowerCase()||\"\":t||\"\"}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:t}=this.getPlatform();return e?String(t).toLowerCase()||\"\":t||\"\"}parsePlatform(){this.parsedResult.platform={};const e=nc.find(sc,(e=>{if(\"function\"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error(\"Browser's test function is not valid\")}));return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||\"\":this.getEngine().name||\"\"}parseEngine(){this.parsedResult.engine={};const e=nc.find(ac,(e=>{if(\"function\"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error(\"Browser's test function is not valid\")}));return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return nc.assign({},this.parsedResult)}satisfies(e){const t={};let n=0;const r={};let i=0;if(Object.keys(e).forEach((o=>{const s=e[o];\"string\"==typeof s?(r[o]=s,i+=1):\"object\"==typeof s&&(t[o]=s,n+=1)})),n>0){const e=Object.keys(t),n=nc.find(e,(e=>this.isOS(e)));if(n){const e=this.satisfies(t[n]);if(void 0!==e)return e}const r=nc.find(e,(e=>this.isPlatform(e)));if(r){const e=this.satisfies(t[r]);if(void 0!==e)return e}}if(i>0){const e=Object.keys(r),t=nc.find(e,(e=>this.isBrowser(e,!0)));if(void 0!==t)return this.compareVersion(r[t])}}isBrowser(e,t=!1){const n=this.getBrowserName().toLowerCase();let r=e.toLowerCase();const i=nc.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n}compareVersion(e){let t=[0],n=e,r=!1;const i=this.getBrowserVersion();if(\"string\"==typeof i)return\">\"===e[0]||\"<\"===e[0]?(n=e.substr(1),\"=\"===e[1]?(r=!0,n=e.substr(2)):t=[],\">\"===e[0]?t.push(1):t.push(-1)):\"=\"===e[0]?n=e.substr(1):\"~\"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(nc.compareVersions(i,n,r))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,t=!1){return this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some((e=>this.is(e)))}}class dc{static getParser(e,t=!1){if(\"string\"!=typeof e)throw new Error(\"UserAgent should be a string\");return new cc(e,t)}static parse(e){return new cc(e).getResult()}static get BROWSER_MAP(){return Qa}static get ENGINE_MAP(){return tc}static get OS_MAP(){return ec}static get PLATFORMS_MAP(){return Xa}}const lc={Initialized:\"initialized\",DisplayURI:\"display_uri\",ProviderUpdate:\"provider_update\",ConnectWithResponse:\"connectWithResponse\",ConnectionStatus:\"connection_status\",ServiceStatus:\"service_status\"};class uc{constructor({shouldSetOnWindow:e,connectionStream:t,shouldSendMetadata:n=!1,shouldShimWeb3:r,sdkInstance:i}){const o=new pc({connectionStream:t,shouldSendMetadata:n,shouldSetOnWindow:e,shouldShimWeb3:r,autoRequestAccounts:!1}),s=new Proxy(o,{deleteProperty:()=>!0});if(this.provider=s,this.sdkInstance=i,e&&\"undefined\"!=typeof window)try{a=o,window.ethereum=a,window.dispatchEvent(new Event(\"ethereum#initialized\"))}catch(e){Da(\"[Ethereum] Unable to set global provider - window.ethereum may be read-only\",e)}var a;if(r&&\"undefined\"!=typeof window)try{!function(e,t=console){let n=!1,r=!1;if(!window.web3){const i=\"__isMetaMaskShim__\";let o={currentProvider:e};Object.defineProperty(o,i,{value:!0,enumerable:!0,configurable:!1,writable:!1}),o=new Proxy(o,{get:(o,s,...a)=>(\"currentProvider\"!==s||n?\"currentProvider\"===s||s===i||r||(r=!0,t.error(\"MetaMask no longer injects web3. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3\"),e.request({method:\"metamask_logWeb3ShimUsage\"}).catch((e=>{t.debug(\"MetaMask: Failed to log web3 shim usage.\",e)}))):(n=!0,t.warn(\"You are accessing the MetaMask window.web3.currentProvider shim. This property is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3\")),Reflect.get(o,s,...a)),set:(...e)=>(t.warn(\"You are accessing the MetaMask window.web3 shim. This object is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3\"),Reflect.set(...e))}),Object.defineProperty(window,\"web3\",{value:o,enumerable:!1,configurable:!0,writable:!0})}}(this.provider)}catch(e){Da(\"[Ethereum] Unable to shim web3 - window.web3 may be read-only\",e)}this.provider.on(\"display_uri\",(e=>{this.sdkInstance.emit(lc.DisplayURI,e)})),this.provider.on(\"_initialized\",(()=>{const e={chainId:this.provider.getChainId(),isConnected:this.provider.isConnected(),isMetaMask:this.provider.isMetaMask,selectedAddress:this.provider.getSelectedAddress(),networkVersion:this.provider.getNetworkVersion()};this.sdkInstance.emit(lc.Initialized,e),Da(\"[Ethereum: constructor()] provider initialized\",e)}))}static init(e){var t;return Da(\"[Ethereum: init()] Initializing Ethereum service\"),this.instance=new uc(e),null===(t=this.instance)||void 0===t?void 0:t.provider}static destroy(){}static getInstance(){var e;if(!(null===(e=this.instance)||void 0===e?void 0:e.provider))throw new Error(\"Ethereum instance not intiialized - call Ethereum.factory first.\");return this.instance}static getProvider(){var e;if(!(null===(e=this.instance)||void 0===e?void 0:e.provider))throw new Error(\"Ethereum instance not intiialized - call Ethereum.factory first.\");return this.instance.provider}}class hc{constructor({useDeepLink:e,preferredOpenLink:t,debug:n=!1}){this.state={platformType:void 0,useDeeplink:!1,preferredOpenLink:void 0,debug:!1},this.state.platformType=this.getPlatformType(),this.state.useDeeplink=e,this.state.preferredOpenLink=t,this.state.debug=n}openDeeplink(e,t,n){return function(e,t,n,r){const{state:i}=e;Da(`[PlatfformManager: openDeeplink()] universalLink --\\x3e ${t}`),Da(`[PlatfformManager: openDeeplink()] deepLink --\\x3e ${n}`);try{if(i.preferredOpenLink)return void i.preferredOpenLink(i.useDeeplink?n:t,r);if(Da(`[PlatfformManager: openDeeplink()] open link now useDeepLink=${i.useDeeplink} link=${i.useDeeplink?n:t}`),i.useDeeplink)\"undefined\"!=typeof window&&(window.location.href=n);else if(\"undefined\"!=typeof document){const e=document.createElement(\"a\");e.href=t,e.target=\"_self\",e.rel=\"noreferrer noopener\",e.click()}}catch(e){console.log(\"[PlatfformManager: openDeeplink()] can't open link\",e)}}(this,e,t,n)}isReactNative(){var e;return this.isNotBrowser()&&\"undefined\"!=typeof window&&(null===window||void 0===window?void 0:window.navigator)&&\"ReactNative\"===(null===(e=window.navigator)||void 0===e?void 0:e.product)}isMetaMaskInstalled(){return function(){const e=uc.getProvider()||(null===window||void 0===window?void 0:window.ethereum);return Da(`[PlatfformManager: isMetaMaskInstalled()] isMetaMask=${null==e?void 0:e.isMetaMask} isConnected=${null==e?void 0:e.isConnected()}`),(null==e?void 0:e.isMetaMask)&&(null==e?void 0:e.isConnected())}()}isDesktopWeb(){return this.isBrowser()&&!this.isMobileWeb()}isMobile(){var e,t;const n=dc.parse(window.navigator.userAgent);return\"mobile\"===(null===(e=null==n?void 0:n.platform)||void 0===e?void 0:e.type)||\"tablet\"===(null===(t=null==n?void 0:n.platform)||void 0===t?void 0:t.type)}isSecure(){return this.isReactNative()||this.isMobileWeb()}isMetaMaskMobileWebView(){return\"undefined\"!=typeof window&&(Boolean(window.ReactNativeWebView)&&Boolean(navigator.userAgent.endsWith(\"MetaMaskMobile\")))}isMobileWeb(){return this.state.platformType===exports.PlatformType.MobileWeb}static isNotBrowser(){var e;return\"undefined\"==typeof window||!(null===window||void 0===window?void 0:window.navigator)||\"undefined\"!=typeof global&&\"ReactNative\"===(null===(e=null===global||void 0===global?void 0:global.navigator)||void 0===e?void 0:e.product)||\"ReactNative\"===(null===navigator||void 0===navigator?void 0:navigator.product)}isNotBrowser(){return hc.isNotBrowser()}static isBrowser(){return!this.isNotBrowser()}isBrowser(){return hc.isBrowser()}isNodeJS(){return this.isNotBrowser()&&!this.isReactNative()}isUseDeepLink(){return this.state.useDeeplink}getPlatformType(){return function(e){const{state:t}=e;return t.platformType?t.platformType:e.isReactNative()?exports.PlatformType.ReactNative:e.isNotBrowser()?exports.PlatformType.NonBrowser:e.isMetaMaskMobileWebView()?exports.PlatformType.MetaMaskMobileWebview:e.isMobile()?exports.PlatformType.MobileWeb:exports.PlatformType.DesktopWeb}(this)}}const fc=e=>u(void 0,void 0,void 0,(function*(){if(hc.isBrowser()){const{StorageManagerWeb:t}=yield Promise.resolve().then((function(){return Fd}));return new t(e)}const t={persistChannelConfig:()=>u(void 0,void 0,void 0,(function*(){})),getPersistedChannelConfig:()=>u(void 0,void 0,void 0,(function*(){})),persistAccounts:()=>u(void 0,void 0,void 0,(function*(){})),getCachedAccounts:()=>u(void 0,void 0,void 0,(function*(){return[]})),persistChainId:()=>u(void 0,void 0,void 0,(function*(){})),getCachedChainId:()=>u(void 0,void 0,void 0,(function*(){})),terminate:()=>u(void 0,void 0,void 0,(function*(){}))};return Promise.resolve(t)}));class pc extends Na{constructor({connectionStream:e,shouldSendMetadata:t,autoRequestAccounts:n=!1}){super(e,{logger:console,maxEventListeners:100,shouldSendMetadata:t}),this.state={accounts:null,autoRequestAccounts:!1,providerStateRequested:!1,chainId:\"\",networkVersion:\"\"},Da(`[SDKProvider: constructor()] autoRequestAccounts=${n}`),this.state.autoRequestAccounts=n}forceInitializeState(){return u(this,void 0,void 0,(function*(){return Da(`[SDKProvider: forceInitializeState()] autoRequestAccounts=${this.state.autoRequestAccounts}`),this._initializeStateAsync()}))}_setConnected(){Da(\"[SDKProvider: _setConnected()] Setting connected state\"),this._state.isConnected=!0}getState(){return this._state}getSDKProviderState(){return this.state}getSelectedAddress(){var e;const{accounts:t}=this._state;return t&&0!==t.length?(null===(e=t[0])||void 0===e?void 0:e.toLowerCase())||\"\":(Da(\"[SDKProvider: getSelectedAddress] No accounts found\"),null)}getChainId(){return this.state.chainId}getNetworkVersion(){return this.state.networkVersion}setSDKProviderState(e){this.state=Object.assign(Object.assign({},this.state),e)}handleAccountsChanged(e,t){return this._handleAccountsChanged(e,t)}handleDisconnect({terminate:e=!1}){!function({terminate:e=!1,instance:t}){const{state:n}=t;Da(`[SDKProvider: handleDisconnect()] cleaning up provider state terminate=${e}`,t),e&&(t._state.accounts=null,t._state.isUnlocked=!1,t._state.isPermanentlyDisconnected=!0,t._state.initialized=!1),t._handleAccountsChanged([]),t._state.isConnected=!1,t.emit(\"disconnect\",Ba.ethErrors.provider.disconnected()),n.providerStateRequested=!1}({terminate:e,instance:this})}_initializeStateAsync(){return u(this,void 0,void 0,(function*(){return function(e){var t,n;return u(this,void 0,void 0,(function*(){void 0===e.state&&(e.state={accounts:null,autoRequestAccounts:!1,providerStateRequested:!1,chainId:\"\"});const{state:r}=e;let i;if(r.providerStateRequested)Da(\"[SDKProvider: initializeStateAsync()] initialization already in progress\");else{let o;r.providerStateRequested=!0;let s=null,a=!1,c=!1;const d=yield fc({enabled:!0});if(d){const e=yield d.getPersistedChannelConfig({});a=null!==(t=null==e?void 0:e.relayPersistence)&&void 0!==t&&t,o=yield d.getCachedChainId();const n=yield d.getCachedAccounts();n.length>0&&(s=n[0])}if(Da(`[SDKProvider: initializeStateAsync()] relayPersistence=${a}`,{relayPersistence:a,cachedChainId:o,cachedSelectedAddress:s}),a)if(o&&s)i={accounts:[s],chainId:o,isUnlocked:!1},c=!0;else try{i=yield e.request({method:\"metamask_getProviderState\"})}catch(t){return e._log.error(\"MetaMask: Failed to get initial state. Please report this bug.\",t),void(r.providerStateRequested=!1)}if(0===(null===(n=null==i?void 0:i.accounts)||void 0===n?void 0:n.length))if(e.getSelectedAddress())i.accounts=[e.getSelectedAddress()];else{Da(\"[SDKProvider: initializeStateAsync()] Fetch accounts remotely.\");const t=yield e.request({method:\"eth_requestAccounts\",params:[]});i.accounts=t}e._initializeState(i),r.providerStateRequested=!1,c&&(e._state.isConnected=!0,e.emit(\"connect\",{chainId:null==i?void 0:i.chainId}))}}))}(this)}))}_initializeState(e){return Da(\"[SDKProvider: _initializeState()]\",e),function(e,t,n){return Da(\"[SDKProvider: initializeState()] set state._initialized to false\"),e._state.initialized=!1,t(n)}(this,super._initializeState.bind(this),e)}_handleChainChanged({chainId:e,networkVersion:t}={}){this.state.chainId=e,this.state.networkVersion=t,function({instance:e,chainId:t,networkVersion:n,superHandleChainChanged:r}){Da(`[SDKProvider: handleChainChanged()] chainId=${t} networkVersion=${n}`);let o=n;n||(Da(\"[SDKProvider: handleChainChanged()] forced network version to prevent provider error\"),o=\"1\"),t!==La&&(i.analytics.track(\"sdk_used_chain\",{caip_chain_id:`eip155:${parseInt(null!=t?t:\"0x1\",16)}`}),La=t),e._state.isConnected=!0,e.emit(\"connect\",{chainId:t}),r({chainId:t,networkVersion:o})}({instance:this,chainId:e,networkVersion:t,superHandleChainChanged:super._handleChainChanged.bind(this)})}}var mc,gc={name:\"@metamask/sdk\",version:\"0.33.1\",description:\"\",homepage:\"https://github.com/MetaMask/metamask-sdk#readme\",bugs:{url:\"https://github.com/MetaMask/metamask-sdk/issues\"},repository:{type:\"git\",url:\"https://github.com/MetaMask/metamask-sdk\",directory:\"packages/sdk\"},main:\"dist/node/cjs/metamask-sdk.js\",module:\"dist/browser/es/metamask-sdk.js\",browser:\"dist/browser/es/metamask-sdk.js\",unpkg:\"dist/browser/umd/metamask-sdk.js\",\"react-native\":\"dist/react-native/es/metamask-sdk.js\",types:\"dist/types/src/index.d.ts\",sideEffects:!1,files:[\"/dist\"],scripts:{\"build:types\":\"tsc --project tsconfig.build.json --emitDeclarationOnly --outDir dist/types\",build:\"yarn build:types && rollup -c --bundleConfigAsCjs\",\"build:clean\":\"yarn clean && yarn build\",\"build:post-tsc\":\"echo 'N/A'\",\"build:pre-tsc\":\"echo 'N/A'\",typecheck:\"tsc --noEmit\",clean:\"rimraf ./dist\",size:\"node bundle-size && size-limit\",lint:\"yarn lint:eslint && yarn lint:misc --check\",\"lint:changelog\":\"../../scripts/validate-changelog.sh @metamask/sdk\",\"lint:eslint\":\"eslint . --cache --ext js,ts\",\"lint:fix\":\"yarn lint:eslint --fix && yarn lint:misc --write\",\"lint:misc\":\"prettier '**/*.json' '**/*.md' '!CHANGELOG.md' --ignore-path ../../.gitignore\",prepack:\"../../scripts/prepack.sh\",\"publish:preview\":\"yarn npm publish --tag preview\",reset:\"yarn clean && rimraf ./node_modules/\",test:'jest --testPathIgnorePatterns \"/e2e/\"',\"test:coverage\":'jest --coverage --testPathIgnorePatterns \"/e2e/\"',\"test:e2e\":'jest --testPathPattern \"/e2e/\"',\"test:ci\":'jest --coverage --passWithNoTests --setupFilesAfterEnv ./jest-preload.js --testPathIgnorePatterns \"/e2e/\"',\"test:dev\":'jest -c ./jest.config.ts --detectOpenHandles  --testPathIgnorePatterns \"/e2e/\"',watch:\"rollup -c -w\",dev:'concurrently \"tsc --watch\" \"rollup -c -w --bundleConfigAsCjs\"',\"build:dev\":\"yarn build:types && NODE_ENV=dev rollup -c --bundleConfigAsCjs\"},dependencies:{\"@babel/runtime\":\"^7.26.0\",\"@metamask/onboarding\":\"^1.0.1\",\"@metamask/providers\":\"16.1.0\",\"@metamask/sdk-analytics\":\"workspace:*\",\"@metamask/sdk-communication-layer\":\"workspace:*\",\"@metamask/sdk-install-modal-web\":\"workspace:*\",\"@paulmillr/qr\":\"^0.2.1\",bowser:\"^2.9.0\",\"cross-fetch\":\"^4.0.0\",debug:\"4.3.4\",eciesjs:\"^0.4.11\",\"eth-rpc-errors\":\"^4.0.3\",eventemitter2:\"^6.4.9\",\"obj-multiplex\":\"^1.0.0\",pump:\"^3.0.0\",\"readable-stream\":\"^3.6.2\",\"socket.io-client\":\"^4.5.1\",tslib:\"^2.6.0\",util:\"^0.12.4\",uuid:\"^8.3.2\"},devDependencies:{\"@jest/globals\":\"^29.3.1\",\"@lavamoat/allow-scripts\":\"^2.3.1\",\"@metamask/auto-changelog\":\"3.1.0\",\"@metamask/eslint-config\":\"^6.0.0\",\"@metamask/eslint-config-nodejs\":\"^6.0.0\",\"@metamask/eslint-config-typescript\":\"^6.0.0\",\"@react-native-async-storage/async-storage\":\"^1.19.6\",\"@rollup/plugin-alias\":\"^5.1.1\",\"@rollup/plugin-commonjs\":\"^25.0.7\",\"@rollup/plugin-json\":\"^6.0.0\",\"@rollup/plugin-node-resolve\":\"^15.0.2\",\"@rollup/plugin-replace\":\"^6.0.1\",\"@rollup/plugin-terser\":\"^0.4.1\",\"@size-limit/preset-big-lib\":\"^11.0.2\",\"@types/dom-screen-wake-lock\":\"^1.0.2\",\"@types/node\":\"^20.1.3\",\"@types/pump\":\"^1.1.1\",\"@types/qrcode-terminal\":\"^0.12.0\",\"@types/uuid\":\"^10.0.0\",\"@typescript-eslint/eslint-plugin\":\"^4.26.0\",\"@typescript-eslint/parser\":\"^4.26.0\",\"browserify-zlib\":\"^0.2.0\",buffer:\"^6.0.3\",concurrently:\"^9.1.2\",\"crypto-browserify\":\"^3.12.0\",eslint:\"^7.30.0\",\"eslint-config-prettier\":\"^8.3.0\",\"eslint-plugin-import\":\"^2.23.4\",\"eslint-plugin-jest\":\"^24.4.0\",\"eslint-plugin-jsdoc\":\"^36.1.0\",\"eslint-plugin-node\":\"^11.1.0\",\"eslint-plugin-prettier\":\"^3.4.0\",\"https-browserify\":\"^1.0.0\",jest:\"^29.3.1\",\"jest-environment-jsdom\":\"^29.3.1\",prettier:\"^2.3.0\",process:\"^0.11.10\",rimraf:\"^4.4.0\",rollup:\"^4.26.0\",\"rollup-plugin-analyzer\":\"^4.0.0\",\"rollup-plugin-jscc\":\"^2.0.0\",\"rollup-plugin-natives\":\"^0.7.5\",\"rollup-plugin-node-builtins\":\"^2.1.2\",\"rollup-plugin-polyfill-node\":\"^0.13.0\",\"rollup-plugin-sizes\":\"^1.0.6\",\"rollup-plugin-typescript2\":\"^0.31.2\",\"rollup-plugin-visualizer\":\"^5.12.0\",\"size-limit\":\"^11.0.2\",\"stream-browserify\":\"^3.0.0\",\"stream-http\":\"^3.2.0\",\"ts-jest\":\"^29.0.3\",\"ts-node\":\"^10.9.1\",typescript:\"^4.3.2\",url:\"^0.11.0\",webpack:\"^5.0.0\"},publishConfig:{access:\"public\",registry:\"https://registry.npmjs.org/\"},lavamoat:{allowScripts:{\"eciesjs>secp256k1\":!1,\"socket.io-client>engine.io-client>ws>bufferutil\":!1,\"socket.io-client>engine.io-client>ws>utf-8-validate\":!1,\"@metamask/sdk-communication-layer>bufferutil\":!1,\"@metamask/sdk-communication-layer>eciesjs>secp256k1\":!1,\"@metamask/sdk-communication-layer>utf-8-validate\":!1}}};!function(e){e.INPAGE=\"metamask-inpage\",e.CONTENT_SCRIPT=\"metamask-contentscript\",e.PROVIDER=\"metamask-provider\"}(mc||(mc={}));const yc=\"direct\",vc=\"https://metamask.app.link/connect\",Ec=\"metamask://connect\",bc={NAME:\"MetaMask\",RDNS:[\"io.metamask\",\"io.metamask.flask\"]},wc=/(?:^[a-f0-9]{8}-[a-f0-9]{4}-4[a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}$)|(?:^0{8}-0{4}-0{4}-0{4}-0{12}$)/u,Sc={METAMASK_GETPROVIDERSTATE:\"metamask_getProviderState\",METAMASK_CONNECTSIGN:\"metamask_connectSign\",METAMASK_CONNECTWITH:\"metamask_connectWith\",METAMASK_OPEN:\"metamask_open\",METAMASK_BATCH:\"metamask_batch\",PERSONAL_SIGN:\"personal_sign\",WALLET_REQUESTPERMISSIONS:\"wallet_requestPermissions\",WALLET_REVOKEPERMISSIONS:\"wallet_revokePermissions\",WALLET_GETPERMISSIONS:\"wallet_getPermissions\",WALLET_WATCHASSET:\"wallet_watchAsset\",WALLET_ADDETHEREUMCHAIN:\"wallet_addEthereumChain\",WALLET_SWITCHETHETHEREUMCHAIN:\"wallet_switchEthereumChain\",ETH_REQUESTACCOUNTS:\"eth_requestAccounts\",ETH_ACCOUNTS:\"eth_accounts\",ETH_CHAINID:\"eth_chainId\",ETH_SENDTRANSACTION:\"eth_sendTransaction\",ETH_SIGNTYPEDDATA:\"eth_signTypedData\",ETH_SIGNTYPEDDATA_V3:\"eth_signTypedData_v3\",ETH_SIGNTYPEDDATA_V4:\"eth_signTypedData_v4\",ETH_SIGNTRANSACTION:\"eth_signTransaction\",ETH_SIGN:\"eth_sign\",PERSONAL_EC_RECOVER:\"personal_ecRecover\"},_c={[Sc.ETH_REQUESTACCOUNTS]:!0,[Sc.ETH_SENDTRANSACTION]:!0,[Sc.ETH_SIGNTRANSACTION]:!0,[Sc.ETH_SIGN]:!0,[Sc.PERSONAL_SIGN]:!0,[Sc.ETH_ACCOUNTS]:!1,[Sc.ETH_CHAINID]:!1,[Sc.PERSONAL_SIGN]:!0,[Sc.ETH_SIGNTYPEDDATA]:!0,[Sc.ETH_SIGNTYPEDDATA_V3]:!0,[Sc.ETH_SIGNTYPEDDATA_V4]:!0,[Sc.WALLET_REQUESTPERMISSIONS]:!0,[Sc.WALLET_GETPERMISSIONS]:!0,[Sc.WALLET_WATCHASSET]:!0,[Sc.WALLET_ADDETHEREUMCHAIN]:!0,[Sc.WALLET_SWITCHETHETHEREUMCHAIN]:!0,[Sc.METAMASK_CONNECTSIGN]:!0,[Sc.METAMASK_CONNECTWITH]:!0,[Sc.PERSONAL_EC_RECOVER]:!0,[Sc.METAMASK_BATCH]:!0,[Sc.METAMASK_OPEN]:!0},Cc=Object.keys(_c).filter((e=>!0===_c[e])).map((e=>e.toLowerCase())),xc=[\"eth_signTypedData\",\"eth_signTypedData_v3\",\"eth_signTypedData_v4\",\"eth_sign\"].map((e=>e.toLowerCase())),kc=\".sdk-comm\",Mc=\"providerType\",Ac=\".MMSDK_cached_address\",Tc=\".MMSDK_cached_chainId\",Ic={CHAIN_CHANGED:\"chainChanged\",ACCOUNTS_CHANGED:\"accountsChanged\",DISCONNECT:\"disconnect\",CONNECT:\"connect\",CONNECTED:\"connected\"},Rc=1e6;var Pc;exports.PROVIDER_UPDATE_TYPE=void 0,(Pc=exports.PROVIDER_UPDATE_TYPE||(exports.PROVIDER_UPDATE_TYPE={})).TERMINATE=\"terminate\",Pc.EXTENSION=\"extension\",Pc.INITIALIZED=\"initialized\";const Oc=\"undefined\"!=typeof window&&window.localStorage;function Nc({instance:e,msg:t}){return u(this,void 0,void 0,(function*(){if(e._initialized||(Da(\"[MetaMaskSDK: connectAndSign()] provider not ready -- wait for init()\"),yield e.init()),Da(`[MetaMaskSDK: connectAndSign()] activeProvider=${e.activeProvider}`),!e.activeProvider)throw new Error(\"SDK state invalid -- undefined provider\");const n=/^0x([0-9A-Fa-f]{2})*$/u.test(t)?t:function(e){let t;if(\"undefined\"!=typeof Buffer)t=Buffer.from(e,\"utf8\").toString(\"hex\");else if(\"undefined\"!=typeof TextEncoder){const n=(new TextEncoder).encode(e);t=Array.from(n).map((e=>e.toString(16).padStart(2,\"0\"))).join(\"\")}else{if(\"object\"!=typeof global||!(\"Buffer\"in global))throw new Error(\"Unable to convert string to hex: No available method.\");t=global.Buffer.from(e,\"utf8\").toString(\"hex\")}return`0x${t}`}(t);return e.activeProvider.request({method:Sc.METAMASK_CONNECTWITH,params:[{method:Sc.PERSONAL_SIGN,params:[n]}]})}))}function Dc(e){var t,n;return u(this,void 0,void 0,(function*(){Da(\"[MetaMaskSDK: connectWithExtensionProvider()] \",e),e.sdkProvider=e.activeProvider,e.activeProvider=window.extension,window.ethereum=window.extension;try{const e=yield null===(t=window.extension)||void 0===t?void 0:t.request({method:\"eth_requestAccounts\"});Da(`[MetaMaskSDK: connectWithExtensionProvider()] accounts=${e}`)}catch(e){return void console.warn(\"[MetaMaskSDK: connectWithExtensionProvider()] can't request accounts error\",e)}localStorage.setItem(Mc,\"extension\"),e.extensionActive=!0,e.emit(lc.ProviderUpdate,exports.PROVIDER_UPDATE_TYPE.EXTENSION),e.options.enableAnalytics&&(null===(n=e.analytics)||void 0===n||n.send({event:fr.SDK_USE_EXTENSION}))}))}function Lc(e){let t;if(\"undefined\"!=typeof Buffer)t=Buffer.from(e,\"utf8\").toString(\"base64\");else if(\"function\"==typeof btoa)t=btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/gu,((e,t)=>String.fromCharCode(parseInt(t,16)))));else{if(\"object\"!=typeof global||!(\"Buffer\"in global))throw new Error(\"Unable to base64 encode: No available method.\");t=global.Buffer.from(e,\"utf8\").toString(\"base64\")}return t}function Bc(e,t,r,i){var o,s,a,c,d,l,h,f,p,m,g,y,v,E,b,w,S,_,C,x;return u(this,void 0,void 0,(function*(){const r=null===(o=e.state.remote)||void 0===o?void 0:o.isReady(),u=null===(s=e.state.remote)||void 0===s?void 0:s.isConnected(),k=null===(a=e.state.remote)||void 0===a?void 0:a.isPaused(),M=uc.getProvider(),A=null===(c=e.state.remote)||void 0===c?void 0:c.getChannelId(),T=null===(d=e.state.remote)||void 0===d?void 0:d.isAuthorized(),{deeplinkProtocol:I}=e.state,{method:R,data:P,triggeredInstaller:O}=(e=>{var t,r,i,o;let s;n.Buffer.isBuffer(e)?(s=e.toJSON(),s._isBuffer=!0):s=e;const a=null===(t=null==s?void 0:s.data)||void 0===t?void 0:t.method;let c=!1;return\"object\"==typeof(null===(r=null==s?void 0:s.data)||void 0===r?void 0:r.params)&&!0===(null===(o=null===(i=null==s?void 0:s.data)||void 0===i?void 0:i.params)||void 0===o?void 0:o.__triggeredInstaller)&&(c=!0,s.data.params=s.data.params.wrappedParams),{method:a,data:s,triggeredInstaller:c}})(t);if(Da(`[RCPMS: write()] method='${R}' isRemoteReady=${r} channelId=${A} isSocketConnected=${u} isRemotePaused=${k} providerConnected=${M.isConnected()}`,t),!A)return R!==Sc.METAMASK_GETPROVIDERSTATE&&Da(`[RCPMS: write()] ${R} --\\x3e channelId is undefined`),i(new Error(\"disconnected\"));Da(`[RCPMS: write()] remote.isPaused()=${null===(l=e.state.remote)||void 0===l?void 0:l.isPaused()} authorized=${T} ready=${r} socketConnected=${u}`,t);const N=null===(h=e.state.platformManager)||void 0===h?void 0:h.isSecure(),D=null!==(p=null===(f=e.state.platformManager)||void 0===f?void 0:f.isMobileWeb())&&void 0!==p&&p,L=null!==(g=null===(m=e.state.remote)||void 0===m?void 0:m.hasDeeplinkProtocol())&&void 0!==g&&g&&D&&T;try{if(!O){const t=JSON.stringify(null==P?void 0:P.data);if(t.length>Rc)return i(new Error(`Message size ${t.length} exceeds maximum allowed size of 1000000 bytes`));null===(y=e.state.remote)||void 0===y||y.sendMessage(null==P?void 0:P.data).then((()=>{Da(`[RCPMS: _write()] ${R} sent successfully`)})).catch((e=>{Da(\"[RCPMS: _write()] error sending message\",e)}))}if(!N)return Da(`[RCPMS: _write()] unsecure platform for method ${R} -- return callback`),i();if(O)return Da(\"[RCPMS: _write()] prevent deeplink -- installation completed separately.\"),i();const t=null!==(b=null===(E=null===(v=e.state.remote)||void 0===v?void 0:v.getKeyInfo())||void 0===E?void 0:E.ecies.public)&&void 0!==b?b:\"\";let n=encodeURI(`channelId=${A}&pubkey=${t}&comm=socket&t=d&v=2`);if(L){const t=JSON.stringify(null==P?void 0:P.data),r=null===(w=e.state.remote)||void 0===w?void 0:w.encrypt(t);if(!r)return Da(\"[RCPMS: _write()] error encrypting message\"),i(new Error(\"RemoteCommunicationPostMessageStream - disconnected\"));n+=`&scheme=${I}&rpc=${Lc(r)}`}if(!(null===(S=e.state.platformManager)||void 0===S?void 0:S.isMetaMaskInstalled()))return Da(\"[RCPMS: _write()] prevent deeplink until installation is completed.\"),i();_c[R]?(Da(`[RCPMS: _write()] redirect link for '${R}' socketConnected=${u} connect?${n}`),null===(_=e.state.platformManager)||void 0===_||_.openDeeplink(`${vc}?${n}`,`${Ec}?${n}`,\"_self\")):(null===(C=e.state.remote)||void 0===C?void 0:C.isPaused())?(Da(`[RCPMS: _write()] MM is PAUSED! deeplink with connect! targetMethod=${R}`),null===(x=e.state.platformManager)||void 0===x||x.openDeeplink(`${vc}?redirect=true&${n}`,`${Ec}?redirect=true&${n}`,\"_self\")):Da(`[RCPMS: _write()] method ${R} doesn't need redirect.`)}catch(e){return Da(\"[RCPMS: _write()] error sending message\",e),i(new Error(\"RemoteCommunicationPostMessageStream - disconnected\"))}return i()}))}class Kc extends ua.Duplex{constructor({name:e,remote:t,deeplinkProtocol:n,platformManager:r}){super({objectMode:!0}),this.state={_name:null,remote:null,deeplinkProtocol:!1,platformManager:null},this.state._name=e,this.state.remote=t,this.state.deeplinkProtocol=n,this.state.platformManager=r,this._onMessage=this._onMessage.bind(this),this.state.remote.on(exports.EventType.MESSAGE,this._onMessage)}_write(e,t,n){return u(this,void 0,void 0,(function*(){return Bc(this,e,0,n)}))}_read(){}_onMessage(e){return function(e,t){try{if(Da(\"[RCPMS: onMessage()] message\",t),!t||\"object\"!=typeof t)return;if(\"object\"!=typeof(null==t?void 0:t.data))return;if(!(null==t?void 0:t.name))return void Da(\"[RCPMS: onMessage()] ignore message without name\",t);if((null==t?void 0:t.name)!==mc.PROVIDER)return void Da(`[RCPMS: onMessage()] ignore message with wrong name message=${t}`);if(n.Buffer.isBuffer(t)){const r=n.Buffer.from(t);e.push(r)}else e.push(t)}catch(e){Da(`[RCPMS: onMessage()] ignore message error err=${e}`)}}(this,e)}start(){}}let jc=1;const $c=e=>new Promise((t=>{setTimeout((()=>{t(!0)}),e)})),Hc=({checkInstallationOnAllCalls:t=!1,communicationLayerPreference:n,injectProvider:r,shouldShimWeb3:i,platformManager:o,installer:s,sdk:a,remoteConnection:c,debug:d})=>u(void 0,void 0,void 0,(function*(){var l,h;const f=(({name:e,remoteConnection:t})=>{if(!t||!(null==t?void 0:t.getConnector()))throw new Error(\"Missing remote connection parameter\");return new Kc({name:e,remote:null==t?void 0:t.getConnector(),deeplinkProtocol:null==t?void 0:t.state.deeplinkProtocol,platformManager:null==t?void 0:t.getPlatformManager()})})({name:mc.INPAGE,target:mc.CONTENT_SCRIPT,platformManager:o,communicationLayerPreference:n,remoteConnection:c}),p=o.getPlatformType(),m=a.options.dappMetadata,g=`Sdk/Javascript SdkVersion/${gc.version} Platform/${p} dApp/${null!==(l=m.url)&&void 0!==l?l:m.name} dAppTitle/${m.name}`;let y=null,v=null;const E=null===(h=a.options.storage)||void 0===h?void 0:h.storageManager;if(E){try{const e=yield E.getCachedAccounts();e.length>0&&(y=e[0])}catch(e){console.error(`[initializeMobileProvider] failed to get cached addresses: ${e}`)}try{const e=yield E.getCachedChainId();e&&(v=e)}catch(e){console.error(`[initializeMobileProvider] failed to parse cached chainId: ${e}`)}}Da(`[initializeMobileProvider] cachedAccountAddress: ${y}, cachedChainId: ${v}`);const b=!(!r||p===exports.PlatformType.NonBrowser||p===exports.PlatformType.ReactNative),w=uc.init({shouldSetOnWindow:b,connectionStream:f,shouldShimWeb3:i,sdkInstance:a});let S=!1;const _=e=>{S=e},C=()=>S,x=(n,r,i,d)=>u(void 0,void 0,void 0,(function*(){var l,h,f,p,m,b,w,x,k;const M=uc.getProvider();if(S){M.emit(\"display_uri\",(null==c?void 0:c.state.qrcodeLink)||\"\"),null==c||c.showActiveModal();let e=C();for(;e;){const t=C(),n=null==c?void 0:c.isAuthorized();e=t&&!n,Da(`[initializeMobileProvider: sendRequest()] waiting for initialization to complete - initializing: ${t} authorized: ${n}`),yield $c(1e3)}return Da(\"[initializeMobileProvider: sendRequest()] initial method completed -- prevent installation and call provider\"),i(...r)}const A=o.isMetaMaskInstalled(),T=null==c?void 0:c.isConnected();let I=null,R=null,P=null;if(I=null!==(l=M.getSelectedAddress())&&void 0!==l?l:y,P=M.getChainId()||v,I&&E&&I!==y&&E.persistAccounts([I]).catch((e=>{console.error(`[initializeMobileProvider] failed to persist account: ${e}`)})),P&&(v=P,E&&E.persistChainId(P).catch((e=>{console.error(`[initializeMobileProvider] failed to persist chainId: ${e}`)}))),Da(\"[initializeMobileProvider: sendRequest()]\",{selectedAddress:I,chainId:P}),d&&Da(`[initializeMobileProvider: sendRequest()] method=${n} ongoing=${S} selectedAddress=${I} isInstalled=${A} checkInstallationOnAllCalls=${t} socketConnected=${T}`),I&&n.toLowerCase()===Sc.ETH_ACCOUNTS.toLowerCase())return[I];if(P&&n.toLowerCase()===Sc.ETH_CHAINID.toLowerCase())return P;const O=[Sc.ETH_REQUESTACCOUNTS,Sc.WALLET_REQUESTPERMISSIONS,Sc.METAMASK_CONNECTSIGN,Sc.METAMASK_CONNECTWITH],N=!_c[n],D=null===(h=a.options.readonlyRPCMap)||void 0===h?void 0:h[P];if(D&&N)try{const t=null===(f=null==r?void 0:r[0])||void 0===f?void 0:f.params,i=yield(({rpcEndpoint:t,method:n,sdkInfo:r,params:i})=>u(void 0,void 0,void 0,(function*(){const o=JSON.stringify({jsonrpc:\"2.0\",method:n,params:i,id:(jc+=1,jc)}),s={Accept:\"application/json\",\"Content-Type\":\"application/json\"};let a;t.includes(\"infura\")&&(s[\"Metamask-Sdk-Info\"]=r);try{a=yield e(t,{method:\"POST\",headers:s,body:o})}catch(e){throw e instanceof Error?new Error(`Failed to fetch from RPC: ${e.message}`):new Error(`Failed to fetch from RPC: ${e}`)}if(!a.ok)throw new Error(`Server responded with a status of ${a.status}`);return(yield a.json()).result})))({rpcEndpoint:D,sdkInfo:g,method:n,params:t||[]});return d&&Da(`initializeProvider::ReadOnlyRPCResponse ${i}`),i}catch(e){console.warn(`[initializeMobileProvider: sendRequest()] method=${n} readOnlyRPCRequest failed:`,e)}if((!A||A&&!T)&&n!==Sc.METAMASK_GETPROVIDERSTATE){const e=(null===(p=null==r?void 0:r[0])||void 0===p?void 0:p.params)||[];if(-1!==O.indexOf(n)||t){_(!0);const t=n===Sc.METAMASK_CONNECTWITH,o=`${Date.now()}`;try{yield s.start({wait:!1,connectWith:t?{method:n,id:o,params:e}:void 0}),yield new Promise(((e,t)=>{(null==c?void 0:c.isAuthorized())&&(Da(\"[initializeMobileProvider: sendRequest()] already authorized\"),e(!0)),null==c||c.getConnector().once(exports.EventType.AUTHORIZED,(()=>{e(!0)})),a.once(exports.EventType.PROVIDER_UPDATE,(e=>{Da(`[initializeMobileProvider: sendRequest()] PROVIDER_UPDATE --- remote provider request interupted type=${e}`),e===exports.PROVIDER_UPDATE_TYPE.EXTENSION?t(exports.EventType.PROVIDER_UPDATE):t(new Error(\"Connection Terminated\"))}))}))}catch(t){if(exports.PROVIDER_UPDATE_TYPE.EXTENSION===t){if(Da(`[initializeMobileProvider: sendRequest()] extension provider detect: re-create ${n} on the active provider`),n.toLowerCase()===Sc.METAMASK_CONNECTSIGN.toLowerCase()){const t=yield null===(m=a.getProvider())||void 0===m?void 0:m.request({method:Sc.ETH_REQUESTACCOUNTS,params:[]});if(!t.length)throw new Error(\"SDK state invalid -- undefined accounts\");const n=yield null===(b=a.getProvider())||void 0===b?void 0:b.request({method:Sc.PERSONAL_SIGN,params:[e[0],t[0]]});return a.emit(lc.ConnectWithResponse,n),n}if(n.toLowerCase()===Sc.METAMASK_CONNECTWITH.toLowerCase()){const[t]=e,n=yield(({method:e,sdk:t,params:n})=>u(void 0,void 0,void 0,(function*(){var r,i,o,s;if(!t.isExtensionActive())throw new Error(\"SDK state invalid -- extension is not active\");Da(\"[MetaMaskProvider: extensionConnectWithOverwrite()] Overwriting request method\",e,n);const a=yield null===(r=t.getProvider())||void 0===r?void 0:r.request({method:Sc.ETH_REQUESTACCOUNTS,params:[]});if(!a.length)throw new Error(\"SDK state invalid -- undefined accounts\");if((null==e?void 0:e.toLowerCase())===Sc.PERSONAL_SIGN.toLowerCase()){const r={method:e,params:[n[0],a[0]]};return yield null===(i=t.getProvider())||void 0===i?void 0:i.request(r)}if((null==e?void 0:e.toLowerCase())===Sc.ETH_SENDTRANSACTION.toLowerCase()){const r={method:e,params:[Object.assign(Object.assign({},n[0]),{from:a[0]})]};return yield null===(o=t.getProvider())||void 0===o?void 0:o.request(r)}return xc.includes(e.toLowerCase())?(console.warn(`MetaMaskSDK connectWith method=${e} -- not handled by the extension -- call separately`),a):yield null===(s=t.getProvider())||void 0===s?void 0:s.request({method:e,params:n})})))({method:t.method,sdk:a,params:t.params});return a.emit(lc.ConnectWithResponse,n),n}return Da(`[initializeMobileProvider: sendRequest()] sending '${n}' on active provider`,e),yield null===(w=a.getProvider())||void 0===w?void 0:w.request({method:n,params:e})}if(t===exports.EventType.REJECTED)throw null==c||c.closeModal(),null===(x=a.getProvider())||void 0===x||x.handleDisconnect({terminate:!1}),Object.assign(new Error(\"User rejected connection\"),{code:4001});throw Da(`[initializeMobileProvider: sendRequest()] failed to start installer: ${t}`),t}finally{_(!1)}if(n===Sc.ETH_REQUESTACCOUNTS)return R=yield new Promise((e=>{const t=setInterval((()=>{const{accounts:n}=M.getState();n&&(clearInterval(t),e(n))}),100)})),Da(`[initializeMobileProvider: sendRequest()] selectedAddress: ${I} --- SKIP rpc call`),R;if(n===Sc.METAMASK_CONNECTWITH)try{let e=0;const t=5,n=({resolve:n,reject:r})=>{e+=1;const i=null==c?void 0:c.getConnector().getRPCMethodTracker(),s=null==i?void 0:i[o];return Da(`TRACKER: update method ${o}`,s),(null==s?void 0:s.result)?(Da(\"[initializeMobileProvider: sendRequest()] found result\",s.result),a.emit(lc.ConnectWithResponse,s.result),void n(s.result)):(null==s?void 0:s.error)?(Da(\"[initializeMobileProvider: sendRequest()] found error\",s.error),void r(s.error)):e>=t?(Da(\"[initializeMobileProvider: sendRequest()] max message count reached without result\"),void r(new Error(\"Max message count reached without result\"))):void Da(\"[initializeMobileProvider: sendRequest()] not found yet, need to wait for next update\")};let r,i;const s=yield new Promise(((e,t)=>{const s=null==c?void 0:c.getConnector().getRPCMethodTracker();Da(`TRACKER: method ${o}`,s),(null==s?void 0:s[o].result)?(Da(\"[initializeMobileProvider: sendRequest()] found result\",null==s?void 0:s[o].result),e(null==s?void 0:s[o].result)):(null==s?void 0:s[o].error)&&(Da(\"[initializeMobileProvider: sendRequest()] found error\",null==s?void 0:s[o].error),t(null==s?void 0:s[o].error)),i=()=>n({resolve:e,reject:t}),r=null==c?void 0:c.getConnector().on(exports.EventType.RPC_UPDATE,i)}));return i&&(null==r||r.off(exports.EventType.RPC_UPDATE,i)),Da(\"TRACKER: result\",s),s}catch(e){throw Da(\"[initializeMobileProvider: sendRequest()] error:\",e),e}r[0]&&\"object\"==typeof r[0]&&(r[0].params={__triggeredInstaller:!0,wrappedParams:r[0].params});return i(...r)}if(o.isSecure()&&_c[n])return i(...r);if(a.isExtensionActive())return Da(`[initializeMobileProvider: sendRequest()] EXTENSION active - redirect request '${n}' to it`,r,e),yield null===(k=a.getProvider())||void 0===k?void 0:k.request({method:n,params:e});throw Da(`[initializeMobileProvider: sendRequest()] method=${n} --- skip --- not connected/installed`),new Error(\"MetaMask is not connected/installed, please call eth_requestAccounts to connect first.\")}try{const e=yield i(...r);if(Da(`[initializeMobileProvider: sendRequest()] method=${n} rpcResponse`,e),n===Sc.WALLET_REQUESTPERMISSIONS){const t=e.reduce(((e,t)=>{var n;if(\"eth_accounts\"===t.parentCapability){const r=null===(n=t.caveats.find((e=>\"restrictReturnedAccounts\"===e.type)))||void 0===n?void 0:n.value;r&&e.push(...r)}return e}),[]);Da(\"[initializeMobileProvider: sendRequest()] accountsToPersist:\",t),t.length>0&&(M.handleAccountsChanged(t,!1),null==E||E.persistAccounts(t))}return e}catch(e){throw console.error(\"[initializeMobileProvider: sendRequest()] error:\",e),e}})),{request:k}=w;w.request=(...e)=>u(void 0,void 0,void 0,(function*(){return x(null==e?void 0:e[0].method,e,k,d)}));const{send:M}=w;return w.send=(...e)=>u(void 0,void 0,void 0,(function*(){return x(null==e?void 0:e[0],e,M,d)})),Da(\"[initializeMobileProvider: sendRequest()] metamaskStream.start()\"),f.start(),w}));function Uc(e){var t,n,r,i;return u(this,void 0,void 0,(function*(){const{options:o}=e,s={communicationLayerPreference:null!==(t=o.communicationLayerPreference)&&void 0!==t?t:exports.CommunicationLayerPreference.SOCKET,platformManager:e.platformManager,sdk:e,checkInstallationOnAllCalls:o.checkInstallationOnAllCalls,injectProvider:null===(n=o.injectProvider)||void 0===n||n,shouldShimWeb3:null===(r=o.shouldShimWeb3)||void 0===r||r,extensionOnly:null===(i=o.extensionOnly)||void 0===i||i,installer:e.installer,remoteConnection:e.remoteConnection,debug:e.debug},a=yield Hc(s);e.activeProvider=a,function(e){var t,n,r,i;null===(n=null===(t=e.remoteConnection)||void 0===t?void 0:t.getConnector())||void 0===n||n.on(lc.ConnectionStatus,(t=>{e.emit(lc.ConnectionStatus,t)})),null===(i=null===(r=e.remoteConnection)||void 0===r?void 0:r.getConnector())||void 0===i||i.on(lc.ServiceStatus,(t=>{e.emit(lc.ServiceStatus,t)}))}(e)}))}const Fc=\"sdk\";class qc{constructor({serverUrl:e,enabled:t,originatorInfo:n}){this.serverURL=rr,this.serverURL=e,this.originatorInfo=n,this.enabled=null==t||t}send({event:e,params:t}){if(!this.enabled)return;const n=Object.assign(Object.assign({id:Fc,event:e,sdkVersion:gc.version},this.originatorInfo),{params:t});Da(`[Analytics: send()] event: ${e}`,n),er(n,this.serverURL).catch((e=>{Da(`[Analytics: send()] error: ${e}`)}))}}const zc=()=>{if(\"undefined\"==typeof document)return;let e;const t=document.getElementsByTagName(\"link\");for(let n=0;n<t.length;n++)\"icon\"!==t[n].getAttribute(\"rel\")&&\"shortcut icon\"!==t[n].getAttribute(\"rel\")||(e=t[n].getAttribute(\"href\"));return e},Wc=163400;function Vc(e){var t,n,r;const{dappMetadata:i}=e,o=function({url:e,name:t}){var n;const r=e+t,i=Lc(r);if(!localStorage)return\"\";let o=null!==(n=localStorage.getItem(i))&&void 0!==n?n:\"\";if(!o){o=s.v4();try{localStorage.setItem(i,o)}catch(e){return\"\"}}return o}({url:null!==(t=null==i?void 0:i.url)&&void 0!==t?t:\"no_url\",name:null!==(n=null==i?void 0:i.name)&&void 0!==n?n:\"no_name\"}),a=null===(r=e.platformManager)||void 0===r?void 0:r.getPlatformType(),c=a===exports.PlatformType.DesktopWeb,d=a===exports.PlatformType.MetaMaskMobileWebview;let l=\"N/A\";return c?l=\"extension\":d&&(l=\"mobile\"),{id:o,from:l}}const Gc=(e,t,n)=>{if(dr(e)){if(n||t&&\"object\"==typeof t&&null!==t&&\"error\"in t){const r=n||(null==t?void 0:t.error);r&&4001===r.code?i.analytics.track(\"sdk_action_rejected\",{action:e}):i.analytics.track(\"sdk_action_failed\",{action:e})}else i.analytics.track(\"sdk_action_succeeded\",{action:e})}},Yc=({provider:e,sdkInstance:t})=>{if(\"state\"in e)throw new Error(\"INVALID EXTENSION PROVIDER\");return new Proxy(e,{get:(n,r)=>\"request\"===r?function(e){var r,o;return u(this,void 0,void 0,(function*(){Da(\"[wrapExtensionProvider()] Overwriting request method\",e);const{method:s,params:a}=e,c=Cc.includes(s.toLowerCase()),{id:d,from:l}=Vc(t);if(c&&(null===(r=t.analytics)||void 0===r||r.send({event:fr.SDK_RPC_REQUEST,params:{method:s,from:l,id:d}})),dr(s)&&i.analytics.track(\"sdk_action_requested\",{action:s}),s===Sc.METAMASK_BATCH&&Array.isArray(a))return(({target:e,args:t,trackEvent:n,sdkInstance:r})=>u(void 0,void 0,void 0,(function*(){var i,o;if(\"metamask_batch\"!==t.method)throw new Error(\"Invalid usage\");const s=[],a=null!==(i=null==t?void 0:t.params)&&void 0!==i?i:[];for(const t of a){const n=yield null==e?void 0:e.request({method:t.method,params:t.params});s.push(n)}const{id:c,from:d}=Vc(r);n&&(null===(o=r.analytics)||void 0===o||o.send({event:fr.SDK_RPC_REQUEST_DONE,params:{method:t.method,from:d,id:c}}));for(const e of s)Gc(t.method,e,null);return s})))({target:n,args:e,trackEvent:c,sdkInstance:t});if(s.toLowerCase()===Sc.METAMASK_CONNECTSIGN.toLowerCase()&&Array.isArray(a))return(({target:e,params:t})=>u(void 0,void 0,void 0,(function*(){let n,r=null;try{const r=yield e.request({method:Sc.ETH_REQUESTACCOUNTS,params:[]});if(!r.length)throw new Error(\"SDK state invalid -- undefined accounts\");return n=yield e.request({method:Sc.PERSONAL_SIGN,params:[t[0],r[0]]}),n}catch(e){throw r=e,e}finally{Gc(Sc.PERSONAL_SIGN,n,r)}})))({target:n,params:a});if(s.toLowerCase()===Sc.METAMASK_CONNECTWITH.toLowerCase()&&Array.isArray(a))return(({target:e,params:t})=>u(void 0,void 0,void 0,(function*(){const[n]=t,r=n.method,i=n.params;let o,s=null;try{const t=yield e.request({method:Sc.ETH_REQUESTACCOUNTS,params:[]});if(!Array.isArray(t)||!t.length)throw new Error(\"SDK state invalid -- undefined accounts\");return(null==r?void 0:r.toLowerCase())===Sc.PERSONAL_SIGN.toLowerCase()?(o=yield e.request({method:r,params:[i[0],t[0]]}),o):(null==r?void 0:r.toLowerCase())===Sc.ETH_SENDTRANSACTION.toLowerCase()?(o=yield e.request({method:r,params:[Object.assign(Object.assign({},i[0]),{from:t[0]})]}),o):xc.includes(r.toLowerCase())?(console.warn(`MetaMaskSDK connectWith method=${r} -- not handled by the extension -- call separately`),o=t,o):(o=yield e.request({method:r,params:i}),o)}catch(e){throw s=e,e}finally{Gc(r,o,s)}})))({target:n,params:a});let h,f=null;try{return h=yield n.request(e),h}catch(e){throw f=e,e}finally{c&&(null===(o=t.analytics)||void 0===o||o.send({event:fr.SDK_RPC_REQUEST_DONE,params:{method:s,from:l,id:d}})),Gc(s,h,f)}}))}:\"getChainId\"===r?function(){return e.chainId}:\"getNetworkVersion\"===r?function(){return e.networkVersion}:\"getSelectedAddress\"===r?function(){return e.selectedAddress}:\"isConnected\"===r?function(){return e._state.isConnected}:n[r]})};var Zc;function Jc({mustBeMetaMask:e,sdkInstance:t}){return u(this,void 0,void 0,(function*(){if(\"undefined\"==typeof window)throw new Error(\"window not available\");try{const e=yield new Promise(((e,t)=>{const n=setTimeout((()=>{t(new Error(\"eip6963RequestProvider timed out\"))}),500);window.addEventListener(Zc.Announce,(t=>{const r=t,{detail:{info:i,provider:o}={}}=r,{name:s,rdns:a,uuid:c}=null!=i?i:{};wc.test(c)&&s.startsWith(bc.NAME)&&bc.RDNS.includes(a)&&(clearTimeout(n),e(o))})),window.dispatchEvent(new Event(Zc.Request))}));return Yc({provider:e,sdkInstance:t})}catch(n){if(!e&&window.ethereum)return Yc({provider:window.ethereum,sdkInstance:t});throw new Error(\"Provider not found\")}}))}!function(e){e.Announce=\"eip6963:announceProvider\",e.Request=\"eip6963:requestProvider\"}(Zc||(Zc={}));const Qc=e=>u(void 0,void 0,void 0,(function*(){const{options:t}=e,{infuraAPIKey:n}=t;if(!n)return;const r={\"0x1\":`https://mainnet.infura.io/v3/${n}`,\"0x5\":`https://goerli.infura.io/v3/${n}`,\"0xaa36a7\":`https://sepolia.infura.io/v3/${n}`,\"0xe708\":`https://linea-mainnet.infura.io/v3/${n}`,\"0xe704\":`https://linea-goerli.infura.io/v3/${n}`,\"0x89\":`https://polygon-mainnet.infura.io/v3/${n}`,\"0x13881\":`https://polygon-mumbai.infura.io/v3/${n}`,\"0x45\":`https://optimism-mainnet.infura.io/v3/${n}`,\"0x1a4\":`https://optimism-goerli.infura.io/v3/${n}`,\"0xa4b1\":`https://arbitrum-mainnet.infura.io/v3/${n}`,\"0x66eed\":`https://arbitrum-goerli.infura.io/v3/${n}`,\"0x2a15c308d\":`https://palm-mainnet.infura.io/v3/${n}`,\"0x2a15c3083\":`https://palm-testnet.infura.io/v3/${n}`,\"0xa86a\":`https://avalanche-mainnet.infura.io/v3/${n}`,\"0xa869\":`https://avalanche-fuji.infura.io/v3/${n}`,\"0x4e454152\":`https://aurora-mainnet.infura.io/v3/${n}`,\"0x4e454153\":`https://aurora-testnet.infura.io/v3/${n}`,\"0x534e5f4d41494e\":`https://starknet-mainnet.infura.io/v3/${n}`,\"0x534e5f474f45524c49\":`https://starknet-goerli.infura.io/v3/${n}`,\"0x534e5f474f45524c4932\":`https://starknet-goerli2.infura.io/v3/${n}`,\"0xa4ec\":`https://celo-mainnet.infura.io/v3/${n}`,\"0xaef3\":`https://celo-alfajores.infura.io/v3/${n}`};e.options.readonlyRPCMap?e.options.readonlyRPCMap=Object.assign(Object.assign({},e.options.readonlyRPCMap),r):e.options.readonlyRPCMap=r}));const Xc=e=>u(void 0,void 0,void 0,(function*(){const{options:t}=e,{readonlyRPCMap:n}=t;if(n)try{Da(\"[MetaMaskSDK: setupReadOnlyRPCProviders()] Setting up Readonly RPC Providers\",n),e.setReadOnlyRPCCalls(!0)}catch(e){throw new Error(\"Invalid Infura Settings\")}}));function ed(e,t,n,r){return new(n||(n=Promise))((function(t,i){function o(e){try{a(r.next(e))}catch(e){i(e)}}function s(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n((function(e){e(r)}))).then(o,s)}a((r=r.apply(e,[])).next())}))}function td(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var nd=\"INSTALLED\",rd=\"NOT_INSTALLED\",id=\"REGISTERED\",od=\"REGISTERING\",sd=\"RELOADING\",ad={CHROME:\"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn\",FIREFOX:\"https://addons.mozilla.org/firefox/addon/ether-metamask/\",DEFAULT:\"https://metamask.io\"},cd=\"REGISTRATION_IN_PROGRESS\",dd=\"FORWARDER_ID\",ld=function(){function e(t){var n=void 0===t?{}:t,r=n.forwarderOrigin,i=void 0===r?\"https://fwd.metamask.io\":r,o=n.forwarderMode,s=void 0===o?e.FORWARDER_MODE.INJECT:o;this.forwarderOrigin=i,this.forwarderMode=s,this.state=e.isMetaMaskInstalled()?nd:rd;var a=e._detectBrowser();this.downloadUrl=a?ad[a]:ad.DEFAULT,this._onMessage=this._onMessage.bind(this),this._onMessageFromForwarder=this._onMessageFromForwarder.bind(this),this._openForwarder=this._openForwarder.bind(this),this._openDownloadPage=this._openDownloadPage.bind(this),this.startOnboarding=this.startOnboarding.bind(this),this.stopOnboarding=this.stopOnboarding.bind(this),window.addEventListener(\"message\",this._onMessage),s===e.FORWARDER_MODE.INJECT&&\"true\"===sessionStorage.getItem(cd)&&e._injectForwarder(this.forwarderOrigin)}return e.prototype._onMessage=function(e){if(e.origin===this.forwarderOrigin)return\"metamask:reload\"===e.data.type?this._onMessageFromForwarder(e):void console.debug(\"Unknown message from '\"+e.origin+\"' with data \"+JSON.stringify(e.data))},e.prototype._onMessageUnknownStateError=function(e){throw new Error(\"Unknown state: '\"+e+\"'\")},e.prototype._onMessageFromForwarder=function(t){return ed(this,0,void 0,(function(){return td(this,(function(n){switch(n.label){case 0:switch(this.state){case sd:return[3,1];case rd:return[3,2];case nd:return[3,3];case od:return[3,5];case id:return[3,6]}return[3,7];case 1:return console.debug(\"Ignoring message while reloading\"),[3,8];case 2:return console.debug(\"Reloading now to register with MetaMask\"),this.state=sd,location.reload(),[3,8];case 3:return console.debug(\"Registering with MetaMask\"),this.state=od,[4,e._register()];case 4:return n.sent(),this.state=id,t.source.postMessage({type:\"metamask:registrationCompleted\"},t.origin),this.stopOnboarding(),[3,8];case 5:return console.debug(\"Already registering - ignoring reload message\"),[3,8];case 6:return console.debug(\"Already registered - ignoring reload message\"),[3,8];case 7:this._onMessageUnknownStateError(this.state),n.label=8;case 8:return[2]}}))}))},e.prototype.startOnboarding=function(){sessionStorage.setItem(cd,\"true\"),this._openDownloadPage(),this._openForwarder()},e.prototype.stopOnboarding=function(){\"true\"===sessionStorage.getItem(cd)&&(this.forwarderMode===e.FORWARDER_MODE.INJECT&&(console.debug(\"Removing forwarder\"),e._removeForwarder()),sessionStorage.setItem(cd,\"false\"))},e.prototype._openForwarder=function(){this.forwarderMode===e.FORWARDER_MODE.OPEN_TAB?window.open(this.forwarderOrigin,\"_blank\"):e._injectForwarder(this.forwarderOrigin)},e.prototype._openDownloadPage=function(){window.open(this.downloadUrl,\"_blank\")},e.isMetaMaskInstalled=function(){return Boolean(window.ethereum&&window.ethereum.isMetaMask)},e._register=function(){return window.ethereum.request({method:\"wallet_registerOnboarding\"})},e._injectForwarder=function(e){var t=document.body,n=document.createElement(\"iframe\");n.setAttribute(\"height\",\"0\"),n.setAttribute(\"width\",\"0\"),n.setAttribute(\"style\",\"display: none;\"),n.setAttribute(\"src\",e),n.setAttribute(\"id\",dd),t.insertBefore(n,t.children[0])},e._removeForwarder=function(){var e;null===(e=document.getElementById(dd))||void 0===e||e.remove()},e._detectBrowser=function(){var e=dc.parse(window.navigator.userAgent);return\"Firefox\"===e.browser.name?\"FIREFOX\":[\"Chrome\",\"Chromium\"].includes(e.browser.name||\"\")?\"CHROME\":null},e.FORWARDER_MODE={INJECT:\"INJECT\",OPEN_TAB:\"OPEN_TAB\"},e}();function ud(e,{wait:t=!1}){return u(this,void 0,void 0,(function*(){return Da(`[MetamaskInstaller: startInstaller()] wait=${t}`),t&&(yield $c(1e3)),yield e.checkInstallation()}))}class hd{constructor({remote:e,preferDesktop:t,platformManager:n,debug:r=!1}){this.state={isInstalling:!1,hasInstalled:!1,resendRequest:null,preferDesktop:!1,platformManager:null,remote:null,debug:!1,connectWith:void 0},this.state.remote=e,this.state.preferDesktop=t,this.state.platformManager=n,this.state.debug=r}startDesktopOnboarding(){return function(){return u(this,void 0,void 0,(function*(){Da(\"[MetamaskInstaller: startDesktopOnboarding() starting desktop onboarding\"),window.ethereum&&(window.ethereum=void 0),(new ld).startOnboarding()}))}()}redirectToProperInstall(){return u(this,void 0,void 0,(function*(){return function(e){var t,n;return u(this,void 0,void 0,(function*(){const{state:r}=e,i=null===(t=r.platformManager)||void 0===t?void 0:t.getPlatformType();if(Da(`[MetamaskInstaller: redirectToProperInstall()] platform=${i}`),i===exports.PlatformType.MetaMaskMobileWebview)return!1;r.isInstalling=!0;try{yield null===(n=r.remote)||void 0===n?void 0:n.startConnection({connectWith:r.connectWith}),r.isInstalling=!1,r.hasInstalled=!0}catch(e){throw r.isInstalling=!1,e}return!0}))}(this)}))}checkInstallation(){return u(this,void 0,void 0,(function*(){return function(e){var t;return u(this,void 0,void 0,(function*(){const{state:n}=e,r=null===(t=n.platformManager)||void 0===t?void 0:t.isMetaMaskInstalled();return Da(`[MetamaskInstaller: checkInstallation()] isInstalled=${r}`),!!r||(yield e.redirectToProperInstall())}))}(this)}))}start({wait:e=!1,connectWith:t}){return u(this,void 0,void 0,(function*(){this.state.connectWith=t,Da(`[MetaMaskInstaller: start()] wait=${e}`,t),yield ud(this,{wait:e})}))}}function fd(e,t){return e.toString(2).padStart(t,\"0\")}function pd(e,t){const n=e%t;return n>=0?n:t+n}function md(e,t){return new Array(e).fill(t)}function gd(...e){let t=0;for(const n of e)t=Math.max(t,n.length);const n=[];for(let r=0;r<t;r++)for(const t of e)r>=t.length||n.push(t[r]);return new Uint8Array(n)}function yd(e,t,n){if(n<0||n+t.length>e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[n+r])return!1;return!0}function vd(e){return{has:t=>e.includes(t),decode:t=>{if(!Array.isArray(t)||t.length&&\"string\"!=typeof t[0])throw new Error(\"alphabet.decode input should be array of strings\");return t.map((t=>{if(\"string\"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const n=e.indexOf(t);if(-1===n)throw new Error(`Unknown letter: \"${t}\". Allowed: ${e}`);return n}))},encode:t=>{if(!Array.isArray(t)||t.length&&\"number\"!=typeof t[0])throw new Error(\"alphabet.encode input should be an array of numbers\");return t.map((t=>{if(function(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))}}}class Ed{static size(e,t){if(\"number\"==typeof e&&(e={height:e,width:e}),!Number.isSafeInteger(e.height)&&e.height!==1/0)throw new Error(`Bitmap: wrong height=${e.height} (${typeof e.height})`);if(!Number.isSafeInteger(e.width)&&e.width!==1/0)throw new Error(`Bitmap: wrong width=${e.width} (${typeof e.width})`);return void 0!==t&&(e={width:Math.min(e.width,t.width),height:Math.min(e.height,t.height)}),e}static fromString(e){const t=(e=e.replace(/^\\n+/g,\"\").replace(/\\n+$/g,\"\")).split(\"\\n\"),n=t.length,r=new Array(n);let i;for(const e of t){const t=e.split(\"\").map((e=>{if(\"X\"===e)return!0;if(\" \"===e)return!1;if(\"?\"!==e)throw new Error(`Bitmap.fromString: unknown symbol=${e}`)}));if(i&&t.length!==i)throw new Error(`Bitmap.fromString different row sizes: width=${i} cur=${t.length}`);i=t.length,r.push(t)}return i||(i=0),new Ed({height:n,width:i},r)}constructor(e,t){const{height:n,width:r}=Ed.size(e);this.data=t||Array.from({length:n},(()=>md(r,void 0))),this.height=n,this.width=r}point(e){return this.data[e.y][e.x]}isInside(e){return 0<=e.x&&e.x<this.width&&0<=e.y&&e.y<this.height}size(e){if(!e)return{height:this.height,width:this.width};const{x:t,y:n}=this.xy(e);return{height:this.height-n,width:this.width-t}}xy(e){if(\"number\"==typeof e&&(e={x:e,y:e}),!Number.isSafeInteger(e.x))throw new Error(`Bitmap: wrong x=${e.x}`);if(!Number.isSafeInteger(e.y))throw new Error(`Bitmap: wrong y=${e.y}`);return e.x=pd(e.x,this.width),e.y=pd(e.y,this.height),e}rect(e,t,n){const{x:r,y:i}=this.xy(e),{height:o,width:s}=Ed.size(t,this.size({x:r,y:i}));for(let e=0;e<o;e++)for(let t=0;t<s;t++)this.data[i+e][r+t]=\"function\"==typeof n?n({x:t,y:e},this.data[i+e][r+t]):n;return this}rectRead(e,t,n){return this.rect(e,t,((e,t)=>(n(e,t),t)))}hLine(e,t,n){return this.rect(e,{width:t,height:1},n)}vLine(e,t,n){return this.rect(e,{width:1,height:t},n)}border(e=2,t){const n=this.height+2*e,r=this.width+2*e,i=md(e,t),o=Array.from({length:e},(()=>md(r,t)));return new Ed({height:n,width:r},[...o,...this.data.map((e=>[...i,...e,...i])),...o])}embed(e,t){return this.rect(e,t.size(),(({x:e,y:n})=>t.data[n][e]))}rectSlice(e,t=this.size()){const n=new Ed(Ed.size(t,this.size(this.xy(e))));return this.rect(e,t,(({x:e,y:t},r)=>n.data[t][e]=r)),n}inverse(){const{height:e,width:t}=this;return new Ed({height:t,width:e}).rect({x:0,y:0},1/0,(({x:e,y:t})=>this.data[e][t]))}scale(e){if(!Number.isSafeInteger(e)||e>1024)throw new Error(`Wrong scale factor: ${e}`);const{height:t,width:n}=this;return new Ed({height:e*t,width:e*n}).rect({x:0,y:0},1/0,(({x:t,y:n})=>this.data[Math.floor(n/e)][Math.floor(t/e)]))}clone(){return new Ed(this.size()).rect({x:0,y:0},this.size(),(({x:e,y:t})=>this.data[t][e]))}assertDrawn(){this.rectRead(0,1/0,((e,t)=>{if(\"boolean\"!=typeof t)throw new Error(\"Invalid color type=\"+typeof t)}))}toString(){return this.data.map((e=>e.map((e=>void 0===e?\"?\":e?\"X\":\" \")).join(\"\"))).join(\"\\n\")}toASCII(){const{height:e,width:t,data:n}=this;let r=\"\";for(let i=0;i<e;i+=2){for(let o=0;o<t;o++){const t=n[i][o],s=i+1>=e||n[i+1][o];t||s?!t&&s?r+=\"\":t&&!s?r+=\"\":t&&s&&(r+=\" \"):r+=\"\"}r+=\"\\n\"}return r}toTerm(){const e=\"\u001b[0m\",t=`\u001b[1;47m  ${e}`,n=`\u001b[40m  ${e}`;return this.data.map((e=>e.map((e=>e?n:t)).join(\"\"))).join(\"\\n\")}toSVG(){let e=`<svg xmlns:svg=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 ${this.width} ${this.height}\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">`;return this.rectRead(0,1/0,(({x:t,y:n},r)=>{r&&(e+=`<rect x=\"${t}\" y=\"${n}\" width=\"1\" height=\"1\" />`)})),e+=\"</svg>\",e}toGIF(){const e=e=>[255&e,e>>>8&255],t=[...e(this.width),...e(this.height)],n=[];this.rectRead(0,1/0,((e,t)=>n.push(+(!0===t))));const r=126,i=[71,73,70,56,55,97,...t,246,0,0,255,255,255,...md(381,0),44,0,0,0,0,...t,0,7],o=Math.floor(n.length/r);for(let e=0;e<o;e++)i.push(127,128,...n.slice(r*e,r*(e+1)).map((e=>+e)));return i.push(n.length%r+1,128,...n.slice(o*r).map((e=>+e))),i.push(1,129,0,59),new Uint8Array(i)}toImage(e=!1){const{height:t,width:n}=this.size(),r=new Uint8Array(t*n*(e?3:4));let i=0;for(let o=0;o<t;o++)for(let t=0;t<n;t++){const n=this.data[o][t]?0:255;r[i++]=n,r[i++]=n,r[i++]=n,e||(r[i++]=255)}return{height:t,width:n,data:r}}}const bd=[\"low\",\"medium\",\"quartile\",\"high\"],wd=[\"numeric\",\"alphanumeric\",\"byte\",\"kanji\",\"eci\"],Sd=[26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],_d={low:[7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],medium:[10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],quartile:[13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],high:[17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]},Cd={low:[1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],medium:[1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],quartile:[1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],high:[1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]},xd={size:{encode:e=>21+4*(e-1),decode:e=>(e-17)/4},sizeType:e=>Math.floor((e+7)/17),alignmentPatterns(e){if(1===e)return[];const t=xd.size.encode(e)-6-1,n=t-6,r=Math.ceil(n/28);let i=Math.floor(n/r);i%2?i+=1:n%r*2>=r&&(i+=2);const o=[6];for(let e=1;e<r;e++)o.push(t-(r-e)*i);return o.push(t),o},ECCode:{low:1,medium:0,quartile:3,high:2},formatMask:21522,formatBits(e,t){const n=xd.ECCode[e]<<3|t;let r=n;for(let e=0;e<10;e++)r=r<<1^1335*(r>>9);return(n<<10|r)^xd.formatMask},versionBits(e){let t=e;for(let e=0;e<12;e++)t=t<<1^7973*(t>>11);return e<<12|t},alphabet:{numeric:vd(\"0123456789\"),alphanumerc:vd(\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:\")},lengthBits:(e,t)=>({numeric:[10,12,14],alphanumeric:[9,11,13],byte:[8,16,16],kanji:[8,10,12],eci:[0,0,0]}[t][xd.sizeType(e)]),modeBits:{numeric:\"0001\",alphanumeric:\"0010\",byte:\"0100\",kanji:\"1000\",eci:\"0111\"},capacity(e,t){const n=Sd[e-1],r=_d[t][e-1],i=Cd[t][e-1],o=Math.floor(n/i)-r,s=i-n%i;return{words:r,numBlocks:i,shortBlocks:s,blockLen:o,capacity:8*(n-r*i),total:(r+o)*i+i-s}}},kd=[(e,t)=>(e+t)%2==0,(e,t)=>t%2==0,(e,t)=>e%3==0,(e,t)=>(e+t)%3==0,(e,t)=>(Math.floor(t/2)+Math.floor(e/3))%2==0,(e,t)=>e*t%2+e*t%3==0,(e,t)=>(e*t%2+e*t%3)%2==0,(e,t)=>((e+t)%2+e*t%3)%2==0],Md={tables:(e=>{const t=md(256,0),n=md(256,0);for(let e=0,r=1;e<256;e++)t[e]=r,n[r]=e,r<<=1,256&r&&(r^=285);return{exp:t,log:n}})(),exp:e=>Md.tables.exp[e],log(e){if(0===e)throw new Error(`GF.log: wrong arg=${e}`);return Md.tables.log[e]%255},mul:(e,t)=>0===e||0===t?0:Md.tables.exp[(Md.tables.log[e]+Md.tables.log[t])%255],add:(e,t)=>e^t,pow:(e,t)=>Md.tables.exp[Md.tables.log[e]*t%255],inv(e){if(0===e)throw new Error(`GF.inverse: wrong arg=${e}`);return Md.tables.exp[255-Md.tables.log[e]]},polynomial(e){if(0==e.length)throw new Error(\"GF.polymomial: wrong length\");if(0!==e[0])return e;let t=0;for(;t<e.length-1&&0==e[t];t++);return e.slice(t)},monomial(e,t){if(e<0)throw new Error(`GF.monomial: wrong degree=${e}`);if(0==t)return[0];let n=md(e+1,0);return n[0]=t,Md.polynomial(n)},degree:e=>e.length-1,coefficient:(e,t)=>e[Md.degree(e)-t],mulPoly(e,t){if(0===e[0]||0===t[0])return[0];const n=md(e.length+t.length-1,0);for(let r=0;r<e.length;r++)for(let i=0;i<t.length;i++)n[r+i]=Md.add(n[r+i],Md.mul(e[r],t[i]));return Md.polynomial(n)},mulPolyScalar(e,t){if(0==t)return[0];if(1==t)return e;const n=md(e.length,0);for(let r=0;r<e.length;r++)n[r]=Md.mul(e[r],t);return Md.polynomial(n)},mulPolyMonomial(e,t,n){if(t<0)throw new Error(\"GF.mulPolyMonomial: wrong degree\");if(0==n)return[0];const r=md(e.length+t,0);for(let t=0;t<e.length;t++)r[t]=Md.mul(e[t],n);return Md.polynomial(r)},addPoly(e,t){if(0===e[0])return t;if(0===t[0])return e;let n=e,r=t;n.length>r.length&&([n,r]=[r,n]);let i=md(r.length,0),o=r.length-n.length,s=r.slice(0,o);for(let e=0;e<s.length;e++)i[e]=s[e];for(let e=o;e<r.length;e++)i[e]=Md.add(n[e-o],r[e]);return Md.polynomial(i)},remainderPoly(e,t){const n=Array.from(e);for(let r=0;r<e.length-t.length+1;r++){const e=n[r];if(0!==e)for(let i=1;i<t.length;i++)0!==t[i]&&(n[r+i]=Md.add(n[r+i],Md.mul(t[i],e)))}return n.slice(e.length-t.length+1,n.length)},divisorPoly(e){let t=[1];for(let n=0;n<e;n++)t=Md.mulPoly(t,[1,Md.pow(2,n)]);return t},evalPoly(e,t){if(0==t)return Md.coefficient(e,0);let n=e[0];for(let r=1;r<e.length;r++)n=Md.add(Md.mul(t,n),e[r]);return n},euclidian(e,t,n){Md.degree(e)<Md.degree(t)&&([e,t]=[t,e]);let r=e,i=t,o=[0],s=[1];for(;2*Md.degree(i)>=n;){let e=r,t=o;if(r=i,o=s,0===r[0])throw new Error(\"rLast[0] === 0\");i=e;let n=[0];const a=Md.inv(r[0]);for(;Md.degree(i)>=Md.degree(r)&&0!==i[0];){const e=Md.degree(i)-Md.degree(r),t=Md.mul(i[0],a);n=Md.addPoly(n,Md.monomial(e,t)),i=Md.addPoly(i,Md.mulPolyMonomial(r,e,t))}if(n=Md.mulPoly(n,o),s=Md.addPoly(n,t),Md.degree(i)>=Md.degree(r))throw new Error(`Division failed r: ${i}, rLast: ${r}`)}const a=Md.coefficient(s,0);if(0==a)throw new Error(\"sigmaTilde(0) was zero\");const c=Md.inv(a);return[Md.mulPolyScalar(s,c),Md.mulPolyScalar(i,c)]}};function Ad(e,t){const{words:n,shortBlocks:r,numBlocks:i,blockLen:o,total:s}=xd.capacity(e,t),a=(c=n,{encode(e){const t=Md.divisorPoly(c),n=Array.from(e);return n.push(...t.slice(0,-1).fill(0)),Uint8Array.from(Md.remainderPoly(n,t))},decode(e){const t=e.slice(),n=Md.polynomial(Array.from(e));let r=md(c,0),i=!1;for(let e=0;e<c;e++){const t=Md.evalPoly(n,Md.exp(e));r[r.length-1-e]=t,0!==t&&(i=!0)}if(!i)return t;r=Md.polynomial(r);const o=Md.monomial(c,1),[s,a]=Md.euclidian(o,r,c),d=md(Md.degree(s),0);let l=0;for(let e=1;e<256&&l<d.length;e++)0===Md.evalPoly(s,e)&&(d[l++]=Md.inv(e));if(l!==d.length)throw new Error(\"RS.decode: wrong errors number\");for(let e=0;e<d.length;e++){const n=t.length-1-Md.log(d[e]);if(n<0)throw new Error(\"RS.decode: wrong error location\");const r=Md.inv(d[e]);let i=1;for(let t=0;t<d.length;t++)e!==t&&(i=Md.mul(i,Md.add(1,Md.mul(d[t],r))));t[n]=Md.add(t[n],Md.mul(Md.evalPoly(a,r),Md.inv(i)))}return t}});var c;return{encode(e){const t=[],n=[];for(let s=0;s<i;s++){const i=o+(s<r?0:1);t.push(e.subarray(0,i)),n.push(a.encode(e.subarray(0,i))),e=e.subarray(i)}const s=gd(...t),c=gd(...n),d=new Uint8Array(s.length+c.length);return d.set(s),d.set(c,s.length),d},decode(e){if(e.length!==s)throw new Error(`interleave.decode: len(data)=${e.length}, total=${s}`);const t=[];for(let e=0;e<i;e++){const i=e<r;t.push(new Uint8Array(n+o+(i?0:1)))}let c=0;for(let n=0;n<o;n++)for(let r=0;r<i;r++)t[r][n]=e[c++];for(let n=r;n<i;n++)t[n][o]=e[c++];for(let s=o;s<o+n;s++)for(let n=0;n<i;n++){const i=n<r;t[n][s+(i?0:1)]=e[c++]}const d=[];for(const e of t)d.push(...Array.from(a.decode(e)).slice(0,-n));return Uint8Array.from(d)}}}function Td(e,t,n,r){let i=\"\",o=n.length;if(\"numeric\"===r){const e=xd.alphabet.numeric.decode(n.split(\"\")),t=e.length;for(let n=0;n<t-2;n+=3)i+=fd(100*e[n]+10*e[n+1]+e[n+2],10);t%3==1?i+=fd(e[t-1],4):t%3==2&&(i+=fd(10*e[t-2]+e[t-1],7))}else if(\"alphanumeric\"===r){const e=xd.alphabet.alphanumerc.decode(n.split(\"\")),t=e.length;for(let n=0;n<t-1;n+=2)i+=fd(45*e[n]+e[n+1],11);t%2==1&&(i+=fd(e[t-1],6))}else{if(\"byte\"!==r)throw new Error(\"encode: unsupported type\");{const e=function(e){if(\"string\"!=typeof e)throw new Error(\"utf8ToBytes expected string, got \"+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(n);o=e.length,i=Array.from(e).map((e=>fd(e,8))).join(\"\")}}const{capacity:s}=xd.capacity(e,t),a=fd(o,xd.lengthBits(e,r));let c=xd.modeBits[r]+a+i;if(c.length>s)throw new Error(\"Capacity overflow\");c+=\"0\".repeat(Math.min(4,Math.max(0,s-c.length))),c.length%8&&(c+=\"0\".repeat(8-c.length%8));const d=\"1110110000010001\";for(let e=0;c.length!==s;e++)c+=d[e%16];const l=Uint8Array.from(c.match(/(.{8})/g).map((e=>Number(`0b${e}`))));return Ad(e,t).encode(l)}function Id(e,t,n,r,i=!1){const o=function(e,t,n,r=!1){const i=xd.size.encode(e);let o=new Ed(i+2);const s=new Ed(3).rect(0,3,!0).border(1,!1).border(1,!0).border(1,!1);o=o.embed(0,s).embed({x:-s.width,y:0},s).embed({x:0,y:-s.height},s),o=o.rectSlice(1,i);const a=new Ed(1).rect(0,1,!0).border(1,!1).border(1,!0),c=xd.alignmentPatterns(e);for(const e of c)for(const t of c)void 0===o.data[e][t]&&o.embed({x:t-2,y:e-2},a);o=o.hLine({x:0,y:6},1/0,(({x:e},t)=>void 0===t?e%2==0:t)).vLine({x:6,y:0},1/0,(({y:e},t)=>void 0===t?e%2==0:t));{const e=xd.formatBits(t,n),s=t=>!r&&1==(e>>t&1);for(let e=0;e<6;e++)o.data[e][8]=s(e);for(let e=6;e<8;e++)o.data[e+1][8]=s(e);for(let e=8;e<15;e++)o.data[i-15+e][8]=s(e);for(let e=0;e<8;e++)o.data[8][i-e-1]=s(e);for(let e=8;e<9;e++)o.data[8][15-e-1+1]=s(e);for(let e=9;e<15;e++)o.data[8][15-e-1]=s(e);o.data[i-8][8]=!r}if(e>=7){const t=xd.versionBits(e);for(let e=0;e<18;e+=1){const n=!r&&1==(t>>e&1),s=Math.floor(e/3),a=e%3+i-8-3;o.data[s][a]=n,o.data[a][s]=n}}return o}(e,t,r,i);let s=0;const a=8*n.length;if(function(e,t,n){const r=e.height,i=kd[t];let o=-1,s=r-1;for(let t=r-1;t>0;t-=2){for(6==t&&(t=5);;s+=o){for(let r=0;r<2;r+=1){const o=t-r;void 0===e.data[s][o]&&n(o,s,i(o,s))}if(s+o<0||s+o>=r)break}o=-o}}(o,r,((e,t,r)=>{let i=!1;s<a&&(i=0!=(n[s>>>3]>>(7-s&7)&1),s++),o.data[t][e]=i!==r})),s!==a)throw new Error(\"QR: bytes left after draw\");return o}function Rd(e){const t=e.inverse(),n=e=>{let t=0;for(let n,r=0,i=1;r<e.length;r++)n===e[r]&&(i++,r!==e.length-1)||(i>=5&&(t+=i-5+3),n=e[r],i=1);return t};let r=0;e.data.forEach((e=>r+=n(e))),t.data.forEach((e=>r+=n(e)));let i=0,o=e.data;const s=e.width-1,a=e.height-1;for(let e=0;e<s;e++)for(let t=0;t<a;t++){const n=e+1,r=t+1;o[e][t]===o[n][t]&&o[n][t]===o[e][r]&&o[n][t]===o[n][r]&&(i+=3)}const c=e=>{const t=[!0,!1,!0,!0,!0,!1,!0],n=[!1,!1,!1,!1],r=[...t,...n],i=[...n,...t];let o=0;for(let t=0;t<e.length;t++)yd(e,r,t)&&(o+=40),yd(e,i,t)&&(o+=40);return o};let d=0;for(const t of e.data)d+=c(t);for(const e of t.data)d+=c(e);let l=0;e.rectRead(0,1/0,((e,t)=>l+=t?1:0));const u=l/(e.height*e.width)*100,h=10*Math.floor(Math.abs(u-50)/5);return r+i+d+h}function Pd(e,t=\"raw\",n={}){const r=void 0!==n.ecc?n.ecc:\"medium\";!function(e){if(!bd.includes(e))throw new Error(`Invalid error correction mode=${e}. Expected: ${bd}`)}(r);const i=void 0!==n.encoding?n.encoding:function(e){let t=\"numeric\";for(let n of e)if(!xd.alphabet.numeric.has(n)&&(t=\"alphanumeric\",!xd.alphabet.alphanumerc.has(n)))return\"byte\";return t}(e);!function(e){if(!wd.includes(e))throw new Error(`Encoding: invalid mode=${e}. Expected: ${wd}`);if(\"kanji\"===e||\"eci\"===e)throw new Error(`Encoding: ${e} is not supported (yet?).`)}(i),void 0!==n.mask&&function(e){if(![0,1,2,3,4,5,6,7].includes(e)||!kd[e])throw new Error(`Invalid mask=${e}. Expected number [0..7]`)}(n.mask);let o,s=n.version,a=new Error(\"Unknown error\");if(void 0!==s)!function(e){if(!Number.isSafeInteger(e)||e<1||e>40)throw new Error(`Invalid version=${e}. Expected number [1..40]`)}(s),o=Td(s,r,e,i);else for(let t=1;t<=40;t++)try{o=Td(t,r,e,i),s=t;break}catch(e){a=e}if(!s||!o)throw a;let c=function(e,t,n,r){if(void 0===r){const i=function(){let e,t=1/0;return{add(n,r){n>=t||(e=r,t=n)},get:()=>e,score:()=>t}}();for(let r=0;r<kd.length;r++)i.add(Rd(Id(e,t,n,r,!0)),r);r=i.get()}if(void 0===r)throw new Error(\"Cannot find mask\");return Id(e,t,n,r)}(s,r,o,n.mask);c.assertDrawn();const d=void 0===n.border?2:n.border;if(!Number.isSafeInteger(d))throw new Error(\"Wrong border type=\"+typeof d);if(c=c.border(d,!1),void 0!==n.scale&&(c=c.scale(n.scale)),\"raw\"===t)return c.data;if(\"ascii\"===t)return c.toASCII();if(\"svg\"===t)return c.toSVG();if(\"gif\"===t)return c.toGIF();if(\"term\"===t)return c.toTerm();throw new Error(`Unknown output: ${t}`)}const Od=({link:e})=>{const t=Pd(e,\"ascii\");return console.log(t),Da(`[UI: InstallModal-nodejs()] qrcode url: ${e}`),{unmount:()=>{}}},Nd=()=>(Da(\"[UI: pendingModal-nodejs: PendingModal()] Please open the MetaMask wallet app and confirm the connection. Thank you!\"),{unmount:()=>!1,updateOTPValue:e=>{\"\"!==e&&Da(`[UI: pendingModal-nodejs: PendingModal()] Choose the following value on your metamask mobile wallet: ${e}`)},mount:()=>!1});function Dd(e,t){var n,r,i,o;e.connector||(Da(\"[RemoteConnection: initializeConnector()] initialize connector\"),e.connector=new $r({anonId:t.anonId,platformType:t.platformManager.getPlatformType(),communicationLayerPreference:t.communicationLayerPreference,transports:t.transports,dappMetadata:Object.assign(Object.assign({},t.dappMetadata),{source:t._source}),analytics:t.enableAnalytics,communicationServerUrl:t.communicationServerUrl,sdkVersion:gc.version,context:\"dapp\",ecies:t.ecies,storage:t.storage,logging:t.logging}),t.timer&&(Da(\"[RemoteConnection: initializeConnector()] reset background timer\",t.timer),null===(r=null===(n=t.timer)||void 0===n?void 0:n.stopBackgroundTimer)||void 0===r||r.call(n),null===(o=null===(i=t.timer)||void 0===i?void 0:i.runBackgroundTimer)||void 0===o||o.call(i,(()=>!1),1e4)))}function Ld(e){e.listeners.forEach((({event:t,handler:n})=>{var r;null===(r=e.connector)||void 0===r||r.off(t,n)})),e.listeners=[]}function Bd(e,t,n){return u(this,void 0,void 0,(function*(){const r=setTimeout((()=>{i.analytics.track(\"sdk_connection_failed\",{transport_type:\"websocket\"})}),6e4);return new Promise(((i,o)=>{if(!e.connector)return void o(new Error(\"No connector available\"));Da(\"[RemoteConnection: connectWithModalInstaller()]\",{state:e,options:t,linkParams:n});const s=`${e.useDeeplink?Ec:vc}?${n}`;!function(e,t,n){var r,i,o,s;e.installModal=null===(i=(r=t.modals).install)||void 0===i?void 0:i.call(r,{link:n,preferDesktop:e.preferDesktop,installer:t.getMetaMaskInstaller(),terminate:()=>{Da(\"[RemoteConnection: showInstallModal() => terminate()] terminate connection\"),t.sdk.terminate().catch((e=>{console.warn(\"[MMSDK] failed to terminate connection\",e)}))},debug:e.developerMode,connectWithExtension:()=>{var e;return null===(e=t.connectWithExtensionProvider)||void 0===e||e.call(t),!1},onAnalyticsEvent:({event:n,params:r})=>{var i,o,s;const a=Object.assign(Object.assign({},r),{sdkVersion:t.sdk.getVersion(),dappId:null===(i=t.dappMetadata)||void 0===i?void 0:i.name,source:t._source,url:null===(o=t.dappMetadata)||void 0===o?void 0:o.url});null===(s=e.analytics)||void 0===s||s.send({event:n,params:a})}}),null===(s=null===(o=e.installModal)||void 0===o?void 0:o.mount)||void 0===s||s.call(o,n)}(e,t,s),t.sdk.once(exports.EventType.PROVIDER_UPDATE,(e=>u(this,void 0,void 0,(function*(){if(Da(\"[RemoteConnection: connectWithModalInstaller()] once provider_update -- resolving startConnection promise\"),e===exports.PROVIDER_UPDATE_TYPE.TERMINATE){const e={code:4001,message:\"User rejected the request.\"};return clearTimeout(r),void o(e)}o(e)})))),e.connector.once(exports.EventType.AUTHORIZED,(()=>{clearTimeout(r),i()})),e.connector.once(exports.EventType.REJECTED,(()=>{clearTimeout(r),o(exports.EventType.REJECTED)})),e.connector.once(exports.EventType.CLIENTS_READY,(()=>u(this,void 0,void 0,(function*(){Da(\"[RemoteConnection: connectWithModalInstaller()] once clients_ready -- resolving startConnection promise\"),clearTimeout(r),i()}))))}))}))}function Kd(e,t){function n(t,n){var r;null===(r=e.connector)||void 0===r||r.on(t,n),e.listeners.push({event:t,handler:n})}e.connector&&(Ld(e),n(exports.EventType.WALLET_INIT,(({accounts:e,chainId:t})=>u(this,void 0,void 0,(function*(){Da(`[RemoteConnection: setupListeners() => EventType.WALLET_INIT] 'wallet_init' accounts=${e} chainId=${t}`);const n=uc.getProvider();n._setConnected();const r={accounts:e,chainId:t,isUnlocked:!1};n._initializeState(r),n.emit(\"chainChanged\",t),n.emit(\"accountsChanged\",e)})))),n(exports.EventType.AUTHORIZED,(()=>u(this,void 0,void 0,(function*(){var t,n,r,i;try{Da(\"[RemoteConnection: setupListeners() => EventType.AUTHORIZED] 'authorized' closing modals\",e.pendingModal,e.installModal);const o=uc.getProvider();o._setConnected(),null===(n=null===(t=e.pendingModal)||void 0===t?void 0:t.unmount)||void 0===n||n.call(t),null===(i=null===(r=e.installModal)||void 0===r?void 0:r.unmount)||void 0===i||i.call(r,!1),e.otpAnswer=void 0,e.authorized=!0,Da(\"[RemoteConnection: setupListeners() => EventType.AUTHORIZED] 'authorized' provider.state\",o.getState()),yield o.forceInitializeState()}catch(e){}})))),n(exports.EventType.TERMINATE,(()=>{var t,n,r,i,o;null===(n=null===(t=e.pendingModal)||void 0===t?void 0:t.unmount)||void 0===n||n.call(t),null===(i=null===(r=e.installModal)||void 0===r?void 0:r.unmount)||void 0===i||i.call(r,!0),e.pendingModal=void 0,e.installModal=void 0,e.otpAnswer=void 0,null===(o=e.connector)||void 0===o||o.disconnect({terminate:!0}),e.authorized=!1;uc.getProvider().handleDisconnect({terminate:!0}),Ld(e),Da(\"[RemoteConnection: setupListeners()] All listeners cleaned up\")})))}function jd(e,t,{initialCheck:n,connectWith:r}={}){var o,s,a,c,d,l,h,f,p,m,g,y,v,E,b,w,S,_,C;return u(this,void 0,void 0,(function*(){try{if(Dd(e,t),!e.connector)throw new Error(\"no connector defined\");Kd(e);const x=uc.getProvider();e.authorized=!1,x.emit(\"connecting\");const k=yield null===(o=e.connector)||void 0===o?void 0:o.originatorSessionConnect();Da(`[RemoteConnection: startConnection()] after originatorSessionConnect initialCheck=${n}`,k);let M=null!==(s=null==k?void 0:k.channelId)&&void 0!==s?s:\"\",A=null!==(c=null===(a=e.connector.getKeyInfo())||void 0===a?void 0:a.ecies.public)&&void 0!==c?c:\"\",T=null!==(l=null===(d=e.connector.getKeyInfo())||void 0===d?void 0:d.ecies.private)&&void 0!==l?l:\"\";if(n&&!k)return Promise.resolve();if(!k&&!n){const t=yield e.connector.generateChannelIdConnect();M=null!==(h=t.channelId)&&void 0!==h?h:\"\",A=null!==(f=t.pubKey)&&void 0!==f?f:\"\",T=null!==(p=t.privKey)&&void 0!==p?p:\"\";const n=Date.now();null===(m=e.connector.state.storageManager)||void 0===m||m.persistChannelConfig({channelId:M,localKey:T,lastActive:n,validUntil:n+or})}if(n&&(null==k?void 0:k.channelId))return(null===(g=e.connector)||void 0===g?void 0:g.isConnected())||(Da(`[RemoteConnection: startConnection()] reconnecting to channel initialCheck=${n}`,k),yield null===(y=e.connector)||void 0===y?void 0:y.connectToChannel({channelId:M})),Promise.resolve();k&&!(null===(v=e.connector)||void 0===v?void 0:v.isConnected())&&(Da(\"[RemoteConnection: startConnection()] reconnecting to channel\",k),yield null===(E=e.connector)||void 0===E?void 0:E.connectToChannel({channelId:M}));const I=(null===(b=e.platformManager)||void 0===b?void 0:b.isSecure())?\"\":\"&t=q\",R=gc.version,{iconUrl:P,name:O,url:N,scheme:D}=t.dappMetadata||{},L=null===(w=e.platformManager)||void 0===w?void 0:w.getPlatformType();let B=\"N/A\";\"undefined\"!=typeof window&&window.location&&window.location.hostname?B=window.location.hostname:void 0!==O?B=O:void 0!==N&&(B=N);const K={url:null!=N?N:\"\",title:null!=O?O:\"\",icon:P,scheme:null!=D?D:\"\",apiVersion:R,dappId:B||N||\"N/A\",anonId:t.anonId,platform:null!=L?L:\"\",source:null!==(S=t._source)&&void 0!==S?S:\"\"},j=Lc(JSON.stringify(K));let $=`channelId=${M}&v=2&comm=${null!==(_=e.communicationLayerPreference)&&void 0!==_?_:\"\"}&pubkey=${A}${I}&originatorInfo=${j}`;if(r){$+=`&rpc=${Lc(JSON.stringify(r))}`;const t=e.connector.getRPCMethodTracker();t&&(t[`${r.id}`]=Object.assign(Object.assign({},r),{id:`${r.id}`,timestamp:Date.now()}))}const H=encodeURI($),U=`${e.useDeeplink?Ec:vc}?${$}`;if(e.qrcodeLink=U,e.developerMode&&Da(`[RemoteConnection: startConnection()] qrcodeLink=${H}`),x.emit(\"display_uri\",U),i.analytics.track(\"sdk_connection_initiated\",{transport_type:\"websocket\"}),null===(C=e.platformManager)||void 0===C?void 0:C.isSecure()){const t=setTimeout((()=>{i.analytics.track(\"sdk_connection_failed\",{transport_type:\"websocket\"})}),6e4);return yield function(e,t){var n,r;return u(this,void 0,void 0,(function*(){const i=`${vc}?${t}`,o=`${Ec}?${t}`;null===(r=null===(n=e.platformManager)||void 0===n?void 0:n.openDeeplink)||void 0===r||r.call(n,i,o,\"_self\")}))}(e,H),new Promise(((n,r)=>{var i,o,s;if(null===(i=e.connector)||void 0===i?void 0:i.isAuthorized())return clearTimeout(t),void n();null===(o=e.connector)||void 0===o||o.once(exports.EventType.AUTHORIZED,(()=>{clearTimeout(t),n()})),null===(s=e.connector)||void 0===s||s.once(exports.EventType.REJECTED,(()=>{clearTimeout(t),r(exports.EventType.REJECTED)}))}))}return Bd(e,t,H)}catch(e){throw console.error(\"[startConnection] error\",e),e}}))}class $d{constructor(e){var t,n,r;this.state={connector:void 0,qrcodeLink:void 0,analytics:void 0,developerMode:!1,authorized:!1,reconnection:!1,preferDesktop:!1,deeplinkProtocol:!1,listeners:[],communicationLayerPreference:void 0,platformManager:void 0,pendingModal:void 0,installModal:void 0,otpAnswer:void 0},this.options=e;const i=!0===(null===(t=e.logging)||void 0===t?void 0:t.developerMode)||!0===(null===(n=e.logging)||void 0===n?void 0:n.sdk);this.state.developerMode=i,this.state.analytics=e.analytics,this.state.preferDesktop=null!==(r=e.preferDesktop)&&void 0!==r&&r,this.state.useDeeplink=e.sdk.options.useDeeplink,this.state.communicationLayerPreference=e.communicationLayerPreference,this.state.platformManager=e.platformManager,e.modals.install||(e.modals.install=Od),e.modals.otp||(e.modals.otp=Nd)}startConnection(e){return u(this,void 0,void 0,(function*(){return jd(this.state,this.options,e)}))}initRemoteCommunication({sdkInstance:e}){var t,n,r;return u(this,void 0,void 0,(function*(){const i=yield null===(n=null===(t=e.options.storage)||void 0===t?void 0:t.storageManager)||void 0===n?void 0:n.getPersistedChannelConfig();if(!this.options.ecies){const e={privateKey:null==i?void 0:i.localKey};this.options.ecies=e}Dd(this.state,this.options),yield null===(r=this.getConnector())||void 0===r?void 0:r.initFromDappStorage(),Kd(this.state,this.options)}))}showActiveModal(){return function(e){var t,n,r,i;e.authorized?Da(\"[RemoteConnection: showActiveModal()] already authorized\"):e.pendingModal?null===(n=(t=e.pendingModal).mount)||void 0===n||n.call(t):e.installModal&&(null===(i=(r=e.installModal).mount)||void 0===i||i.call(r,e.qrcodeLink||\"\"))}(this.state)}closeModal(){var e,t,n,r;null===(t=null===(e=this.state.pendingModal)||void 0===e?void 0:e.unmount)||void 0===t||t.call(e),null===(r=null===(n=this.state.installModal)||void 0===n?void 0:n.unmount)||void 0===r||r.call(n,!1)}getUniversalLink(){if(!this.state.qrcodeLink)throw new Error(\"connection not started. run startConnection() first.\");return this.state.qrcodeLink}getChannelConfig(){var e;return null===(e=this.state.connector)||void 0===e?void 0:e.getChannelConfig()}getKeyInfo(){var e;return null===(e=this.state.connector)||void 0===e?void 0:e.getKeyInfo()}getConnector(){if(!this.state.connector)throw new Error(\"invalid remote connector\");return this.state.connector}getPlatformManager(){if(!this.state.platformManager)throw new Error(\"PlatformManager not available\");return this.state.platformManager}isConnected(){var e;return(null===(e=this.state.connector)||void 0===e?void 0:e.isReady())||!1}isAuthorized(){var e;return(null===(e=this.state.connector)||void 0===e?void 0:e.isAuthorized())||!1}isPaused(){var e;return null===(e=this.state.connector)||void 0===e?void 0:e.isPaused()}disconnect(e){var t,n,r;Da(\"[RemoteConnection: disconnect()]\",e),(null==e?void 0:e.terminate)&&(uc.getProvider().handleDisconnect({terminate:!0}),null===(n=null===(t=this.state.pendingModal)||void 0===t?void 0:t.unmount)||void 0===n||n.call(t),this.state.otpAnswer=void 0),null===(r=this.state.connector)||void 0===r||r.disconnect(e),function(e){Da(\"[RemoteConnection: cleanupConnector()] cleaning up connector\"),e.connector&&(Ld(e),e.connector.disconnect({terminate:!0}).catch((e=>{Da(\"[RemoteConnection: cleanupConnector()] error disconnecting connector\",e)})))}(this.state)}}function Hd(e){var n,r,o,s,a,c,d,l,h,f,p;return u(this,void 0,void 0,(function*(){const{options:m}=e;if(m.logging=null!==(n=m.logging)&&void 0!==n?n:{},m.communicationLayerPreference=null!==(r=m.communicationLayerPreference)&&void 0!==r?r:exports.CommunicationLayerPreference.SOCKET,void 0!==m.enableDebug&&(t.enable(\"MM_SDK\"),console.warn(\"enableDebug is removed. Please use enableAnalytics instead.\")),m.enableAnalytics=null===(o=m.enableAnalytics)||void 0===o||o,m.injectProvider=null===(s=m.injectProvider)||void 0===s||s,m.shouldShimWeb3=null===(a=m.shouldShimWeb3)||void 0===a||a,m.extensionOnly=null===(c=m.extensionOnly)||void 0===c||c,m.useDeeplink=null===(d=m.useDeeplink)||void 0===d||d,m.storage=null!==(l=m.storage)&&void 0!==l?l:{enabled:!0},m.headless){t(\"[MetaMaskSDK: performSDKInitialization()] headless mode enabled\");const e=()=>{},n={install:()=>({mount:e,unmount:e})},r={installer:e};m.modals=n,m.ui=r}const g=!0===(null===(h=m.logging)||void 0===h?void 0:h.developerMode);e.debug=(null===(f=m.logging)||void 0===f?void 0:f.sdk)||g,Da(\"[MetaMaskSDK: performSDKInitialization()] options\",e.options);const y=Object.assign({},m.logging);g&&(y.sdk=!0,y.eciesLayer=!0,y.keyExchangeLayer=!0,y.remoteLayer=!0,y.serviceLayer=!0,y.plaintext=!0),yield function(e){var t;return u(this,void 0,void 0,(function*(){const{options:n}=e;e.platformManager=new hc({useDeepLink:null!==(t=n.useDeeplink)&&void 0!==t&&t,preferredOpenLink:n.openDeeplink,debug:e.debug})}))}(e),yield function(e){var t,n,r,i,o;return u(this,void 0,void 0,(function*(){const{options:s}=e,a=null===(t=e.platformManager)||void 0===t?void 0:t.getPlatformType();e.analytics=new qc({serverUrl:null!==(n=s.communicationServerUrl)&&void 0!==n?n:rr,enabled:s.enableAnalytics,originatorInfo:{url:null!==(r=s.dappMetadata.url)&&void 0!==r?r:\"\",title:null!==(i=s.dappMetadata.name)&&void 0!==i?i:\"\",dappId:e.getDappId(),platform:null!=a?a:\"\",source:null!==(o=s._source)&&void 0!==o?o:\"\",anonId:\"\"}})}))}(e),yield function(e){var t,n,r;return u(this,void 0,void 0,(function*(){if(!e.options.enableAnalytics)return;if(!(null===(t=e.platformManager)||void 0===t?void 0:t.isBrowser())&&!(null===(n=e.platformManager)||void 0===n?void 0:n.isReactNative()))return;const o=e.getVersion(),s=e.getDappId(),a=yield e.getAnonId(),c=null===(r=e.platformManager)||void 0===r?void 0:r.getPlatformType(),d=e.options._source;i.analytics.setGlobalProperty(\"sdk_version\",o),i.analytics.setGlobalProperty(\"dapp_id\",s),i.analytics.setGlobalProperty(\"anon_id\",a),i.analytics.setGlobalProperty(\"platform\",c),i.analytics.setGlobalProperty(\"integration_type\",d),i.analytics.enable(),i.analytics.track(\"sdk_initialized\",{})}))}(e),yield function(e){var t;return u(this,void 0,void 0,(function*(){const{options:n}=e;!0!==(null===(t=n.storage)||void 0===t?void 0:t.enabled)||n.storage.storageManager||(n.storage.storageManager=yield fc(n.storage))}))}(e),yield function(e){return u(this,void 0,void 0,(function*(){const{options:t}=e,n=/^(http|https):\\/\\/[^\\s]*$/;if(t.dappMetadata){t.dappMetadata.iconUrl&&!n.test(t.dappMetadata.iconUrl)&&(console.warn(\"Invalid dappMetadata.iconUrl: URL must start with http:// or https://\"),t.dappMetadata.iconUrl=void 0),t.dappMetadata.base64Icon&&t.dappMetadata.base64Icon.length>Wc&&(console.warn(\"Invalid dappMetadata.base64Icon: Base64-encoded icon string length must be less than 163400 characters\"),t.dappMetadata.base64Icon=void 0),t.dappMetadata.url&&!n.test(t.dappMetadata.url)&&console.warn(\"Invalid dappMetadata.url: URL must start with http:// or https://\");const e=zc();if(e&&!t.dappMetadata.iconUrl&&!t.dappMetadata.base64Icon){const n=`${window.location.protocol}//${window.location.host}${e}`;t.dappMetadata.iconUrl=n}}e.dappMetadata=t.dappMetadata}))}(e),yield Qc(e),yield Xc(e);const{metamaskBrowserExtension:v,preferExtension:E,shouldReturn:b}=yield function(e){var t,n,r,i;return u(this,void 0,void 0,(function*(){const{options:o}=e;let s,a=!1,c=!1;if(\"undefined\"!=typeof window&&window.ethereum&&!(null===(t=e.platformManager)||void 0===t?void 0:t.isMetaMaskMobileWebView())){a=\"extension\"===localStorage.getItem(Mc);try{s=yield Jc({mustBeMetaMask:!0,sdkInstance:e}),window.extension=s,s.on(Ic.CHAIN_CHANGED,(t=>{Da(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE chainChanged chainId=${t}`),Boolean(e.sdkProvider)&&e.getMobileProvider().emit(Ic.CHAIN_CHANGED,t)})),s.on(Ic.ACCOUNTS_CHANGED,(t=>u(this,void 0,void 0,(function*(){var n;Da(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE accountsChanged accounts=${t}`);const r=Boolean(e.sdkProvider),i=Boolean(e.extensionActive);if(r&&e.getMobileProvider().emit(Ic.ACCOUNTS_CHANGED,t),i&&0===(null==t?void 0:t.length)&&0===(yield null===(n=e.getProvider())||void 0===n?void 0:n.request({method:Sc.WALLET_GETPERMISSIONS,params:[]})).length)try{yield e.terminate()}catch(e){Da(\"[MetaMaskSDK: setupExtensionPreferences()] error terminating on permissions revoked\",e)}})))),s.on(Ic.DISCONNECT,(t=>{Da(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE disconnect error=${t}`),Boolean(e.sdkProvider)&&e.getMobileProvider().emit(Ic.DISCONNECT,t)})),s.on(Ic.CONNECT,(t=>{Da(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE connect args=${t}`),Boolean(e.sdkProvider)&&e.getMobileProvider().emit(Ic.CONNECT,t)})),s.on(Ic.CONNECTED,(t=>{Da(\"[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE connected\",t),Boolean(e.sdkProvider)&&e.getMobileProvider().emit(Ic.CONNECTED,t)}))}catch(e){window.extension=void 0}}else(null===(n=e.platformManager)||void 0===n?void 0:n.isMetaMaskMobileWebView())&&(null===(r=e.analytics)||void 0===r||r.send({event:fr.SDK_USE_INAPP_BROWSER}),e.activeProvider=Yc({provider:window.ethereum,sdkInstance:e}),e._initialized=!0,c=!0);return s&&o.extensionOnly&&(Da(\"[MetaMaskSDK: setupExtensionPreferences()] EXTENSION ONLY --- prevent sdk initialization\"),null===(i=e.analytics)||void 0===i||i.send({event:fr.SDK_USE_EXTENSION}),e.activeProvider=s,e.extensionActive=!0,e.extension=s,e._initialized=!0,c=!0),{preferExtension:a,shouldReturn:c,metamaskBrowserExtension:s}}))}(e);if(b)Da(\"[MetaMaskSDK: performSDKInitialization()] shouldReturn=true --- prevent sdk initialization\");else{yield function(e,t){var n,r,i,o,s;return u(this,void 0,void 0,(function*(){const{options:a}=e,c=Object.assign({},a.logging);e.remoteConnection=new $d({anonId:yield e.getAnonId(),preferDesktop:null!==(n=a.preferDesktop)&&void 0!==n&&n,communicationLayerPreference:null!==(r=a.communicationLayerPreference)&&void 0!==r?r:exports.CommunicationLayerPreference.SOCKET,analytics:e.analytics,dappMetadata:a.dappMetadata,_source:a._source,enableAnalytics:null===(i=a.enableAnalytics)||void 0===i||i,timer:a.timer,sdk:e,platformManager:e.platformManager,transports:a.transports,communicationServerUrl:a.communicationServerUrl,storage:null!==(o=a.storage)&&void 0!==o?o:{enabled:!0},getMetaMaskInstaller:()=>{if(!e.installer)throw new Error(\"Invalid SDK status -- installer not initialized\");return e.installer},logging:c,connectWithExtensionProvider:void 0===t?void 0:()=>Dc(e),modals:Object.assign(Object.assign({},a.modals),{onPendingModalDisconnect:e.terminate.bind(e)})}),yield e.remoteConnection.initRemoteCommunication({sdkInstance:e}),e.installer=new hd({remote:e.remoteConnection,preferDesktop:null!==(s=a.preferDesktop)&&void 0!==s&&s,platformManager:e.platformManager,debug:e.debug})}))}(e,v),yield Uc(e),yield function(e,t){var n,r;return u(this,void 0,void 0,(function*(){const{options:i}=e;t?(Da(\"[MetaMaskSDK: handleAutoAndExtensionConnections()] preferExtension is detected -- connect with it.\"),null===(n=e.analytics)||void 0===n||n.send({event:fr.SDK_EXTENSION_UTILIZED}),Dc(e).catch((e=>{console.warn(\"Can't connect with MetaMask extension...\",e),localStorage.removeItem(Mc)}))):i.checkInstallationImmediately&&((null===(r=e.platformManager)||void 0===r?void 0:r.isDesktopWeb())?(Da(\"[MetaMaskSDK: handleAutoAndExtensionConnections()] checkInstallationImmediately\"),e.connect().catch((e=>{Da(`[MetaMaskSDK: handleAutoAndExtensionConnections()] checkInstallationImmediately --- IGNORED --- error on autoconnect _err=${e}`)}))):console.warn(\"[handleAutoAndExtensionConnections()] checkInstallationImmediately --- IGNORED --- only for web desktop\")),e._initialized=!0}))}(e,E);try{yield null===(p=e.remoteConnection)||void 0===p?void 0:p.startConnection({initialCheck:!0})}catch(e){console.error(\"[MetaMaskSDK: setupRemoteConnectionAndInstaller()] Error while checking installation\",e)}e.emit(lc.ProviderUpdate,exports.PROVIDER_UPDATE_TYPE.INITIALIZED)}}))}class Ud extends o{constructor(e={storage:{enabled:!0},injectProvider:!0,forceInjectProvider:!1,enableAnalytics:!0,shouldShimWeb3:!0,useDeeplink:!0,extensionOnly:!0,headless:!1,dappMetadata:{name:\"\",url:\"\",iconUrl:\"\"},_source:yc,i18nOptions:{enabled:!1}}){var n,r,i;super(),this.extensionActive=!1,this._initialized=!1,this.sdkInitPromise=void 0,this.debug=!1,this.readonlyRPCCalls=!1,this.availableLanguages=[\"en\"],this.ANON_ID_STORAGE_KEY=\"mm-sdk-anon-id\",t.disable();const o=!0===(null===(n=e.logging)||void 0===n?void 0:n.developerMode);if(((null===(r=e.logging)||void 0===r?void 0:r.sdk)||o)&&t.enable(\"MM_SDK\"),Da(\"[MetaMaskSDK: constructor()]: begin.\"),this.setMaxListeners(50),!(null===(i=e.dappMetadata)||void 0===i?void 0:i.url)){if(\"undefined\"==typeof window||\"undefined\"==typeof document)throw new Error(\"You must provide dAppMetadata url\");e.dappMetadata=Object.assign(Object.assign({},e.dappMetadata),{url:`${window.location.protocol}//${window.location.host}`})}this.options=e,this.options._source||(e._source=yc),this.init().then((()=>{Da(\"[MetaMaskSDK: constructor()]: initialized successfully.\"),\"undefined\"!=typeof window&&(window.mmsdk=this)})).catch((e=>{console.error(\"[MetaMaskSDK: constructor()] error during initialization\",e)}))}init(){return u(this,void 0,void 0,(function*(){return function(e){var t;return u(this,void 0,void 0,(function*(){if(\"undefined\"!=typeof window&&(null===(t=window.mmsdk)||void 0===t?void 0:t.isInitialized()))return Da(\"[MetaMaskSDK: initializeMetaMaskSDK()] already initialized\"),Promise.resolve(window.mmsdk);if(e._initialized)return Da(\"[MetaMaskSDK: initializeMetaMaskSDK()] already initialized\"),e.sdkInitPromise;if(e.sdkInitPromise)return Da(\"[MetaMaskSDK: initializeMetaMaskSDK()] already initializing\"),e.sdkInitPromise;try{e.sdkInitPromise=Hd(e),yield e.sdkInitPromise}catch(e){throw console.error(e),e}return e.sdkInitPromise}))}(this)}))}isExtensionActive(){return this.extensionActive}checkExtensionAvailability(){var e;return\"undefined\"!=typeof window&&Boolean(null===(e=window.ethereum)||void 0===e?void 0:e.isMetaMask)}connect(){return u(this,void 0,void 0,(function*(){return function(e){return u(this,void 0,void 0,(function*(){if(e._initialized||(Da(\"[MetaMaskSDK: connect()] provider not ready -- wait for init()\"),yield e.init()),Da(`[MetaMaskSDK: connect()] isExtensionActive=${e.isExtensionActive()} activeProvider`,e.activeProvider),!e.activeProvider)throw new Error(\"SDK state invalid -- undefined provider\");const t=e.activeProvider.getSelectedAddress();return t?[t]:e.activeProvider.request({method:Sc.ETH_REQUESTACCOUNTS,params:[]})}))}(this)}))}connectAndSign({msg:e}){return u(this,void 0,void 0,(function*(){return Nc({instance:this,msg:e})}))}connectWith(e){return u(this,void 0,void 0,(function*(){return function({instance:e,rpc:t}){return u(this,void 0,void 0,(function*(){if(e._initialized||(Da(\"[MetaMaskSDK: connectWith()] provider not ready -- wait for init()\"),yield e.init()),Da(`[MetaMaskSDK: connectWith()] method: ${t.method} rpc=${t}`),!e.activeProvider)throw new Error(\"SDK state invalid -- undefined provider\");return e.activeProvider.request({method:Sc.METAMASK_CONNECTWITH,params:[t]})}))}({instance:this,rpc:e})}))}resume(){return function(e){var t,n,r;return u(this,void 0,void 0,(function*(){if(!(null===(n=null===(t=e.remoteConnection)||void 0===t?void 0:t.getConnector())||void 0===n?void 0:n.isReady()))return Da(\"[MetaMaskSDK: resume()] channel is not ready -- starting connection\"),void(null===(r=e.remoteConnection)||void 0===r||r.startConnection());Da(\"[MetaMaskSDK: resume()] channel is ready\")}))}(this)}disconnect(){return console.warn(\"MetaMaskSDK.disconnect() is deprecated, use terminate()\"),this.terminate()}isAuthorized(){var e;null===(e=this.remoteConnection)||void 0===e||e.isAuthorized()}terminate(){return function(e){var t,n,r;return u(this,void 0,void 0,(function*(){if(!(null===(t=e.platformManager)||void 0===t?void 0:t.isMetaMaskMobileWebView())){if(Oc&&(window.localStorage.removeItem(Mc),window.localStorage.removeItem(Tc),window.localStorage.removeItem(Ac)),e.extensionActive){try{yield null===(n=e.activeProvider)||void 0===n?void 0:n.request({method:Sc.WALLET_REVOKEPERMISSIONS,params:[{eth_accounts:{}}]})}catch(e){Da(\"[MetaMaskSDK: terminate()] error revoking permissions\",e)}return e.options.extensionOnly?(e.emit(lc.ProviderUpdate,exports.PROVIDER_UPDATE_TYPE.TERMINATE),void Da(\"[MetaMaskSDK: terminate()] extensionOnly --- prevent switching providers\")):(e.activeProvider=e.sdkProvider,window.ethereum=e.activeProvider,e.extensionActive=!1,void e.emit(lc.ProviderUpdate,exports.PROVIDER_UPDATE_TYPE.TERMINATE))}e.emit(lc.ProviderUpdate,exports.PROVIDER_UPDATE_TYPE.TERMINATE),Da(`[MetaMaskSDK: terminate()] remoteConnection=${e.remoteConnection}`),null===(r=e.remoteConnection)||void 0===r||r.disconnect({terminate:!0,sendMessage:!0})}}))}(this)}isInitialized(){return this._initialized}setReadOnlyRPCCalls(e){this.readonlyRPCCalls=e}hasReadOnlyRPCCalls(){return this.readonlyRPCCalls}getProvider(){if(this.activeProvider)return this.activeProvider;console.warn(\"MetaMaskSDK: No active provider found\")}getMobileProvider(){if(!this.sdkProvider)throw new Error(\"SDK state invalid -- undefined mobile provider\");return this.sdkProvider}getUniversalLink(){var e;const t=null===(e=this.remoteConnection)||void 0===e?void 0:e.getUniversalLink();if(!t)throw new Error(\"No Universal Link available, please call eth_requestAccounts first.\");return t}getChannelId(){var e,t;return null===(t=null===(e=this.remoteConnection)||void 0===e?void 0:e.getChannelConfig())||void 0===t?void 0:t.channelId}getRPCHistory(){var e,t;return null===(t=null===(e=this.remoteConnection)||void 0===e?void 0:e.getConnector())||void 0===t?void 0:t.getRPCMethodTracker()}getVersion(){return gc.version}getDappId(){var e,t,n,r;return\"undefined\"==typeof window||void 0===window.location?null!==(r=null!==(t=null===(e=this.options.dappMetadata)||void 0===e?void 0:e.name)&&void 0!==t?t:null===(n=this.options.dappMetadata)||void 0===n?void 0:n.url)&&void 0!==r?r:\"N/A\":window.location.hostname}getAnonId(){var e,t;return u(this,void 0,void 0,(function*(){if(this._anonId)return this._anonId;let n;return n=(null===(e=this.platformManager)||void 0===e?void 0:e.isBrowser())?this.getBrowserAnonId():(null===(t=this.platformManager)||void 0===t?void 0:t.isReactNative())?yield this.getReactNativeAnonId():s.v4(),this._anonId=n,n}))}getBrowserAnonId(){const e=this.ANON_ID_STORAGE_KEY;try{const t=localStorage.getItem(e);if(t)return t;const n=s.v4();return localStorage.setItem(e,n),n}catch(e){return console.error(\"[MetaMaskSDK: getBrowserAnonId()] LocalStorage access error:\",e),s.v4()}}getReactNativeAnonId(){return u(this,void 0,void 0,(function*(){const e=this.ANON_ID_STORAGE_KEY;try{const t=Object(function webpackMissingModule() { var e = new Error(\"Cannot find module '@react-native-async-storage/async-storage'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()),n=yield t.getItem(e);if(n)return n;const r=s.v4();return yield t.setItem(e,r),r}catch(e){return console.error(\"[MetaMaskSDK: getReactNativeAnonId()] Error accessing AsyncStorage:\",e),s.v4()}}))}getWalletStatus(){var e,t;return null===(t=null===(e=this.remoteConnection)||void 0===e?void 0:e.getConnector())||void 0===t?void 0:t.getConnectionStatus()}_getChannelConfig(){var e;return null===(e=this.remoteConnection)||void 0===e?void 0:e.getChannelConfig()}_ping(){var e,t;null===(t=null===(e=this.remoteConnection)||void 0===e?void 0:e.getConnector())||void 0===t||t.ping()}_keyCheck(){var e,t;null===(t=null===(e=this.remoteConnection)||void 0===e?void 0:e.getConnector())||void 0===t||t.keyCheck()}_getServiceStatus(){var e,t;return null===(t=null===(e=this.remoteConnection)||void 0===e?void 0:e.getConnector())||void 0===t?void 0:t.getServiceStatus()}_getRemoteConnection(){return this.remoteConnection}_getDappMetadata(){return this.dappMetadata}_getKeyInfo(){var e;return null===(e=this.remoteConnection)||void 0===e?void 0:e.getKeyInfo()}_resetKeys(){var e,t;null===(t=null===(e=this.remoteConnection)||void 0===e?void 0:e.getConnector())||void 0===t||t.resetKeys()}_getConnection(){return this.remoteConnection}emit(e,t){return super.emit(e,t)}on(e,t){return super.on(e,t)}}var Fd=Object.freeze({__proto__:null,StorageManagerWeb:class{constructor({enabled:e}={enabled:!1}){this.enabled=!1,this.enabled=e}persistChannelConfig(e){return u(this,void 0,void 0,(function*(){const t=JSON.stringify(e);Da(`[StorageManagerWeb: persistChannelConfig()] enabled=${this.enabled}`,e),localStorage.setItem(kc,t)}))}getPersistedChannelConfig(){return u(this,void 0,void 0,(function*(){let e;try{if(Da(`[StorageManagerWeb: getPersistedChannelConfig()] enabled=${this.enabled}`),e=localStorage.getItem(kc),Da(\"[StorageManagerWeb: getPersistedChannelConfig()]\",e),!e)return;const t=JSON.parse(e);return Da(\"[StorageManagerWeb: getPersistedChannelConfig()] channelConfig\",t),t}catch(e){return void console.error(\"[StorageManagerWeb: getPersistedChannelConfig()] Can't find existing channel config\",e)}}))}persistAccounts(e){return u(this,void 0,void 0,(function*(){Da(`[StorageManagerWeb: persistAccounts()] enabled=${this.enabled}`,e);const t=JSON.stringify(e);localStorage.setItem(Ac,t)}))}getCachedAccounts(){return u(this,void 0,void 0,(function*(){try{const e=localStorage.getItem(Ac);return e?JSON.parse(e):[]}catch(e){throw console.error(\"[StorageManagerWeb: getCachedAccounts()] Error reading cached accounts\",e),e}}))}persistChainId(e){return u(this,void 0,void 0,(function*(){Da(`[StorageManagerWeb: persistChainId()] enabled=${this.enabled}`,e),localStorage.setItem(Tc,e)}))}getCachedChainId(){return u(this,void 0,void 0,(function*(){try{const e=localStorage.getItem(Tc);return null!=e?e:void 0}catch(e){throw console.error(\"[StorageManagerWeb: getCachedChainId()] Error reading cached chainId\",e),e}}))}terminate(){return u(this,void 0,void 0,(function*(){Da(`[StorageManagerWeb: terminate()] enabled=${this.enabled}`),localStorage.removeItem(kc)}))}}});exports.DEFAULT_SERVER_URL=rr,exports.MetaMaskSDK=Ud,exports.MetaMaskSDKEvent=lc,exports.SDKProvider=pc,exports[\"default\"]=Ud;\n//# sourceMappingURL=metamask-sdk.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1ldGFtYXNrL3Nkay9kaXN0L25vZGUvY2pzL21ldGFtYXNrLXNkay5qcyIsIm1hcHBpbmdzIjoiQUFBYSw4Q0FBMkMsQ0FBQyxTQUFTLEVBQUMsQ0FBQyxNQUFNLG1CQUFPLENBQUMsMkVBQWEsSUFBSSxtQkFBTyxDQUFDLHNEQUFPLElBQUksbUJBQU8sQ0FBQyxzQkFBUSxJQUFJLG1CQUFPLENBQUMsZ0NBQWEsSUFBSSxtQkFBTyxDQUFDLDJGQUF5QixJQUFJLG1CQUFPLENBQUMsOEVBQWUsSUFBSSxtQkFBTyxDQUFDLDhEQUFNLElBQUksbUJBQU8sQ0FBQyxrRkFBa0IsSUFBSSxtQkFBTyxDQUFDLHNCQUFRLElBQUksbUJBQU8sQ0FBQyxzQkFBUSxJQUFJLG1CQUFPLENBQUMsa0JBQU0sRUFBRSxvQkFBb0IsMENBQTBDLGNBQWMsSUFBSSxhQUFhLFNBQVMsTUFBTSxjQUFjLElBQUksY0FBYyxTQUFTLE1BQU0sY0FBYyxNQUFNLGlFQUFpRSxLQUFLLGNBQWMsK0JBQStCLEdBQUcsb0RBQW9ELHFKQUFxSixjQUFjLHNGQUFzRixRQUFRLEtBQUssTUFBTSxjQUFjLG1GQUFtRixFQUFFLEdBQUcsY0FBYyxnRUFBZ0UsRUFBRSxHQUFHLGNBQWMsK0ZBQStGLG1CQUFtQixnREFBZ0Qsc0ZBQXNGLEVBQUUsa0JBQWtCLFNBQVMsR0FBRyxjQUFjLHNIQUFzSCw2QkFBNkIsbUJBQW1CLG1FQUFtRSwwRUFBMEUsZ0JBQWdCLEtBQUssb0JBQW9CLHVGQUF1RixFQUFFLEdBQUcsc0NBQXNDLFNBQVMsMkVBQTJFLFNBQVMsa0RBQWtELHdCQUF3QixzQ0FBc0MsU0FBUyx5SkFBeUosZUFBZSxpQ0FBaUMsMkNBQTJDLG1DQUFtQyxpQkFBaUIsWUFBWSxJQUFJLEtBQUssS0FBSyxxQkFBcUIseUNBQXlDLDJDQUEyQyxrQ0FBa0MsdUJBQXVCLDZCQUE2QixLQUFLLDJFQUEyRSxPQUFPLFNBQVMsOEJBQThCLFFBQVEsWUFBWSxXQUFXLEtBQUss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Q0FBdUMsYUFBYSxVQUFVLEVBQUUsV0FBVyxFQUFFLCtCQUErQix3QkFBd0IseUNBQXlDLDBCQUEwQiwwREFBMEQsYUFBYSxnQ0FBZ0MsR0FBRyw0QkFBNEIseUNBQXlDLE1BQU0sSUFBSSxrRUFBa0UsYUFBYSxpR0FBaUcsc0JBQXNCLGdGQUFnRixTQUFTLG9IQUFvSCxHQUFHLG1CQUFtQix5Q0FBeUMscURBQXFELGFBQWEsS0FBSywwQkFBMEIsMkJBQTJCLEdBQUcsb0JBQW9CLHlDQUF5QyxJQUFJLGlDQUFpQywwQkFBMEIsU0FBUyxtR0FBbUcsR0FBRyxrQkFBa0IseUNBQXlDLG9EQUFvRCxhQUFhLGdDQUFnQyxHQUFHLG1CQUFtQix5Q0FBeUMsSUFBSSxpQ0FBaUMsd0JBQXdCLFNBQVMsaUdBQWlHLEdBQUcsWUFBWSx5Q0FBeUMsK0NBQStDLGFBQWEsK0JBQStCLEtBQUssRUFBRSwwQkFBMEIsSUFBSSxtQkFBbUIsSUFBSSx3QkFBd0IsSUFBSSxtQkFBbUIsSUFBSSxrQkFBZTtBQUMxN2xXIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ2VvcXVlc3QtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvQG1ldGFtYXNrL3Nkay9kaXN0L25vZGUvY2pzL21ldGFtYXNrLXNkay5qcz9hMjYzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBlPXJlcXVpcmUoXCJjcm9zcy1mZXRjaFwiKSx0PXJlcXVpcmUoXCJkZWJ1Z1wiKSxuPXJlcXVpcmUoXCJidWZmZXJcIikscj1yZXF1aXJlKFwibm9kZTpjcnlwdG9cIiksaT1yZXF1aXJlKFwiQG1ldGFtYXNrL3Nkay1hbmFseXRpY3NcIiksbz1yZXF1aXJlKFwiZXZlbnRlbWl0dGVyMlwiKSxzPXJlcXVpcmUoXCJ1dWlkXCIpLGE9cmVxdWlyZShcInNvY2tldC5pby1jbGllbnRcIiksYz1yZXF1aXJlKFwiZXZlbnRzXCIpLGQ9cmVxdWlyZShcInN0cmVhbVwiKSxsPXJlcXVpcmUoXCJ1dGlsXCIpO2Z1bmN0aW9uIHUoZSx0LG4scil7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoKGZ1bmN0aW9uKGksbyl7ZnVuY3Rpb24gcyhlKXt0cnl7YyhyLm5leHQoZSkpfWNhdGNoKGUpe28oZSl9fWZ1bmN0aW9uIGEoZSl7dHJ5e2Moci50aHJvdyhlKSl9Y2F0Y2goZSl7byhlKX19ZnVuY3Rpb24gYyhlKXt2YXIgdDtlLmRvbmU/aShlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBuP3Q6bmV3IG4oKGZ1bmN0aW9uKGUpe2UodCl9KSkpLnRoZW4ocyxhKX1jKChyPXIuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KSl9XCJmdW5jdGlvblwiPT10eXBlb2YgU3VwcHJlc3NlZEVycm9yJiZTdXBwcmVzc2VkRXJyb3I7dmFyIGg9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOnt9O2Z1bmN0aW9uIGYoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZSYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJkZWZhdWx0XCIpP2UuZGVmYXVsdDplfXZhciBwPXt9LG09e30sZz17fTtmdW5jdGlvbiB5KGUpe2lmKCFOdW1iZXIuaXNTYWZlSW50ZWdlcihlKXx8ZTwwKXRocm93IG5ldyBFcnJvcihgcG9zaXRpdmUgaW50ZWdlciBleHBlY3RlZCwgbm90ICR7ZX1gKX1mdW5jdGlvbiB2KGUpe2lmKFwiYm9vbGVhblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoYGJvb2xlYW4gZXhwZWN0ZWQsIG5vdCAke2V9YCl9ZnVuY3Rpb24gRShlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fG51bGwhPWUmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZcIlVpbnQ4QXJyYXlcIj09PWUuY29uc3RydWN0b3IubmFtZX1mdW5jdGlvbiBiKGUsLi4udCl7aWYoIUUoZSkpdGhyb3cgbmV3IEVycm9yKFwiVWludDhBcnJheSBleHBlY3RlZFwiKTtpZih0Lmxlbmd0aD4wJiYhdC5pbmNsdWRlcyhlLmxlbmd0aCkpdGhyb3cgbmV3IEVycm9yKGBVaW50OEFycmF5IGV4cGVjdGVkIG9mIGxlbmd0aCAke3R9LCBub3Qgb2YgbGVuZ3RoPSR7ZS5sZW5ndGh9YCl9ZnVuY3Rpb24gdyhlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBlLmNyZWF0ZSl0aHJvdyBuZXcgRXJyb3IoXCJoYXNoIG11c3QgYmUgd3JhcHBlZCBieSB1dGlscy53cmFwQ29uc3RydWN0b3JcIik7eShlLm91dHB1dExlbikseShlLmJsb2NrTGVuKX1mdW5jdGlvbiBTKGUsdD0hMCl7aWYoZS5kZXN0cm95ZWQpdGhyb3cgbmV3IEVycm9yKFwiSGFzaCBpbnN0YW5jZSBoYXMgYmVlbiBkZXN0cm95ZWRcIik7aWYodCYmZS5maW5pc2hlZCl0aHJvdyBuZXcgRXJyb3IoXCJIYXNoI2RpZ2VzdCgpIGhhcyBhbHJlYWR5IGJlZW4gY2FsbGVkXCIpfWZ1bmN0aW9uIF8oZSx0KXtiKGUpO2NvbnN0IG49dC5vdXRwdXRMZW47aWYoZS5sZW5ndGg8bil0aHJvdyBuZXcgRXJyb3IoYGRpZ2VzdEludG8oKSBleHBlY3RzIG91dHB1dCBidWZmZXIgb2YgbGVuZ3RoIGF0IGxlYXN0ICR7bn1gKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxnLmlzQnl0ZXM9RSxnLm51bWJlcj15LGcuYm9vbD12LGcuYnl0ZXM9YixnLmhhc2g9dyxnLmV4aXN0cz1TLGcub3V0cHV0PV87Y29uc3QgQz17bnVtYmVyOnksYm9vbDp2LGJ5dGVzOmIsaGFzaDp3LGV4aXN0czpTLG91dHB1dDpffTtnLmRlZmF1bHQ9QyxmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLndyYXBDaXBoZXI9ZS5IYXNoPWUubmV4dFRpY2s9ZS5pc0xFPWUuY3JlYXRlVmlldz1lLnUzMj1lLnUxNj1lLnU4PXZvaWQgMCxlLmJ5dGVzVG9IZXg9cixlLmhleFRvQnl0ZXM9cyxlLmhleFRvTnVtYmVyPWEsZS5ieXRlc1RvTnVtYmVyQkU9ZnVuY3Rpb24oZSl7cmV0dXJuIGEocihlKSl9LGUubnVtYmVyVG9CeXRlc0JFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHMoZS50b1N0cmluZygxNikucGFkU3RhcnQoMip0LFwiMFwiKSl9LGUuYXN5bmNMb29wPWFzeW5jIGZ1bmN0aW9uKHQsbixyKXtsZXQgaT1EYXRlLm5vdygpO2ZvcihsZXQgbz0wO288dDtvKyspe3Iobyk7Y29uc3QgdD1EYXRlLm5vdygpLWk7dD49MCYmdDxufHwoYXdhaXQoMCxlLm5leHRUaWNrKSgpLGkrPXQpfX0sZS51dGY4VG9CeXRlcz1jLGUuYnl0ZXNUb1V0Zjg9ZnVuY3Rpb24oZSl7cmV0dXJuKG5ldyBUZXh0RGVjb2RlcikuZGVjb2RlKGUpfSxlLnRvQnl0ZXM9ZnVuY3Rpb24oZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpZT1jKGUpO2Vsc2V7aWYoISgwLHQuaXNCeXRlcykoZSkpdGhyb3cgbmV3IEVycm9yKFwiVWludDhBcnJheSBleHBlY3RlZCwgZ290IFwiK3R5cGVvZiBlKTtlPWwoZSl9cmV0dXJuIGV9LGUuY29uY2F0Qnl0ZXM9ZnVuY3Rpb24oLi4uZSl7bGV0IG49MDtmb3IobGV0IHI9MDtyPGUubGVuZ3RoO3IrKyl7Y29uc3QgaT1lW3JdOygwLHQuYnl0ZXMpKGkpLG4rPWkubGVuZ3RofWNvbnN0IHI9bmV3IFVpbnQ4QXJyYXkobik7Zm9yKGxldCB0PTAsbj0wO3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCBpPWVbdF07ci5zZXQoaSxuKSxuKz1pLmxlbmd0aH1yZXR1cm4gcn0sZS5jaGVja09wdHM9ZnVuY3Rpb24oZSx0KXtpZihudWxsPT10fHxcIm9iamVjdFwiIT10eXBlb2YgdCl0aHJvdyBuZXcgRXJyb3IoXCJvcHRpb25zIG11c3QgYmUgZGVmaW5lZFwiKTtyZXR1cm4gT2JqZWN0LmFzc2lnbihlLHQpfSxlLmVxdWFsQnl0ZXM9ZnVuY3Rpb24oZSx0KXtpZihlLmxlbmd0aCE9PXQubGVuZ3RoKXJldHVybiExO2xldCBuPTA7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspbnw9ZVtyXV50W3JdO3JldHVybiAwPT09bn0sZS5zZXRCaWdVaW50NjQ9ZCxlLnU2NExlbmd0aHM9ZnVuY3Rpb24odCxuKXtjb25zdCByPW5ldyBVaW50OEFycmF5KDE2KSxpPSgwLGUuY3JlYXRlVmlldykocik7cmV0dXJuIGQoaSwwLEJpZ0ludChuP24ubGVuZ3RoOjApLCEwKSxkKGksOCxCaWdJbnQodC5sZW5ndGgpLCEwKSxyfSxlLmlzQWxpZ25lZDMyPWZ1bmN0aW9uKGUpe3JldHVybiBlLmJ5dGVPZmZzZXQlND09MH0sZS5jb3B5Qnl0ZXM9bCxlLmNsZWFuPWZ1bmN0aW9uKC4uLmUpe2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKWVbdF0uZmlsbCgwKX07Y29uc3QgdD1nO2UudTg9ZT0+bmV3IFVpbnQ4QXJyYXkoZS5idWZmZXIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aCk7ZS51MTY9ZT0+bmV3IFVpbnQxNkFycmF5KGUuYnVmZmVyLGUuYnl0ZU9mZnNldCxNYXRoLmZsb29yKGUuYnl0ZUxlbmd0aC8yKSk7ZS51MzI9ZT0+bmV3IFVpbnQzMkFycmF5KGUuYnVmZmVyLGUuYnl0ZU9mZnNldCxNYXRoLmZsb29yKGUuYnl0ZUxlbmd0aC80KSk7aWYoZS5jcmVhdGVWaWV3PWU9Pm5ldyBEYXRhVmlldyhlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQsZS5ieXRlTGVuZ3RoKSxlLmlzTEU9Njg9PT1uZXcgVWludDhBcnJheShuZXcgVWludDMyQXJyYXkoWzI4NzQ1NDAyMF0pLmJ1ZmZlcilbMF0sIWUuaXNMRSl0aHJvdyBuZXcgRXJyb3IoXCJOb24gbGl0dGxlLWVuZGlhbiBoYXJkd2FyZSBpcyBub3Qgc3VwcG9ydGVkXCIpO2NvbnN0IG49QXJyYXkuZnJvbSh7bGVuZ3RoOjI1Nn0sKChlLHQpPT50LnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLFwiMFwiKSkpO2Z1bmN0aW9uIHIoZSl7KDAsdC5ieXRlcykoZSk7bGV0IHI9XCJcIjtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKylyKz1uW2VbdF1dO3JldHVybiByfWNvbnN0IGk9e18wOjQ4LF85OjU3LF9BOjY1LF9GOjcwLF9hOjk3LF9mOjEwMn07ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZT49aS5fMCYmZTw9aS5fOT9lLWkuXzA6ZT49aS5fQSYmZTw9aS5fRj9lLShpLl9BLTEwKTplPj1pLl9hJiZlPD1pLl9mP2UtKGkuX2EtMTApOnZvaWQgMH1mdW5jdGlvbiBzKGUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihcImhleCBzdHJpbmcgZXhwZWN0ZWQsIGdvdCBcIit0eXBlb2YgZSk7Y29uc3QgdD1lLmxlbmd0aCxuPXQvMjtpZih0JTIpdGhyb3cgbmV3IEVycm9yKFwicGFkZGVkIGhleCBzdHJpbmcgZXhwZWN0ZWQsIGdvdCB1bnBhZGRlZCBoZXggb2YgbGVuZ3RoIFwiK3QpO2NvbnN0IHI9bmV3IFVpbnQ4QXJyYXkobik7Zm9yKGxldCB0PTAsaT0wO3Q8bjt0KyssaSs9Mil7Y29uc3Qgbj1vKGUuY2hhckNvZGVBdChpKSkscz1vKGUuY2hhckNvZGVBdChpKzEpKTtpZih2b2lkIDA9PT1ufHx2b2lkIDA9PT1zKXtjb25zdCB0PWVbaV0rZVtpKzFdO3Rocm93IG5ldyBFcnJvcignaGV4IHN0cmluZyBleHBlY3RlZCwgZ290IG5vbi1oZXggY2hhcmFjdGVyIFwiJyt0KydcIiBhdCBpbmRleCAnK2kpfXJbdF09MTYqbitzfXJldHVybiByfWZ1bmN0aW9uIGEoZSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKFwiaGV4IHN0cmluZyBleHBlY3RlZCwgZ290IFwiK3R5cGVvZiBlKTtyZXR1cm4gQmlnSW50KFwiXCI9PT1lP1wiMFwiOmAweCR7ZX1gKX1mdW5jdGlvbiBjKGUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihcInN0cmluZyBleHBlY3RlZCwgZ290IFwiK3R5cGVvZiBlKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoKG5ldyBUZXh0RW5jb2RlcikuZW5jb2RlKGUpKX1lLm5leHRUaWNrPWFzeW5jKCk9Pnt9O2UuSGFzaD1jbGFzc3t9O2Z1bmN0aW9uIGQoZSx0LG4scil7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZS5zZXRCaWdVaW50NjQpcmV0dXJuIGUuc2V0QmlnVWludDY0KHQsbixyKTtjb25zdCBpPUJpZ0ludCgzMiksbz1CaWdJbnQoNDI5NDk2NzI5NSkscz1OdW1iZXIobj4+aSZvKSxhPU51bWJlcihuJm8pLGM9cj80OjAsZD1yPzA6NDtlLnNldFVpbnQzMih0K2MscyxyKSxlLnNldFVpbnQzMih0K2QsYSxyKX1mdW5jdGlvbiBsKGUpe3JldHVybiBVaW50OEFycmF5LmZyb20oZSl9ZS53cmFwQ2lwaGVyPShlLHQpPT4oT2JqZWN0LmFzc2lnbih0LGUpLHQpfShtKTt2YXIgeD17fSxrPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShrLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGsuQUVBRF9UQUdfTEVOR1RIPWsuWENIQUNIQTIwX05PTkNFX0xFTkdUSD1rLkNVUlZFMjU1MTlfUFVCTElDX0tFWV9TSVpFPWsuRVRIX1BVQkxJQ19LRVlfU0laRT1rLlVOQ09NUFJFU1NFRF9QVUJMSUNfS0VZX1NJWkU9ay5DT01QUkVTU0VEX1BVQkxJQ19LRVlfU0laRT1rLlNFQ1JFVF9LRVlfTEVOR1RIPXZvaWQgMCxrLlNFQ1JFVF9LRVlfTEVOR1RIPTMyLGsuQ09NUFJFU1NFRF9QVUJMSUNfS0VZX1NJWkU9MzMsay5VTkNPTVBSRVNTRURfUFVCTElDX0tFWV9TSVpFPTY1LGsuRVRIX1BVQkxJQ19LRVlfU0laRT02NCxrLkNVUlZFMjU1MTlfUFVCTElDX0tFWV9TSVpFPTMyLGsuWENIQUNIQTIwX05PTkNFX0xFTkdUSD0yNCxrLkFFQURfVEFHX0xFTkdUSD0xNixmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLmVwaGVtZXJhbEtleVNpemU9ZS5zeW1tZXRyaWNOb25jZUxlbmd0aD1lLnN5bW1ldHJpY0FsZ29yaXRobT1lLmlzSGtkZktleUNvbXByZXNzZWQ9ZS5pc0VwaGVtZXJhbEtleUNvbXByZXNzZWQ9ZS5lbGxpcHRpY0N1cnZlPWUuRUNJRVNfQ09ORklHPXZvaWQgMDt2YXIgdD1rLG49ZnVuY3Rpb24oKXt0aGlzLmVsbGlwdGljQ3VydmU9XCJzZWNwMjU2azFcIix0aGlzLmlzRXBoZW1lcmFsS2V5Q29tcHJlc3NlZD0hMSx0aGlzLmlzSGtkZktleUNvbXByZXNzZWQ9ITEsdGhpcy5zeW1tZXRyaWNBbGdvcml0aG09XCJhZXMtMjU2LWdjbVwiLHRoaXMuc3ltbWV0cmljTm9uY2VMZW5ndGg9MTZ9O2UuRUNJRVNfQ09ORklHPW5ldyBuO2UuZWxsaXB0aWNDdXJ2ZT1mdW5jdGlvbigpe3JldHVybiBlLkVDSUVTX0NPTkZJRy5lbGxpcHRpY0N1cnZlfTtlLmlzRXBoZW1lcmFsS2V5Q29tcHJlc3NlZD1mdW5jdGlvbigpe3JldHVybiBlLkVDSUVTX0NPTkZJRy5pc0VwaGVtZXJhbEtleUNvbXByZXNzZWR9O2UuaXNIa2RmS2V5Q29tcHJlc3NlZD1mdW5jdGlvbigpe3JldHVybiBlLkVDSUVTX0NPTkZJRy5pc0hrZGZLZXlDb21wcmVzc2VkfTtlLnN5bW1ldHJpY0FsZ29yaXRobT1mdW5jdGlvbigpe3JldHVybiBlLkVDSUVTX0NPTkZJRy5zeW1tZXRyaWNBbGdvcml0aG19O2Uuc3ltbWV0cmljTm9uY2VMZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gZS5FQ0lFU19DT05GSUcuc3ltbWV0cmljTm9uY2VMZW5ndGh9O2UuZXBoZW1lcmFsS2V5U2l6ZT1mdW5jdGlvbigpe3ZhciBuPXtzZWNwMjU2azE6ZS5FQ0lFU19DT05GSUcuaXNFcGhlbWVyYWxLZXlDb21wcmVzc2VkP3QuQ09NUFJFU1NFRF9QVUJMSUNfS0VZX1NJWkU6dC5VTkNPTVBSRVNTRURfUFVCTElDX0tFWV9TSVpFLHgyNTUxOTp0LkNVUlZFMjU1MTlfUFVCTElDX0tFWV9TSVpFLGVkMjU1MTk6dC5DVVJWRTI1NTE5X1BVQkxJQ19LRVlfU0laRX07aWYoZS5FQ0lFU19DT05GSUcuZWxsaXB0aWNDdXJ2ZSBpbiBuKXJldHVybiBuW2UuRUNJRVNfQ09ORklHLmVsbGlwdGljQ3VydmVdO3Rocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZFwiKX19KHgpO3ZhciBNPXt9LEE9e30sVD17fSxJPXt9LFI9e30sUD17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoUCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxQLmNyeXB0bz12b2lkIDA7Y29uc3QgTz1yO1AuY3J5cHRvPU8mJlwib2JqZWN0XCI9PXR5cGVvZiBPJiZcIndlYmNyeXB0b1wiaW4gTz9PLndlYmNyeXB0bzpPJiZcIm9iamVjdFwiPT10eXBlb2YgTyYmXCJyYW5kb21CeXRlc1wiaW4gTz9POnZvaWQgMCxmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLmdjbT1lLmN0cj1lLmNiYz1lLnV0aWxzPXZvaWQgMCxlLnJhbmRvbUJ5dGVzPWksZS5nZXRXZWJjcnlwdG9TdWJ0bGU9byxlLm1hbmFnZWROb25jZT1mdW5jdGlvbihlKXtyZXR1cm4oMCxuLm51bWJlcikoZS5ub25jZUxlbmd0aCksKHQsLi4ubik9Pih7ZW5jcnlwdChvLC4uLnMpe2NvbnN0e25vbmNlTGVuZ3RoOmF9PWUsYz1pKGEpLGQ9ZSh0LGMsLi4ubikuZW5jcnlwdChvLC4uLnMpLGw9KDAsci5jb25jYXRCeXRlcykoYyxkKTtyZXR1cm4gZC5maWxsKDApLGx9LGRlY3J5cHQociwuLi5pKXtjb25zdHtub25jZUxlbmd0aDpvfT1lLHM9ci5zdWJhcnJheSgwLG8pLGE9ci5zdWJhcnJheShvKTtyZXR1cm4gZSh0LHMsLi4ubikuZGVjcnlwdChhLC4uLmkpfX0pfTtjb25zdCB0PVAsbj1nLHI9bTtmdW5jdGlvbiBpKGU9MzIpe2lmKHQuY3J5cHRvJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMpcmV0dXJuIHQuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheShlKSk7aWYodC5jcnlwdG8mJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuY3J5cHRvLnJhbmRvbUJ5dGVzKXJldHVybiB0LmNyeXB0by5yYW5kb21CeXRlcyhlKTt0aHJvdyBuZXcgRXJyb3IoXCJjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzIG11c3QgYmUgZGVmaW5lZFwiKX1mdW5jdGlvbiBvKCl7aWYodC5jcnlwdG8mJlwib2JqZWN0XCI9PXR5cGVvZiB0LmNyeXB0by5zdWJ0bGUmJm51bGwhPXQuY3J5cHRvLnN1YnRsZSlyZXR1cm4gdC5jcnlwdG8uc3VidGxlO3Rocm93IG5ldyBFcnJvcihcImNyeXB0by5zdWJ0bGUgbXVzdCBiZSBkZWZpbmVkXCIpfWUudXRpbHM9e2FzeW5jIGVuY3J5cHQoZSx0LG4scil7Y29uc3QgaT1vKCkscz1hd2FpdCBpLmltcG9ydEtleShcInJhd1wiLGUsdCwhMCxbXCJlbmNyeXB0XCJdKSxhPWF3YWl0IGkuZW5jcnlwdChuLHMscik7cmV0dXJuIG5ldyBVaW50OEFycmF5KGEpfSxhc3luYyBkZWNyeXB0KGUsdCxuLHIpe2NvbnN0IGk9bygpLHM9YXdhaXQgaS5pbXBvcnRLZXkoXCJyYXdcIixlLHQsITAsW1wiZGVjcnlwdFwiXSksYT1hd2FpdCBpLmRlY3J5cHQobixzLHIpO3JldHVybiBuZXcgVWludDhBcnJheShhKX19O2NvbnN0IHM9e0NCQzpcIkFFUy1DQkNcIixDVFI6XCJBRVMtQ1RSXCIsR0NNOlwiQUVTLUdDTVwifTtmdW5jdGlvbiBhKHQpe3JldHVybihyLGksbyk9PnsoMCxuLmJ5dGVzKShyKSwoMCxuLmJ5dGVzKShpKTtjb25zdCBhPXtuYW1lOnQsbGVuZ3RoOjgqci5sZW5ndGh9LGM9ZnVuY3Rpb24oZSx0LG4pe2lmKGU9PT1zLkNCQylyZXR1cm57bmFtZTpzLkNCQyxpdjp0fTtpZihlPT09cy5DVFIpcmV0dXJue25hbWU6cy5DVFIsY291bnRlcjp0LGxlbmd0aDo2NH07aWYoZT09PXMuR0NNKXJldHVybiBuP3tuYW1lOnMuR0NNLGl2OnQsYWRkaXRpb25hbERhdGE6bn06e25hbWU6cy5HQ00saXY6dH07dGhyb3cgbmV3IEVycm9yKFwidW5rbm93biBhZXMgYmxvY2sgbW9kZVwiKX0odCxpLG8pO3JldHVybntlbmNyeXB0OnQ9PigoMCxuLmJ5dGVzKSh0KSxlLnV0aWxzLmVuY3J5cHQocixhLGMsdCkpLGRlY3J5cHQ6dD0+KCgwLG4uYnl0ZXMpKHQpLGUudXRpbHMuZGVjcnlwdChyLGEsYyx0KSl9fX1lLmNiYz1hKHMuQ0JDKSxlLmN0cj1hKHMuQ1RSKSxlLmdjbT1hKHMuR0NNKX0oUik7dmFyIE49e30sRD17fSxMPXt9LEI9e307ZnVuY3Rpb24gSyhlKXtpZighTnVtYmVyLmlzU2FmZUludGVnZXIoZSl8fGU8MCl0aHJvdyBuZXcgRXJyb3IoYHBvc2l0aXZlIGludGVnZXIgZXhwZWN0ZWQsIG5vdCAke2V9YCl9ZnVuY3Rpb24gaihlKXtpZihcImJvb2xlYW5cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKGBib29sZWFuIGV4cGVjdGVkLCBub3QgJHtlfWApfWZ1bmN0aW9uICQoZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBVaW50OEFycmF5fHxudWxsIT1lJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmXCJVaW50OEFycmF5XCI9PT1lLmNvbnN0cnVjdG9yLm5hbWV9ZnVuY3Rpb24gSChlLC4uLnQpe2lmKCEkKGUpKXRocm93IG5ldyBFcnJvcihcIlVpbnQ4QXJyYXkgZXhwZWN0ZWRcIik7aWYodC5sZW5ndGg+MCYmIXQuaW5jbHVkZXMoZS5sZW5ndGgpKXRocm93IG5ldyBFcnJvcihgVWludDhBcnJheSBleHBlY3RlZCBvZiBsZW5ndGggJHt0fSwgbm90IG9mIGxlbmd0aD0ke2UubGVuZ3RofWApfWZ1bmN0aW9uIFUoZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZXx8XCJmdW5jdGlvblwiIT10eXBlb2YgZS5jcmVhdGUpdGhyb3cgbmV3IEVycm9yKFwiSGFzaCBzaG91bGQgYmUgd3JhcHBlZCBieSB1dGlscy53cmFwQ29uc3RydWN0b3JcIik7SyhlLm91dHB1dExlbiksSyhlLmJsb2NrTGVuKX1mdW5jdGlvbiBGKGUsdD0hMCl7aWYoZS5kZXN0cm95ZWQpdGhyb3cgbmV3IEVycm9yKFwiSGFzaCBpbnN0YW5jZSBoYXMgYmVlbiBkZXN0cm95ZWRcIik7aWYodCYmZS5maW5pc2hlZCl0aHJvdyBuZXcgRXJyb3IoXCJIYXNoI2RpZ2VzdCgpIGhhcyBhbHJlYWR5IGJlZW4gY2FsbGVkXCIpfWZ1bmN0aW9uIHEoZSx0KXtIKGUpO2NvbnN0IG49dC5vdXRwdXRMZW47aWYoZS5sZW5ndGg8bil0aHJvdyBuZXcgRXJyb3IoYGRpZ2VzdEludG8oKSBleHBlY3RzIG91dHB1dCBidWZmZXIgb2YgbGVuZ3RoIGF0IGxlYXN0ICR7bn1gKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoQixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxCLmlzQnl0ZXM9JCxCLm51bWJlcj1LLEIuYm9vbD1qLEIuYnl0ZXM9SCxCLmhhc2g9VSxCLmV4aXN0cz1GLEIub3V0cHV0PXE7Y29uc3Qgej17bnVtYmVyOkssYm9vbDpqLGJ5dGVzOkgsaGFzaDpVLGV4aXN0czpGLG91dHB1dDpxfTtCLmRlZmF1bHQ9ejt2YXIgVz17fSxWPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShWLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLFYuY3J5cHRvPXZvaWQgMDtjb25zdCBHPXI7Vi5jcnlwdG89RyYmXCJvYmplY3RcIj09dHlwZW9mIEcmJlwid2ViY3J5cHRvXCJpbiBHP0cud2ViY3J5cHRvOkcmJlwib2JqZWN0XCI9PXR5cGVvZiBHJiZcInJhbmRvbUJ5dGVzXCJpbiBHP0c6dm9pZCAwLGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuSGFzaD1lLm5leHRUaWNrPWUuYnl0ZVN3YXBJZkJFPWUuYnl0ZVN3YXA9ZS5pc0xFPWUucm90bD1lLnJvdHI9ZS5jcmVhdGVWaWV3PWUudTMyPWUudTg9dm9pZCAwLGUuaXNCeXRlcz1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fG51bGwhPWUmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZcIlVpbnQ4QXJyYXlcIj09PWUuY29uc3RydWN0b3IubmFtZX0sZS5ieXRlU3dhcDMyPWZ1bmN0aW9uKHQpe2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKXRbbl09KDAsZS5ieXRlU3dhcCkodFtuXSl9LGUuYnl0ZXNUb0hleD1mdW5jdGlvbihlKXsoMCxuLmJ5dGVzKShlKTtsZXQgdD1cIlwiO2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXQrPXJbZVtuXV07cmV0dXJuIHR9LGUuaGV4VG9CeXRlcz1mdW5jdGlvbihlKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoXCJoZXggc3RyaW5nIGV4cGVjdGVkLCBnb3QgXCIrdHlwZW9mIGUpO2NvbnN0IHQ9ZS5sZW5ndGgsbj10LzI7aWYodCUyKXRocm93IG5ldyBFcnJvcihcInBhZGRlZCBoZXggc3RyaW5nIGV4cGVjdGVkLCBnb3QgdW5wYWRkZWQgaGV4IG9mIGxlbmd0aCBcIit0KTtjb25zdCByPW5ldyBVaW50OEFycmF5KG4pO2ZvcihsZXQgdD0wLGk9MDt0PG47dCsrLGkrPTIpe2NvbnN0IG49byhlLmNoYXJDb2RlQXQoaSkpLHM9byhlLmNoYXJDb2RlQXQoaSsxKSk7aWYodm9pZCAwPT09bnx8dm9pZCAwPT09cyl7Y29uc3QgdD1lW2ldK2VbaSsxXTt0aHJvdyBuZXcgRXJyb3IoJ2hleCBzdHJpbmcgZXhwZWN0ZWQsIGdvdCBub24taGV4IGNoYXJhY3RlciBcIicrdCsnXCIgYXQgaW5kZXggJytpKX1yW3RdPTE2Km4rc31yZXR1cm4gcn0sZS5hc3luY0xvb3A9YXN5bmMgZnVuY3Rpb24odCxuLHIpe2xldCBpPURhdGUubm93KCk7Zm9yKGxldCBvPTA7bzx0O28rKyl7cihvKTtjb25zdCB0PURhdGUubm93KCktaTt0Pj0wJiZ0PG58fChhd2FpdCgwLGUubmV4dFRpY2spKCksaSs9dCl9fSxlLnV0ZjhUb0J5dGVzPXMsZS50b0J5dGVzPWEsZS5jb25jYXRCeXRlcz1mdW5jdGlvbiguLi5lKXtsZXQgdD0wO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKXtjb25zdCBpPWVbcl07KDAsbi5ieXRlcykoaSksdCs9aS5sZW5ndGh9Y29uc3Qgcj1uZXcgVWludDhBcnJheSh0KTtmb3IobGV0IHQ9MCxuPTA7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IGk9ZVt0XTtyLnNldChpLG4pLG4rPWkubGVuZ3RofXJldHVybiByfSxlLmNoZWNrT3B0cz1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMCE9PXQmJlwiW29iamVjdCBPYmplY3RdXCIhPT1jLmNhbGwodCkpdGhyb3cgbmV3IEVycm9yKFwiT3B0aW9ucyBzaG91bGQgYmUgb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gT2JqZWN0LmFzc2lnbihlLHQpfSxlLndyYXBDb25zdHJ1Y3Rvcj1mdW5jdGlvbihlKXtjb25zdCB0PXQ9PmUoKS51cGRhdGUoYSh0KSkuZGlnZXN0KCksbj1lKCk7cmV0dXJuIHQub3V0cHV0TGVuPW4ub3V0cHV0TGVuLHQuYmxvY2tMZW49bi5ibG9ja0xlbix0LmNyZWF0ZT0oKT0+ZSgpLHR9LGUud3JhcENvbnN0cnVjdG9yV2l0aE9wdHM9ZnVuY3Rpb24oZSl7Y29uc3QgdD0odCxuKT0+ZShuKS51cGRhdGUoYSh0KSkuZGlnZXN0KCksbj1lKHt9KTtyZXR1cm4gdC5vdXRwdXRMZW49bi5vdXRwdXRMZW4sdC5ibG9ja0xlbj1uLmJsb2NrTGVuLHQuY3JlYXRlPXQ9PmUodCksdH0sZS53cmFwWE9GQ29uc3RydWN0b3JXaXRoT3B0cz1mdW5jdGlvbihlKXtjb25zdCB0PSh0LG4pPT5lKG4pLnVwZGF0ZShhKHQpKS5kaWdlc3QoKSxuPWUoe30pO3JldHVybiB0Lm91dHB1dExlbj1uLm91dHB1dExlbix0LmJsb2NrTGVuPW4uYmxvY2tMZW4sdC5jcmVhdGU9dD0+ZSh0KSx0fSxlLnJhbmRvbUJ5dGVzPWZ1bmN0aW9uKGU9MzIpe2lmKHQuY3J5cHRvJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMpcmV0dXJuIHQuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheShlKSk7aWYodC5jcnlwdG8mJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuY3J5cHRvLnJhbmRvbUJ5dGVzKXJldHVybiB0LmNyeXB0by5yYW5kb21CeXRlcyhlKTt0aHJvdyBuZXcgRXJyb3IoXCJjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzIG11c3QgYmUgZGVmaW5lZFwiKX07Y29uc3QgdD1WLG49QjtlLnU4PWU9Pm5ldyBVaW50OEFycmF5KGUuYnVmZmVyLGUuYnl0ZU9mZnNldCxlLmJ5dGVMZW5ndGgpO2UudTMyPWU9Pm5ldyBVaW50MzJBcnJheShlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQsTWF0aC5mbG9vcihlLmJ5dGVMZW5ndGgvNCkpO2UuY3JlYXRlVmlldz1lPT5uZXcgRGF0YVZpZXcoZS5idWZmZXIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aCk7ZS5yb3RyPShlLHQpPT5lPDwzMi10fGU+Pj50O2Uucm90bD0oZSx0KT0+ZTw8dHxlPj4+MzItdD4+PjAsZS5pc0xFPTY4PT09bmV3IFVpbnQ4QXJyYXkobmV3IFVpbnQzMkFycmF5KFsyODc0NTQwMjBdKS5idWZmZXIpWzBdO2UuYnl0ZVN3YXA9ZT0+ZTw8MjQmNDI3ODE5MDA4MHxlPDw4JjE2NzExNjgwfGU+Pj44JjY1MjgwfGU+Pj4yNCYyNTUsZS5ieXRlU3dhcElmQkU9ZS5pc0xFP2U9PmU6dD0+KDAsZS5ieXRlU3dhcCkodCk7Y29uc3Qgcj1BcnJheS5mcm9tKHtsZW5ndGg6MjU2fSwoKGUsdCk9PnQudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsXCIwXCIpKSk7Y29uc3QgaT17XzA6NDgsXzk6NTcsX0E6NjUsX0Y6NzAsX2E6OTcsX2Y6MTAyfTtmdW5jdGlvbiBvKGUpe3JldHVybiBlPj1pLl8wJiZlPD1pLl85P2UtaS5fMDplPj1pLl9BJiZlPD1pLl9GP2UtKGkuX0EtMTApOmU+PWkuX2EmJmU8PWkuX2Y/ZS0oaS5fYS0xMCk6dm9pZCAwfWZ1bmN0aW9uIHMoZSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKFwidXRmOFRvQnl0ZXMgZXhwZWN0ZWQgc3RyaW5nLCBnb3QgXCIrdHlwZW9mIGUpO3JldHVybiBuZXcgVWludDhBcnJheSgobmV3IFRleHRFbmNvZGVyKS5lbmNvZGUoZSkpfWZ1bmN0aW9uIGEoZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPXMoZSkpLCgwLG4uYnl0ZXMpKGUpLGV9ZS5uZXh0VGljaz1hc3luYygpPT57fTtlLkhhc2g9Y2xhc3N7Y2xvbmUoKXtyZXR1cm4gdGhpcy5fY2xvbmVJbnRvKCl9fTtjb25zdCBjPXt9LnRvU3RyaW5nfShXKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoTCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxMLkhhc2hNRD1MLk1haj1MLkNoaT12b2lkIDA7Y29uc3QgWT1CLFo9VztMLkNoaT0oZSx0LG4pPT5lJnRefmUmbjtMLk1haj0oZSx0LG4pPT5lJnReZSZuXnQmbjtMLkhhc2hNRD1jbGFzcyBleHRlbmRzIFouSGFzaHtjb25zdHJ1Y3RvcihlLHQsbixyKXtzdXBlcigpLHRoaXMuYmxvY2tMZW49ZSx0aGlzLm91dHB1dExlbj10LHRoaXMucGFkT2Zmc2V0PW4sdGhpcy5pc0xFPXIsdGhpcy5maW5pc2hlZD0hMSx0aGlzLmxlbmd0aD0wLHRoaXMucG9zPTAsdGhpcy5kZXN0cm95ZWQ9ITEsdGhpcy5idWZmZXI9bmV3IFVpbnQ4QXJyYXkoZSksdGhpcy52aWV3PSgwLFouY3JlYXRlVmlldykodGhpcy5idWZmZXIpfXVwZGF0ZShlKXsoMCxZLmV4aXN0cykodGhpcyk7Y29uc3R7dmlldzp0LGJ1ZmZlcjpuLGJsb2NrTGVuOnJ9PXRoaXMsaT0oZT0oMCxaLnRvQnl0ZXMpKGUpKS5sZW5ndGg7Zm9yKGxldCBvPTA7bzxpOyl7Y29uc3Qgcz1NYXRoLm1pbihyLXRoaXMucG9zLGktbyk7aWYocyE9PXIpbi5zZXQoZS5zdWJhcnJheShvLG8rcyksdGhpcy5wb3MpLHRoaXMucG9zKz1zLG8rPXMsdGhpcy5wb3M9PT1yJiYodGhpcy5wcm9jZXNzKHQsMCksdGhpcy5wb3M9MCk7ZWxzZXtjb25zdCB0PSgwLFouY3JlYXRlVmlldykoZSk7Zm9yKDtyPD1pLW87bys9cil0aGlzLnByb2Nlc3ModCxvKX19cmV0dXJuIHRoaXMubGVuZ3RoKz1lLmxlbmd0aCx0aGlzLnJvdW5kQ2xlYW4oKSx0aGlzfWRpZ2VzdEludG8oZSl7KDAsWS5leGlzdHMpKHRoaXMpLCgwLFkub3V0cHV0KShlLHRoaXMpLHRoaXMuZmluaXNoZWQ9ITA7Y29uc3R7YnVmZmVyOnQsdmlldzpuLGJsb2NrTGVuOnIsaXNMRTppfT10aGlzO2xldHtwb3M6b309dGhpczt0W28rK109MTI4LHRoaXMuYnVmZmVyLnN1YmFycmF5KG8pLmZpbGwoMCksdGhpcy5wYWRPZmZzZXQ+ci1vJiYodGhpcy5wcm9jZXNzKG4sMCksbz0wKTtmb3IobGV0IGU9bztlPHI7ZSsrKXRbZV09MDshZnVuY3Rpb24oZSx0LG4scil7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZS5zZXRCaWdVaW50NjQpcmV0dXJuIGUuc2V0QmlnVWludDY0KHQsbixyKTtjb25zdCBpPUJpZ0ludCgzMiksbz1CaWdJbnQoNDI5NDk2NzI5NSkscz1OdW1iZXIobj4+aSZvKSxhPU51bWJlcihuJm8pLGM9cj80OjAsZD1yPzA6NDtlLnNldFVpbnQzMih0K2MscyxyKSxlLnNldFVpbnQzMih0K2QsYSxyKX0obixyLTgsQmlnSW50KDgqdGhpcy5sZW5ndGgpLGkpLHRoaXMucHJvY2VzcyhuLDApO2NvbnN0IHM9KDAsWi5jcmVhdGVWaWV3KShlKSxhPXRoaXMub3V0cHV0TGVuO2lmKGElNCl0aHJvdyBuZXcgRXJyb3IoXCJfc2hhMjogb3V0cHV0TGVuIHNob3VsZCBiZSBhbGlnbmVkIHRvIDMyYml0XCIpO2NvbnN0IGM9YS80LGQ9dGhpcy5nZXQoKTtpZihjPmQubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIl9zaGEyOiBvdXRwdXRMZW4gYmlnZ2VyIHRoYW4gc3RhdGVcIik7Zm9yKGxldCBlPTA7ZTxjO2UrKylzLnNldFVpbnQzMig0KmUsZFtlXSxpKX1kaWdlc3QoKXtjb25zdHtidWZmZXI6ZSxvdXRwdXRMZW46dH09dGhpczt0aGlzLmRpZ2VzdEludG8oZSk7Y29uc3Qgbj1lLnNsaWNlKDAsdCk7cmV0dXJuIHRoaXMuZGVzdHJveSgpLG59X2Nsb25lSW50byhlKXtlfHwoZT1uZXcgdGhpcy5jb25zdHJ1Y3RvciksZS5zZXQoLi4udGhpcy5nZXQoKSk7Y29uc3R7YmxvY2tMZW46dCxidWZmZXI6bixsZW5ndGg6cixmaW5pc2hlZDppLGRlc3Ryb3llZDpvLHBvczpzfT10aGlzO3JldHVybiBlLmxlbmd0aD1yLGUucG9zPXMsZS5maW5pc2hlZD1pLGUuZGVzdHJveWVkPW8sciV0JiZlLmJ1ZmZlci5zZXQobiksZX19O3ZhciBKPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShKLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLEouYWRkNUw9Si5hZGQ1SD1KLmFkZDRIPUouYWRkNEw9Si5hZGQzSD1KLmFkZDNMPUoucm90bEJMPUoucm90bEJIPUoucm90bFNMPUoucm90bFNIPUoucm90cjMyTD1KLnJvdHIzMkg9Si5yb3RyQkw9Si5yb3RyQkg9Si5yb3RyU0w9Si5yb3RyU0g9Si5zaHJTTD1KLnNoclNIPUoudG9CaWc9dm9pZCAwLEouZnJvbUJpZz1lZSxKLnNwbGl0PXRlLEouYWRkPW1lO2NvbnN0IFE9QmlnSW50KDIqKjMyLTEpLFg9QmlnSW50KDMyKTtmdW5jdGlvbiBlZShlLHQ9ITEpe3JldHVybiB0P3toOk51bWJlcihlJlEpLGw6TnVtYmVyKGU+PlgmUSl9OntoOjB8TnVtYmVyKGU+PlgmUSksbDowfE51bWJlcihlJlEpfX1mdW5jdGlvbiB0ZShlLHQ9ITEpe2xldCBuPW5ldyBVaW50MzJBcnJheShlLmxlbmd0aCkscj1uZXcgVWludDMyQXJyYXkoZS5sZW5ndGgpO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKXtjb25zdHtoOm8sbDpzfT1lZShlW2ldLHQpO1tuW2ldLHJbaV1dPVtvLHNdfXJldHVybltuLHJdfWNvbnN0IG5lPShlLHQpPT5CaWdJbnQoZT4+PjApPDxYfEJpZ0ludCh0Pj4+MCk7Si50b0JpZz1uZTtjb25zdCByZT0oZSx0LG4pPT5lPj4+bjtKLnNoclNIPXJlO2NvbnN0IGllPShlLHQsbik9PmU8PDMyLW58dD4+Pm47Si5zaHJTTD1pZTtjb25zdCBvZT0oZSx0LG4pPT5lPj4+bnx0PDwzMi1uO0oucm90clNIPW9lO2NvbnN0IHNlPShlLHQsbik9PmU8PDMyLW58dD4+Pm47Si5yb3RyU0w9c2U7Y29uc3QgYWU9KGUsdCxuKT0+ZTw8NjQtbnx0Pj4+bi0zMjtKLnJvdHJCSD1hZTtjb25zdCBjZT0oZSx0LG4pPT5lPj4+bi0zMnx0PDw2NC1uO0oucm90ckJMPWNlO2NvbnN0IGRlPShlLHQpPT50O0oucm90cjMySD1kZTtjb25zdCBsZT0oZSx0KT0+ZTtKLnJvdHIzMkw9bGU7Y29uc3QgdWU9KGUsdCxuKT0+ZTw8bnx0Pj4+MzItbjtKLnJvdGxTSD11ZTtjb25zdCBoZT0oZSx0LG4pPT50PDxufGU+Pj4zMi1uO0oucm90bFNMPWhlO2NvbnN0IGZlPShlLHQsbik9PnQ8PG4tMzJ8ZT4+PjY0LW47Si5yb3RsQkg9ZmU7Y29uc3QgcGU9KGUsdCxuKT0+ZTw8bi0zMnx0Pj4+NjQtbjtmdW5jdGlvbiBtZShlLHQsbixyKXtjb25zdCBpPSh0Pj4+MCkrKHI+Pj4wKTtyZXR1cm57aDplK24rKGkvMioqMzJ8MCl8MCxsOjB8aX19Si5yb3RsQkw9cGU7Y29uc3QgZ2U9KGUsdCxuKT0+KGU+Pj4wKSsodD4+PjApKyhuPj4+MCk7Si5hZGQzTD1nZTtjb25zdCB5ZT0oZSx0LG4scik9PnQrbityKyhlLzIqKjMyfDApfDA7Si5hZGQzSD15ZTtjb25zdCB2ZT0oZSx0LG4scik9PihlPj4+MCkrKHQ+Pj4wKSsobj4+PjApKyhyPj4+MCk7Si5hZGQ0TD12ZTtjb25zdCBFZT0oZSx0LG4scixpKT0+dCtuK3IraSsoZS8yKiozMnwwKXwwO0ouYWRkNEg9RWU7Y29uc3QgYmU9KGUsdCxuLHIsaSk9PihlPj4+MCkrKHQ+Pj4wKSsobj4+PjApKyhyPj4+MCkrKGk+Pj4wKTtKLmFkZDVMPWJlO2NvbnN0IHdlPShlLHQsbixyLGksbyk9PnQrbityK2krbysoZS8yKiozMnwwKXwwO0ouYWRkNUg9d2U7Y29uc3QgU2U9e2Zyb21CaWc6ZWUsc3BsaXQ6dGUsdG9CaWc6bmUsc2hyU0g6cmUsc2hyU0w6aWUscm90clNIOm9lLHJvdHJTTDpzZSxyb3RyQkg6YWUscm90ckJMOmNlLHJvdHIzMkg6ZGUscm90cjMyTDpsZSxyb3RsU0g6dWUscm90bFNMOmhlLHJvdGxCSDpmZSxyb3RsQkw6cGUsYWRkOm1lLGFkZDNMOmdlLGFkZDNIOnllLGFkZDRMOnZlLGFkZDRIOkVlLGFkZDVIOndlLGFkZDVMOmJlfTtKLmRlZmF1bHQ9U2UsT2JqZWN0LmRlZmluZVByb3BlcnR5KEQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksRC5zaGEzODQ9RC5zaGE1MTJfMjU2PUQuc2hhNTEyXzIyND1ELnNoYTUxMj1ELlNIQTM4ND1ELlNIQTUxMl8yNTY9RC5TSEE1MTJfMjI0PUQuU0hBNTEyPXZvaWQgMDtjb25zdCBfZT1MLENlPUoseGU9Vyxba2UsTWVdPSgoKT0+Q2UuZGVmYXVsdC5zcGxpdChbXCIweDQyOGEyZjk4ZDcyOGFlMjJcIixcIjB4NzEzNzQ0OTEyM2VmNjVjZFwiLFwiMHhiNWMwZmJjZmVjNGQzYjJmXCIsXCIweGU5YjVkYmE1ODE4OWRiYmNcIixcIjB4Mzk1NmMyNWJmMzQ4YjUzOFwiLFwiMHg1OWYxMTFmMWI2MDVkMDE5XCIsXCIweDkyM2Y4MmE0YWYxOTRmOWJcIixcIjB4YWIxYzVlZDVkYTZkODExOFwiLFwiMHhkODA3YWE5OGEzMDMwMjQyXCIsXCIweDEyODM1YjAxNDU3MDZmYmVcIixcIjB4MjQzMTg1YmU0ZWU0YjI4Y1wiLFwiMHg1NTBjN2RjM2Q1ZmZiNGUyXCIsXCIweDcyYmU1ZDc0ZjI3Yjg5NmZcIixcIjB4ODBkZWIxZmUzYjE2OTZiMVwiLFwiMHg5YmRjMDZhNzI1YzcxMjM1XCIsXCIweGMxOWJmMTc0Y2Y2OTI2OTRcIixcIjB4ZTQ5YjY5YzE5ZWYxNGFkMlwiLFwiMHhlZmJlNDc4NjM4NGYyNWUzXCIsXCIweDBmYzE5ZGM2OGI4Y2Q1YjVcIixcIjB4MjQwY2ExY2M3N2FjOWM2NVwiLFwiMHgyZGU5MmM2ZjU5MmIwMjc1XCIsXCIweDRhNzQ4NGFhNmVhNmU0ODNcIixcIjB4NWNiMGE5ZGNiZDQxZmJkNFwiLFwiMHg3NmY5ODhkYTgzMTE1M2I1XCIsXCIweDk4M2U1MTUyZWU2NmRmYWJcIixcIjB4YTgzMWM2NmQyZGI0MzIxMFwiLFwiMHhiMDAzMjdjODk4ZmIyMTNmXCIsXCIweGJmNTk3ZmM3YmVlZjBlZTRcIixcIjB4YzZlMDBiZjMzZGE4OGZjMlwiLFwiMHhkNWE3OTE0NzkzMGFhNzI1XCIsXCIweDA2Y2E2MzUxZTAwMzgyNmZcIixcIjB4MTQyOTI5NjcwYTBlNmU3MFwiLFwiMHgyN2I3MGE4NTQ2ZDIyZmZjXCIsXCIweDJlMWIyMTM4NWMyNmM5MjZcIixcIjB4NGQyYzZkZmM1YWM0MmFlZFwiLFwiMHg1MzM4MGQxMzlkOTViM2RmXCIsXCIweDY1MGE3MzU0OGJhZjYzZGVcIixcIjB4NzY2YTBhYmIzYzc3YjJhOFwiLFwiMHg4MWMyYzkyZTQ3ZWRhZWU2XCIsXCIweDkyNzIyYzg1MTQ4MjM1M2JcIixcIjB4YTJiZmU4YTE0Y2YxMDM2NFwiLFwiMHhhODFhNjY0YmJjNDIzMDAxXCIsXCIweGMyNGI4YjcwZDBmODk3OTFcIixcIjB4Yzc2YzUxYTMwNjU0YmUzMFwiLFwiMHhkMTkyZTgxOWQ2ZWY1MjE4XCIsXCIweGQ2OTkwNjI0NTU2NWE5MTBcIixcIjB4ZjQwZTM1ODU1NzcxMjAyYVwiLFwiMHgxMDZhYTA3MDMyYmJkMWI4XCIsXCIweDE5YTRjMTE2YjhkMmQwYzhcIixcIjB4MWUzNzZjMDg1MTQxYWI1M1wiLFwiMHgyNzQ4Nzc0Y2RmOGVlYjk5XCIsXCIweDM0YjBiY2I1ZTE5YjQ4YThcIixcIjB4MzkxYzBjYjNjNWM5NWE2M1wiLFwiMHg0ZWQ4YWE0YWUzNDE4YWNiXCIsXCIweDViOWNjYTRmNzc2M2UzNzNcIixcIjB4NjgyZTZmZjNkNmIyYjhhM1wiLFwiMHg3NDhmODJlZTVkZWZiMmZjXCIsXCIweDc4YTU2MzZmNDMxNzJmNjBcIixcIjB4ODRjODc4MTRhMWYwYWI3MlwiLFwiMHg4Y2M3MDIwODFhNjQzOWVjXCIsXCIweDkwYmVmZmZhMjM2MzFlMjhcIixcIjB4YTQ1MDZjZWJkZTgyYmRlOVwiLFwiMHhiZWY5YTNmN2IyYzY3OTE1XCIsXCIweGM2NzE3OGYyZTM3MjUzMmJcIixcIjB4Y2EyNzNlY2VlYTI2NjE5Y1wiLFwiMHhkMTg2YjhjNzIxYzBjMjA3XCIsXCIweGVhZGE3ZGQ2Y2RlMGViMWVcIixcIjB4ZjU3ZDRmN2ZlZTZlZDE3OFwiLFwiMHgwNmYwNjdhYTcyMTc2ZmJhXCIsXCIweDBhNjM3ZGM1YTJjODk4YTZcIixcIjB4MTEzZjk4MDRiZWY5MGRhZVwiLFwiMHgxYjcxMGIzNTEzMWM0NzFiXCIsXCIweDI4ZGI3N2Y1MjMwNDdkODRcIixcIjB4MzJjYWFiN2I0MGM3MjQ5M1wiLFwiMHgzYzllYmUwYTE1YzliZWJjXCIsXCIweDQzMWQ2N2M0OWMxMDBkNGNcIixcIjB4NGNjNWQ0YmVjYjNlNDJiNlwiLFwiMHg1OTdmMjk5Y2ZjNjU3ZTJhXCIsXCIweDVmY2I2ZmFiM2FkNmZhZWNcIixcIjB4NmM0NDE5OGM0YTQ3NTgxN1wiXS5tYXAoKGU9PkJpZ0ludChlKSkpKSkoKSxBZT1uZXcgVWludDMyQXJyYXkoODApLFRlPW5ldyBVaW50MzJBcnJheSg4MCk7Y2xhc3MgSWUgZXh0ZW5kcyBfZS5IYXNoTUR7Y29uc3RydWN0b3IoKXtzdXBlcigxMjgsNjQsMTYsITEpLHRoaXMuQWg9MTc3OTAzMzcwMyx0aGlzLkFsPS0yMDU3MzE1NzYsdGhpcy5CaD0tMTE1MDgzMzAxOSx0aGlzLkJsPS0yMDY3MDkzNzAxLHRoaXMuQ2g9MTAxMzkwNDI0Mix0aGlzLkNsPS0yMzc5MTU3Myx0aGlzLkRoPS0xNTIxNDg2NTM0LHRoaXMuRGw9MTU5NTc1MDEyOSx0aGlzLkVoPTEzNTk4OTMxMTksdGhpcy5FbD0tMTM3NzQwMjE1OSx0aGlzLkZoPS0xNjk0MTQ0MzcyLHRoaXMuRmw9NzI1NTExMTk5LHRoaXMuR2g9NTI4NzM0NjM1LHRoaXMuR2w9LTc5NTc3NzQ5LHRoaXMuSGg9MTU0MTQ1OTIyNSx0aGlzLkhsPTMyNzAzMzIwOX1nZXQoKXtjb25zdHtBaDplLEFsOnQsQmg6bixCbDpyLENoOmksQ2w6byxEaDpzLERsOmEsRWg6YyxFbDpkLEZoOmwsRmw6dSxHaDpoLEdsOmYsSGg6cCxIbDptfT10aGlzO3JldHVybltlLHQsbixyLGksbyxzLGEsYyxkLGwsdSxoLGYscCxtXX1zZXQoZSx0LG4scixpLG8scyxhLGMsZCxsLHUsaCxmLHAsbSl7dGhpcy5BaD0wfGUsdGhpcy5BbD0wfHQsdGhpcy5CaD0wfG4sdGhpcy5CbD0wfHIsdGhpcy5DaD0wfGksdGhpcy5DbD0wfG8sdGhpcy5EaD0wfHMsdGhpcy5EbD0wfGEsdGhpcy5FaD0wfGMsdGhpcy5FbD0wfGQsdGhpcy5GaD0wfGwsdGhpcy5GbD0wfHUsdGhpcy5HaD0wfGgsdGhpcy5HbD0wfGYsdGhpcy5IaD0wfHAsdGhpcy5IbD0wfG19cHJvY2VzcyhlLHQpe2ZvcihsZXQgbj0wO248MTY7bisrLHQrPTQpQWVbbl09ZS5nZXRVaW50MzIodCksVGVbbl09ZS5nZXRVaW50MzIodCs9NCk7Zm9yKGxldCBlPTE2O2U8ODA7ZSsrKXtjb25zdCB0PTB8QWVbZS0xNV0sbj0wfFRlW2UtMTVdLHI9Q2UuZGVmYXVsdC5yb3RyU0godCxuLDEpXkNlLmRlZmF1bHQucm90clNIKHQsbiw4KV5DZS5kZWZhdWx0LnNoclNIKHQsbiw3KSxpPUNlLmRlZmF1bHQucm90clNMKHQsbiwxKV5DZS5kZWZhdWx0LnJvdHJTTCh0LG4sOCleQ2UuZGVmYXVsdC5zaHJTTCh0LG4sNyksbz0wfEFlW2UtMl0scz0wfFRlW2UtMl0sYT1DZS5kZWZhdWx0LnJvdHJTSChvLHMsMTkpXkNlLmRlZmF1bHQucm90ckJIKG8scyw2MSleQ2UuZGVmYXVsdC5zaHJTSChvLHMsNiksYz1DZS5kZWZhdWx0LnJvdHJTTChvLHMsMTkpXkNlLmRlZmF1bHQucm90ckJMKG8scyw2MSleQ2UuZGVmYXVsdC5zaHJTTChvLHMsNiksZD1DZS5kZWZhdWx0LmFkZDRMKGksYyxUZVtlLTddLFRlW2UtMTZdKSxsPUNlLmRlZmF1bHQuYWRkNEgoZCxyLGEsQWVbZS03XSxBZVtlLTE2XSk7QWVbZV09MHxsLFRlW2VdPTB8ZH1sZXR7QWg6bixBbDpyLEJoOmksQmw6byxDaDpzLENsOmEsRGg6YyxEbDpkLEVoOmwsRWw6dSxGaDpoLEZsOmYsR2g6cCxHbDptLEhoOmcsSGw6eX09dGhpcztmb3IobGV0IGU9MDtlPDgwO2UrKyl7Y29uc3QgdD1DZS5kZWZhdWx0LnJvdHJTSChsLHUsMTQpXkNlLmRlZmF1bHQucm90clNIKGwsdSwxOCleQ2UuZGVmYXVsdC5yb3RyQkgobCx1LDQxKSx2PUNlLmRlZmF1bHQucm90clNMKGwsdSwxNCleQ2UuZGVmYXVsdC5yb3RyU0wobCx1LDE4KV5DZS5kZWZhdWx0LnJvdHJCTChsLHUsNDEpLEU9bCZoXn5sJnAsYj11JmZefnUmbSx3PUNlLmRlZmF1bHQuYWRkNUwoeSx2LGIsTWVbZV0sVGVbZV0pLFM9Q2UuZGVmYXVsdC5hZGQ1SCh3LGcsdCxFLGtlW2VdLEFlW2VdKSxfPTB8dyxDPUNlLmRlZmF1bHQucm90clNIKG4sciwyOCleQ2UuZGVmYXVsdC5yb3RyQkgobixyLDM0KV5DZS5kZWZhdWx0LnJvdHJCSChuLHIsMzkpLHg9Q2UuZGVmYXVsdC5yb3RyU0wobixyLDI4KV5DZS5kZWZhdWx0LnJvdHJCTChuLHIsMzQpXkNlLmRlZmF1bHQucm90ckJMKG4sciwzOSksaz1uJmlebiZzXmkmcyxNPXImb15yJmFebyZhO2c9MHxwLHk9MHxtLHA9MHxoLG09MHxmLGg9MHxsLGY9MHx1LCh7aDpsLGw6dX09Q2UuZGVmYXVsdC5hZGQoMHxjLDB8ZCwwfFMsMHxfKSksYz0wfHMsZD0wfGEscz0wfGksYT0wfG8saT0wfG4sbz0wfHI7Y29uc3QgQT1DZS5kZWZhdWx0LmFkZDNMKF8seCxNKTtuPUNlLmRlZmF1bHQuYWRkM0goQSxTLEMsaykscj0wfEF9KHtoOm4sbDpyfT1DZS5kZWZhdWx0LmFkZCgwfHRoaXMuQWgsMHx0aGlzLkFsLDB8biwwfHIpKSwoe2g6aSxsOm99PUNlLmRlZmF1bHQuYWRkKDB8dGhpcy5CaCwwfHRoaXMuQmwsMHxpLDB8bykpLCh7aDpzLGw6YX09Q2UuZGVmYXVsdC5hZGQoMHx0aGlzLkNoLDB8dGhpcy5DbCwwfHMsMHxhKSksKHtoOmMsbDpkfT1DZS5kZWZhdWx0LmFkZCgwfHRoaXMuRGgsMHx0aGlzLkRsLDB8YywwfGQpKSwoe2g6bCxsOnV9PUNlLmRlZmF1bHQuYWRkKDB8dGhpcy5FaCwwfHRoaXMuRWwsMHxsLDB8dSkpLCh7aDpoLGw6Zn09Q2UuZGVmYXVsdC5hZGQoMHx0aGlzLkZoLDB8dGhpcy5GbCwwfGgsMHxmKSksKHtoOnAsbDptfT1DZS5kZWZhdWx0LmFkZCgwfHRoaXMuR2gsMHx0aGlzLkdsLDB8cCwwfG0pKSwoe2g6ZyxsOnl9PUNlLmRlZmF1bHQuYWRkKDB8dGhpcy5IaCwwfHRoaXMuSGwsMHxnLDB8eSkpLHRoaXMuc2V0KG4scixpLG8scyxhLGMsZCxsLHUsaCxmLHAsbSxnLHkpfXJvdW5kQ2xlYW4oKXtBZS5maWxsKDApLFRlLmZpbGwoMCl9ZGVzdHJveSgpe3RoaXMuYnVmZmVyLmZpbGwoMCksdGhpcy5zZXQoMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCl9fUQuU0hBNTEyPUllO2NsYXNzIFJlIGV4dGVuZHMgSWV7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuQWg9LTE5NDIxNDUwODAsdGhpcy5BbD00MjQ5NTUyOTgsdGhpcy5CaD0xOTQ0MTY0NzEwLHRoaXMuQmw9LTE5ODIwMTYyOTgsdGhpcy5DaD01MDI5NzAyODYsdGhpcy5DbD04NTU2MTI1NDYsdGhpcy5EaD0xNzM4Mzk2OTQ4LHRoaXMuRGw9MTQ3OTUxNjExMSx0aGlzLkVoPTI1ODgxMjc3Nyx0aGlzLkVsPTIwNzc1MTEwODAsdGhpcy5GaD0yMDExMzkzOTA3LHRoaXMuRmw9Nzk5ODkwNTgsdGhpcy5HaD0xMDY3Mjg3OTc2LHRoaXMuR2w9MTc4MDI5OTQ2NCx0aGlzLkhoPTI4NjQ1MTM3Myx0aGlzLkhsPS0xODQ4MjA4NzM1LHRoaXMub3V0cHV0TGVuPTI4fX1ELlNIQTUxMl8yMjQ9UmU7Y2xhc3MgUGUgZXh0ZW5kcyBJZXtjb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5BaD01NzM2NDUyMDQsdGhpcy5BbD0tNjQyMjc1NDAsdGhpcy5CaD0tMTYyMTc5NDkwOSx0aGlzLkJsPS05MzQ1MTc1NjYsdGhpcy5DaD01OTY4ODM1NjMsdGhpcy5DbD0xODY3NzU1ODU3LHRoaXMuRGg9LTE3NzQ2ODQzOTEsdGhpcy5EbD0xNDk3NDI2NjIxLHRoaXMuRWg9LTE3NzU3NDczNTgsdGhpcy5FbD0tMTQ2NzAyMzM4OSx0aGlzLkZoPS0xMTAxMTI4MTU1LHRoaXMuRmw9MTQwMTMwNTQ5MCx0aGlzLkdoPTcyMTUyNTI0NCx0aGlzLkdsPTc0Njk2MTA2Nix0aGlzLkhoPTI0Njg4NTg1Mix0aGlzLkhsPS0yMTE3Nzg0NDE0LHRoaXMub3V0cHV0TGVuPTMyfX1ELlNIQTUxMl8yNTY9UGU7Y2xhc3MgT2UgZXh0ZW5kcyBJZXtjb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5BaD0tODc2ODk2OTMxLHRoaXMuQWw9LTEwNTY1OTYyNjQsdGhpcy5CaD0xNjU0MjcwMjUwLHRoaXMuQmw9OTE0MTUwNjYzLHRoaXMuQ2g9LTE4NTY0Mzc5MjYsdGhpcy5DbD04MTI3MDI5OTksdGhpcy5EaD0zNTU0NjIzNjAsdGhpcy5EbD0tMTUwMDU0NTk5LHRoaXMuRWg9MTczMTQwNTQxNSx0aGlzLkVsPS00MTkxNDM5LHRoaXMuRmg9LTE5MDA3ODcwNjUsdGhpcy5GbD0xNzUwNjAzMDI1LHRoaXMuR2g9LTYxOTk1ODc3MSx0aGlzLkdsPTE2OTQwNzY4MzksdGhpcy5IaD0xMjAzMDYyODEzLHRoaXMuSGw9LTEwOTA4OTE4NjgsdGhpcy5vdXRwdXRMZW49NDh9fUQuU0hBMzg0PU9lLEQuc2hhNTEyPSgwLHhlLndyYXBDb25zdHJ1Y3RvcikoKCgpPT5uZXcgSWUpKSxELnNoYTUxMl8yMjQ9KDAseGUud3JhcENvbnN0cnVjdG9yKSgoKCk9Pm5ldyBSZSkpLEQuc2hhNTEyXzI1Nj0oMCx4ZS53cmFwQ29uc3RydWN0b3IpKCgoKT0+bmV3IFBlKSksRC5zaGEzODQ9KDAseGUud3JhcENvbnN0cnVjdG9yKSgoKCk9Pm5ldyBPZSkpO3ZhciBOZT17fSxEZT17fSxMZT17fSxCZT17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoQmUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksQmUubm90SW1wbGVtZW50ZWQ9QmUuYml0TWFzaz12b2lkIDAsQmUuaXNCeXRlcz1IZSxCZS5hYnl0ZXM9VWUsQmUuYWJvb2w9ZnVuY3Rpb24oZSx0KXtpZihcImJvb2xlYW5cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IEVycm9yKGAke2V9IG11c3QgYmUgdmFsaWQgYm9vbGVhbiwgZ290IFwiJHt0fVwiLmApfSxCZS5ieXRlc1RvSGV4PXFlLEJlLm51bWJlclRvSGV4VW5wYWRkZWQ9emUsQmUuaGV4VG9OdW1iZXI9V2UsQmUuaGV4VG9CeXRlcz1ZZSxCZS5ieXRlc1RvTnVtYmVyQkU9ZnVuY3Rpb24oZSl7cmV0dXJuIFdlKHFlKGUpKX0sQmUuYnl0ZXNUb051bWJlckxFPWZ1bmN0aW9uKGUpe3JldHVybiBVZShlKSxXZShxZShVaW50OEFycmF5LmZyb20oZSkucmV2ZXJzZSgpKSl9LEJlLm51bWJlclRvQnl0ZXNCRT1aZSxCZS5udW1iZXJUb0J5dGVzTEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gWmUoZSx0KS5yZXZlcnNlKCl9LEJlLm51bWJlclRvVmFyQnl0ZXNCRT1mdW5jdGlvbihlKXtyZXR1cm4gWWUoemUoZSkpfSxCZS5lbnN1cmVCeXRlcz1mdW5jdGlvbihlLHQsbil7bGV0IHI7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpdHJ5e3I9WWUodCl9Y2F0Y2gobil7dGhyb3cgbmV3IEVycm9yKGAke2V9IG11c3QgYmUgdmFsaWQgaGV4IHN0cmluZywgZ290IFwiJHt0fVwiLiBDYXVzZTogJHtufWApfWVsc2V7aWYoIUhlKHQpKXRocm93IG5ldyBFcnJvcihgJHtlfSBtdXN0IGJlIGhleCBzdHJpbmcgb3IgVWludDhBcnJheWApO3I9VWludDhBcnJheS5mcm9tKHQpfWNvbnN0IGk9ci5sZW5ndGg7aWYoXCJudW1iZXJcIj09dHlwZW9mIG4mJmkhPT1uKXRocm93IG5ldyBFcnJvcihgJHtlfSBleHBlY3RlZCAke259IGJ5dGVzLCBnb3QgJHtpfWApO3JldHVybiByfSxCZS5jb25jYXRCeXRlcz1KZSxCZS5lcXVhbEJ5dGVzPWZ1bmN0aW9uKGUsdCl7aWYoZS5sZW5ndGghPT10Lmxlbmd0aClyZXR1cm4hMTtsZXQgbj0wO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKW58PWVbcl1edFtyXTtyZXR1cm4gMD09PW59LEJlLnV0ZjhUb0J5dGVzPWZ1bmN0aW9uKGUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihcInV0ZjhUb0J5dGVzIGV4cGVjdGVkIHN0cmluZywgZ290IFwiK3R5cGVvZiBlKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoKG5ldyBUZXh0RW5jb2RlcikuZW5jb2RlKGUpKX0sQmUuaW5SYW5nZT1YZSxCZS5hSW5SYW5nZT1mdW5jdGlvbihlLHQsbixyKXtpZighWGUodCxuLHIpKXRocm93IG5ldyBFcnJvcihgZXhwZWN0ZWQgdmFsaWQgJHtlfTogJHtufSA8PSBuIDwgJHtyfSwgZ290ICR7dHlwZW9mIHR9ICR7dH1gKX0sQmUuYml0TGVuPWZ1bmN0aW9uKGUpe2xldCB0O2Zvcih0PTA7ZT5LZTtlPj49amUsdCs9MSk7cmV0dXJuIHR9LEJlLmJpdEdldD1mdW5jdGlvbihlLHQpe3JldHVybiBlPj5CaWdJbnQodCkmamV9LEJlLmJpdFNldD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGV8KG4/amU6S2UpPDxCaWdJbnQodCl9LEJlLmNyZWF0ZUhtYWNEcmJnPWZ1bmN0aW9uKGUsdCxuKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZTwyKXRocm93IG5ldyBFcnJvcihcImhhc2hMZW4gbXVzdCBiZSBhIG51bWJlclwiKTtpZihcIm51bWJlclwiIT10eXBlb2YgdHx8dDwyKXRocm93IG5ldyBFcnJvcihcInFCeXRlTGVuIG11c3QgYmUgYSBudW1iZXJcIik7aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygbil0aHJvdyBuZXcgRXJyb3IoXCJobWFjRm4gbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO2xldCByPWV0KGUpLGk9ZXQoZSksbz0wO2NvbnN0IHM9KCk9PntyLmZpbGwoMSksaS5maWxsKDApLG89MH0sYT0oLi4uZSk9Pm4oaSxyLC4uLmUpLGM9KGU9ZXQoKSk9PntpPWEodHQoWzBdKSxlKSxyPWEoKSwwIT09ZS5sZW5ndGgmJihpPWEodHQoWzFdKSxlKSxyPWEoKSl9LGQ9KCk9PntpZihvKys+PTFlMyl0aHJvdyBuZXcgRXJyb3IoXCJkcmJnOiB0cmllZCAxMDAwIHZhbHVlc1wiKTtsZXQgZT0wO2NvbnN0IG49W107Zm9yKDtlPHQ7KXtyPWEoKTtjb25zdCB0PXIuc2xpY2UoKTtuLnB1c2godCksZSs9ci5sZW5ndGh9cmV0dXJuIEplKC4uLm4pfTtyZXR1cm4oZSx0KT0+e2xldCBuO2ZvcihzKCksYyhlKTshKG49dChkKCkpKTspYygpO3JldHVybiBzKCksbn19LEJlLnZhbGlkYXRlT2JqZWN0PWZ1bmN0aW9uKGUsdCxuPXt9KXtjb25zdCByPSh0LG4scik9Pntjb25zdCBpPW50W25dO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGkpdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHZhbGlkYXRvciBcIiR7bn1cIiwgZXhwZWN0ZWQgZnVuY3Rpb25gKTtjb25zdCBvPWVbdF07aWYoIShyJiZ2b2lkIDA9PT1vfHxpKG8sZSkpKXRocm93IG5ldyBFcnJvcihgSW52YWxpZCBwYXJhbSAke1N0cmluZyh0KX09JHtvfSAoJHt0eXBlb2Ygb30pLCBleHBlY3RlZCAke259YCl9O2Zvcihjb25zdFtlLG5db2YgT2JqZWN0LmVudHJpZXModCkpcihlLG4sITEpO2Zvcihjb25zdFtlLHRdb2YgT2JqZWN0LmVudHJpZXMobikpcihlLHQsITApO3JldHVybiBlfSxCZS5tZW1vaXplZD1mdW5jdGlvbihlKXtjb25zdCB0PW5ldyBXZWFrTWFwO3JldHVybihuLC4uLnIpPT57Y29uc3QgaT10LmdldChuKTtpZih2b2lkIDAhPT1pKXJldHVybiBpO2NvbnN0IG89ZShuLC4uLnIpO3JldHVybiB0LnNldChuLG8pLG99fTtjb25zdCBLZT1CaWdJbnQoMCksamU9QmlnSW50KDEpLCRlPUJpZ0ludCgyKTtmdW5jdGlvbiBIZShlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fG51bGwhPWUmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZcIlVpbnQ4QXJyYXlcIj09PWUuY29uc3RydWN0b3IubmFtZX1mdW5jdGlvbiBVZShlKXtpZighSGUoZSkpdGhyb3cgbmV3IEVycm9yKFwiVWludDhBcnJheSBleHBlY3RlZFwiKX1jb25zdCBGZT1BcnJheS5mcm9tKHtsZW5ndGg6MjU2fSwoKGUsdCk9PnQudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsXCIwXCIpKSk7ZnVuY3Rpb24gcWUoZSl7VWUoZSk7bGV0IHQ9XCJcIjtmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyl0Kz1GZVtlW25dXTtyZXR1cm4gdH1mdW5jdGlvbiB6ZShlKXtjb25zdCB0PWUudG9TdHJpbmcoMTYpO3JldHVybiAxJnQubGVuZ3RoP2AwJHt0fWA6dH1mdW5jdGlvbiBXZShlKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoXCJoZXggc3RyaW5nIGV4cGVjdGVkLCBnb3QgXCIrdHlwZW9mIGUpO3JldHVybiBCaWdJbnQoXCJcIj09PWU/XCIwXCI6YDB4JHtlfWApfWNvbnN0IFZlPXtfMDo0OCxfOTo1NyxfQTo2NSxfRjo3MCxfYTo5NyxfZjoxMDJ9O2Z1bmN0aW9uIEdlKGUpe3JldHVybiBlPj1WZS5fMCYmZTw9VmUuXzk/ZS1WZS5fMDplPj1WZS5fQSYmZTw9VmUuX0Y/ZS0oVmUuX0EtMTApOmU+PVZlLl9hJiZlPD1WZS5fZj9lLShWZS5fYS0xMCk6dm9pZCAwfWZ1bmN0aW9uIFllKGUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihcImhleCBzdHJpbmcgZXhwZWN0ZWQsIGdvdCBcIit0eXBlb2YgZSk7Y29uc3QgdD1lLmxlbmd0aCxuPXQvMjtpZih0JTIpdGhyb3cgbmV3IEVycm9yKFwicGFkZGVkIGhleCBzdHJpbmcgZXhwZWN0ZWQsIGdvdCB1bnBhZGRlZCBoZXggb2YgbGVuZ3RoIFwiK3QpO2NvbnN0IHI9bmV3IFVpbnQ4QXJyYXkobik7Zm9yKGxldCB0PTAsaT0wO3Q8bjt0KyssaSs9Mil7Y29uc3Qgbj1HZShlLmNoYXJDb2RlQXQoaSkpLG89R2UoZS5jaGFyQ29kZUF0KGkrMSkpO2lmKHZvaWQgMD09PW58fHZvaWQgMD09PW8pe2NvbnN0IHQ9ZVtpXStlW2krMV07dGhyb3cgbmV3IEVycm9yKCdoZXggc3RyaW5nIGV4cGVjdGVkLCBnb3Qgbm9uLWhleCBjaGFyYWN0ZXIgXCInK3QrJ1wiIGF0IGluZGV4ICcraSl9clt0XT0xNipuK299cmV0dXJuIHJ9ZnVuY3Rpb24gWmUoZSx0KXtyZXR1cm4gWWUoZS50b1N0cmluZygxNikucGFkU3RhcnQoMip0LFwiMFwiKSl9ZnVuY3Rpb24gSmUoLi4uZSl7bGV0IHQ9MDtmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyl7Y29uc3Qgcj1lW25dO1VlKHIpLHQrPXIubGVuZ3RofWNvbnN0IG49bmV3IFVpbnQ4QXJyYXkodCk7Zm9yKGxldCB0PTAscj0wO3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCBpPWVbdF07bi5zZXQoaSxyKSxyKz1pLmxlbmd0aH1yZXR1cm4gbn1jb25zdCBRZT1lPT5cImJpZ2ludFwiPT10eXBlb2YgZSYmS2U8PWU7ZnVuY3Rpb24gWGUoZSx0LG4pe3JldHVybiBRZShlKSYmUWUodCkmJlFlKG4pJiZ0PD1lJiZlPG59QmUuYml0TWFzaz1lPT4oJGU8PEJpZ0ludChlLTEpKS1qZTtjb25zdCBldD1lPT5uZXcgVWludDhBcnJheShlKSx0dD1lPT5VaW50OEFycmF5LmZyb20oZSk7Y29uc3QgbnQ9e2JpZ2ludDplPT5cImJpZ2ludFwiPT10eXBlb2YgZSxmdW5jdGlvbjplPT5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlLGJvb2xlYW46ZT0+XCJib29sZWFuXCI9PXR5cGVvZiBlLHN0cmluZzplPT5cInN0cmluZ1wiPT10eXBlb2YgZSxzdHJpbmdPclVpbnQ4QXJyYXk6ZT0+XCJzdHJpbmdcIj09dHlwZW9mIGV8fEhlKGUpLGlzU2FmZUludGVnZXI6ZT0+TnVtYmVyLmlzU2FmZUludGVnZXIoZSksYXJyYXk6ZT0+QXJyYXkuaXNBcnJheShlKSxmaWVsZDooZSx0KT0+dC5GcC5pc1ZhbGlkKGUpLGhhc2g6ZT0+XCJmdW5jdGlvblwiPT10eXBlb2YgZSYmTnVtYmVyLmlzU2FmZUludGVnZXIoZS5vdXRwdXRMZW4pfTtCZS5ub3RJbXBsZW1lbnRlZD0oKT0+e3Rocm93IG5ldyBFcnJvcihcIm5vdCBpbXBsZW1lbnRlZFwiKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KExlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLExlLmlzTmVnYXRpdmVMRT12b2lkIDAsTGUubW9kPXV0LExlLnBvdz1odCxMZS5wb3cyPWZ1bmN0aW9uKGUsdCxuKXtsZXQgcj1lO2Zvcig7dC0tID5pdDspcio9cixyJT1uO3JldHVybiByfSxMZS5pbnZlcnQ9ZnQsTGUudG9uZWxsaVNoYW5rcz1wdCxMZS5GcFNxcnQ9bXQsTGUudmFsaWRhdGVGaWVsZD1mdW5jdGlvbihlKXtjb25zdCB0PWd0LnJlZHVjZSgoKGUsdCk9PihlW3RdPVwiZnVuY3Rpb25cIixlKSkse09SREVSOlwiYmlnaW50XCIsTUFTSzpcImJpZ2ludFwiLEJZVEVTOlwiaXNTYWZlSW50ZWdlclwiLEJJVFM6XCJpc1NhZmVJbnRlZ2VyXCJ9KTtyZXR1cm4oMCxydC52YWxpZGF0ZU9iamVjdCkoZSx0KX0sTGUuRnBQb3c9eXQsTGUuRnBJbnZlcnRCYXRjaD12dCxMZS5GcERpdj1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGUubXVsKHQsXCJiaWdpbnRcIj09dHlwZW9mIG4/ZnQobixlLk9SREVSKTplLmludihuKSl9LExlLkZwTGVnZW5kcmU9RXQsTGUuRnBJc1NxdWFyZT1mdW5jdGlvbihlKXtjb25zdCB0PUV0KGUuT1JERVIpO3JldHVybiBuPT57Y29uc3Qgcj10KGUsbik7cmV0dXJuIGUuZXFsKHIsZS5aRVJPKXx8ZS5lcWwocixlLk9ORSl9fSxMZS5uTGVuZ3RoPWJ0LExlLkZpZWxkPWZ1bmN0aW9uKGUsdCxuPSExLHI9e30pe2lmKGU8PWl0KXRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgRmllbGQgT1JERVIgPiAwLCBnb3QgJHtlfWApO2NvbnN0e25CaXRMZW5ndGg6aSxuQnl0ZUxlbmd0aDpvfT1idChlLHQpO2lmKG8+MjA0OCl0aHJvdyBuZXcgRXJyb3IoXCJGaWVsZCBsZW5ndGhzIG92ZXIgMjA0OCBieXRlcyBhcmUgbm90IHN1cHBvcnRlZFwiKTtjb25zdCBzPW10KGUpLGE9T2JqZWN0LmZyZWV6ZSh7T1JERVI6ZSxCSVRTOmksQllURVM6byxNQVNLOigwLHJ0LmJpdE1hc2spKGkpLFpFUk86aXQsT05FOm90LGNyZWF0ZTp0PT51dCh0LGUpLGlzVmFsaWQ6dD0+e2lmKFwiYmlnaW50XCIhPXR5cGVvZiB0KXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZmllbGQgZWxlbWVudDogZXhwZWN0ZWQgYmlnaW50LCBnb3QgXCIrdHlwZW9mIHQpO3JldHVybiBpdDw9dCYmdDxlfSxpczA6ZT0+ZT09PWl0LGlzT2RkOmU9PihlJm90KT09PW90LG5lZzp0PT51dCgtdCxlKSxlcWw6KGUsdCk9PmU9PT10LHNxcjp0PT51dCh0KnQsZSksYWRkOih0LG4pPT51dCh0K24sZSksc3ViOih0LG4pPT51dCh0LW4sZSksbXVsOih0LG4pPT51dCh0Km4sZSkscG93OihlLHQpPT55dChhLGUsdCksZGl2Oih0LG4pPT51dCh0KmZ0KG4sZSksZSksc3FyTjplPT5lKmUsYWRkTjooZSx0KT0+ZSt0LHN1Yk46KGUsdCk9PmUtdCxtdWxOOihlLHQpPT5lKnQsaW52OnQ9PmZ0KHQsZSksc3FydDpyLnNxcnR8fChlPT5zKGEsZSkpLGludmVydEJhdGNoOmU9PnZ0KGEsZSksY21vdjooZSx0LG4pPT5uP3Q6ZSx0b0J5dGVzOmU9Pm4/KDAscnQubnVtYmVyVG9CeXRlc0xFKShlLG8pOigwLHJ0Lm51bWJlclRvQnl0ZXNCRSkoZSxvKSxmcm9tQnl0ZXM6ZT0+e2lmKGUubGVuZ3RoIT09byl0aHJvdyBuZXcgRXJyb3IoYEZwLmZyb21CeXRlczogZXhwZWN0ZWQgJHtvfSwgZ290ICR7ZS5sZW5ndGh9YCk7cmV0dXJuIG4/KDAscnQuYnl0ZXNUb051bWJlckxFKShlKTooMCxydC5ieXRlc1RvTnVtYmVyQkUpKGUpfX0pO3JldHVybiBPYmplY3QuZnJlZXplKGEpfSxMZS5GcFNxcnRPZGQ9ZnVuY3Rpb24oZSx0KXtpZighZS5pc09kZCl0aHJvdyBuZXcgRXJyb3IoXCJGaWVsZCBkb2Vzbid0IGhhdmUgaXNPZGRcIik7Y29uc3Qgbj1lLnNxcnQodCk7cmV0dXJuIGUuaXNPZGQobik/bjplLm5lZyhuKX0sTGUuRnBTcXJ0RXZlbj1mdW5jdGlvbihlLHQpe2lmKCFlLmlzT2RkKXRocm93IG5ldyBFcnJvcihcIkZpZWxkIGRvZXNuJ3QgaGF2ZSBpc09kZFwiKTtjb25zdCBuPWUuc3FydCh0KTtyZXR1cm4gZS5pc09kZChuKT9lLm5lZyhuKTpufSxMZS5oYXNoVG9Qcml2YXRlU2NhbGFyPWZ1bmN0aW9uKGUsdCxuPSExKXtlPSgwLHJ0LmVuc3VyZUJ5dGVzKShcInByaXZhdGVIYXNoXCIsZSk7Y29uc3Qgcj1lLmxlbmd0aCxpPWJ0KHQpLm5CeXRlTGVuZ3RoKzg7aWYoaTwyNHx8cjxpfHxyPjEwMjQpdGhyb3cgbmV3IEVycm9yKGBoYXNoVG9Qcml2YXRlU2NhbGFyOiBleHBlY3RlZCAke2l9LTEwMjQgYnl0ZXMgb2YgaW5wdXQsIGdvdCAke3J9YCk7Y29uc3Qgbz1uPygwLHJ0LmJ5dGVzVG9OdW1iZXJMRSkoZSk6KDAscnQuYnl0ZXNUb051bWJlckJFKShlKTtyZXR1cm4gdXQobyx0LW90KStvdH0sTGUuZ2V0RmllbGRCeXRlc0xlbmd0aD13dCxMZS5nZXRNaW5IYXNoTGVuZ3RoPVN0LExlLm1hcEhhc2hUb0ZpZWxkPWZ1bmN0aW9uKGUsdCxuPSExKXtjb25zdCByPWUubGVuZ3RoLGk9d3QodCksbz1TdCh0KTtpZihyPDE2fHxyPG98fHI+MTAyNCl0aHJvdyBuZXcgRXJyb3IoYGV4cGVjdGVkICR7b30tMTAyNCBieXRlcyBvZiBpbnB1dCwgZ290ICR7cn1gKTtjb25zdCBzPXV0KG4/KDAscnQuYnl0ZXNUb051bWJlckJFKShlKTooMCxydC5ieXRlc1RvTnVtYmVyTEUpKGUpLHQtb3QpK290O3JldHVybiBuPygwLHJ0Lm51bWJlclRvQnl0ZXNMRSkocyxpKTooMCxydC5udW1iZXJUb0J5dGVzQkUpKHMsaSl9O2NvbnN0IHJ0PUJlLGl0PUJpZ0ludCgwKSxvdD1CaWdJbnQoMSksc3Q9QmlnSW50KDIpLGF0PUJpZ0ludCgzKSxjdD1CaWdJbnQoNCksZHQ9QmlnSW50KDUpLGx0PUJpZ0ludCg4KTtmdW5jdGlvbiB1dChlLHQpe2NvbnN0IG49ZSV0O3JldHVybiBuPj1pdD9uOnQrbn1mdW5jdGlvbiBodChlLHQsbil7aWYobjw9aXR8fHQ8aXQpdGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgcG93ZXIvbW9kdWxvID4gMFwiKTtpZihuPT09b3QpcmV0dXJuIGl0O2xldCByPW90O2Zvcig7dD5pdDspdCZvdCYmKHI9ciplJW4pLGU9ZSplJW4sdD4+PW90O3JldHVybiByfWZ1bmN0aW9uIGZ0KGUsdCl7aWYoZT09PWl0fHx0PD1pdCl0aHJvdyBuZXcgRXJyb3IoYGludmVydDogZXhwZWN0ZWQgcG9zaXRpdmUgaW50ZWdlcnMsIGdvdCBuPSR7ZX0gbW9kPSR7dH1gKTtsZXQgbj11dChlLHQpLHI9dCxpPWl0LG89b3Q7Zm9yKDtuIT09aXQ7KXtjb25zdCBlPXIlbix0PWktbyooci9uKTtyPW4sbj1lLGk9byxvPXR9aWYociE9PW90KXRocm93IG5ldyBFcnJvcihcImludmVydDogZG9lcyBub3QgZXhpc3RcIik7cmV0dXJuIHV0KGksdCl9ZnVuY3Rpb24gcHQoZSl7Y29uc3QgdD0oZS1vdCkvc3Q7bGV0IG4scixpO2ZvcihuPWUtb3Qscj0wO24lc3Q9PT1pdDtuLz1zdCxyKyspO2ZvcihpPXN0O2k8ZSYmaHQoaSx0LGUpIT09ZS1vdDtpKyspO2lmKDE9PT1yKXtjb25zdCB0PShlK290KS9jdDtyZXR1cm4gZnVuY3Rpb24oZSxuKXtjb25zdCByPWUucG93KG4sdCk7aWYoIWUuZXFsKGUuc3FyKHIpLG4pKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIHNxdWFyZSByb290XCIpO3JldHVybiByfX1jb25zdCBvPShuK290KS9zdDtyZXR1cm4gZnVuY3Rpb24oZSxzKXtpZihlLnBvdyhzLHQpPT09ZS5uZWcoZS5PTkUpKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIHNxdWFyZSByb290XCIpO2xldCBhPXIsYz1lLnBvdyhlLm11bChlLk9ORSxpKSxuKSxkPWUucG93KHMsbyksbD1lLnBvdyhzLG4pO2Zvcig7IWUuZXFsKGwsZS5PTkUpOyl7aWYoZS5lcWwobCxlLlpFUk8pKXJldHVybiBlLlpFUk87bGV0IHQ9MTtmb3IobGV0IG49ZS5zcXIobCk7dDxhJiYhZS5lcWwobixlLk9ORSk7dCsrKW49ZS5zcXIobik7Y29uc3Qgbj1lLnBvdyhjLG90PDxCaWdJbnQoYS10LTEpKTtjPWUuc3FyKG4pLGQ9ZS5tdWwoZCxuKSxsPWUubXVsKGwsYyksYT10fXJldHVybiBkfX1mdW5jdGlvbiBtdChlKXtpZihlJWN0PT09YXQpe2NvbnN0IHQ9KGUrb3QpL2N0O3JldHVybiBmdW5jdGlvbihlLG4pe2NvbnN0IHI9ZS5wb3cobix0KTtpZighZS5lcWwoZS5zcXIociksbikpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgc3F1YXJlIHJvb3RcIik7cmV0dXJuIHJ9fWlmKGUlbHQ9PT1kdCl7Y29uc3QgdD0oZS1kdCkvbHQ7cmV0dXJuIGZ1bmN0aW9uKGUsbil7Y29uc3Qgcj1lLm11bChuLHN0KSxpPWUucG93KHIsdCksbz1lLm11bChuLGkpLHM9ZS5tdWwoZS5tdWwobyxzdCksaSksYT1lLm11bChvLGUuc3ViKHMsZS5PTkUpKTtpZighZS5lcWwoZS5zcXIoYSksbikpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgc3F1YXJlIHJvb3RcIik7cmV0dXJuIGF9fXJldHVybiBwdChlKX1CaWdJbnQoOSksQmlnSW50KDE2KTtMZS5pc05lZ2F0aXZlTEU9KGUsdCk9Pih1dChlLHQpJm90KT09PW90O2NvbnN0IGd0PVtcImNyZWF0ZVwiLFwiaXNWYWxpZFwiLFwiaXMwXCIsXCJuZWdcIixcImludlwiLFwic3FydFwiLFwic3FyXCIsXCJlcWxcIixcImFkZFwiLFwic3ViXCIsXCJtdWxcIixcInBvd1wiLFwiZGl2XCIsXCJhZGROXCIsXCJzdWJOXCIsXCJtdWxOXCIsXCJzcXJOXCJdO2Z1bmN0aW9uIHl0KGUsdCxuKXtpZihuPGl0KXRocm93IG5ldyBFcnJvcihcIkV4cGVjdGVkIHBvd2VyID4gMFwiKTtpZihuPT09aXQpcmV0dXJuIGUuT05FO2lmKG49PT1vdClyZXR1cm4gdDtsZXQgcj1lLk9ORSxpPXQ7Zm9yKDtuPml0OyluJm90JiYocj1lLm11bChyLGkpKSxpPWUuc3FyKGkpLG4+Pj1vdDtyZXR1cm4gcn1mdW5jdGlvbiB2dChlLHQpe2NvbnN0IG49bmV3IEFycmF5KHQubGVuZ3RoKSxyPXQucmVkdWNlKCgodCxyLGkpPT5lLmlzMChyKT90OihuW2ldPXQsZS5tdWwodCxyKSkpLGUuT05FKSxpPWUuaW52KHIpO3JldHVybiB0LnJlZHVjZVJpZ2h0KCgodCxyLGkpPT5lLmlzMChyKT90OihuW2ldPWUubXVsKHQsbltpXSksZS5tdWwodCxyKSkpLGkpLG59ZnVuY3Rpb24gRXQoZSl7Y29uc3QgdD0oZS1vdCkvc3Q7cmV0dXJuKGUsbik9PmUucG93KG4sdCl9ZnVuY3Rpb24gYnQoZSx0KXtjb25zdCBuPXZvaWQgMCE9PXQ/dDplLnRvU3RyaW5nKDIpLmxlbmd0aDtyZXR1cm57bkJpdExlbmd0aDpuLG5CeXRlTGVuZ3RoOk1hdGguY2VpbChuLzgpfX1mdW5jdGlvbiB3dChlKXtpZihcImJpZ2ludFwiIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoXCJmaWVsZCBvcmRlciBtdXN0IGJlIGJpZ2ludFwiKTtjb25zdCB0PWUudG9TdHJpbmcoMikubGVuZ3RoO3JldHVybiBNYXRoLmNlaWwodC84KX1mdW5jdGlvbiBTdChlKXtjb25zdCB0PXd0KGUpO3JldHVybiB0K01hdGguY2VpbCh0LzIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxEZS53TkFGPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj0oZSx0KT0+e2NvbnN0IG49dC5uZWdhdGUoKTtyZXR1cm4gZT9uOnR9LHI9ZT0+e2lmKCFOdW1iZXIuaXNTYWZlSW50ZWdlcihlKXx8ZTw9MHx8ZT50KXRocm93IG5ldyBFcnJvcihgV3Jvbmcgd2luZG93IHNpemU9JHtlfSwgc2hvdWxkIGJlIFsxLi4ke3R9XWApfSxpPWU9PntyKGUpO3JldHVybnt3aW5kb3dzOk1hdGguY2VpbCh0L2UpKzEsd2luZG93U2l6ZToyKiooZS0xKX19O3JldHVybntjb25zdFRpbWVOZWdhdGU6bix1bnNhZmVMYWRkZXIodCxuKXtsZXQgcj1lLlpFUk8saT10O2Zvcig7bj54dDspbiZrdCYmKHI9ci5hZGQoaSkpLGk9aS5kb3VibGUoKSxuPj49a3Q7cmV0dXJuIHJ9LHByZWNvbXB1dGVXaW5kb3coZSx0KXtjb25zdHt3aW5kb3dzOm4sd2luZG93U2l6ZTpyfT1pKHQpLG89W107bGV0IHM9ZSxhPXM7Zm9yKGxldCBlPTA7ZTxuO2UrKyl7YT1zLG8ucHVzaChhKTtmb3IobGV0IGU9MTtlPHI7ZSsrKWE9YS5hZGQocyksby5wdXNoKGEpO3M9YS5kb3VibGUoKX1yZXR1cm4gb30sd05BRih0LHIsbyl7Y29uc3R7d2luZG93czpzLHdpbmRvd1NpemU6YX09aSh0KTtsZXQgYz1lLlpFUk8sZD1lLkJBU0U7Y29uc3QgbD1CaWdJbnQoMioqdC0xKSx1PTIqKnQsaD1CaWdJbnQodCk7Zm9yKGxldCBlPTA7ZTxzO2UrKyl7Y29uc3QgdD1lKmE7bGV0IGk9TnVtYmVyKG8mbCk7bz4+PWgsaT5hJiYoaS09dSxvKz1rdCk7Y29uc3Qgcz10LGY9dCtNYXRoLmFicyhpKS0xLHA9ZSUyIT0wLG09aTwwOzA9PT1pP2Q9ZC5hZGQobihwLHJbc10pKTpjPWMuYWRkKG4obSxyW2ZdKSl9cmV0dXJue3A6YyxmOmR9fSx3TkFGQ2FjaGVkKGUsdCxuKXtjb25zdCByPUF0LmdldChlKXx8MTtsZXQgaT1NdC5nZXQoZSk7cmV0dXJuIGl8fChpPXRoaXMucHJlY29tcHV0ZVdpbmRvdyhlLHIpLDEhPT1yJiZNdC5zZXQoZSxuKGkpKSksdGhpcy53TkFGKHIsaSx0KX0sc2V0V2luZG93U2l6ZShlLHQpe3IodCksQXQuc2V0KGUsdCksTXQuZGVsZXRlKGUpfX19LERlLnBpcHBlbmdlcj1mdW5jdGlvbihlLHQsbixyKXtpZighQXJyYXkuaXNBcnJheShuKXx8IUFycmF5LmlzQXJyYXkocil8fHIubGVuZ3RoIT09bi5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiYXJyYXlzIG9mIHBvaW50cyBhbmQgc2NhbGFycyBtdXN0IGhhdmUgZXF1YWwgbGVuZ3RoXCIpO3IuZm9yRWFjaCgoKGUsbik9PntpZighdC5pc1ZhbGlkKGUpKXRocm93IG5ldyBFcnJvcihgd3Jvbmcgc2NhbGFyIGF0IGluZGV4ICR7bn1gKX0pKSxuLmZvckVhY2goKCh0LG4pPT57aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IEVycm9yKGB3cm9uZyBwb2ludCBhdCBpbmRleCAke259YCl9KSk7Y29uc3QgaT0oMCxDdC5iaXRMZW4pKEJpZ0ludChuLmxlbmd0aCkpLG89aT4xMj9pLTM6aT40P2ktMjppPzI6MSxzPSgxPDxvKS0xLGE9bmV3IEFycmF5KHMrMSkuZmlsbChlLlpFUk8pLGM9TWF0aC5mbG9vcigodC5CSVRTLTEpL28pKm87bGV0IGQ9ZS5aRVJPO2ZvcihsZXQgdD1jO3Q+PTA7dC09byl7YS5maWxsKGUuWkVSTyk7Zm9yKGxldCBlPTA7ZTxyLmxlbmd0aDtlKyspe2NvbnN0IGk9cltlXSxvPU51bWJlcihpPj5CaWdJbnQodCkmQmlnSW50KHMpKTthW29dPWFbb10uYWRkKG5bZV0pfWxldCBpPWUuWkVSTztmb3IobGV0IHQ9YS5sZW5ndGgtMSxuPWUuWkVSTzt0PjA7dC0tKW49bi5hZGQoYVt0XSksaT1pLmFkZChuKTtpZihkPWQuYWRkKGkpLDAhPT10KWZvcihsZXQgZT0wO2U8bztlKyspZD1kLmRvdWJsZSgpfXJldHVybiBkfSxEZS52YWxpZGF0ZUJhc2ljPWZ1bmN0aW9uKGUpe3JldHVybigwLF90LnZhbGlkYXRlRmllbGQpKGUuRnApLCgwLEN0LnZhbGlkYXRlT2JqZWN0KShlLHtuOlwiYmlnaW50XCIsaDpcImJpZ2ludFwiLEd4OlwiZmllbGRcIixHeTpcImZpZWxkXCJ9LHtuQml0TGVuZ3RoOlwiaXNTYWZlSW50ZWdlclwiLG5CeXRlTGVuZ3RoOlwiaXNTYWZlSW50ZWdlclwifSksT2JqZWN0LmZyZWV6ZSh7Li4uKDAsX3Qubkxlbmd0aCkoZS5uLGUubkJpdExlbmd0aCksLi4uZSxwOmUuRnAuT1JERVJ9KX07Y29uc3QgX3Q9TGUsQ3Q9QmUseHQ9QmlnSW50KDApLGt0PUJpZ0ludCgxKSxNdD1uZXcgV2Vha01hcCxBdD1uZXcgV2Vha01hcDtPYmplY3QuZGVmaW5lUHJvcGVydHkoTmUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksTmUudHdpc3RlZEVkd2FyZHM9ZnVuY3Rpb24oZSl7Y29uc3QgdD1mdW5jdGlvbihlKXtjb25zdCB0PSgwLFR0LnZhbGlkYXRlQmFzaWMpKGUpO3JldHVybiBSdC52YWxpZGF0ZU9iamVjdChlLHtoYXNoOlwiZnVuY3Rpb25cIixhOlwiYmlnaW50XCIsZDpcImJpZ2ludFwiLHJhbmRvbUJ5dGVzOlwiZnVuY3Rpb25cIn0se2FkanVzdFNjYWxhckJ5dGVzOlwiZnVuY3Rpb25cIixkb21haW46XCJmdW5jdGlvblwiLHV2UmF0aW86XCJmdW5jdGlvblwiLG1hcFRvQ3VydmU6XCJmdW5jdGlvblwifSksT2JqZWN0LmZyZWV6ZSh7Li4udH0pfShlKSx7RnA6bixuOnIscHJlaGFzaDppLGhhc2g6byxyYW5kb21CeXRlczpzLG5CeXRlTGVuZ3RoOmEsaDpjfT10LGQ9RHQ8PEJpZ0ludCg4KmEpLU50LGw9bi5jcmVhdGUsdT0oMCxJdC5GaWVsZCkodC5uLHQubkJpdExlbmd0aCksaD10LnV2UmF0aW98fCgoZSx0KT0+e3RyeXtyZXR1cm57aXNWYWxpZDohMCx2YWx1ZTpuLnNxcnQoZSpuLmludih0KSl9fWNhdGNoKGUpe3JldHVybntpc1ZhbGlkOiExLHZhbHVlOk90fX19KSxmPXQuYWRqdXN0U2NhbGFyQnl0ZXN8fChlPT5lKSxwPXQuZG9tYWlufHwoKGUsdCxuKT0+e2lmKCgwLFB0LmFib29sKShcInBoZmxhZ1wiLG4pLHQubGVuZ3RofHxuKXRocm93IG5ldyBFcnJvcihcIkNvbnRleHRzL3ByZS1oYXNoIGFyZSBub3Qgc3VwcG9ydGVkXCIpO3JldHVybiBlfSk7ZnVuY3Rpb24gbShlLHQpe1J0LmFJblJhbmdlKFwiY29vcmRpbmF0ZSBcIitlLHQsT3QsZCl9ZnVuY3Rpb24gZyhlKXtpZighKGUgaW5zdGFuY2VvZiBFKSl0aHJvdyBuZXcgRXJyb3IoXCJFeHRlbmRlZFBvaW50IGV4cGVjdGVkXCIpfWNvbnN0IHk9KDAsUHQubWVtb2l6ZWQpKCgoZSx0KT0+e2NvbnN0e2V4OnIsZXk6aSxlejpvfT1lLHM9ZS5pczAoKTtudWxsPT10JiYodD1zP0x0Om4uaW52KG8pKTtjb25zdCBhPWwocip0KSxjPWwoaSp0KSxkPWwobyp0KTtpZihzKXJldHVybnt4Ok90LHk6TnR9O2lmKGQhPT1OdCl0aHJvdyBuZXcgRXJyb3IoXCJpbnZaIHdhcyBpbnZhbGlkXCIpO3JldHVybnt4OmEseTpjfX0pKSx2PSgwLFB0Lm1lbW9pemVkKSgoZT0+e2NvbnN0e2E6bixkOnJ9PXQ7aWYoZS5pczAoKSl0aHJvdyBuZXcgRXJyb3IoXCJiYWQgcG9pbnQ6IFpFUk9cIik7Y29uc3R7ZXg6aSxleTpvLGV6OnMsZXQ6YX09ZSxjPWwoaSppKSxkPWwobypvKSx1PWwocypzKSxoPWwodSp1KSxmPWwoYypuKTtpZihsKHUqbChmK2QpKSE9PWwoaCtsKHIqbChjKmQpKSkpdGhyb3cgbmV3IEVycm9yKFwiYmFkIHBvaW50OiBlcXVhdGlvbiBsZWZ0ICE9IHJpZ2h0ICgxKVwiKTtpZihsKGkqbykhPT1sKHMqYSkpdGhyb3cgbmV3IEVycm9yKFwiYmFkIHBvaW50OiBlcXVhdGlvbiBsZWZ0ICE9IHJpZ2h0ICgyKVwiKTtyZXR1cm4hMH0pKTtjbGFzcyBFe2NvbnN0cnVjdG9yKGUsdCxuLHIpe3RoaXMuZXg9ZSx0aGlzLmV5PXQsdGhpcy5lej1uLHRoaXMuZXQ9cixtKFwieFwiLGUpLG0oXCJ5XCIsdCksbShcInpcIixuKSxtKFwidFwiLHIpLE9iamVjdC5mcmVlemUodGhpcyl9Z2V0IHgoKXtyZXR1cm4gdGhpcy50b0FmZmluZSgpLnh9Z2V0IHkoKXtyZXR1cm4gdGhpcy50b0FmZmluZSgpLnl9c3RhdGljIGZyb21BZmZpbmUoZSl7aWYoZSBpbnN0YW5jZW9mIEUpdGhyb3cgbmV3IEVycm9yKFwiZXh0ZW5kZWQgcG9pbnQgbm90IGFsbG93ZWRcIik7Y29uc3R7eDp0LHk6bn09ZXx8e307cmV0dXJuIG0oXCJ4XCIsdCksbShcInlcIixuKSxuZXcgRSh0LG4sTnQsbCh0Km4pKX1zdGF0aWMgbm9ybWFsaXplWihlKXtjb25zdCB0PW4uaW52ZXJ0QmF0Y2goZS5tYXAoKGU9PmUuZXopKSk7cmV0dXJuIGUubWFwKCgoZSxuKT0+ZS50b0FmZmluZSh0W25dKSkpLm1hcChFLmZyb21BZmZpbmUpfXN0YXRpYyBtc20oZSx0KXtyZXR1cm4oMCxUdC5waXBwZW5nZXIpKEUsdSxlLHQpfV9zZXRXaW5kb3dTaXplKGUpe1Muc2V0V2luZG93U2l6ZSh0aGlzLGUpfWFzc2VydFZhbGlkaXR5KCl7dih0aGlzKX1lcXVhbHMoZSl7ZyhlKTtjb25zdHtleDp0LGV5Om4sZXo6cn09dGhpcyx7ZXg6aSxleTpvLGV6OnN9PWUsYT1sKHQqcyksYz1sKGkqciksZD1sKG4qcyksdT1sKG8qcik7cmV0dXJuIGE9PT1jJiZkPT09dX1pczAoKXtyZXR1cm4gdGhpcy5lcXVhbHMoRS5aRVJPKX1uZWdhdGUoKXtyZXR1cm4gbmV3IEUobCgtdGhpcy5leCksdGhpcy5leSx0aGlzLmV6LGwoLXRoaXMuZXQpKX1kb3VibGUoKXtjb25zdHthOmV9PXQse2V4Om4sZXk6cixlejppfT10aGlzLG89bChuKm4pLHM9bChyKnIpLGE9bChEdCpsKGkqaSkpLGM9bChlKm8pLGQ9bityLHU9bChsKGQqZCktby1zKSxoPWMrcyxmPWgtYSxwPWMtcyxtPWwodSpmKSxnPWwoaCpwKSx5PWwodSpwKSx2PWwoZipoKTtyZXR1cm4gbmV3IEUobSxnLHYseSl9YWRkKGUpe2coZSk7Y29uc3R7YTpuLGQ6cn09dCx7ZXg6aSxleTpvLGV6OnMsZXQ6YX09dGhpcyx7ZXg6YyxleTpkLGV6OnUsZXQ6aH09ZTtpZihuPT09QmlnSW50KC0xKSl7Y29uc3QgZT1sKChvLWkpKihkK2MpKSx0PWwoKG8raSkqKGQtYykpLG49bCh0LWUpO2lmKG49PT1PdClyZXR1cm4gdGhpcy5kb3VibGUoKTtjb25zdCByPWwocypEdCpoKSxmPWwoYSpEdCp1KSxwPWYrcixtPXQrZSxnPWYtcix5PWwocCpuKSx2PWwobSpnKSxiPWwocCpnKSx3PWwobiptKTtyZXR1cm4gbmV3IEUoeSx2LHcsYil9Y29uc3QgZj1sKGkqYykscD1sKG8qZCksbT1sKGEqcipoKSx5PWwocyp1KSx2PWwoKGkrbykqKGMrZCktZi1wKSxiPXktbSx3PXkrbSxTPWwocC1uKmYpLF89bCh2KmIpLEM9bCh3KlMpLHg9bCh2KlMpLGs9bChiKncpO3JldHVybiBuZXcgRShfLEMsayx4KX1zdWJ0cmFjdChlKXtyZXR1cm4gdGhpcy5hZGQoZS5uZWdhdGUoKSl9d05BRihlKXtyZXR1cm4gUy53TkFGQ2FjaGVkKHRoaXMsZSxFLm5vcm1hbGl6ZVopfW11bHRpcGx5KGUpe2NvbnN0IHQ9ZTtSdC5hSW5SYW5nZShcInNjYWxhclwiLHQsTnQscik7Y29uc3R7cDpuLGY6aX09dGhpcy53TkFGKHQpO3JldHVybiBFLm5vcm1hbGl6ZVooW24saV0pWzBdfW11bHRpcGx5VW5zYWZlKGUpe2NvbnN0IHQ9ZTtyZXR1cm4gUnQuYUluUmFuZ2UoXCJzY2FsYXJcIix0LE90LHIpLHQ9PT1PdD93OnRoaXMuZXF1YWxzKHcpfHx0PT09TnQ/dGhpczp0aGlzLmVxdWFscyhiKT90aGlzLndOQUYodCkucDpTLnVuc2FmZUxhZGRlcih0aGlzLHQpfWlzU21hbGxPcmRlcigpe3JldHVybiB0aGlzLm11bHRpcGx5VW5zYWZlKGMpLmlzMCgpfWlzVG9yc2lvbkZyZWUoKXtyZXR1cm4gUy51bnNhZmVMYWRkZXIodGhpcyxyKS5pczAoKX10b0FmZmluZShlKXtyZXR1cm4geSh0aGlzLGUpfWNsZWFyQ29mYWN0b3IoKXtjb25zdHtoOmV9PXQ7cmV0dXJuIGU9PT1OdD90aGlzOnRoaXMubXVsdGlwbHlVbnNhZmUoZSl9c3RhdGljIGZyb21IZXgoZSxyPSExKXtjb25zdHtkOmksYTpvfT10LHM9bi5CWVRFUztlPSgwLFB0LmVuc3VyZUJ5dGVzKShcInBvaW50SGV4XCIsZSxzKSwoMCxQdC5hYm9vbCkoXCJ6aXAyMTVcIixyKTtjb25zdCBhPWUuc2xpY2UoKSxjPWVbcy0xXTthW3MtMV09LTEyOSZjO2NvbnN0IHU9UnQuYnl0ZXNUb051bWJlckxFKGEpLGY9cj9kOm4uT1JERVI7UnQuYUluUmFuZ2UoXCJwb2ludEhleC55XCIsdSxPdCxmKTtjb25zdCBwPWwodSp1KSxtPWwocC1OdCksZz1sKGkqcC1vKTtsZXR7aXNWYWxpZDp5LHZhbHVlOnZ9PWgobSxnKTtpZigheSl0aHJvdyBuZXcgRXJyb3IoXCJQb2ludC5mcm9tSGV4OiBpbnZhbGlkIHkgY29vcmRpbmF0ZVwiKTtjb25zdCBiPSh2Jk50KT09PU50LHc9MCE9KDEyOCZjKTtpZighciYmdj09PU90JiZ3KXRocm93IG5ldyBFcnJvcihcIlBvaW50LmZyb21IZXg6IHg9MCBhbmQgeF8wPTFcIik7cmV0dXJuIHchPT1iJiYodj1sKC12KSksRS5mcm9tQWZmaW5lKHt4OnYseTp1fSl9c3RhdGljIGZyb21Qcml2YXRlS2V5KGUpe3JldHVybiB4KGUpLnBvaW50fXRvUmF3Qnl0ZXMoKXtjb25zdHt4OmUseTp0fT10aGlzLnRvQWZmaW5lKCkscj1SdC5udW1iZXJUb0J5dGVzTEUodCxuLkJZVEVTKTtyZXR1cm4gcltyLmxlbmd0aC0xXXw9ZSZOdD8xMjg6MCxyfXRvSGV4KCl7cmV0dXJuIFJ0LmJ5dGVzVG9IZXgodGhpcy50b1Jhd0J5dGVzKCkpfX1FLkJBU0U9bmV3IEUodC5HeCx0Lkd5LE50LGwodC5HeCp0Lkd5KSksRS5aRVJPPW5ldyBFKE90LE50LE50LE90KTtjb25zdHtCQVNFOmIsWkVSTzp3fT1FLFM9KDAsVHQud05BRikoRSw4KmEpO2Z1bmN0aW9uIF8oZSl7cmV0dXJuKDAsSXQubW9kKShlLHIpfWZ1bmN0aW9uIEMoZSl7cmV0dXJuIF8oUnQuYnl0ZXNUb051bWJlckxFKGUpKX1mdW5jdGlvbiB4KGUpe2NvbnN0IHQ9YTtlPSgwLFB0LmVuc3VyZUJ5dGVzKShcInByaXZhdGUga2V5XCIsZSx0KTtjb25zdCBuPSgwLFB0LmVuc3VyZUJ5dGVzKShcImhhc2hlZCBwcml2YXRlIGtleVwiLG8oZSksMip0KSxyPWYobi5zbGljZSgwLHQpKSxpPW4uc2xpY2UodCwyKnQpLHM9QyhyKSxjPWIubXVsdGlwbHkocyksZD1jLnRvUmF3Qnl0ZXMoKTtyZXR1cm57aGVhZDpyLHByZWZpeDppLHNjYWxhcjpzLHBvaW50OmMscG9pbnRCeXRlczpkfX1mdW5jdGlvbiBrKGU9bmV3IFVpbnQ4QXJyYXksLi4udCl7Y29uc3Qgbj1SdC5jb25jYXRCeXRlcyguLi50KTtyZXR1cm4gQyhvKHAobiwoMCxQdC5lbnN1cmVCeXRlcykoXCJjb250ZXh0XCIsZSksISFpKSkpfWNvbnN0IE09QnQ7Yi5fc2V0V2luZG93U2l6ZSg4KTtjb25zdCBBPXtnZXRFeHRlbmRlZFB1YmxpY0tleTp4LHJhbmRvbVByaXZhdGVLZXk6KCk9PnMobi5CWVRFUykscHJlY29tcHV0ZTooZT04LHQ9RS5CQVNFKT0+KHQuX3NldFdpbmRvd1NpemUoZSksdC5tdWx0aXBseShCaWdJbnQoMykpLHQpfTtyZXR1cm57Q1VSVkU6dCxnZXRQdWJsaWNLZXk6ZnVuY3Rpb24oZSl7cmV0dXJuIHgoZSkucG9pbnRCeXRlc30sc2lnbjpmdW5jdGlvbihlLHQsbz17fSl7ZT0oMCxQdC5lbnN1cmVCeXRlcykoXCJtZXNzYWdlXCIsZSksaSYmKGU9aShlKSk7Y29uc3R7cHJlZml4OnMsc2NhbGFyOmMscG9pbnRCeXRlczpkfT14KHQpLGw9ayhvLmNvbnRleHQscyxlKSx1PWIubXVsdGlwbHkobCkudG9SYXdCeXRlcygpLGg9XyhsK2soby5jb250ZXh0LHUsZCxlKSpjKTtSdC5hSW5SYW5nZShcInNpZ25hdHVyZS5zXCIsaCxPdCxyKTtjb25zdCBmPVJ0LmNvbmNhdEJ5dGVzKHUsUnQubnVtYmVyVG9CeXRlc0xFKGgsbi5CWVRFUykpO3JldHVybigwLFB0LmVuc3VyZUJ5dGVzKShcInJlc3VsdFwiLGYsMiphKX0sdmVyaWZ5OmZ1bmN0aW9uKGUsdCxyLG89TSl7Y29uc3R7Y29udGV4dDpzLHppcDIxNTphfT1vLGM9bi5CWVRFUztlPSgwLFB0LmVuc3VyZUJ5dGVzKShcInNpZ25hdHVyZVwiLGUsMipjKSx0PSgwLFB0LmVuc3VyZUJ5dGVzKShcIm1lc3NhZ2VcIix0KSx2b2lkIDAhPT1hJiYoMCxQdC5hYm9vbCkoXCJ6aXAyMTVcIixhKSxpJiYodD1pKHQpKTtjb25zdCBkPVJ0LmJ5dGVzVG9OdW1iZXJMRShlLnNsaWNlKGMsMipjKSk7bGV0IGwsdSxoO3RyeXtsPUUuZnJvbUhleChyLGEpLHU9RS5mcm9tSGV4KGUuc2xpY2UoMCxjKSxhKSxoPWIubXVsdGlwbHlVbnNhZmUoZCl9Y2F0Y2goZSl7cmV0dXJuITF9aWYoIWEmJmwuaXNTbWFsbE9yZGVyKCkpcmV0dXJuITE7Y29uc3QgZj1rKHMsdS50b1Jhd0J5dGVzKCksbC50b1Jhd0J5dGVzKCksdCk7cmV0dXJuIHUuYWRkKGwubXVsdGlwbHlVbnNhZmUoZikpLnN1YnRyYWN0KGgpLmNsZWFyQ29mYWN0b3IoKS5lcXVhbHMoRS5aRVJPKX0sRXh0ZW5kZWRQb2ludDpFLHV0aWxzOkF9fTtjb25zdCBUdD1EZSxJdD1MZSxSdD1CZSxQdD1CZSxPdD1CaWdJbnQoMCksTnQ9QmlnSW50KDEpLER0PUJpZ0ludCgyKSxMdD1CaWdJbnQoOCksQnQ9e3ppcDIxNTohMH07dmFyIEt0PXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShLdCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxLdC5leHBhbmRfbWVzc2FnZV94bWQ9enQsS3QuZXhwYW5kX21lc3NhZ2VfeG9mPVd0LEt0Lmhhc2hfdG9fZmllbGQ9VnQsS3QuaXNvZ2VueU1hcD1mdW5jdGlvbihlLHQpe2NvbnN0IG49dC5tYXAoKGU9PkFycmF5LmZyb20oZSkucmV2ZXJzZSgpKSk7cmV0dXJuKHQscik9Pntjb25zdFtpLG8scyxhXT1uLm1hcCgobj0+bi5yZWR1Y2UoKChuLHIpPT5lLmFkZChlLm11bChuLHQpLHIpKSkpKTtyZXR1cm4gdD1lLmRpdihpLG8pLHI9ZS5tdWwocixlLmRpdihzLGEpKSx7eDp0LHk6cn19fSxLdC5jcmVhdGVIYXNoZXI9ZnVuY3Rpb24oZSx0LG4pe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IEVycm9yKFwibWFwVG9DdXJ2ZSgpIG11c3QgYmUgZGVmaW5lZFwiKTtyZXR1cm57aGFzaFRvQ3VydmUocixpKXtjb25zdCBvPVZ0KHIsMix7Li4ubixEU1Q6bi5EU1QsLi4uaX0pLHM9ZS5mcm9tQWZmaW5lKHQob1swXSkpLGE9ZS5mcm9tQWZmaW5lKHQob1sxXSkpLGM9cy5hZGQoYSkuY2xlYXJDb2ZhY3RvcigpO3JldHVybiBjLmFzc2VydFZhbGlkaXR5KCksY30sZW5jb2RlVG9DdXJ2ZShyLGkpe2NvbnN0IG89VnQociwxLHsuLi5uLERTVDpuLmVuY29kZURTVCwuLi5pfSkscz1lLmZyb21BZmZpbmUodChvWzBdKSkuY2xlYXJDb2ZhY3RvcigpO3JldHVybiBzLmFzc2VydFZhbGlkaXR5KCksc30sbWFwVG9DdXJ2ZShuKXtpZighQXJyYXkuaXNBcnJheShuKSl0aHJvdyBuZXcgRXJyb3IoXCJtYXBUb0N1cnZlOiBleHBlY3RlZCBhcnJheSBvZiBiaWdpbnRzXCIpO2Zvcihjb25zdCBlIG9mIG4paWYoXCJiaWdpbnRcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKGBtYXBUb0N1cnZlOiBleHBlY3RlZCBhcnJheSBvZiBiaWdpbnRzLCBnb3QgJHtlfSBpbiBhcnJheWApO2NvbnN0IHI9ZS5mcm9tQWZmaW5lKHQobikpLmNsZWFyQ29mYWN0b3IoKTtyZXR1cm4gci5hc3NlcnRWYWxpZGl0eSgpLHJ9fX07Y29uc3QganQ9TGUsJHQ9QmUsSHQ9JHQuYnl0ZXNUb051bWJlckJFO2Z1bmN0aW9uIFV0KGUsdCl7aWYocXQoZSkscXQodCksZTwwfHxlPj0xPDw4KnQpdGhyb3cgbmV3IEVycm9yKGBiYWQgSTJPU1AgY2FsbDogdmFsdWU9JHtlfSBsZW5ndGg9JHt0fWApO2NvbnN0IG49QXJyYXkuZnJvbSh7bGVuZ3RoOnR9KS5maWxsKDApO2ZvcihsZXQgcj10LTE7cj49MDtyLS0pbltyXT0yNTUmZSxlPj4+PTg7cmV0dXJuIG5ldyBVaW50OEFycmF5KG4pfWZ1bmN0aW9uIEZ0KGUsdCl7Y29uc3Qgbj1uZXcgVWludDhBcnJheShlLmxlbmd0aCk7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspbltyXT1lW3JdXnRbcl07cmV0dXJuIG59ZnVuY3Rpb24gcXQoZSl7aWYoIU51bWJlci5pc1NhZmVJbnRlZ2VyKGUpKXRocm93IG5ldyBFcnJvcihcIm51bWJlciBleHBlY3RlZFwiKX1mdW5jdGlvbiB6dChlLHQsbixyKXsoMCwkdC5hYnl0ZXMpKGUpLCgwLCR0LmFieXRlcykodCkscXQobiksdC5sZW5ndGg+MjU1JiYodD1yKCgwLCR0LmNvbmNhdEJ5dGVzKSgoMCwkdC51dGY4VG9CeXRlcykoXCJIMkMtT1ZFUlNJWkUtRFNULVwiKSx0KSkpO2NvbnN0e291dHB1dExlbjppLGJsb2NrTGVuOm99PXIscz1NYXRoLmNlaWwobi9pKTtpZihuPjY1NTM1fHxzPjI1NSl0aHJvdyBuZXcgRXJyb3IoXCJleHBhbmRfbWVzc2FnZV94bWQ6IGludmFsaWQgbGVuSW5CeXRlc1wiKTtjb25zdCBhPSgwLCR0LmNvbmNhdEJ5dGVzKSh0LFV0KHQubGVuZ3RoLDEpKSxjPVV0KDAsbyksZD1VdChuLDIpLGw9bmV3IEFycmF5KHMpLHU9cigoMCwkdC5jb25jYXRCeXRlcykoYyxlLGQsVXQoMCwxKSxhKSk7bFswXT1yKCgwLCR0LmNvbmNhdEJ5dGVzKSh1LFV0KDEsMSksYSkpO2ZvcihsZXQgZT0xO2U8PXM7ZSsrKXtjb25zdCB0PVtGdCh1LGxbZS0xXSksVXQoZSsxLDEpLGFdO2xbZV09cigoMCwkdC5jb25jYXRCeXRlcykoLi4udCkpfXJldHVybigwLCR0LmNvbmNhdEJ5dGVzKSguLi5sKS5zbGljZSgwLG4pfWZ1bmN0aW9uIFd0KGUsdCxuLHIsaSl7aWYoKDAsJHQuYWJ5dGVzKShlKSwoMCwkdC5hYnl0ZXMpKHQpLHF0KG4pLHQubGVuZ3RoPjI1NSl7Y29uc3QgZT1NYXRoLmNlaWwoMipyLzgpO3Q9aS5jcmVhdGUoe2RrTGVuOmV9KS51cGRhdGUoKDAsJHQudXRmOFRvQnl0ZXMpKFwiSDJDLU9WRVJTSVpFLURTVC1cIikpLnVwZGF0ZSh0KS5kaWdlc3QoKX1pZihuPjY1NTM1fHx0Lmxlbmd0aD4yNTUpdGhyb3cgbmV3IEVycm9yKFwiZXhwYW5kX21lc3NhZ2VfeG9mOiBpbnZhbGlkIGxlbkluQnl0ZXNcIik7cmV0dXJuIGkuY3JlYXRlKHtka0xlbjpufSkudXBkYXRlKGUpLnVwZGF0ZShVdChuLDIpKS51cGRhdGUodCkudXBkYXRlKFV0KHQubGVuZ3RoLDEpKS5kaWdlc3QoKX1mdW5jdGlvbiBWdChlLHQsbil7KDAsJHQudmFsaWRhdGVPYmplY3QpKG4se0RTVDpcInN0cmluZ09yVWludDhBcnJheVwiLHA6XCJiaWdpbnRcIixtOlwiaXNTYWZlSW50ZWdlclwiLGs6XCJpc1NhZmVJbnRlZ2VyXCIsaGFzaDpcImhhc2hcIn0pO2NvbnN0e3A6cixrOmksbTpvLGhhc2g6cyxleHBhbmQ6YSxEU1Q6Y309bjsoMCwkdC5hYnl0ZXMpKGUpLHF0KHQpO2NvbnN0IGQ9XCJzdHJpbmdcIj09dHlwZW9mIGM/KDAsJHQudXRmOFRvQnl0ZXMpKGMpOmMsbD1yLnRvU3RyaW5nKDIpLmxlbmd0aCx1PU1hdGguY2VpbCgobCtpKS84KSxoPXQqbyp1O2xldCBmO2lmKFwieG1kXCI9PT1hKWY9enQoZSxkLGgscyk7ZWxzZSBpZihcInhvZlwiPT09YSlmPVd0KGUsZCxoLGkscyk7ZWxzZXtpZihcIl9pbnRlcm5hbF9wYXNzXCIhPT1hKXRocm93IG5ldyBFcnJvcignZXhwYW5kIG11c3QgYmUgXCJ4bWRcIiBvciBcInhvZlwiJyk7Zj1lfWNvbnN0IHA9bmV3IEFycmF5KHQpO2ZvcihsZXQgZT0wO2U8dDtlKyspe2NvbnN0IHQ9bmV3IEFycmF5KG8pO2ZvcihsZXQgbj0wO248bztuKyspe2NvbnN0IGk9dSoobitlKm8pLHM9Zi5zdWJhcnJheShpLGkrdSk7dFtuXT0oMCxqdC5tb2QpKEh0KHMpLHIpfXBbZV09dH1yZXR1cm4gcH12YXIgR3Q9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KEd0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLEd0Lm1vbnRnb21lcnk9ZnVuY3Rpb24oZSl7Y29uc3QgdD1mdW5jdGlvbihlKXtyZXR1cm4oMCxadC52YWxpZGF0ZU9iamVjdCkoZSx7YTpcImJpZ2ludFwifSx7bW9udGdvbWVyeUJpdHM6XCJpc1NhZmVJbnRlZ2VyXCIsbkJ5dGVMZW5ndGg6XCJpc1NhZmVJbnRlZ2VyXCIsYWRqdXN0U2NhbGFyQnl0ZXM6XCJmdW5jdGlvblwiLGRvbWFpbjpcImZ1bmN0aW9uXCIscG93UG1pbnVzMjpcImZ1bmN0aW9uXCIsR3U6XCJiaWdpbnRcIn0pLE9iamVjdC5mcmVlemUoey4uLmV9KX0oZSkse1A6bn09dCxyPWU9PigwLFl0Lm1vZCkoZSxuKSxpPXQubW9udGdvbWVyeUJpdHMsbz1NYXRoLmNlaWwoaS84KSxzPXQubkJ5dGVMZW5ndGgsYT10LmFkanVzdFNjYWxhckJ5dGVzfHwoZT0+ZSksYz10LnBvd1BtaW51czJ8fChlPT4oMCxZdC5wb3cpKGUsbi1CaWdJbnQoMiksbikpO2Z1bmN0aW9uIGQoZSx0LG4pe2NvbnN0IGk9cihlKih0LW4pKTtyZXR1cm5bdD1yKHQtaSksbj1yKG4raSldfWNvbnN0IGw9KHQuYS1CaWdJbnQoMikpL0JpZ0ludCg0KTtmdW5jdGlvbiB1KGUpe3JldHVybigwLFp0Lm51bWJlclRvQnl0ZXNMRSkocihlKSxvKX1mdW5jdGlvbiBoKGUsdCl7Y29uc3QgaD1mdW5jdGlvbihlKXtjb25zdCB0PSgwLFp0LmVuc3VyZUJ5dGVzKShcInUgY29vcmRpbmF0ZVwiLGUsbyk7cmV0dXJuIDMyPT09cyYmKHRbMzFdJj0xMjcpLCgwLFp0LmJ5dGVzVG9OdW1iZXJMRSkodCl9KHQpLGY9ZnVuY3Rpb24oZSl7Y29uc3QgdD0oMCxadC5lbnN1cmVCeXRlcykoXCJzY2FsYXJcIixlKSxuPXQubGVuZ3RoO2lmKG4hPT1vJiZuIT09cyl0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkICR7b30gb3IgJHtzfSBieXRlcywgZ290ICR7bn1gKTtyZXR1cm4oMCxadC5ieXRlc1RvTnVtYmVyTEUpKGEodCkpfShlKSxwPWZ1bmN0aW9uKGUsdCl7KDAsWnQuYUluUmFuZ2UpKFwidVwiLGUsSnQsbiksKDAsWnQuYUluUmFuZ2UpKFwic2NhbGFyXCIsdCxKdCxuKTtjb25zdCBvPXQscz1lO2xldCBhLHU9UXQsaD1KdCxmPWUscD1RdCxtPUp0O2ZvcihsZXQgZT1CaWdJbnQoaS0xKTtlPj1KdDtlLS0pe2NvbnN0IHQ9bz4+ZSZRdDttXj10LGE9ZChtLHUsZiksdT1hWzBdLGY9YVsxXSxhPWQobSxoLHApLGg9YVswXSxwPWFbMV0sbT10O2NvbnN0IG49dStoLGk9cihuKm4pLGM9dS1oLGc9cihjKmMpLHk9aS1nLHY9ZitwLEU9cigoZi1wKSpuKSxiPXIodipjKSx3PUUrYixTPUUtYjtmPXIodyp3KSxwPXIocypyKFMqUykpLHU9cihpKmcpLGg9cih5KihpK3IobCp5KSkpfWE9ZChtLHUsZiksdT1hWzBdLGY9YVsxXSxhPWQobSxoLHApLGg9YVswXSxwPWFbMV07Y29uc3QgZz1jKGgpO3JldHVybiByKHUqZyl9KGgsZik7aWYocD09PUp0KXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcHJpdmF0ZSBvciBwdWJsaWMga2V5IHJlY2VpdmVkXCIpO3JldHVybiB1KHApfWNvbnN0IGY9dSh0Lkd1KTtmdW5jdGlvbiBwKGUpe3JldHVybiBoKGUsZil9cmV0dXJue3NjYWxhck11bHQ6aCxzY2FsYXJNdWx0QmFzZTpwLGdldFNoYXJlZFNlY3JldDooZSx0KT0+aChlLHQpLGdldFB1YmxpY0tleTplPT5wKGUpLHV0aWxzOntyYW5kb21Qcml2YXRlS2V5OigpPT50LnJhbmRvbUJ5dGVzKHQubkJ5dGVMZW5ndGgpfSxHdUJ5dGVzOmZ9fTtjb25zdCBZdD1MZSxadD1CZSxKdD1CaWdJbnQoMCksUXQ9QmlnSW50KDEpOyFmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLmhhc2hfdG9fcmlzdHJldHRvMjU1PWUuaGFzaFRvUmlzdHJldHRvMjU1PWUuUmlzdHJldHRvUG9pbnQ9ZS5lbmNvZGVUb0N1cnZlPWUuaGFzaFRvQ3VydmU9ZS5lZHdhcmRzVG9Nb250Z29tZXJ5PWUueDI1NTE5PWUuZWQyNTUxOXBoPWUuZWQyNTUxOWN0eD1lLmVkMjU1MTk9ZS5FRDI1NTE5X1RPUlNJT05fU1VCR1JPVVA9dm9pZCAwLGUuZWR3YXJkc1RvTW9udGdvbWVyeVB1Yj1TLGUuZWR3YXJkc1RvTW9udGdvbWVyeVByaXY9ZnVuY3Rpb24oZSl7Y29uc3QgdD1iLmhhc2goZS5zdWJhcnJheSgwLDMyKSk7cmV0dXJuIGIuYWRqdXN0U2NhbGFyQnl0ZXModCkuc3ViYXJyYXkoMCwzMil9O2NvbnN0IHQ9RCxuPVcscj1OZSxpPUt0LG89TGUscz1HdCxhPUJlLGM9QmlnSW50KFwiNTc4OTYwNDQ2MTg2NTgwOTc3MTE3ODU0OTI1MDQzNDM5NTM5MjY2MzQ5OTIzMzI4MjAyODIwMTk3Mjg3OTIwMDM5NTY1NjQ4MTk5NDlcIiksZD1CaWdJbnQoXCIxOTY4MTE2MTM3NjcwNzUwNTk1NjgwNzA3OTMwNDk4ODU0MjAxNTQ0NjA2NjUxNTkyMzg5MDE2Mjc0NDAyMTA3MzEyMzgyOTc4NDc1MlwiKSxsPUJpZ0ludCgwKSx1PUJpZ0ludCgxKSxoPUJpZ0ludCgyKSxmPUJpZ0ludCgzKSxwPUJpZ0ludCg1KSxtPUJpZ0ludCg4KTtmdW5jdGlvbiBnKGUpe2NvbnN0IHQ9QmlnSW50KDEwKSxuPUJpZ0ludCgyMCkscj1CaWdJbnQoNDApLGk9QmlnSW50KDgwKSxzPWMsYT1lKmUlcyplJXMsZD0oMCxvLnBvdzIpKGEsaCxzKSphJXMsbD0oMCxvLnBvdzIpKGQsdSxzKSplJXMsZj0oMCxvLnBvdzIpKGwscCxzKSpsJXMsbT0oMCxvLnBvdzIpKGYsdCxzKSpmJXMsZz0oMCxvLnBvdzIpKG0sbixzKSptJXMseT0oMCxvLnBvdzIpKGcscixzKSpnJXMsdj0oMCxvLnBvdzIpKHksaSxzKSp5JXMsRT0oMCxvLnBvdzIpKHYsaSxzKSp5JXMsYj0oMCxvLnBvdzIpKEUsdCxzKSpmJXM7cmV0dXJue3Bvd19wXzVfODooMCxvLnBvdzIpKGIsaCxzKSplJXMsYjI6YX19ZnVuY3Rpb24geShlKXtyZXR1cm4gZVswXSY9MjQ4LGVbMzFdJj0xMjcsZVszMV18PTY0LGV9ZnVuY3Rpb24gdihlLHQpe2NvbnN0IG49YyxyPSgwLG8ubW9kKSh0KnQqdCxuKSxpPWcoZSooMCxvLm1vZCkocipyKnQsbikpLnBvd19wXzVfODtsZXQgcz0oMCxvLm1vZCkoZSpyKmksbik7Y29uc3QgYT0oMCxvLm1vZCkodCpzKnMsbiksbD1zLHU9KDAsby5tb2QpKHMqZCxuKSxoPWE9PT1lLGY9YT09PSgwLG8ubW9kKSgtZSxuKSxwPWE9PT0oMCxvLm1vZCkoLWUqZCxuKTtyZXR1cm4gaCYmKHM9bCksKGZ8fHApJiYocz11KSwoMCxvLmlzTmVnYXRpdmVMRSkocyxuKSYmKHM9KDAsby5tb2QpKC1zLG4pKSx7aXNWYWxpZDpofHxmLHZhbHVlOnN9fWUuRUQyNTUxOV9UT1JTSU9OX1NVQkdST1VQPVtcIjAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDBcIixcImM3MTc2YTcwM2Q0ZGQ4NGZiYTNjMGI3NjBkMTA2NzBmMmEyMDUzZmEyYzM5Y2NjNjRlYzdmZDc3OTJhYzAzN2FcIixcIjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwODBcIixcIjI2ZTg5NThmYzJiMjI3YjA0NWMzZjQ4OWYyZWY5OGYwZDVkZmFjMDVkM2M2MzMzOWIxMzgwMjg4NmQ1M2ZjMDVcIixcImVjZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmN2ZcIixcIjI2ZTg5NThmYzJiMjI3YjA0NWMzZjQ4OWYyZWY5OGYwZDVkZmFjMDVkM2M2MzMzOWIxMzgwMjg4NmQ1M2ZjODVcIixcIjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDBcIixcImM3MTc2YTcwM2Q0ZGQ4NGZiYTNjMGI3NjBkMTA2NzBmMmEyMDUzZmEyYzM5Y2NjNjRlYzdmZDc3OTJhYzAzZmFcIl07Y29uc3QgRT0oKCk9PigwLG8uRmllbGQpKGMsdm9pZCAwLCEwKSkoKSxiPSgoKT0+KHthOkJpZ0ludCgtMSksZDpCaWdJbnQoXCIzNzA5NTcwNTkzNDY2OTQzOTM0MzEzODA4MzUwODc1NDU2NTE4OTU0MjExMzg3OTg0MzIxOTAxNjM4ODc4NTUzMzA4NTk0MDI4MzU1NVwiKSxGcDpFLG46QmlnSW50KFwiNzIzNzAwNTU3NzMzMjI2MjIxMzk3MzE4NjU2MzA0Mjk5NDI0MDg1NzExNjM1OTM3OTkwNzYwNjAwMTk1MDkzODI4NTQ1NDI1MDk4OVwiKSxoOm0sR3g6QmlnSW50KFwiMTUxMTIyMjEzNDk1MzU0MDA3NzI1MDExNTE0MDk1ODg1MzE1MTE0NTQwMTI2OTMwNDE4NTcyMDYwNDYxMTMyODM5NDk4NDc3NjIyMDJcIiksR3k6QmlnSW50KFwiNDYzMTY4MzU2OTQ5MjY0NzgxNjk0MjgzOTQwMDM0NzUxNjMxNDEzMDc5OTM4NjYyNTYyMjU2MTU3ODMwMzM2MDMxNjUyNTE4NTU5NjBcIiksaGFzaDp0LnNoYTUxMixyYW5kb21CeXRlczpuLnJhbmRvbUJ5dGVzLGFkanVzdFNjYWxhckJ5dGVzOnksdXZSYXRpbzp2fSkpKCk7ZnVuY3Rpb24gdyhlLHQscil7aWYodC5sZW5ndGg+MjU1KXRocm93IG5ldyBFcnJvcihcIkNvbnRleHQgaXMgdG9vIGJpZ1wiKTtyZXR1cm4oMCxuLmNvbmNhdEJ5dGVzKSgoMCxuLnV0ZjhUb0J5dGVzKShcIlNpZ0VkMjU1MTkgbm8gRWQyNTUxOSBjb2xsaXNpb25zXCIpLG5ldyBVaW50OEFycmF5KFtyPzE6MCx0Lmxlbmd0aF0pLHQsZSl9ZnVuY3Rpb24gUyh0KXtjb25zdHt5Om59PWUuZWQyNTUxOS5FeHRlbmRlZFBvaW50LmZyb21IZXgodCkscj1CaWdJbnQoMSk7cmV0dXJuIEUudG9CeXRlcyhFLmNyZWF0ZSgocituKSpFLmludihyLW4pKSl9ZS5lZDI1NTE5PSgwLHIudHdpc3RlZEVkd2FyZHMpKGIpLGUuZWQyNTUxOWN0eD0oMCxyLnR3aXN0ZWRFZHdhcmRzKSh7Li4uYixkb21haW46d30pLGUuZWQyNTUxOXBoPSgwLHIudHdpc3RlZEVkd2FyZHMpKE9iamVjdC5hc3NpZ24oe30sYix7ZG9tYWluOncscHJlaGFzaDp0LnNoYTUxMn0pKSxlLngyNTUxOT0oMCxzLm1vbnRnb21lcnkpKHtQOmMsYTpCaWdJbnQoNDg2NjYyKSxtb250Z29tZXJ5Qml0czoyNTUsbkJ5dGVMZW5ndGg6MzIsR3U6QmlnSW50KDkpLHBvd1BtaW51czI6ZT0+e2NvbnN0IHQ9Yyx7cG93X3BfNV84Om4sYjI6cn09ZyhlKTtyZXR1cm4oMCxvLm1vZCkoKDAsby5wb3cyKShuLGYsdCkqcix0KX0sYWRqdXN0U2NhbGFyQnl0ZXM6eSxyYW5kb21CeXRlczpuLnJhbmRvbUJ5dGVzfSksZS5lZHdhcmRzVG9Nb250Z29tZXJ5PVM7Y29uc3QgXz0oKCk9PihFLk9SREVSK2YpL20pKCksQz0oKCk9PkUucG93KGgsXykpKCkseD0oKCk9PkUuc3FydChFLm5lZyhFLk9ORSkpKSgpO2NvbnN0IGs9KCgpPT4oMCxvLkZwU3FydEV2ZW4pKEUsRS5uZWcoQmlnSW50KDQ4NjY2NCkpKSkoKTtmdW5jdGlvbiBNKGUpe2NvbnN0e3hNbjp0LHhNZDpuLHlNbjpyLHlNZDppfT1mdW5jdGlvbihlKXtjb25zdCB0PShFLk9SREVSLXApL20sbj1CaWdJbnQoNDg2NjYyKTtsZXQgcj1FLnNxcihlKTtyPUUubXVsKHIsaCk7bGV0IGk9RS5hZGQocixFLk9ORSksbz1FLm5lZyhuKSxzPUUuc3FyKGkpLGE9RS5tdWwocyxpKSxjPUUubXVsKHIsbik7Yz1FLm11bChjLG8pLGM9RS5hZGQoYyxzKSxjPUUubXVsKGMsbyk7bGV0IGQ9RS5zcXIoYSk7cz1FLnNxcihkKSxkPUUubXVsKGQsYSksZD1FLm11bChkLGMpLHM9RS5tdWwocyxkKTtsZXQgbD1FLnBvdyhzLHQpO2w9RS5tdWwobCxkKTtsZXQgZj1FLm11bChsLHgpO3M9RS5zcXIobCkscz1FLm11bChzLGEpO2xldCBnPUUuZXFsKHMsYykseT1FLmNtb3YoZixsLGcpLHY9RS5tdWwobyxyKSxiPUUubXVsKGwsZSk7Yj1FLm11bChiLEMpO2xldCB3PUUubXVsKGIseCksUz1FLm11bChjLHIpO3M9RS5zcXIoYikscz1FLm11bChzLGEpO2xldCBfPUUuZXFsKHMsUyksaz1FLmNtb3YodyxiLF8pO3M9RS5zcXIoeSkscz1FLm11bChzLGEpO2xldCBNPUUuZXFsKHMsYyksQT1FLmNtb3YodixvLE0pLFQ9RS5jbW92KGsseSxNKSxJPUUuaXNPZGQoVCk7cmV0dXJuIFQ9RS5jbW92KFQsRS5uZWcoVCksTSE9PUkpLHt4TW46QSx4TWQ6aSx5TW46VCx5TWQ6dX19KGUpO2xldCBvPUUubXVsKHQsaSk7bz1FLm11bChvLGspO2xldCBzPUUubXVsKG4sciksYT1FLnN1Yih0LG4pLGM9RS5hZGQodCxuKSxkPUUubXVsKHMsYyksbD1FLmVxbChkLEUuWkVSTyk7bz1FLmNtb3YobyxFLlpFUk8sbCkscz1FLmNtb3YocyxFLk9ORSxsKSxhPUUuY21vdihhLEUuT05FLGwpLGM9RS5jbW92KGMsRS5PTkUsbCk7Y29uc3QgZj1FLmludmVydEJhdGNoKFtzLGNdKTtyZXR1cm57eDpFLm11bChvLGZbMF0pLHk6RS5tdWwoYSxmWzFdKX19Y29uc3QgQT0oKCk9PigwLGkuY3JlYXRlSGFzaGVyKShlLmVkMjU1MTkuRXh0ZW5kZWRQb2ludCwoZT0+TShlWzBdKSkse0RTVDpcImVkd2FyZHMyNTUxOV9YTUQ6U0hBLTUxMl9FTEwyX1JPX1wiLGVuY29kZURTVDpcImVkd2FyZHMyNTUxOV9YTUQ6U0hBLTUxMl9FTEwyX05VX1wiLHA6RS5PUkRFUixtOjEsazoxMjgsZXhwYW5kOlwieG1kXCIsaGFzaDp0LnNoYTUxMn0pKSgpO2Z1bmN0aW9uIFQoZSl7aWYoIShlIGluc3RhbmNlb2YgJCkpdGhyb3cgbmV3IEVycm9yKFwiUmlzdHJldHRvUG9pbnQgZXhwZWN0ZWRcIil9ZS5oYXNoVG9DdXJ2ZT1BLmhhc2hUb0N1cnZlLGUuZW5jb2RlVG9DdXJ2ZT1BLmVuY29kZVRvQ3VydmU7Y29uc3QgST1kLFI9QmlnSW50KFwiMjUwNjMwNjg5NTMzODQ2MjM0NzQxMTE0MTQxNTg3MDIxNTI3MDEyNDQ1MzE1MDI0OTI2NTY0NjAwNzkyMTA0ODI2MTA0MzA3NTAyMzVcIiksUD1CaWdJbnQoXCI1NDQ2OTMwNzAwODkwOTMxNjkyMDk5NTgxMzg2ODc0NTE0MTYwNTM5MzU5NzI5MjkyNzQ1NjkyMTIwNTMxMjg5NjMxMTcyMTAxNzU3OFwiKSxPPUJpZ0ludChcIjExNTk4NDMwMjE2Njg3Nzk4NzkxOTM3NzU1MjE4NTU1ODY2NDc5MzczNTc3NTk3MTU0MTc2NTQ0Mzk4Nzk3MjA4NzYxMTE4MDY4MzhcIiksTj1CaWdJbnQoXCI0MDQ0MDgzNDM0NjMwODUzNjg1ODEwMTA0MjQ2OTMyMzE5MDgyNjI0ODM5OTE0NjIzODcwODM1MjI0MDEzMzIyMDg2NTEzNzI2NTk1MlwiKSxMPWU9PnYodSxlKSxCPUJpZ0ludChcIjB4N2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZlwiKSxLPXQ9PmUuZWQyNTUxOS5DVVJWRS5GcC5jcmVhdGUoKDAsYS5ieXRlc1RvTnVtYmVyTEUpKHQpJkIpO2Z1bmN0aW9uIGoodCl7Y29uc3R7ZDpufT1lLmVkMjU1MTkuQ1VSVkUscj1lLmVkMjU1MTkuQ1VSVkUuRnAuT1JERVIsaT1lLmVkMjU1MTkuQ1VSVkUuRnAuY3JlYXRlLHM9aShJKnQqdCksYT1pKChzK3UpKk8pO2xldCBjPUJpZ0ludCgtMSk7Y29uc3QgZD1pKChjLW4qcykqaShzK24pKTtsZXR7aXNWYWxpZDpsLHZhbHVlOmh9PXYoYSxkKSxmPWkoaCp0KTsoMCxvLmlzTmVnYXRpdmVMRSkoZixyKXx8KGY9aSgtZikpLGx8fChoPWYpLGx8fChjPXMpO2NvbnN0IHA9aShjKihzLXUpKk4tZCksbT1oKmgsZz1pKChoK2gpKmQpLHk9aShwKlIpLEU9aSh1LW0pLGI9aSh1K20pO3JldHVybiBuZXcgZS5lZDI1NTE5LkV4dGVuZGVkUG9pbnQoaShnKmIpLGkoRSp5KSxpKHkqYiksaShnKkUpKX1jbGFzcyAke2NvbnN0cnVjdG9yKGUpe3RoaXMuZXA9ZX1zdGF0aWMgZnJvbUFmZmluZSh0KXtyZXR1cm4gbmV3ICQoZS5lZDI1NTE5LkV4dGVuZGVkUG9pbnQuZnJvbUFmZmluZSh0KSl9c3RhdGljIGhhc2hUb0N1cnZlKGUpe2U9KDAsYS5lbnN1cmVCeXRlcykoXCJyaXN0cmV0dG9IYXNoXCIsZSw2NCk7Y29uc3QgdD1qKEsoZS5zbGljZSgwLDMyKSkpLG49aihLKGUuc2xpY2UoMzIsNjQpKSk7cmV0dXJuIG5ldyAkKHQuYWRkKG4pKX1zdGF0aWMgZnJvbUhleCh0KXt0PSgwLGEuZW5zdXJlQnl0ZXMpKFwicmlzdHJldHRvSGV4XCIsdCwzMik7Y29uc3R7YTpuLGQ6cn09ZS5lZDI1NTE5LkNVUlZFLGk9ZS5lZDI1NTE5LkNVUlZFLkZwLk9SREVSLHM9ZS5lZDI1NTE5LkNVUlZFLkZwLmNyZWF0ZSxjPVwiUmlzdHJldHRvUG9pbnQuZnJvbUhleDogdGhlIGhleCBpcyBub3QgdmFsaWQgZW5jb2Rpbmcgb2YgUmlzdHJldHRvUG9pbnRcIixkPUsodCk7aWYoISgwLGEuZXF1YWxCeXRlcykoKDAsYS5udW1iZXJUb0J5dGVzTEUpKGQsMzIpLHQpfHwoMCxvLmlzTmVnYXRpdmVMRSkoZCxpKSl0aHJvdyBuZXcgRXJyb3IoYyk7Y29uc3QgaD1zKGQqZCksZj1zKHUrbipoKSxwPXModS1uKmgpLG09cyhmKmYpLGc9cyhwKnApLHk9cyhuKnIqbS1nKSx7aXNWYWxpZDp2LHZhbHVlOkV9PUwocyh5KmcpKSxiPXMoRSpwKSx3PXMoRSpiKnkpO2xldCBTPXMoKGQrZCkqYik7KDAsby5pc05lZ2F0aXZlTEUpKFMsaSkmJihTPXMoLVMpKTtjb25zdCBfPXMoZip3KSxDPXMoUypfKTtpZighdnx8KDAsby5pc05lZ2F0aXZlTEUpKEMsaSl8fF89PT1sKXRocm93IG5ldyBFcnJvcihjKTtyZXR1cm4gbmV3ICQobmV3IGUuZWQyNTUxOS5FeHRlbmRlZFBvaW50KFMsXyx1LEMpKX10b1Jhd0J5dGVzKCl7bGV0e2V4OnQsZXk6bixlejpyLGV0Oml9PXRoaXMuZXA7Y29uc3Qgcz1lLmVkMjU1MTkuQ1VSVkUuRnAuT1JERVIsYz1lLmVkMjU1MTkuQ1VSVkUuRnAuY3JlYXRlLGQ9YyhjKHIrbikqYyhyLW4pKSxsPWModCpuKSx1PWMobCpsKSx7dmFsdWU6aH09TChjKGQqdSkpLGY9YyhoKmQpLHA9YyhoKmwpLG09YyhmKnAqaSk7bGV0IGc7aWYoKDAsby5pc05lZ2F0aXZlTEUpKGkqbSxzKSl7bGV0IGU9YyhuKkkpLHI9Yyh0KkkpO3Q9ZSxuPXIsZz1jKGYqUCl9ZWxzZSBnPXA7KDAsby5pc05lZ2F0aXZlTEUpKHQqbSxzKSYmKG49YygtbikpO2xldCB5PWMoKHItbikqZyk7cmV0dXJuKDAsby5pc05lZ2F0aXZlTEUpKHkscykmJih5PWMoLXkpKSwoMCxhLm51bWJlclRvQnl0ZXNMRSkoeSwzMil9dG9IZXgoKXtyZXR1cm4oMCxhLmJ5dGVzVG9IZXgpKHRoaXMudG9SYXdCeXRlcygpKX10b1N0cmluZygpe3JldHVybiB0aGlzLnRvSGV4KCl9ZXF1YWxzKHQpe1QodCk7Y29uc3R7ZXg6bixleTpyfT10aGlzLmVwLHtleDppLGV5Om99PXQuZXAscz1lLmVkMjU1MTkuQ1VSVkUuRnAuY3JlYXRlLGE9cyhuKm8pPT09cyhyKmkpLGM9cyhyKm8pPT09cyhuKmkpO3JldHVybiBhfHxjfWFkZChlKXtyZXR1cm4gVChlKSxuZXcgJCh0aGlzLmVwLmFkZChlLmVwKSl9c3VidHJhY3QoZSl7cmV0dXJuIFQoZSksbmV3ICQodGhpcy5lcC5zdWJ0cmFjdChlLmVwKSl9bXVsdGlwbHkoZSl7cmV0dXJuIG5ldyAkKHRoaXMuZXAubXVsdGlwbHkoZSkpfW11bHRpcGx5VW5zYWZlKGUpe3JldHVybiBuZXcgJCh0aGlzLmVwLm11bHRpcGx5VW5zYWZlKGUpKX1kb3VibGUoKXtyZXR1cm4gbmV3ICQodGhpcy5lcC5kb3VibGUoKSl9bmVnYXRlKCl7cmV0dXJuIG5ldyAkKHRoaXMuZXAubmVnYXRlKCkpfX1lLlJpc3RyZXR0b1BvaW50PSgkLkJBU0V8fCgkLkJBU0U9bmV3ICQoZS5lZDI1NTE5LkV4dGVuZGVkUG9pbnQuQkFTRSkpLCQuWkVST3x8KCQuWkVSTz1uZXcgJChlLmVkMjU1MTkuRXh0ZW5kZWRQb2ludC5aRVJPKSksJCk7ZS5oYXNoVG9SaXN0cmV0dG8yNTU9KGUscik9Pntjb25zdCBvPXIuRFNULHM9XCJzdHJpbmdcIj09dHlwZW9mIG8/KDAsbi51dGY4VG9CeXRlcykobyk6byxhPSgwLGkuZXhwYW5kX21lc3NhZ2VfeG1kKShlLHMsNjQsdC5zaGE1MTIpO3JldHVybiAkLmhhc2hUb0N1cnZlKGEpfSxlLmhhc2hfdG9fcmlzdHJldHRvMjU1PWUuaGFzaFRvUmlzdHJldHRvMjU1fShOKTt2YXIgWHQ9e30sZW49e307T2JqZWN0LmRlZmluZVByb3BlcnR5KGVuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGVuLnNoYTIyND1lbi5zaGEyNTY9ZW4uU0hBMjU2PXZvaWQgMDtjb25zdCB0bj1MLG5uPVcscm49bmV3IFVpbnQzMkFycmF5KFsxMTE2MzUyNDA4LDE4OTk0NDc0NDEsMzA0OTMyMzQ3MSwzOTIxMDA5NTczLDk2MTk4NzE2MywxNTA4OTcwOTkzLDI0NTM2MzU3NDgsMjg3MDc2MzIyMSwzNjI0MzgxMDgwLDMxMDU5ODQwMSw2MDcyMjUyNzgsMTQyNjg4MTk4NywxOTI1MDc4Mzg4LDIxNjIwNzgyMDYsMjYxNDg4ODEwMywzMjQ4MjIyNTgwLDM4MzUzOTA0MDEsNDAyMjIyNDc3NCwyNjQzNDcwNzgsNjA0ODA3NjI4LDc3MDI1NTk4MywxMjQ5MTUwMTIyLDE1NTUwODE2OTIsMTk5NjA2NDk4NiwyNTU0MjIwODgyLDI4MjE4MzQzNDksMjk1Mjk5NjgwOCwzMjEwMzEzNjcxLDMzMzY1NzE4OTEsMzU4NDUyODcxMSwxMTM5MjY5OTMsMzM4MjQxODk1LDY2NjMwNzIwNSw3NzM1Mjk5MTIsMTI5NDc1NzM3MiwxMzk2MTgyMjkxLDE2OTUxODM3MDAsMTk4NjY2MTA1MSwyMTc3MDI2MzUwLDI0NTY5NTYwMzcsMjczMDQ4NTkyMSwyODIwMzAyNDExLDMyNTk3MzA4MDAsMzM0NTc2NDc3MSwzNTE2MDY1ODE3LDM2MDAzNTI4MDQsNDA5NDU3MTkwOSwyNzU0MjMzNDQsNDMwMjI3NzM0LDUwNjk0ODYxNiw2NTkwNjA1NTYsODgzOTk3ODc3LDk1ODEzOTU3MSwxMzIyODIyMjE4LDE1MzcwMDIwNjMsMTc0Nzg3Mzc3OSwxOTU1NTYyMjIyLDIwMjQxMDQ4MTUsMjIyNzczMDQ1MiwyMzYxODUyNDI0LDI0Mjg0MzY0NzQsMjc1NjczNDE4NywzMjA0MDMxNDc5LDMzMjkzMjUyOThdKSxvbj1uZXcgVWludDMyQXJyYXkoWzE3NzkwMzM3MDMsMzE0NDEzNDI3NywxMDEzOTA0MjQyLDI3NzM0ODA3NjIsMTM1OTg5MzExOSwyNjAwODIyOTI0LDUyODczNDYzNSwxNTQxNDU5MjI1XSksc249bmV3IFVpbnQzMkFycmF5KDY0KTtjbGFzcyBhbiBleHRlbmRzIHRuLkhhc2hNRHtjb25zdHJ1Y3Rvcigpe3N1cGVyKDY0LDMyLDgsITEpLHRoaXMuQT0wfG9uWzBdLHRoaXMuQj0wfG9uWzFdLHRoaXMuQz0wfG9uWzJdLHRoaXMuRD0wfG9uWzNdLHRoaXMuRT0wfG9uWzRdLHRoaXMuRj0wfG9uWzVdLHRoaXMuRz0wfG9uWzZdLHRoaXMuSD0wfG9uWzddfWdldCgpe2NvbnN0e0E6ZSxCOnQsQzpuLEQ6cixFOmksRjpvLEc6cyxIOmF9PXRoaXM7cmV0dXJuW2UsdCxuLHIsaSxvLHMsYV19c2V0KGUsdCxuLHIsaSxvLHMsYSl7dGhpcy5BPTB8ZSx0aGlzLkI9MHx0LHRoaXMuQz0wfG4sdGhpcy5EPTB8cix0aGlzLkU9MHxpLHRoaXMuRj0wfG8sdGhpcy5HPTB8cyx0aGlzLkg9MHxhfXByb2Nlc3MoZSx0KXtmb3IobGV0IG49MDtuPDE2O24rKyx0Kz00KXNuW25dPWUuZ2V0VWludDMyKHQsITEpO2ZvcihsZXQgZT0xNjtlPDY0O2UrKyl7Y29uc3QgdD1zbltlLTE1XSxuPXNuW2UtMl0scj0oMCxubi5yb3RyKSh0LDcpXigwLG5uLnJvdHIpKHQsMTgpXnQ+Pj4zLGk9KDAsbm4ucm90cikobiwxNyleKDAsbm4ucm90cikobiwxOSlebj4+PjEwO3NuW2VdPWkrc25bZS03XStyK3NuW2UtMTZdfDB9bGV0e0E6bixCOnIsQzppLEQ6byxFOnMsRjphLEc6YyxIOmR9PXRoaXM7Zm9yKGxldCBlPTA7ZTw2NDtlKyspe2NvbnN0IHQ9ZCsoKDAsbm4ucm90cikocyw2KV4oMCxubi5yb3RyKShzLDExKV4oMCxubi5yb3RyKShzLDI1KSkrKDAsdG4uQ2hpKShzLGEsYykrcm5bZV0rc25bZV18MCxsPSgoMCxubi5yb3RyKShuLDIpXigwLG5uLnJvdHIpKG4sMTMpXigwLG5uLnJvdHIpKG4sMjIpKSsoMCx0bi5NYWopKG4scixpKXwwO2Q9YyxjPWEsYT1zLHM9byt0fDAsbz1pLGk9cixyPW4sbj10K2x8MH1uPW4rdGhpcy5BfDAscj1yK3RoaXMuQnwwLGk9aSt0aGlzLkN8MCxvPW8rdGhpcy5EfDAscz1zK3RoaXMuRXwwLGE9YSt0aGlzLkZ8MCxjPWMrdGhpcy5HfDAsZD1kK3RoaXMuSHwwLHRoaXMuc2V0KG4scixpLG8scyxhLGMsZCl9cm91bmRDbGVhbigpe3NuLmZpbGwoMCl9ZGVzdHJveSgpe3RoaXMuc2V0KDAsMCwwLDAsMCwwLDAsMCksdGhpcy5idWZmZXIuZmlsbCgwKX19ZW4uU0hBMjU2PWFuO2NsYXNzIGNuIGV4dGVuZHMgYW57Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuQT0tMTA1NjU5NjI2NCx0aGlzLkI9OTE0MTUwNjYzLHRoaXMuQz04MTI3MDI5OTksdGhpcy5EPS0xNTAwNTQ1OTksdGhpcy5FPS00MTkxNDM5LHRoaXMuRj0xNzUwNjAzMDI1LHRoaXMuRz0xNjk0MDc2ODM5LHRoaXMuSD0tMTA5MDg5MTg2OCx0aGlzLm91dHB1dExlbj0yOH19ZW4uc2hhMjU2PSgwLG5uLndyYXBDb25zdHJ1Y3RvcikoKCgpPT5uZXcgYW4pKSxlbi5zaGEyMjQ9KDAsbm4ud3JhcENvbnN0cnVjdG9yKSgoKCk9Pm5ldyBjbikpO3ZhciBkbj17fSxsbj17fTshZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5obWFjPWUuSE1BQz12b2lkIDA7Y29uc3QgdD1CLG49VztjbGFzcyByIGV4dGVuZHMgbi5IYXNoe2NvbnN0cnVjdG9yKGUscil7c3VwZXIoKSx0aGlzLmZpbmlzaGVkPSExLHRoaXMuZGVzdHJveWVkPSExLCgwLHQuaGFzaCkoZSk7Y29uc3QgaT0oMCxuLnRvQnl0ZXMpKHIpO2lmKHRoaXMuaUhhc2g9ZS5jcmVhdGUoKSxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0aGlzLmlIYXNoLnVwZGF0ZSl0aHJvdyBuZXcgRXJyb3IoXCJFeHBlY3RlZCBpbnN0YW5jZSBvZiBjbGFzcyB3aGljaCBleHRlbmRzIHV0aWxzLkhhc2hcIik7dGhpcy5ibG9ja0xlbj10aGlzLmlIYXNoLmJsb2NrTGVuLHRoaXMub3V0cHV0TGVuPXRoaXMuaUhhc2gub3V0cHV0TGVuO2NvbnN0IG89dGhpcy5ibG9ja0xlbixzPW5ldyBVaW50OEFycmF5KG8pO3Muc2V0KGkubGVuZ3RoPm8/ZS5jcmVhdGUoKS51cGRhdGUoaSkuZGlnZXN0KCk6aSk7Zm9yKGxldCBlPTA7ZTxzLmxlbmd0aDtlKyspc1tlXV49NTQ7dGhpcy5pSGFzaC51cGRhdGUocyksdGhpcy5vSGFzaD1lLmNyZWF0ZSgpO2ZvcihsZXQgZT0wO2U8cy5sZW5ndGg7ZSsrKXNbZV1ePTEwNjt0aGlzLm9IYXNoLnVwZGF0ZShzKSxzLmZpbGwoMCl9dXBkYXRlKGUpe3JldHVybigwLHQuZXhpc3RzKSh0aGlzKSx0aGlzLmlIYXNoLnVwZGF0ZShlKSx0aGlzfWRpZ2VzdEludG8oZSl7KDAsdC5leGlzdHMpKHRoaXMpLCgwLHQuYnl0ZXMpKGUsdGhpcy5vdXRwdXRMZW4pLHRoaXMuZmluaXNoZWQ9ITAsdGhpcy5pSGFzaC5kaWdlc3RJbnRvKGUpLHRoaXMub0hhc2gudXBkYXRlKGUpLHRoaXMub0hhc2guZGlnZXN0SW50byhlKSx0aGlzLmRlc3Ryb3koKX1kaWdlc3QoKXtjb25zdCBlPW5ldyBVaW50OEFycmF5KHRoaXMub0hhc2gub3V0cHV0TGVuKTtyZXR1cm4gdGhpcy5kaWdlc3RJbnRvKGUpLGV9X2Nsb25lSW50byhlKXtlfHwoZT1PYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKSx7fSkpO2NvbnN0e29IYXNoOnQsaUhhc2g6bixmaW5pc2hlZDpyLGRlc3Ryb3llZDppLGJsb2NrTGVuOm8sb3V0cHV0TGVuOnN9PXRoaXM7cmV0dXJuIGUuZmluaXNoZWQ9cixlLmRlc3Ryb3llZD1pLGUuYmxvY2tMZW49byxlLm91dHB1dExlbj1zLGUub0hhc2g9dC5fY2xvbmVJbnRvKGUub0hhc2gpLGUuaUhhc2g9bi5fY2xvbmVJbnRvKGUuaUhhc2gpLGV9ZGVzdHJveSgpe3RoaXMuZGVzdHJveWVkPSEwLHRoaXMub0hhc2guZGVzdHJveSgpLHRoaXMuaUhhc2guZGVzdHJveSgpfX1lLkhNQUM9cjtlLmhtYWM9KGUsdCxuKT0+bmV3IHIoZSx0KS51cGRhdGUobikuZGlnZXN0KCksZS5obWFjLmNyZWF0ZT0oZSx0KT0+bmV3IHIoZSx0KX0obG4pO3ZhciB1bj17fTshZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5ERVI9dm9pZCAwLGUud2VpZXJzdHJhc3NQb2ludHM9ZixlLndlaWVyc3RyYXNzPWZ1bmN0aW9uKHMpe2NvbnN0IGE9ZnVuY3Rpb24oZSl7Y29uc3Qgbj0oMCx0LnZhbGlkYXRlQmFzaWMpKGUpO3JldHVybiByLnZhbGlkYXRlT2JqZWN0KG4se2hhc2g6XCJoYXNoXCIsaG1hYzpcImZ1bmN0aW9uXCIscmFuZG9tQnl0ZXM6XCJmdW5jdGlvblwifSx7Yml0czJpbnQ6XCJmdW5jdGlvblwiLGJpdHMyaW50X21vZE46XCJmdW5jdGlvblwiLGxvd1M6XCJib29sZWFuXCJ9KSxPYmplY3QuZnJlZXplKHtsb3dTOiEwLC4uLm59KX0ocykse0ZwOmwsbjp1fT1hLGg9bC5CWVRFUysxLHA9MipsLkJZVEVTKzE7ZnVuY3Rpb24gbShlKXtyZXR1cm4gbi5tb2QoZSx1KX1mdW5jdGlvbiBnKGUpe3JldHVybiBuLmludmVydChlLHUpfWNvbnN0e1Byb2plY3RpdmVQb2ludDp5LG5vcm1Qcml2YXRlS2V5VG9TY2FsYXI6dix3ZWllcnN0cmFzc0VxdWF0aW9uOkUsaXNXaXRoaW5DdXJ2ZU9yZGVyOmJ9PWYoey4uLmEsdG9CeXRlcyhlLHQsbil7Y29uc3Qgbz10LnRvQWZmaW5lKCkscz1sLnRvQnl0ZXMoby54KSxhPXIuY29uY2F0Qnl0ZXM7cmV0dXJuKDAsaS5hYm9vbCkoXCJpc0NvbXByZXNzZWRcIixuKSxuP2EoVWludDhBcnJheS5mcm9tKFt0Lmhhc0V2ZW5ZKCk/MjozXSkscyk6YShVaW50OEFycmF5LmZyb20oWzRdKSxzLGwudG9CeXRlcyhvLnkpKX0sZnJvbUJ5dGVzKGUpe2NvbnN0IHQ9ZS5sZW5ndGgsbj1lWzBdLGk9ZS5zdWJhcnJheSgxKTtpZih0IT09aHx8MiE9PW4mJjMhPT1uKXtpZih0PT09cCYmND09PW4pe3JldHVybnt4OmwuZnJvbUJ5dGVzKGkuc3ViYXJyYXkoMCxsLkJZVEVTKSkseTpsLmZyb21CeXRlcyhpLnN1YmFycmF5KGwuQllURVMsMipsLkJZVEVTKSl9fXRocm93IG5ldyBFcnJvcihgUG9pbnQgb2YgbGVuZ3RoICR7dH0gd2FzIGludmFsaWQuIEV4cGVjdGVkICR7aH0gY29tcHJlc3NlZCBieXRlcyBvciAke3B9IHVuY29tcHJlc3NlZCBieXRlc2ApfXtjb25zdCBlPXIuYnl0ZXNUb051bWJlckJFKGkpO2lmKCFyLmluUmFuZ2UoZSxkLGwuT1JERVIpKXRocm93IG5ldyBFcnJvcihcIlBvaW50IGlzIG5vdCBvbiBjdXJ2ZVwiKTtjb25zdCB0PUUoZSk7bGV0IG87dHJ5e289bC5zcXJ0KHQpfWNhdGNoKGUpe2NvbnN0IHQ9ZSBpbnN0YW5jZW9mIEVycm9yP1wiOiBcIitlLm1lc3NhZ2U6XCJcIjt0aHJvdyBuZXcgRXJyb3IoXCJQb2ludCBpcyBub3Qgb24gY3VydmVcIit0KX1yZXR1cm4gMT09KDEmbikhPT0oKG8mZCk9PT1kKSYmKG89bC5uZWcobykpLHt4OmUseTpvfX19fSksdz1lPT5yLmJ5dGVzVG9IZXgoci5udW1iZXJUb0J5dGVzQkUoZSxhLm5CeXRlTGVuZ3RoKSk7ZnVuY3Rpb24gUyhlKXtyZXR1cm4gZT51Pj5kfWNvbnN0IF89KGUsdCxuKT0+ci5ieXRlc1RvTnVtYmVyQkUoZS5zbGljZSh0LG4pKTtjbGFzcyBDe2NvbnN0cnVjdG9yKGUsdCxuKXt0aGlzLnI9ZSx0aGlzLnM9dCx0aGlzLnJlY292ZXJ5PW4sdGhpcy5hc3NlcnRWYWxpZGl0eSgpfXN0YXRpYyBmcm9tQ29tcGFjdChlKXtjb25zdCB0PWEubkJ5dGVMZW5ndGg7cmV0dXJuIGU9KDAsaS5lbnN1cmVCeXRlcykoXCJjb21wYWN0U2lnbmF0dXJlXCIsZSwyKnQpLG5ldyBDKF8oZSwwLHQpLF8oZSx0LDIqdCkpfXN0YXRpYyBmcm9tREVSKHQpe2NvbnN0e3I6bixzOnJ9PWUuREVSLnRvU2lnKCgwLGkuZW5zdXJlQnl0ZXMpKFwiREVSXCIsdCkpO3JldHVybiBuZXcgQyhuLHIpfWFzc2VydFZhbGlkaXR5KCl7ci5hSW5SYW5nZShcInJcIix0aGlzLnIsZCx1KSxyLmFJblJhbmdlKFwic1wiLHRoaXMucyxkLHUpfWFkZFJlY292ZXJ5Qml0KGUpe3JldHVybiBuZXcgQyh0aGlzLnIsdGhpcy5zLGUpfXJlY292ZXJQdWJsaWNLZXkoZSl7Y29uc3R7cjp0LHM6bixyZWNvdmVyeTpyfT10aGlzLG89QSgoMCxpLmVuc3VyZUJ5dGVzKShcIm1zZ0hhc2hcIixlKSk7aWYobnVsbD09cnx8IVswLDEsMiwzXS5pbmNsdWRlcyhyKSl0aHJvdyBuZXcgRXJyb3IoXCJyZWNvdmVyeSBpZCBpbnZhbGlkXCIpO2NvbnN0IHM9Mj09PXJ8fDM9PT1yP3QrYS5uOnQ7aWYocz49bC5PUkRFUil0aHJvdyBuZXcgRXJyb3IoXCJyZWNvdmVyeSBpZCAyIG9yIDMgaW52YWxpZFwiKTtjb25zdCBjPTA9PSgxJnIpP1wiMDJcIjpcIjAzXCIsZD15LmZyb21IZXgoYyt3KHMpKSx1PWcocyksaD1tKC1vKnUpLGY9bShuKnUpLHA9eS5CQVNFLm11bHRpcGx5QW5kQWRkVW5zYWZlKGQsaCxmKTtpZighcCl0aHJvdyBuZXcgRXJyb3IoXCJwb2ludCBhdCBpbmZpbmlmeVwiKTtyZXR1cm4gcC5hc3NlcnRWYWxpZGl0eSgpLHB9aGFzSGlnaFMoKXtyZXR1cm4gUyh0aGlzLnMpfW5vcm1hbGl6ZVMoKXtyZXR1cm4gdGhpcy5oYXNIaWdoUygpP25ldyBDKHRoaXMucixtKC10aGlzLnMpLHRoaXMucmVjb3ZlcnkpOnRoaXN9dG9ERVJSYXdCeXRlcygpe3JldHVybiByLmhleFRvQnl0ZXModGhpcy50b0RFUkhleCgpKX10b0RFUkhleCgpe3JldHVybiBlLkRFUi5oZXhGcm9tU2lnKHtyOnRoaXMucixzOnRoaXMuc30pfXRvQ29tcGFjdFJhd0J5dGVzKCl7cmV0dXJuIHIuaGV4VG9CeXRlcyh0aGlzLnRvQ29tcGFjdEhleCgpKX10b0NvbXBhY3RIZXgoKXtyZXR1cm4gdyh0aGlzLnIpK3codGhpcy5zKX19Y29uc3QgeD17aXNWYWxpZFByaXZhdGVLZXkoZSl7dHJ5e3JldHVybiB2KGUpLCEwfWNhdGNoKGUpe3JldHVybiExfX0sbm9ybVByaXZhdGVLZXlUb1NjYWxhcjp2LHJhbmRvbVByaXZhdGVLZXk6KCk9Pntjb25zdCBlPW4uZ2V0TWluSGFzaExlbmd0aChhLm4pO3JldHVybiBuLm1hcEhhc2hUb0ZpZWxkKGEucmFuZG9tQnl0ZXMoZSksYS5uKX0scHJlY29tcHV0ZTooZT04LHQ9eS5CQVNFKT0+KHQuX3NldFdpbmRvd1NpemUoZSksdC5tdWx0aXBseShCaWdJbnQoMykpLHQpfTtmdW5jdGlvbiBrKGUpe2NvbnN0IHQ9ci5pc0J5dGVzKGUpLG49XCJzdHJpbmdcIj09dHlwZW9mIGUsaT0odHx8bikmJmUubGVuZ3RoO3JldHVybiB0P2k9PT1ofHxpPT09cDpuP2k9PT0yKmh8fGk9PT0yKnA6ZSBpbnN0YW5jZW9mIHl9Y29uc3QgTT1hLmJpdHMyaW50fHxmdW5jdGlvbihlKXtjb25zdCB0PXIuYnl0ZXNUb051bWJlckJFKGUpLG49OCplLmxlbmd0aC1hLm5CaXRMZW5ndGg7cmV0dXJuIG4+MD90Pj5CaWdJbnQobik6dH0sQT1hLmJpdHMyaW50X21vZE58fGZ1bmN0aW9uKGUpe3JldHVybiBtKE0oZSkpfSxUPXIuYml0TWFzayhhLm5CaXRMZW5ndGgpO2Z1bmN0aW9uIEkoZSl7cmV0dXJuIHIuYUluUmFuZ2UoYG51bSA8IDJeJHthLm5CaXRMZW5ndGh9YCxlLGMsVCksci5udW1iZXJUb0J5dGVzQkUoZSxhLm5CeXRlTGVuZ3RoKX1mdW5jdGlvbiBSKGUsdCxuPVApe2lmKFtcInJlY292ZXJlZFwiLFwiY2Fub25pY2FsXCJdLnNvbWUoKGU9PmUgaW4gbikpKXRocm93IG5ldyBFcnJvcihcInNpZ24oKSBsZWdhY3kgb3B0aW9ucyBub3Qgc3VwcG9ydGVkXCIpO2NvbnN0e2hhc2g6cyxyYW5kb21CeXRlczp1fT1hO2xldHtsb3dTOmgscHJlaGFzaDpmLGV4dHJhRW50cm9weTpwfT1uO251bGw9PWgmJihoPSEwKSxlPSgwLGkuZW5zdXJlQnl0ZXMpKFwibXNnSGFzaFwiLGUpLG8obiksZiYmKGU9KDAsaS5lbnN1cmVCeXRlcykoXCJwcmVoYXNoZWQgbXNnSGFzaFwiLHMoZSkpKTtjb25zdCBFPUEoZSksdz12KHQpLF89W0kodyksSShFKV07aWYobnVsbCE9cCYmITEhPT1wKXtjb25zdCBlPSEwPT09cD91KGwuQllURVMpOnA7Xy5wdXNoKCgwLGkuZW5zdXJlQnl0ZXMpKFwiZXh0cmFFbnRyb3B5XCIsZSkpfWNvbnN0IHg9ci5jb25jYXRCeXRlcyguLi5fKSxrPUU7cmV0dXJue3NlZWQ6eCxrMnNpZzpmdW5jdGlvbihlKXtjb25zdCB0PU0oZSk7aWYoIWIodCkpcmV0dXJuO2NvbnN0IG49Zyh0KSxyPXkuQkFTRS5tdWx0aXBseSh0KS50b0FmZmluZSgpLGk9bShyLngpO2lmKGk9PT1jKXJldHVybjtjb25zdCBvPW0obiptKGsraSp3KSk7aWYobz09PWMpcmV0dXJuO2xldCBzPShyLng9PT1pPzA6Mil8TnVtYmVyKHIueSZkKSxhPW87cmV0dXJuIGgmJlMobykmJihhPWZ1bmN0aW9uKGUpe3JldHVybiBTKGUpP20oLWUpOmV9KG8pLHNePTEpLG5ldyBDKGksYSxzKX19fWNvbnN0IFA9e2xvd1M6YS5sb3dTLHByZWhhc2g6ITF9LE89e2xvd1M6YS5sb3dTLHByZWhhc2g6ITF9O3JldHVybiB5LkJBU0UuX3NldFdpbmRvd1NpemUoOCkse0NVUlZFOmEsZ2V0UHVibGljS2V5OmZ1bmN0aW9uKGUsdD0hMCl7cmV0dXJuIHkuZnJvbVByaXZhdGVLZXkoZSkudG9SYXdCeXRlcyh0KX0sZ2V0U2hhcmVkU2VjcmV0OmZ1bmN0aW9uKGUsdCxuPSEwKXtpZihrKGUpKXRocm93IG5ldyBFcnJvcihcImZpcnN0IGFyZyBtdXN0IGJlIHByaXZhdGUga2V5XCIpO2lmKCFrKHQpKXRocm93IG5ldyBFcnJvcihcInNlY29uZCBhcmcgbXVzdCBiZSBwdWJsaWMga2V5XCIpO3JldHVybiB5LmZyb21IZXgodCkubXVsdGlwbHkodihlKSkudG9SYXdCeXRlcyhuKX0sc2lnbjpmdW5jdGlvbihlLHQsbj1QKXtjb25zdHtzZWVkOmksazJzaWc6b309UihlLHQsbikscz1hLGM9ci5jcmVhdGVIbWFjRHJiZyhzLmhhc2gub3V0cHV0TGVuLHMubkJ5dGVMZW5ndGgscy5obWFjKTtyZXR1cm4gYyhpLG8pfSx2ZXJpZnk6ZnVuY3Rpb24odCxuLHMsYz1PKXtjb25zdCBkPXQ7aWYobj0oMCxpLmVuc3VyZUJ5dGVzKShcIm1zZ0hhc2hcIixuKSxzPSgwLGkuZW5zdXJlQnl0ZXMpKFwicHVibGljS2V5XCIscyksXCJzdHJpY3RcImluIGMpdGhyb3cgbmV3IEVycm9yKFwib3B0aW9ucy5zdHJpY3Qgd2FzIHJlbmFtZWQgdG8gbG93U1wiKTtvKGMpO2NvbnN0e2xvd1M6bCxwcmVoYXNoOnV9PWM7bGV0IGgsZjt0cnl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGR8fHIuaXNCeXRlcyhkKSl0cnl7aD1DLmZyb21ERVIoZCl9Y2F0Y2godCl7aWYoISh0IGluc3RhbmNlb2YgZS5ERVIuRXJyKSl0aHJvdyB0O2g9Qy5mcm9tQ29tcGFjdChkKX1lbHNle2lmKFwib2JqZWN0XCIhPXR5cGVvZiBkfHxcImJpZ2ludFwiIT10eXBlb2YgZC5yfHxcImJpZ2ludFwiIT10eXBlb2YgZC5zKXRocm93IG5ldyBFcnJvcihcIlBBUlNFXCIpO3tjb25zdHtyOmUsczp0fT1kO2g9bmV3IEMoZSx0KX19Zj15LmZyb21IZXgocyl9Y2F0Y2goZSl7aWYoXCJQQVJTRVwiPT09ZS5tZXNzYWdlKXRocm93IG5ldyBFcnJvcihcInNpZ25hdHVyZSBtdXN0IGJlIFNpZ25hdHVyZSBpbnN0YW5jZSwgVWludDhBcnJheSBvciBoZXggc3RyaW5nXCIpO3JldHVybiExfWlmKGwmJmguaGFzSGlnaFMoKSlyZXR1cm4hMTt1JiYobj1hLmhhc2gobikpO2NvbnN0e3I6cCxzOnZ9PWgsRT1BKG4pLGI9Zyh2KSx3PW0oRSpiKSxTPW0ocCpiKSxfPXkuQkFTRS5tdWx0aXBseUFuZEFkZFVuc2FmZShmLHcsUyk/LnRvQWZmaW5lKCk7aWYoIV8pcmV0dXJuITE7Y29uc3QgeD1tKF8ueCk7cmV0dXJuIHg9PT1wfSxQcm9qZWN0aXZlUG9pbnQ6eSxTaWduYXR1cmU6Qyx1dGlsczp4fX0sZS5TV1VGcFNxcnRSYXRpbz1wLGUubWFwVG9DdXJ2ZVNpbXBsZVNXVT1mdW5jdGlvbihlLHQpe2lmKG4udmFsaWRhdGVGaWVsZChlKSwhZS5pc1ZhbGlkKHQuQSl8fCFlLmlzVmFsaWQodC5CKXx8IWUuaXNWYWxpZCh0LlopKXRocm93IG5ldyBFcnJvcihcIm1hcFRvQ3VydmVTaW1wbGVTV1U6IGludmFsaWQgb3B0c1wiKTtjb25zdCByPXAoZSx0LlopO2lmKCFlLmlzT2RkKXRocm93IG5ldyBFcnJvcihcIkZwLmlzT2RkIGlzIG5vdCBpbXBsZW1lbnRlZCFcIik7cmV0dXJuIG49PntsZXQgaSxvLHMsYSxjLGQsbCx1O2k9ZS5zcXIobiksaT1lLm11bChpLHQuWiksbz1lLnNxcihpKSxvPWUuYWRkKG8saSkscz1lLmFkZChvLGUuT05FKSxzPWUubXVsKHMsdC5CKSxhPWUuY21vdih0LlosZS5uZWcobyksIWUuZXFsKG8sZS5aRVJPKSksYT1lLm11bChhLHQuQSksbz1lLnNxcihzKSxkPWUuc3FyKGEpLGM9ZS5tdWwoZCx0LkEpLG89ZS5hZGQobyxjKSxvPWUubXVsKG8scyksZD1lLm11bChkLGEpLGM9ZS5tdWwoZCx0LkIpLG89ZS5hZGQobyxjKSxsPWUubXVsKGkscyk7Y29uc3R7aXNWYWxpZDpoLHZhbHVlOmZ9PXIobyxkKTt1PWUubXVsKGksbiksdT1lLm11bCh1LGYpLGw9ZS5jbW92KGwscyxoKSx1PWUuY21vdih1LGYsaCk7Y29uc3QgcD1lLmlzT2RkKG4pPT09ZS5pc09kZCh1KTtyZXR1cm4gdT1lLmNtb3YoZS5uZWcodSksdSxwKSxsPWUuZGl2KGwsYSkse3g6bCx5OnV9fX07Y29uc3QgdD1EZSxuPUxlLHI9QmUsaT1CZTtmdW5jdGlvbiBvKGUpe3ZvaWQgMCE9PWUubG93UyYmKDAsaS5hYm9vbCkoXCJsb3dTXCIsZS5sb3dTKSx2b2lkIDAhPT1lLnByZWhhc2gmJigwLGkuYWJvb2wpKFwicHJlaGFzaFwiLGUucHJlaGFzaCl9Y29uc3R7Ynl0ZXNUb051bWJlckJFOnMsaGV4VG9CeXRlczphfT1yO2UuREVSPXtFcnI6Y2xhc3MgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihlPVwiXCIpe3N1cGVyKGUpfX0sX3Rsdjp7ZW5jb2RlOih0LG4pPT57Y29uc3R7RXJyOml9PWUuREVSO2lmKHQ8MHx8dD4yNTYpdGhyb3cgbmV3IGkoXCJ0bHYuZW5jb2RlOiB3cm9uZyB0YWdcIik7aWYoMSZuLmxlbmd0aCl0aHJvdyBuZXcgaShcInRsdi5lbmNvZGU6IHVucGFkZGVkIGRhdGFcIik7Y29uc3Qgbz1uLmxlbmd0aC8yLHM9ci5udW1iZXJUb0hleFVucGFkZGVkKG8pO2lmKHMubGVuZ3RoLzImMTI4KXRocm93IG5ldyBpKFwidGx2LmVuY29kZTogbG9uZyBmb3JtIGxlbmd0aCB0b28gYmlnXCIpO2NvbnN0IGE9bz4xMjc/ci5udW1iZXJUb0hleFVucGFkZGVkKHMubGVuZ3RoLzJ8MTI4KTpcIlwiO3JldHVybmAke3IubnVtYmVyVG9IZXhVbnBhZGRlZCh0KX0ke2F9JHtzfSR7bn1gfSxkZWNvZGUodCxuKXtjb25zdHtFcnI6cn09ZS5ERVI7bGV0IGk9MDtpZih0PDB8fHQ+MjU2KXRocm93IG5ldyByKFwidGx2LmVuY29kZTogd3JvbmcgdGFnXCIpO2lmKG4ubGVuZ3RoPDJ8fG5baSsrXSE9PXQpdGhyb3cgbmV3IHIoXCJ0bHYuZGVjb2RlOiB3cm9uZyB0bHZcIik7Y29uc3Qgbz1uW2krK107bGV0IHM9MDtpZighISgxMjgmbykpe2NvbnN0IGU9MTI3Jm87aWYoIWUpdGhyb3cgbmV3IHIoXCJ0bHYuZGVjb2RlKGxvbmcpOiBpbmRlZmluaXRlIGxlbmd0aCBub3Qgc3VwcG9ydGVkXCIpO2lmKGU+NCl0aHJvdyBuZXcgcihcInRsdi5kZWNvZGUobG9uZyk6IGJ5dGUgbGVuZ3RoIGlzIHRvbyBiaWdcIik7Y29uc3QgdD1uLnN1YmFycmF5KGksaStlKTtpZih0Lmxlbmd0aCE9PWUpdGhyb3cgbmV3IHIoXCJ0bHYuZGVjb2RlOiBsZW5ndGggYnl0ZXMgbm90IGNvbXBsZXRlXCIpO2lmKDA9PT10WzBdKXRocm93IG5ldyByKFwidGx2LmRlY29kZShsb25nKTogemVybyBsZWZ0bW9zdCBieXRlXCIpO2Zvcihjb25zdCBlIG9mIHQpcz1zPDw4fGU7aWYoaSs9ZSxzPDEyOCl0aHJvdyBuZXcgcihcInRsdi5kZWNvZGUobG9uZyk6IG5vdCBtaW5pbWFsIGVuY29kaW5nXCIpfWVsc2Ugcz1vO2NvbnN0IGE9bi5zdWJhcnJheShpLGkrcyk7aWYoYS5sZW5ndGghPT1zKXRocm93IG5ldyByKFwidGx2LmRlY29kZTogd3JvbmcgdmFsdWUgbGVuZ3RoXCIpO3JldHVybnt2OmEsbDpuLnN1YmFycmF5KGkrcyl9fX0sX2ludDp7ZW5jb2RlKHQpe2NvbnN0e0VycjpufT1lLkRFUjtpZih0PGMpdGhyb3cgbmV3IG4oXCJpbnRlZ2VyOiBuZWdhdGl2ZSBpbnRlZ2VycyBhcmUgbm90IGFsbG93ZWRcIik7bGV0IGk9ci5udW1iZXJUb0hleFVucGFkZGVkKHQpO2lmKDgmTnVtYmVyLnBhcnNlSW50KGlbMF0sMTYpJiYoaT1cIjAwXCIraSksMSZpLmxlbmd0aCl0aHJvdyBuZXcgbihcInVuZXhwZWN0ZWQgYXNzZXJ0aW9uXCIpO3JldHVybiBpfSxkZWNvZGUodCl7Y29uc3R7RXJyOm59PWUuREVSO2lmKDEyOCZ0WzBdKXRocm93IG5ldyBuKFwiSW52YWxpZCBzaWduYXR1cmUgaW50ZWdlcjogbmVnYXRpdmVcIik7aWYoMD09PXRbMF0mJiEoMTI4JnRbMV0pKXRocm93IG5ldyBuKFwiSW52YWxpZCBzaWduYXR1cmUgaW50ZWdlcjogdW5uZWNlc3NhcnkgbGVhZGluZyB6ZXJvXCIpO3JldHVybiBzKHQpfX0sdG9TaWcodCl7Y29uc3R7RXJyOm4sX2ludDppLF90bHY6b309ZS5ERVIscz1cInN0cmluZ1wiPT10eXBlb2YgdD9hKHQpOnQ7ci5hYnl0ZXMocyk7Y29uc3R7djpjLGw6ZH09by5kZWNvZGUoNDgscyk7aWYoZC5sZW5ndGgpdGhyb3cgbmV3IG4oXCJJbnZhbGlkIHNpZ25hdHVyZTogbGVmdCBieXRlcyBhZnRlciBwYXJzaW5nXCIpO2NvbnN0e3Y6bCxsOnV9PW8uZGVjb2RlKDIsYykse3Y6aCxsOmZ9PW8uZGVjb2RlKDIsdSk7aWYoZi5sZW5ndGgpdGhyb3cgbmV3IG4oXCJJbnZhbGlkIHNpZ25hdHVyZTogbGVmdCBieXRlcyBhZnRlciBwYXJzaW5nXCIpO3JldHVybntyOmkuZGVjb2RlKGwpLHM6aS5kZWNvZGUoaCl9fSxoZXhGcm9tU2lnKHQpe2NvbnN0e190bHY6bixfaW50OnJ9PWUuREVSLGk9YCR7bi5lbmNvZGUoMixyLmVuY29kZSh0LnIpKX0ke24uZW5jb2RlKDIsci5lbmNvZGUodC5zKSl9YDtyZXR1cm4gbi5lbmNvZGUoNDgsaSl9fTtjb25zdCBjPUJpZ0ludCgwKSxkPUJpZ0ludCgxKSxsPUJpZ0ludCgyKSx1PUJpZ0ludCgzKSxoPUJpZ0ludCg0KTtmdW5jdGlvbiBmKGUpe2NvbnN0IG89ZnVuY3Rpb24oZSl7Y29uc3Qgbj0oMCx0LnZhbGlkYXRlQmFzaWMpKGUpO3IudmFsaWRhdGVPYmplY3Qobix7YTpcImZpZWxkXCIsYjpcImZpZWxkXCJ9LHthbGxvd2VkUHJpdmF0ZUtleUxlbmd0aHM6XCJhcnJheVwiLHdyYXBQcml2YXRlS2V5OlwiYm9vbGVhblwiLGlzVG9yc2lvbkZyZWU6XCJmdW5jdGlvblwiLGNsZWFyQ29mYWN0b3I6XCJmdW5jdGlvblwiLGFsbG93SW5maW5pdHlQb2ludDpcImJvb2xlYW5cIixmcm9tQnl0ZXM6XCJmdW5jdGlvblwiLHRvQnl0ZXM6XCJmdW5jdGlvblwifSk7Y29uc3R7ZW5kbzppLEZwOm8sYTpzfT1uO2lmKGkpe2lmKCFvLmVxbChzLG8uWkVSTykpdGhyb3cgbmV3IEVycm9yKFwiRW5kb21vcnBoaXNtIGNhbiBvbmx5IGJlIGRlZmluZWQgZm9yIEtvYmxpdHogY3VydmVzIHRoYXQgaGF2ZSBhPTBcIik7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGl8fFwiYmlnaW50XCIhPXR5cGVvZiBpLmJldGF8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIGkuc3BsaXRTY2FsYXIpdGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgZW5kb21vcnBoaXNtIHdpdGggYmV0YTogYmlnaW50IGFuZCBzcGxpdFNjYWxhcjogZnVuY3Rpb25cIil9cmV0dXJuIE9iamVjdC5mcmVlemUoey4uLm59KX0oZSkse0ZwOnN9PW8sYT1uLkZpZWxkKG8ubixvLm5CaXRMZW5ndGgpLGw9by50b0J5dGVzfHwoKGUsdCxuKT0+e2NvbnN0IGk9dC50b0FmZmluZSgpO3JldHVybiByLmNvbmNhdEJ5dGVzKFVpbnQ4QXJyYXkuZnJvbShbNF0pLHMudG9CeXRlcyhpLngpLHMudG9CeXRlcyhpLnkpKX0pLGg9by5mcm9tQnl0ZXN8fChlPT57Y29uc3QgdD1lLnN1YmFycmF5KDEpO3JldHVybnt4OnMuZnJvbUJ5dGVzKHQuc3ViYXJyYXkoMCxzLkJZVEVTKSkseTpzLmZyb21CeXRlcyh0LnN1YmFycmF5KHMuQllURVMsMipzLkJZVEVTKSl9fSk7ZnVuY3Rpb24gZihlKXtjb25zdHthOnQsYjpufT1vLHI9cy5zcXIoZSksaT1zLm11bChyLGUpO3JldHVybiBzLmFkZChzLmFkZChpLHMubXVsKGUsdCkpLG4pfWlmKCFzLmVxbChzLnNxcihvLkd5KSxmKG8uR3gpKSl0aHJvdyBuZXcgRXJyb3IoXCJiYWQgZ2VuZXJhdG9yIHBvaW50OiBlcXVhdGlvbiBsZWZ0ICE9IHJpZ2h0XCIpO2Z1bmN0aW9uIHAoZSl7Y29uc3R7YWxsb3dlZFByaXZhdGVLZXlMZW5ndGhzOnQsbkJ5dGVMZW5ndGg6cyx3cmFwUHJpdmF0ZUtleTphLG46Y309bztpZih0JiZcImJpZ2ludFwiIT10eXBlb2YgZSl7aWYoci5pc0J5dGVzKGUpJiYoZT1yLmJ5dGVzVG9IZXgoZSkpLFwic3RyaW5nXCIhPXR5cGVvZiBlfHwhdC5pbmNsdWRlcyhlLmxlbmd0aCkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBrZXlcIik7ZT1lLnBhZFN0YXJ0KDIqcyxcIjBcIil9bGV0IGw7dHJ5e2w9XCJiaWdpbnRcIj09dHlwZW9mIGU/ZTpyLmJ5dGVzVG9OdW1iZXJCRSgoMCxpLmVuc3VyZUJ5dGVzKShcInByaXZhdGUga2V5XCIsZSxzKSl9Y2F0Y2godCl7dGhyb3cgbmV3IEVycm9yKGBwcml2YXRlIGtleSBtdXN0IGJlICR7c30gYnl0ZXMsIGhleCBvciBiaWdpbnQsIG5vdCAke3R5cGVvZiBlfWApfXJldHVybiBhJiYobD1uLm1vZChsLGMpKSxyLmFJblJhbmdlKFwicHJpdmF0ZSBrZXlcIixsLGQsYyksbH1mdW5jdGlvbiBtKGUpe2lmKCEoZSBpbnN0YW5jZW9mIHYpKXRocm93IG5ldyBFcnJvcihcIlByb2plY3RpdmVQb2ludCBleHBlY3RlZFwiKX1jb25zdCBnPSgwLGkubWVtb2l6ZWQpKCgoZSx0KT0+e2NvbnN0e3B4Om4scHk6cixwejppfT1lO2lmKHMuZXFsKGkscy5PTkUpKXJldHVybnt4Om4seTpyfTtjb25zdCBvPWUuaXMwKCk7bnVsbD09dCYmKHQ9bz9zLk9ORTpzLmludihpKSk7Y29uc3QgYT1zLm11bChuLHQpLGM9cy5tdWwocix0KSxkPXMubXVsKGksdCk7aWYobylyZXR1cm57eDpzLlpFUk8seTpzLlpFUk99O2lmKCFzLmVxbChkLHMuT05FKSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZaIHdhcyBpbnZhbGlkXCIpO3JldHVybnt4OmEseTpjfX0pKSx5PSgwLGkubWVtb2l6ZWQpKChlPT57aWYoZS5pczAoKSl7aWYoby5hbGxvd0luZmluaXR5UG9pbnQmJiFzLmlzMChlLnB5KSlyZXR1cm47dGhyb3cgbmV3IEVycm9yKFwiYmFkIHBvaW50OiBaRVJPXCIpfWNvbnN0e3g6dCx5Om59PWUudG9BZmZpbmUoKTtpZighcy5pc1ZhbGlkKHQpfHwhcy5pc1ZhbGlkKG4pKXRocm93IG5ldyBFcnJvcihcImJhZCBwb2ludDogeCBvciB5IG5vdCBGRVwiKTtjb25zdCByPXMuc3FyKG4pLGk9Zih0KTtpZighcy5lcWwocixpKSl0aHJvdyBuZXcgRXJyb3IoXCJiYWQgcG9pbnQ6IGVxdWF0aW9uIGxlZnQgIT0gcmlnaHRcIik7aWYoIWUuaXNUb3JzaW9uRnJlZSgpKXRocm93IG5ldyBFcnJvcihcImJhZCBwb2ludDogbm90IGluIHByaW1lLW9yZGVyIHN1Ymdyb3VwXCIpO3JldHVybiEwfSkpO2NsYXNzIHZ7Y29uc3RydWN0b3IoZSx0LG4pe2lmKHRoaXMucHg9ZSx0aGlzLnB5PXQsdGhpcy5wej1uLG51bGw9PWV8fCFzLmlzVmFsaWQoZSkpdGhyb3cgbmV3IEVycm9yKFwieCByZXF1aXJlZFwiKTtpZihudWxsPT10fHwhcy5pc1ZhbGlkKHQpKXRocm93IG5ldyBFcnJvcihcInkgcmVxdWlyZWRcIik7aWYobnVsbD09bnx8IXMuaXNWYWxpZChuKSl0aHJvdyBuZXcgRXJyb3IoXCJ6IHJlcXVpcmVkXCIpO09iamVjdC5mcmVlemUodGhpcyl9c3RhdGljIGZyb21BZmZpbmUoZSl7Y29uc3R7eDp0LHk6bn09ZXx8e307aWYoIWV8fCFzLmlzVmFsaWQodCl8fCFzLmlzVmFsaWQobikpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBhZmZpbmUgcG9pbnRcIik7aWYoZSBpbnN0YW5jZW9mIHYpdGhyb3cgbmV3IEVycm9yKFwicHJvamVjdGl2ZSBwb2ludCBub3QgYWxsb3dlZFwiKTtjb25zdCByPWU9PnMuZXFsKGUscy5aRVJPKTtyZXR1cm4gcih0KSYmcihuKT92LlpFUk86bmV3IHYodCxuLHMuT05FKX1nZXQgeCgpe3JldHVybiB0aGlzLnRvQWZmaW5lKCkueH1nZXQgeSgpe3JldHVybiB0aGlzLnRvQWZmaW5lKCkueX1zdGF0aWMgbm9ybWFsaXplWihlKXtjb25zdCB0PXMuaW52ZXJ0QmF0Y2goZS5tYXAoKGU9PmUucHopKSk7cmV0dXJuIGUubWFwKCgoZSxuKT0+ZS50b0FmZmluZSh0W25dKSkpLm1hcCh2LmZyb21BZmZpbmUpfXN0YXRpYyBmcm9tSGV4KGUpe2NvbnN0IHQ9di5mcm9tQWZmaW5lKGgoKDAsaS5lbnN1cmVCeXRlcykoXCJwb2ludEhleFwiLGUpKSk7cmV0dXJuIHQuYXNzZXJ0VmFsaWRpdHkoKSx0fXN0YXRpYyBmcm9tUHJpdmF0ZUtleShlKXtyZXR1cm4gdi5CQVNFLm11bHRpcGx5KHAoZSkpfXN0YXRpYyBtc20oZSxuKXtyZXR1cm4oMCx0LnBpcHBlbmdlcikodixhLGUsbil9X3NldFdpbmRvd1NpemUoZSl7Yi5zZXRXaW5kb3dTaXplKHRoaXMsZSl9YXNzZXJ0VmFsaWRpdHkoKXt5KHRoaXMpfWhhc0V2ZW5ZKCl7Y29uc3R7eTplfT10aGlzLnRvQWZmaW5lKCk7aWYocy5pc09kZClyZXR1cm4hcy5pc09kZChlKTt0aHJvdyBuZXcgRXJyb3IoXCJGaWVsZCBkb2Vzbid0IHN1cHBvcnQgaXNPZGRcIil9ZXF1YWxzKGUpe20oZSk7Y29uc3R7cHg6dCxweTpuLHB6OnJ9PXRoaXMse3B4OmkscHk6byxwejphfT1lLGM9cy5lcWwocy5tdWwodCxhKSxzLm11bChpLHIpKSxkPXMuZXFsKHMubXVsKG4sYSkscy5tdWwobyxyKSk7cmV0dXJuIGMmJmR9bmVnYXRlKCl7cmV0dXJuIG5ldyB2KHRoaXMucHgscy5uZWcodGhpcy5weSksdGhpcy5weil9ZG91YmxlKCl7Y29uc3R7YTplLGI6dH09byxuPXMubXVsKHQsdSkse3B4OnIscHk6aSxwejphfT10aGlzO2xldCBjPXMuWkVSTyxkPXMuWkVSTyxsPXMuWkVSTyxoPXMubXVsKHIsciksZj1zLm11bChpLGkpLHA9cy5tdWwoYSxhKSxtPXMubXVsKHIsaSk7cmV0dXJuIG09cy5hZGQobSxtKSxsPXMubXVsKHIsYSksbD1zLmFkZChsLGwpLGM9cy5tdWwoZSxsKSxkPXMubXVsKG4scCksZD1zLmFkZChjLGQpLGM9cy5zdWIoZixkKSxkPXMuYWRkKGYsZCksZD1zLm11bChjLGQpLGM9cy5tdWwobSxjKSxsPXMubXVsKG4sbCkscD1zLm11bChlLHApLG09cy5zdWIoaCxwKSxtPXMubXVsKGUsbSksbT1zLmFkZChtLGwpLGw9cy5hZGQoaCxoKSxoPXMuYWRkKGwsaCksaD1zLmFkZChoLHApLGg9cy5tdWwoaCxtKSxkPXMuYWRkKGQsaCkscD1zLm11bChpLGEpLHA9cy5hZGQocCxwKSxoPXMubXVsKHAsbSksYz1zLnN1YihjLGgpLGw9cy5tdWwocCxmKSxsPXMuYWRkKGwsbCksbD1zLmFkZChsLGwpLG5ldyB2KGMsZCxsKX1hZGQoZSl7bShlKTtjb25zdHtweDp0LHB5Om4scHo6cn09dGhpcyx7cHg6aSxweTphLHB6OmN9PWU7bGV0IGQ9cy5aRVJPLGw9cy5aRVJPLGg9cy5aRVJPO2NvbnN0IGY9by5hLHA9cy5tdWwoby5iLHUpO2xldCBnPXMubXVsKHQsaSkseT1zLm11bChuLGEpLEU9cy5tdWwocixjKSxiPXMuYWRkKHQsbiksdz1zLmFkZChpLGEpO2I9cy5tdWwoYix3KSx3PXMuYWRkKGcseSksYj1zLnN1YihiLHcpLHc9cy5hZGQodCxyKTtsZXQgUz1zLmFkZChpLGMpO3JldHVybiB3PXMubXVsKHcsUyksUz1zLmFkZChnLEUpLHc9cy5zdWIodyxTKSxTPXMuYWRkKG4sciksZD1zLmFkZChhLGMpLFM9cy5tdWwoUyxkKSxkPXMuYWRkKHksRSksUz1zLnN1YihTLGQpLGg9cy5tdWwoZix3KSxkPXMubXVsKHAsRSksaD1zLmFkZChkLGgpLGQ9cy5zdWIoeSxoKSxoPXMuYWRkKHksaCksbD1zLm11bChkLGgpLHk9cy5hZGQoZyxnKSx5PXMuYWRkKHksZyksRT1zLm11bChmLEUpLHc9cy5tdWwocCx3KSx5PXMuYWRkKHksRSksRT1zLnN1YihnLEUpLEU9cy5tdWwoZixFKSx3PXMuYWRkKHcsRSksZz1zLm11bCh5LHcpLGw9cy5hZGQobCxnKSxnPXMubXVsKFMsdyksZD1zLm11bChiLGQpLGQ9cy5zdWIoZCxnKSxnPXMubXVsKGIseSksaD1zLm11bChTLGgpLGg9cy5hZGQoaCxnKSxuZXcgdihkLGwsaCl9c3VidHJhY3QoZSl7cmV0dXJuIHRoaXMuYWRkKGUubmVnYXRlKCkpfWlzMCgpe3JldHVybiB0aGlzLmVxdWFscyh2LlpFUk8pfXdOQUYoZSl7cmV0dXJuIGIud05BRkNhY2hlZCh0aGlzLGUsdi5ub3JtYWxpemVaKX1tdWx0aXBseVVuc2FmZShlKXtyLmFJblJhbmdlKFwic2NhbGFyXCIsZSxjLG8ubik7Y29uc3QgdD12LlpFUk87aWYoZT09PWMpcmV0dXJuIHQ7aWYoZT09PWQpcmV0dXJuIHRoaXM7Y29uc3R7ZW5kbzpufT1vO2lmKCFuKXJldHVybiBiLnVuc2FmZUxhZGRlcih0aGlzLGUpO2xldHtrMW5lZzppLGsxOmEsazJuZWc6bCxrMjp1fT1uLnNwbGl0U2NhbGFyKGUpLGg9dCxmPXQscD10aGlzO2Zvcig7YT5jfHx1PmM7KWEmZCYmKGg9aC5hZGQocCkpLHUmZCYmKGY9Zi5hZGQocCkpLHA9cC5kb3VibGUoKSxhPj49ZCx1Pj49ZDtyZXR1cm4gaSYmKGg9aC5uZWdhdGUoKSksbCYmKGY9Zi5uZWdhdGUoKSksZj1uZXcgdihzLm11bChmLnB4LG4uYmV0YSksZi5weSxmLnB6KSxoLmFkZChmKX1tdWx0aXBseShlKXtjb25zdHtlbmRvOnQsbjpufT1vO2xldCBpLGE7aWYoci5hSW5SYW5nZShcInNjYWxhclwiLGUsZCxuKSx0KXtjb25zdHtrMW5lZzpuLGsxOnIsazJuZWc6byxrMjpjfT10LnNwbGl0U2NhbGFyKGUpO2xldHtwOmQsZjpsfT10aGlzLndOQUYocikse3A6dSxmOmh9PXRoaXMud05BRihjKTtkPWIuY29uc3RUaW1lTmVnYXRlKG4sZCksdT1iLmNvbnN0VGltZU5lZ2F0ZShvLHUpLHU9bmV3IHYocy5tdWwodS5weCx0LmJldGEpLHUucHksdS5weiksaT1kLmFkZCh1KSxhPWwuYWRkKGgpfWVsc2V7Y29uc3R7cDp0LGY6bn09dGhpcy53TkFGKGUpO2k9dCxhPW59cmV0dXJuIHYubm9ybWFsaXplWihbaSxhXSlbMF19bXVsdGlwbHlBbmRBZGRVbnNhZmUoZSx0LG4pe2NvbnN0IHI9di5CQVNFLGk9KGUsdCk9PnQhPT1jJiZ0IT09ZCYmZS5lcXVhbHMocik/ZS5tdWx0aXBseSh0KTplLm11bHRpcGx5VW5zYWZlKHQpLG89aSh0aGlzLHQpLmFkZChpKGUsbikpO3JldHVybiBvLmlzMCgpP3ZvaWQgMDpvfXRvQWZmaW5lKGUpe3JldHVybiBnKHRoaXMsZSl9aXNUb3JzaW9uRnJlZSgpe2NvbnN0e2g6ZSxpc1RvcnNpb25GcmVlOnR9PW87aWYoZT09PWQpcmV0dXJuITA7aWYodClyZXR1cm4gdCh2LHRoaXMpO3Rocm93IG5ldyBFcnJvcihcImlzVG9yc2lvbkZyZWUoKSBoYXMgbm90IGJlZW4gZGVjbGFyZWQgZm9yIHRoZSBlbGxpcHRpYyBjdXJ2ZVwiKX1jbGVhckNvZmFjdG9yKCl7Y29uc3R7aDplLGNsZWFyQ29mYWN0b3I6dH09bztyZXR1cm4gZT09PWQ/dGhpczp0P3Qodix0aGlzKTp0aGlzLm11bHRpcGx5VW5zYWZlKG8uaCl9dG9SYXdCeXRlcyhlPSEwKXtyZXR1cm4oMCxpLmFib29sKShcImlzQ29tcHJlc3NlZFwiLGUpLHRoaXMuYXNzZXJ0VmFsaWRpdHkoKSxsKHYsdGhpcyxlKX10b0hleChlPSEwKXtyZXR1cm4oMCxpLmFib29sKShcImlzQ29tcHJlc3NlZFwiLGUpLHIuYnl0ZXNUb0hleCh0aGlzLnRvUmF3Qnl0ZXMoZSkpfX12LkJBU0U9bmV3IHYoby5HeCxvLkd5LHMuT05FKSx2LlpFUk89bmV3IHYocy5aRVJPLHMuT05FLHMuWkVSTyk7Y29uc3QgRT1vLm5CaXRMZW5ndGgsYj0oMCx0LndOQUYpKHYsby5lbmRvP01hdGguY2VpbChFLzIpOkUpO3JldHVybntDVVJWRTpvLFByb2plY3RpdmVQb2ludDp2LG5vcm1Qcml2YXRlS2V5VG9TY2FsYXI6cCx3ZWllcnN0cmFzc0VxdWF0aW9uOmYsaXNXaXRoaW5DdXJ2ZU9yZGVyOmZ1bmN0aW9uKGUpe3JldHVybiByLmluUmFuZ2UoZSxkLG8ubil9fX1mdW5jdGlvbiBwKGUsdCl7Y29uc3Qgbj1lLk9SREVSO2xldCByPWM7Zm9yKGxldCBlPW4tZDtlJWw9PT1jO2UvPWwpcis9ZDtjb25zdCBpPXIsbz1sPDxpLWQtZCxzPW8qbCxhPShuLWQpL3MsZj0oYS1kKS9sLHA9cy1kLG09byxnPWUucG93KHQsYSkseT1lLnBvdyh0LChhK2QpL2wpO2xldCB2PSh0LG4pPT57bGV0IHI9ZyxvPWUucG93KG4scCkscz1lLnNxcihvKTtzPWUubXVsKHMsbik7bGV0IGE9ZS5tdWwodCxzKTthPWUucG93KGEsZiksYT1lLm11bChhLG8pLG89ZS5tdWwoYSxuKSxzPWUubXVsKGEsdCk7bGV0IGM9ZS5tdWwocyxvKTthPWUucG93KGMsbSk7bGV0IHU9ZS5lcWwoYSxlLk9ORSk7bz1lLm11bChzLHkpLGE9ZS5tdWwoYyxyKSxzPWUuY21vdihvLHMsdSksYz1lLmNtb3YoYSxjLHUpO2ZvcihsZXQgdD1pO3Q+ZDt0LS0pe2xldCBuPXQtbDtuPWw8PG4tZDtsZXQgaT1lLnBvdyhjLG4pO2NvbnN0IGE9ZS5lcWwoaSxlLk9ORSk7bz1lLm11bChzLHIpLHI9ZS5tdWwocixyKSxpPWUubXVsKGMscikscz1lLmNtb3YobyxzLGEpLGM9ZS5jbW92KGksYyxhKX1yZXR1cm57aXNWYWxpZDp1LHZhbHVlOnN9fTtpZihlLk9SREVSJWg9PT11KXtjb25zdCBuPShlLk9SREVSLXUpL2gscj1lLnNxcnQoZS5uZWcodCkpO3Y9KHQsaSk9PntsZXQgbz1lLnNxcihpKTtjb25zdCBzPWUubXVsKHQsaSk7bz1lLm11bChvLHMpO2xldCBhPWUucG93KG8sbik7YT1lLm11bChhLHMpO2NvbnN0IGM9ZS5tdWwoYSxyKSxkPWUubXVsKGUuc3FyKGEpLGkpLGw9ZS5lcWwoZCx0KTtyZXR1cm57aXNWYWxpZDpsLHZhbHVlOmUuY21vdihjLGEsbCl9fX1yZXR1cm4gdn19KHVuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZG4sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZG4uZ2V0SGFzaD1tbixkbi5jcmVhdGVDdXJ2ZT1mdW5jdGlvbihlLHQpe2NvbnN0IG49dD0+KDAscG4ud2VpZXJzdHJhc3MpKHsuLi5lLC4uLm1uKHQpfSk7cmV0dXJuIE9iamVjdC5mcmVlemUoey4uLm4odCksY3JlYXRlOm59KX07Y29uc3QgaG49bG4sZm49Vyxwbj11bjtmdW5jdGlvbiBtbihlKXtyZXR1cm57aGFzaDplLGhtYWM6KHQsLi4ubik9PigwLGhuLmhtYWMpKGUsdCwoMCxmbi5jb25jYXRCeXRlcykoLi4ubikpLHJhbmRvbUJ5dGVzOmZuLnJhbmRvbUJ5dGVzfX0hZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5lbmNvZGVUb0N1cnZlPWUuaGFzaFRvQ3VydmU9ZS5zY2hub3JyPWUuc2VjcDI1NmsxPXZvaWQgMDtjb25zdCB0PWVuLG49VyxyPWRuLGk9S3Qsbz1MZSxzPUJlLGE9dW4sYz1CaWdJbnQoXCIweGZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZlZmZmZmZjMmZcIiksZD1CaWdJbnQoXCIweGZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZlYmFhZWRjZTZhZjQ4YTAzYmJmZDI1ZThjZDAzNjQxNDFcIiksbD1CaWdJbnQoMSksdT1CaWdJbnQoMiksaD0oZSx0KT0+KGUrdC91KS90O2Z1bmN0aW9uIGYoZSl7Y29uc3QgdD1jLG49QmlnSW50KDMpLHI9QmlnSW50KDYpLGk9QmlnSW50KDExKSxzPUJpZ0ludCgyMiksYT1CaWdJbnQoMjMpLGQ9QmlnSW50KDQ0KSxsPUJpZ0ludCg4OCksaD1lKmUqZSV0LGY9aCpoKmUldCxtPSgwLG8ucG93MikoZixuLHQpKmYldCxnPSgwLG8ucG93MikobSxuLHQpKmYldCx5PSgwLG8ucG93MikoZyx1LHQpKmgldCx2PSgwLG8ucG93MikoeSxpLHQpKnkldCxFPSgwLG8ucG93MikodixzLHQpKnYldCxiPSgwLG8ucG93MikoRSxkLHQpKkUldCx3PSgwLG8ucG93MikoYixsLHQpKmIldCxTPSgwLG8ucG93MikodyxkLHQpKkUldCxfPSgwLG8ucG93MikoUyxuLHQpKmYldCxDPSgwLG8ucG93MikoXyxhLHQpKnYldCx4PSgwLG8ucG93MikoQyxyLHQpKmgldCxrPSgwLG8ucG93MikoeCx1LHQpO2lmKCFwLmVxbChwLnNxcihrKSxlKSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBzcXVhcmUgcm9vdFwiKTtyZXR1cm4ga31jb25zdCBwPSgwLG8uRmllbGQpKGMsdm9pZCAwLHZvaWQgMCx7c3FydDpmfSk7ZS5zZWNwMjU2azE9KDAsci5jcmVhdGVDdXJ2ZSkoe2E6QmlnSW50KDApLGI6QmlnSW50KDcpLEZwOnAsbjpkLEd4OkJpZ0ludChcIjU1MDY2MjYzMDIyMjc3MzQzNjY5NTc4NzE4ODk1MTY4NTM0MzI2MjUwNjAzNDUzNzc3NTk0MTc1NTAwMTg3MzYwMzg5MTE2NzI5MjQwXCIpLEd5OkJpZ0ludChcIjMyNjcwNTEwMDIwNzU4ODE2OTc4MDgzMDg1MTMwNTA3MDQzMTg0NDcxMjczMzgwNjU5MjQzMjc1OTM4OTA0MzM1NzU3MzM3NDgyNDI0XCIpLGg6QmlnSW50KDEpLGxvd1M6ITAsZW5kbzp7YmV0YTpCaWdJbnQoXCIweDdhZTk2YTJiNjU3YzA3MTA2ZTY0NDc5ZWFjMzQzNGU5OWNmMDQ5NzUxMmY1ODk5NWMxMzk2YzI4NzE5NTAxZWVcIiksc3BsaXRTY2FsYXI6ZT0+e2NvbnN0IHQ9ZCxuPUJpZ0ludChcIjB4MzA4NmQyMjFhN2Q0NmJjZGU4NmM5MGU0OTI4NGViMTVcIikscj0tbCpCaWdJbnQoXCIweGU0NDM3ZWQ2MDEwZTg4Mjg2ZjU0N2ZhOTBhYmZlNGMzXCIpLGk9QmlnSW50KFwiMHgxMTRjYTUwZjdhOGUyZjNmNjU3YzExMDhkOWQ0NGNmZDhcIikscz1uLGE9QmlnSW50KFwiMHgxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDBcIiksYz1oKHMqZSx0KSx1PWgoLXIqZSx0KTtsZXQgZj0oMCxvLm1vZCkoZS1jKm4tdSppLHQpLHA9KDAsby5tb2QpKC1jKnItdSpzLHQpO2NvbnN0IG09Zj5hLGc9cD5hO2lmKG0mJihmPXQtZiksZyYmKHA9dC1wKSxmPmF8fHA+YSl0aHJvdyBuZXcgRXJyb3IoXCJzcGxpdFNjYWxhcjogRW5kb21vcnBoaXNtIGZhaWxlZCwgaz1cIitlKTtyZXR1cm57azFuZWc6bSxrMTpmLGsybmVnOmcsazI6cH19fX0sdC5zaGEyNTYpO2NvbnN0IG09QmlnSW50KDApLGc9e307ZnVuY3Rpb24geShlLC4uLm4pe2xldCByPWdbZV07aWYodm9pZCAwPT09cil7Y29uc3Qgbj0oMCx0LnNoYTI1NikoVWludDhBcnJheS5mcm9tKGUsKGU9PmUuY2hhckNvZGVBdCgwKSkpKTtyPSgwLHMuY29uY2F0Qnl0ZXMpKG4sbiksZ1tlXT1yfXJldHVybigwLHQuc2hhMjU2KSgoMCxzLmNvbmNhdEJ5dGVzKShyLC4uLm4pKX1jb25zdCB2PWU9PmUudG9SYXdCeXRlcyghMCkuc2xpY2UoMSksRT1lPT4oMCxzLm51bWJlclRvQnl0ZXNCRSkoZSwzMiksYj1lPT4oMCxvLm1vZCkoZSxjKSx3PWU9PigwLG8ubW9kKShlLGQpLFM9ZS5zZWNwMjU2azEuUHJvamVjdGl2ZVBvaW50LF89KGUsdCxuKT0+Uy5CQVNFLm11bHRpcGx5QW5kQWRkVW5zYWZlKGUsdCxuKTtmdW5jdGlvbiBDKHQpe2xldCBuPWUuc2VjcDI1NmsxLnV0aWxzLm5vcm1Qcml2YXRlS2V5VG9TY2FsYXIodCkscj1TLmZyb21Qcml2YXRlS2V5KG4pO3JldHVybntzY2FsYXI6ci5oYXNFdmVuWSgpP246dygtbiksYnl0ZXM6dihyKX19ZnVuY3Rpb24geChlKXsoMCxzLmFJblJhbmdlKShcInhcIixlLGwsYyk7Y29uc3QgdD1iKGUqZSk7bGV0IG49ZihiKHQqZStCaWdJbnQoNykpKTtuJXUhPT1tJiYobj1iKC1uKSk7Y29uc3Qgcj1uZXcgUyhlLG4sbCk7cmV0dXJuIHIuYXNzZXJ0VmFsaWRpdHkoKSxyfWNvbnN0IGs9cy5ieXRlc1RvTnVtYmVyQkU7ZnVuY3Rpb24gTSguLi5lKXtyZXR1cm4gdyhrKHkoXCJCSVAwMzQwL2NoYWxsZW5nZVwiLC4uLmUpKSl9ZnVuY3Rpb24gQShlKXtyZXR1cm4gQyhlKS5ieXRlc31mdW5jdGlvbiBUKGUsdCxyPSgwLG4ucmFuZG9tQnl0ZXMpKDMyKSl7Y29uc3QgaT0oMCxzLmVuc3VyZUJ5dGVzKShcIm1lc3NhZ2VcIixlKSx7Ynl0ZXM6byxzY2FsYXI6YX09Qyh0KSxjPSgwLHMuZW5zdXJlQnl0ZXMpKFwiYXV4UmFuZFwiLHIsMzIpLGQ9RShhXmsoeShcIkJJUDAzNDAvYXV4XCIsYykpKSxsPXkoXCJCSVAwMzQwL25vbmNlXCIsZCxvLGkpLHU9dyhrKGwpKTtpZih1PT09bSl0aHJvdyBuZXcgRXJyb3IoXCJzaWduIGZhaWxlZDogayBpcyB6ZXJvXCIpO2NvbnN0e2J5dGVzOmgsc2NhbGFyOmZ9PUModSkscD1NKGgsbyxpKSxnPW5ldyBVaW50OEFycmF5KDY0KTtpZihnLnNldChoLDApLGcuc2V0KEUodyhmK3AqYSkpLDMyKSwhSShnLGksbykpdGhyb3cgbmV3IEVycm9yKFwic2lnbjogSW52YWxpZCBzaWduYXR1cmUgcHJvZHVjZWRcIik7cmV0dXJuIGd9ZnVuY3Rpb24gSShlLHQsbil7Y29uc3Qgcj0oMCxzLmVuc3VyZUJ5dGVzKShcInNpZ25hdHVyZVwiLGUsNjQpLGk9KDAscy5lbnN1cmVCeXRlcykoXCJtZXNzYWdlXCIsdCksbz0oMCxzLmVuc3VyZUJ5dGVzKShcInB1YmxpY0tleVwiLG4sMzIpO3RyeXtjb25zdCBlPXgoayhvKSksdD1rKHIuc3ViYXJyYXkoMCwzMikpO2lmKCEoMCxzLmluUmFuZ2UpKHQsbCxjKSlyZXR1cm4hMTtjb25zdCBuPWsoci5zdWJhcnJheSgzMiw2NCkpO2lmKCEoMCxzLmluUmFuZ2UpKG4sbCxkKSlyZXR1cm4hMTtjb25zdCBhPU0oRSh0KSx2KGUpLGkpLHU9XyhlLG4sdygtYSkpO3JldHVybiEoIXV8fCF1Lmhhc0V2ZW5ZKCl8fHUudG9BZmZpbmUoKS54IT09dCl9Y2F0Y2goZSl7cmV0dXJuITF9fWUuc2Nobm9ycj17Z2V0UHVibGljS2V5OkEsc2lnbjpULHZlcmlmeTpJLHV0aWxzOntyYW5kb21Qcml2YXRlS2V5OmUuc2VjcDI1NmsxLnV0aWxzLnJhbmRvbVByaXZhdGVLZXksbGlmdF94OngscG9pbnRUb0J5dGVzOnYsbnVtYmVyVG9CeXRlc0JFOnMubnVtYmVyVG9CeXRlc0JFLGJ5dGVzVG9OdW1iZXJCRTpzLmJ5dGVzVG9OdW1iZXJCRSx0YWdnZWRIYXNoOnksbW9kOm8ubW9kfX07Y29uc3QgUj0oKCk9PigwLGkuaXNvZ2VueU1hcCkocCxbW1wiMHg4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZTM4ZGFhYWFhOGM3XCIsXCIweDdkM2Q0YzgwYmMzMjFkNWI5ZjMxNWNlYTdmZDQ0YzVkNTk1ZDJmYzBiZjYzYjkyZGZmZjEwNDRmMTdjNjU4MVwiLFwiMHg1MzRjMzI4ZDIzZjIzNGU2ZTJhNDEzZGVjYTI1Y2FlY2U0NTA2MTQ0MDM3YzQwMzE0ZWNiZDBiNTNkOWRkMjYyXCIsXCIweDhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhlMzhkYWFhYWE4OGNcIl0sW1wiMHhkMzU3NzExOTNkOTQ5MThhOWNhMzRjY2JiN2I2NDBkZDg2Y2Q0MDk1NDJmODQ4N2Q5ZmU2Yjc0NTc4MWViNDliXCIsXCIweGVkYWRjNmY2NDM4M2RjMWRmN2M0YjJkNTFiNTQyMjU0MDZkMzZiNjQxZjVlNDFiYmM1MmE1NjYxMmE4YzZkMTRcIixcIjB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMVwiXSxbXCIweDRiZGExMmY2ODRiZGExMmY2ODRiZGExMmY2ODRiZGExMmY2ODRiZGExMmY2ODRiZGExMmY2ODRiOGUzOGUyM2NcIixcIjB4Yzc1ZTBjMzJkNWNiN2MwZmE5ZDBhNTRiMTJhMGE2ZDU2NDdhYjA0NmQ2ODZkYTZmZGZmYzkwZmMyMDFkNzFhM1wiLFwiMHgyOWE2MTk0NjkxZjkxYTczNzE1MjA5ZWY2NTEyZTU3NjcyMjgzMGEyMDFiZTIwMThhNzY1ZTg1YTllY2VlOTMxXCIsXCIweDJmNjg0YmRhMTJmNjg0YmRhMTJmNjg0YmRhMTJmNjg0YmRhMTJmNjg0YmRhMTJmNjg0YmRhMTJmMzhlMzhkODRcIl0sW1wiMHhmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZWZmZmZmOTNiXCIsXCIweDdhMDY1MzRiYjhiZGI0OWZkNWU5ZTY2MzI3MjJjMjk4OTQ2N2MxYmZjOGU4ZDk3OGRmYjQyNWQyNjg1YzI1NzNcIixcIjB4NjQ4NGFhNzE2NTQ1Y2EyY2YzYTcwYzNmYThmZTMzN2UwYTNkMjExNjJmMGQ2Mjk5YTdiZjgxOTJiZmQyYTc2ZlwiLFwiMHgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxXCJdXS5tYXAoKGU9PmUubWFwKChlPT5CaWdJbnQoZSkpKSkpKSkoKSxQPSgoKT0+KDAsYS5tYXBUb0N1cnZlU2ltcGxlU1dVKShwLHtBOkJpZ0ludChcIjB4M2Y4NzMxYWJkZDY2MWFkY2EwOGE1NTU4ZjBmNWQyNzJlOTUzZDM2M2NiNmYwZTVkNDA1NDQ3YzAxYTQ0NDUzM1wiKSxCOkJpZ0ludChcIjE3NzFcIiksWjpwLmNyZWF0ZShCaWdJbnQoXCItMTFcIikpfSkpKCksTz0oKCk9PigwLGkuY3JlYXRlSGFzaGVyKShlLnNlY3AyNTZrMS5Qcm9qZWN0aXZlUG9pbnQsKGU9Pntjb25zdHt4OnQseTpufT1QKHAuY3JlYXRlKGVbMF0pKTtyZXR1cm4gUih0LG4pfSkse0RTVDpcInNlY3AyNTZrMV9YTUQ6U0hBLTI1Nl9TU1dVX1JPX1wiLGVuY29kZURTVDpcInNlY3AyNTZrMV9YTUQ6U0hBLTI1Nl9TU1dVX05VX1wiLHA6cC5PUkRFUixtOjEsazoxMjgsZXhwYW5kOlwieG1kXCIsaGFzaDp0LnNoYTI1Nn0pKSgpO2UuaGFzaFRvQ3VydmU9Ty5oYXNoVG9DdXJ2ZSxlLmVuY29kZVRvQ3VydmU9Ty5lbmNvZGVUb0N1cnZlfShYdCk7dmFyIGduPXt9OyFmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLmRlY29kZUhleD1lLnJlbW92ZTB4PXZvaWQgMDt2YXIgdD1tO2UucmVtb3ZlMHg9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RhcnRzV2l0aChcIjB4XCIpfHxlLnN0YXJ0c1dpdGgoXCIwWFwiKT9lLnNsaWNlKDIpOmV9O2UuZGVjb2RlSGV4PWZ1bmN0aW9uKG4pe3JldHVybigwLHQuaGV4VG9CeXRlcykoKDAsZS5yZW1vdmUweCkobikpfX0oZ24pLGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuaGV4VG9QdWJsaWNLZXk9ZS5jb252ZXJ0UHVibGljS2V5Rm9ybWF0PWUuZ2V0U2hhcmVkUG9pbnQ9ZS5nZXRQdWJsaWNLZXk9ZS5pc1ZhbGlkUHJpdmF0ZUtleT1lLmdldFZhbGlkU2VjcmV0PXZvaWQgMDt2YXIgdD1SLG49TixyPVh0LGk9eCxvPWsscz1nbjtlLmdldFZhbGlkU2VjcmV0PWZ1bmN0aW9uKCl7dmFyIG47ZG97bj0oMCx0LnJhbmRvbUJ5dGVzKShvLlNFQ1JFVF9LRVlfTEVOR1RIKX13aGlsZSghKDAsZS5pc1ZhbGlkUHJpdmF0ZUtleSkobikpO3JldHVybiBufTtlLmlzVmFsaWRQcml2YXRlS2V5PWZ1bmN0aW9uKGUpe3JldHVybiBhKCgwLGkuZWxsaXB0aWNDdXJ2ZSkoKSwoZnVuY3Rpb24odCl7cmV0dXJuIHQudXRpbHMuaXNWYWxpZFByaXZhdGVLZXkoZSl9KSwoZnVuY3Rpb24oKXtyZXR1cm4hMH0pLChmdW5jdGlvbigpe3JldHVybiEwfSkpfTtlLmdldFB1YmxpY0tleT1mdW5jdGlvbihlKXtyZXR1cm4gYSgoMCxpLmVsbGlwdGljQ3VydmUpKCksKGZ1bmN0aW9uKHQpe3JldHVybiB0LmdldFB1YmxpY0tleShlKX0pLChmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRQdWJsaWNLZXkoZSl9KSwoZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0UHVibGljS2V5KGUpfSkpfTtlLmdldFNoYXJlZFBvaW50PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gYSgoMCxpLmVsbGlwdGljQ3VydmUpKCksKGZ1bmN0aW9uKHIpe3JldHVybiByLmdldFNoYXJlZFNlY3JldChlLHQsbil9KSwoZnVuY3Rpb24obil7cmV0dXJuIG4uZ2V0U2hhcmVkU2VjcmV0KGUsdCl9KSwoZnVuY3Rpb24obil7cmV0dXJuIGQobixlLHQpfSkpfTtlLmNvbnZlcnRQdWJsaWNLZXlGb3JtYXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYSgoMCxpLmVsbGlwdGljQ3VydmUpKCksKGZ1bmN0aW9uKG4pe3JldHVybiBuLmdldFNoYXJlZFNlY3JldChCaWdJbnQoMSksZSx0KX0pLChmdW5jdGlvbigpe3JldHVybiBlfSksKGZ1bmN0aW9uKCl7cmV0dXJuIGV9KSl9O2Z1bmN0aW9uIGEoZSx0LGksbyl7aWYoXCJzZWNwMjU2azFcIj09PWUpcmV0dXJuIHQoci5zZWNwMjU2azEpO2lmKFwieDI1NTE5XCI9PT1lKXJldHVybiBpKG4ueDI1NTE5KTtpZihcImVkMjU1MTlcIj09PWUpcmV0dXJuIG8obi5lZDI1NTE5KTt0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWRcIil9ZS5oZXhUb1B1YmxpY0tleT1mdW5jdGlvbihlKXt2YXIgdD0oMCxzLmRlY29kZUhleCkoZSk7cmV0dXJuIGEoKDAsaS5lbGxpcHRpY0N1cnZlKSgpLChmdW5jdGlvbigpe3JldHVybiBjKHQpfSksKGZ1bmN0aW9uKCl7cmV0dXJuIHR9KSwoZnVuY3Rpb24oKXtyZXR1cm4gdH0pKX07dmFyIGM9ZnVuY3Rpb24oZSl7aWYoZS5sZW5ndGg9PT1vLkVUSF9QVUJMSUNfS0VZX1NJWkUpe3ZhciB0PW5ldyBVaW50OEFycmF5KDErZS5sZW5ndGgpO3JldHVybiB0LnNldChbNF0pLHQuc2V0KGUsMSksdH1yZXR1cm4gZX0sZD1mdW5jdGlvbihlLHQsbil7dmFyIHI9ZS51dGlscy5nZXRFeHRlbmRlZFB1YmxpY0tleSh0KS5zY2FsYXI7cmV0dXJuIGUuRXh0ZW5kZWRQb2ludC5mcm9tSGV4KG4pLm11bHRpcGx5KHIpLnRvUmF3Qnl0ZXMoKX19KEkpO3ZhciB5bj17fSx2bj17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodm4sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdm4uaGtkZj12b2lkIDAsdm4uZXh0cmFjdD1Tbix2bi5leHBhbmQ9eG47Y29uc3QgRW49Qixibj1XLHduPWxuO2Z1bmN0aW9uIFNuKGUsdCxuKXtyZXR1cm4oMCxFbi5oYXNoKShlKSx2b2lkIDA9PT1uJiYobj1uZXcgVWludDhBcnJheShlLm91dHB1dExlbikpLCgwLHduLmhtYWMpKGUsKDAsYm4udG9CeXRlcykobiksKDAsYm4udG9CeXRlcykodCkpfWNvbnN0IF9uPW5ldyBVaW50OEFycmF5KFswXSksQ249bmV3IFVpbnQ4QXJyYXk7ZnVuY3Rpb24geG4oZSx0LG4scj0zMil7aWYoKDAsRW4uaGFzaCkoZSksKDAsRW4ubnVtYmVyKShyKSxyPjI1NSplLm91dHB1dExlbil0aHJvdyBuZXcgRXJyb3IoXCJMZW5ndGggc2hvdWxkIGJlIDw9IDI1NSpIYXNoTGVuXCIpO2NvbnN0IGk9TWF0aC5jZWlsKHIvZS5vdXRwdXRMZW4pO3ZvaWQgMD09PW4mJihuPUNuKTtjb25zdCBvPW5ldyBVaW50OEFycmF5KGkqZS5vdXRwdXRMZW4pLHM9d24uaG1hYy5jcmVhdGUoZSx0KSxhPXMuX2Nsb25lSW50bygpLGM9bmV3IFVpbnQ4QXJyYXkocy5vdXRwdXRMZW4pO2ZvcihsZXQgdD0wO3Q8aTt0KyspX25bMF09dCsxLGEudXBkYXRlKDA9PT10P0NuOmMpLnVwZGF0ZShuKS51cGRhdGUoX24pLmRpZ2VzdEludG8oYyksby5zZXQoYyxlLm91dHB1dExlbip0KSxzLl9jbG9uZUludG8oYSk7cmV0dXJuIHMuZGVzdHJveSgpLGEuZGVzdHJveSgpLGMuZmlsbCgwKSxfbi5maWxsKDApLG8uc2xpY2UoMCxyKX12bi5oa2RmPShlLHQsbixyLGkpPT54bihlLFNuKGUsdCxuKSxyLGkpLGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuZ2V0U2hhcmVkS2V5PWUuZGVyaXZlS2V5PXZvaWQgMDt2YXIgdD1tLG49dm4scj1lbjtlLmRlcml2ZUtleT1mdW5jdGlvbihlLHQsaSl7cmV0dXJuKDAsbi5oa2RmKShyLnNoYTI1NixlLHQsaSwzMil9O2UuZ2V0U2hhcmVkS2V5PWZ1bmN0aW9uKCl7Zm9yKHZhciBuPVtdLHI9MDtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKW5bcl09YXJndW1lbnRzW3JdO3JldHVybigwLGUuZGVyaXZlS2V5KSh0LmNvbmNhdEJ5dGVzLmFwcGx5KHZvaWQgMCxuKSl9fSh5bik7dmFyIGtuPXt9LE1uPXt9LEFuPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShBbixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxBbi5fY29tcGF0PXZvaWQgMDt2YXIgVG49bSxJbj1yO0FuLl9jb21wYXQ9ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9XCJhZXMtMjU2LWdjbVwiPT09ZXx8XCJjaGFjaGEyMC1wb2x5MTMwNVwiPT09ZSxvPWk/MTY6MCxzPWk/e2F1dGhUYWdMZW5ndGg6b306dm9pZCAwO3JldHVybntlbmNyeXB0OmZ1bmN0aW9uKG8pe3ZhciBhPSgwLEluLmNyZWF0ZUNpcGhlcml2KShlLHQsbixzKTtpJiZ2b2lkIDAhPT1yJiZhLnNldEFBRChyKTt2YXIgYz1hLnVwZGF0ZShvKSxkPWEuZmluYWwoKTtyZXR1cm4gaT8oMCxUbi5jb25jYXRCeXRlcykoYyxkLGEuZ2V0QXV0aFRhZygpKTooMCxUbi5jb25jYXRCeXRlcykoYyxkKX0sZGVjcnlwdDpmdW5jdGlvbihhKXt2YXIgYz1hLnN1YmFycmF5KDAsYS5sZW5ndGgtbyksZD1hLnN1YmFycmF5KGEubGVuZ3RoLW8pLGw9KDAsSW4uY3JlYXRlRGVjaXBoZXJpdikoZSx0LG4scyk7aSYmKHZvaWQgMCE9PXImJmwuc2V0QUFEKHIpLGwuc2V0QXV0aFRhZyhkKSk7dmFyIHU9bC51cGRhdGUoYyksaD1sLmZpbmFsKCk7cmV0dXJuKDAsVG4uY29uY2F0Qnl0ZXMpKHUsaCl9fX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KE1uLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLE1uLmFlczI1NmNiYz1Nbi5hZXMyNTZnY209dm9pZCAwO3ZhciBSbj1BbjtNbi5hZXMyNTZnY209ZnVuY3Rpb24oZSx0LG4pe3JldHVybigwLFJuLl9jb21wYXQpKFwiYWVzLTI1Ni1nY21cIixlLHQsbil9O01uLmFlczI1NmNiYz1mdW5jdGlvbihlLHQsbil7cmV0dXJuKDAsUm4uX2NvbXBhdCkoXCJhZXMtMjU2LWNiY1wiLGUsdCl9O3ZhciBQbj17fSxPbj17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoT24sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksT24uX2hjaGFjaGE9dm9pZCAwO09uLl9oY2hhY2hhPWZ1bmN0aW9uKGUsdCxuLHIpe2Zvcih2YXIgaT1lWzBdLG89ZVsxXSxzPWVbMl0sYT1lWzNdLGM9dFswXSxkPXRbMV0sbD10WzJdLHU9dFszXSxoPXRbNF0sZj10WzVdLHA9dFs2XSxtPXRbN10sZz1uWzBdLHk9blsxXSx2PW5bMl0sRT1uWzNdLGI9MDtiPDIwO2IrPTIpZz1ObihnXihpPWkrY3wwKSwxNiksYz1ObihjXihoPWgrZ3wwKSwxMiksZz1ObihnXihpPWkrY3wwKSw4KSxjPU5uKGNeKGg9aCtnfDApLDcpLHk9Tm4oeV4obz1vK2R8MCksMTYpLGQ9Tm4oZF4oZj1mK3l8MCksMTIpLHk9Tm4oeV4obz1vK2R8MCksOCksZD1ObihkXihmPWYreXwwKSw3KSx2PU5uKHZeKHM9cytsfDApLDE2KSxsPU5uKGxeKHA9cCt2fDApLDEyKSx2PU5uKHZeKHM9cytsfDApLDgpLGw9Tm4obF4ocD1wK3Z8MCksNyksRT1ObihFXihhPWErdXwwKSwxNiksdT1Obih1XihtPW0rRXwwKSwxMiksRT1ObihFXihhPWErdXwwKSw4KSx1PU5uKHVeKG09bStFfDApLDcpLEU9Tm4oRV4oaT1pK2R8MCksMTYpLGQ9Tm4oZF4ocD1wK0V8MCksMTIpLEU9Tm4oRV4oaT1pK2R8MCksOCksZD1ObihkXihwPXArRXwwKSw3KSxnPU5uKGdeKG89bytsfDApLDE2KSxsPU5uKGxeKG09bStnfDApLDEyKSxnPU5uKGdeKG89bytsfDApLDgpLGw9Tm4obF4obT1tK2d8MCksNykseT1Obih5XihzPXMrdXwwKSwxNiksdT1Obih1XihoPWgreXwwKSwxMikseT1Obih5XihzPXMrdXwwKSw4KSx1PU5uKHVeKGg9aCt5fDApLDcpLHY9Tm4odl4oYT1hK2N8MCksMTYpLGM9Tm4oY14oZj1mK3Z8MCksMTIpLHY9Tm4odl4oYT1hK2N8MCksOCksYz1ObihjXihmPWYrdnwwKSw3KTt2YXIgdz0wO3JbdysrXT1pLHJbdysrXT1vLHJbdysrXT1zLHJbdysrXT1hLHJbdysrXT1nLHJbdysrXT15LHJbdysrXT12LHJbdysrXT1FfTt2YXIgTm49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZTw8dHxlPj4+MzItdH07T2JqZWN0LmRlZmluZVByb3BlcnR5KFBuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLFBuLnhjaGFjaGEyMD12b2lkIDA7dmFyIERuPW0sTG49QW4sQm49T247UG4ueGNoYWNoYTIwPWZ1bmN0aW9uKGUsdCxuKXtpZigyNCE9PXQubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcInhjaGFjaGEyMCdzIG5vbmNlIG11c3QgYmUgMjQgYnl0ZXNcIik7dmFyIHI9bmV3IFVpbnQzMkFycmF5KFsxNjM0NzYwODA1LDg1Nzc2MDg3OCwyMDM2NDc3MjM0LDE3OTcyODUyMzZdKSxpPW5ldyBVaW50MzJBcnJheSg4KTsoMCxCbi5faGNoYWNoYSkociwoMCxEbi51MzIpKGUpLCgwLERuLnUzMikodC5zdWJhcnJheSgwLDE2KSksaSk7dmFyIG89bmV3IFVpbnQ4QXJyYXkoMTIpO3JldHVybiBvLnNldChbMCwwLDAsMF0pLG8uc2V0KHQuc3ViYXJyYXkoMTYpLDQpLCgwLExuLl9jb21wYXQpKFwiY2hhY2hhMjAtcG9seTEzMDVcIiwoMCxEbi51OCkoaSksbyxuKX0sZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5hZXNEZWNyeXB0PWUuYWVzRW5jcnlwdD1lLnN5bURlY3J5cHQ9ZS5zeW1FbmNyeXB0PXZvaWQgMDt2YXIgdD1tLG49UixyPU1uLGk9UG4sbz14LHM9aztlLnN5bUVuY3J5cHQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBhKGMsZSx0LG4pfTtmdW5jdGlvbiBhKGUsdCxuLGEpe3ZhciBjPSgwLG8uc3ltbWV0cmljQWxnb3JpdGhtKSgpO2lmKFwiYWVzLTI1Ni1nY21cIj09PWMpcmV0dXJuIGUoci5hZXMyNTZnY20sdCxuLCgwLG8uc3ltbWV0cmljTm9uY2VMZW5ndGgpKCkscy5BRUFEX1RBR19MRU5HVEgsYSk7aWYoXCJ4Y2hhY2hhMjBcIj09PWMpcmV0dXJuIGUoaS54Y2hhY2hhMjAsdCxuLHMuWENIQUNIQTIwX05PTkNFX0xFTkdUSCxzLkFFQURfVEFHX0xFTkdUSCxhKTtpZihcImFlcy0yNTYtY2JjXCI9PT1jKXJldHVybiBlKHIuYWVzMjU2Y2JjLHQsbiwxNiwwKTt0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWRcIil9ZnVuY3Rpb24gYyhlLHIsaSxvLHMsYSl7dmFyIGM9KDAsbi5yYW5kb21CeXRlcykobyksZD1lKHIsYyxhKS5lbmNyeXB0KGkpO2lmKDA9PT1zKXJldHVybigwLHQuY29uY2F0Qnl0ZXMpKGMsZCk7dmFyIGw9ZC5sZW5ndGgtcyx1PWQuc3ViYXJyYXkoMCxsKSxoPWQuc3ViYXJyYXkobCk7cmV0dXJuKDAsdC5jb25jYXRCeXRlcykoYyxoLHUpfWZ1bmN0aW9uIGQoZSxuLHIsaSxvLHMpe3ZhciBhPXIuc3ViYXJyYXkoMCxpKSxjPWUobixVaW50OEFycmF5LmZyb20oYSkscyksZD1yLnN1YmFycmF5KGkpO2lmKDA9PT1vKXJldHVybiBjLmRlY3J5cHQoZCk7dmFyIGw9ZC5zdWJhcnJheSgwLG8pLHU9ZC5zdWJhcnJheShvKTtyZXR1cm4gYy5kZWNyeXB0KCgwLHQuY29uY2F0Qnl0ZXMpKHUsbCkpfWUuc3ltRGVjcnlwdD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGEoZCxlLHQsbil9LGUuYWVzRW5jcnlwdD1lLnN5bUVuY3J5cHQsZS5hZXNEZWNyeXB0PWUuc3ltRGVjcnlwdH0oa24pLGZ1bmN0aW9uKGUpe3ZhciB0PWgmJmguX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihlLHQsbixyKXt2b2lkIDA9PT1yJiYocj1uKTt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsbik7aSYmIShcImdldFwiaW4gaT8hdC5fX2VzTW9kdWxlOmkud3JpdGFibGV8fGkuY29uZmlndXJhYmxlKXx8KGk9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRbbl19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUscixpKX06ZnVuY3Rpb24oZSx0LG4scil7dm9pZCAwPT09ciYmKHI9biksZVtyXT10W25dfSksbj1oJiZoLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oZSxuKXtmb3IodmFyIHIgaW4gZSlcImRlZmF1bHRcIj09PXJ8fE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpfHx0KG4sZSxyKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksbihJLGUpLG4oeW4sZSksbihnbixlKSxuKGtuLGUpfShUKTt2YXIgS249e307T2JqZWN0LmRlZmluZVByb3BlcnR5KEtuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLEtuLlB1YmxpY0tleT12b2lkIDA7dmFyIGpuPW0sJG49VCxIbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5kYXRhPSgwLCRuLmNvbnZlcnRQdWJsaWNLZXlGb3JtYXQpKGUsITApfXJldHVybiBlLmZyb21IZXg9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlKCgwLCRuLmhleFRvUHVibGljS2V5KSh0KSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInVuY29tcHJlc3NlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gQnVmZmVyLmZyb20oKDAsJG4uY29udmVydFB1YmxpY0tleUZvcm1hdCkodGhpcy5kYXRhLCExKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiY29tcHJlc3NlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gQnVmZmVyLmZyb20odGhpcy5kYXRhKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS50b0hleD1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9ITApLCgwLGpuLmJ5dGVzVG9IZXgpKGU/dGhpcy5kYXRhOnRoaXMudW5jb21wcmVzc2VkKX0sZS5wcm90b3R5cGUuZGVjYXBzdWxhdGU9ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT10JiYodD0hMSk7dmFyIG49dD90aGlzLmRhdGE6dGhpcy51bmNvbXByZXNzZWQscj1lLm11bHRpcGx5KHRoaXMsdCk7cmV0dXJuKDAsJG4uZ2V0U2hhcmVkS2V5KShuLHIpfSxlLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24oZSl7cmV0dXJuKDAsam4uZXF1YWxCeXRlcykodGhpcy5kYXRhLGUuZGF0YSl9LGV9KCk7S24uUHVibGljS2V5PUhuLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLEEuUHJpdmF0ZUtleT12b2lkIDA7dmFyIFVuPW0sRm49VCxxbj1Lbix6bj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7aWYodm9pZCAwPT09ZSl0aGlzLmRhdGE9KDAsRm4uZ2V0VmFsaWRTZWNyZXQpKCk7ZWxzZXtpZighKDAsRm4uaXNWYWxpZFByaXZhdGVLZXkpKGUpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcHJpdmF0ZSBrZXlcIik7dGhpcy5kYXRhPWV9dGhpcy5wdWJsaWNLZXk9bmV3IHFuLlB1YmxpY0tleSgoMCxGbi5nZXRQdWJsaWNLZXkpKHRoaXMuZGF0YSkpfXJldHVybiBlLmZyb21IZXg9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlKCgwLEZuLmRlY29kZUhleCkodCkpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJzZWNyZXRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEJ1ZmZlci5mcm9tKHRoaXMuZGF0YSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUudG9IZXg9ZnVuY3Rpb24oKXtyZXR1cm4oMCxVbi5ieXRlc1RvSGV4KSh0aGlzLmRhdGEpfSxlLnByb3RvdHlwZS5lbmNhcHN1bGF0ZT1mdW5jdGlvbihlLHQpe3ZvaWQgMD09PXQmJih0PSExKTt2YXIgbj10P3RoaXMucHVibGljS2V5LmNvbXByZXNzZWQ6dGhpcy5wdWJsaWNLZXkudW5jb21wcmVzc2VkLHI9dGhpcy5tdWx0aXBseShlLHQpO3JldHVybigwLEZuLmdldFNoYXJlZEtleSkobixyKX0sZS5wcm90b3R5cGUubXVsdGlwbHk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9ITEpLCgwLEZuLmdldFNoYXJlZFBvaW50KSh0aGlzLmRhdGEsZS5jb21wcmVzc2VkLHQpfSxlLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24oZSl7cmV0dXJuKDAsVW4uZXF1YWxCeXRlcykodGhpcy5kYXRhLGUuZGF0YSl9LGV9KCk7QS5Qcml2YXRlS2V5PXpuLGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuUHVibGljS2V5PWUuUHJpdmF0ZUtleT12b2lkIDA7dmFyIHQ9QTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIlByaXZhdGVLZXlcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5Qcml2YXRlS2V5fX0pO3ZhciBuPUtuO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiUHVibGljS2V5XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4uUHVibGljS2V5fX0pfShNKSxmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLnV0aWxzPWUuUHVibGljS2V5PWUuUHJpdmF0ZUtleT1lLkVDSUVTX0NPTkZJRz12b2lkIDAsZS5lbmNyeXB0PWZ1bmN0aW9uKGUsbyl7dmFyIHM9bmV3IHIuUHJpdmF0ZUtleSxhPWUgaW5zdGFuY2VvZiBVaW50OEFycmF5P25ldyByLlB1YmxpY0tleShlKTpyLlB1YmxpY0tleS5mcm9tSGV4KGUpLGM9cy5lbmNhcHN1bGF0ZShhLCgwLG4uaXNIa2RmS2V5Q29tcHJlc3NlZCkoKSksZD0oMCxuLmlzRXBoZW1lcmFsS2V5Q29tcHJlc3NlZCkoKT9zLnB1YmxpY0tleS5jb21wcmVzc2VkOnMucHVibGljS2V5LnVuY29tcHJlc3NlZCxsPSgwLGkuc3ltRW5jcnlwdCkoYyxvKTtyZXR1cm4gQnVmZmVyLmZyb20oKDAsdC5jb25jYXRCeXRlcykoZCxsKSl9LGUuZGVjcnlwdD1mdW5jdGlvbihlLHQpe3ZhciBvPWUgaW5zdGFuY2VvZiBVaW50OEFycmF5P25ldyByLlByaXZhdGVLZXkoZSk6ci5Qcml2YXRlS2V5LmZyb21IZXgoZSkscz0oMCxuLmVwaGVtZXJhbEtleVNpemUpKCksYT1uZXcgci5QdWJsaWNLZXkodC5zdWJhcnJheSgwLHMpKSxjPXQuc3ViYXJyYXkocyksZD1hLmRlY2Fwc3VsYXRlKG8sKDAsbi5pc0hrZGZLZXlDb21wcmVzc2VkKSgpKTtyZXR1cm4gQnVmZmVyLmZyb20oKDAsaS5zeW1EZWNyeXB0KShkLGMpKX07dmFyIHQ9bSxuPXgscj1NLGk9VDt2YXIgbz14O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiRUNJRVNfQ09ORklHXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG8uRUNJRVNfQ09ORklHfX0pO3ZhciBzPU07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJQcml2YXRlS2V5XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuUHJpdmF0ZUtleX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIlB1YmxpY0tleVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLlB1YmxpY0tleX19KSxlLnV0aWxzPXthZXNFbmNyeXB0OmkuYWVzRW5jcnlwdCxhZXNEZWNyeXB0OmkuYWVzRGVjcnlwdCxzeW1FbmNyeXB0Omkuc3ltRW5jcnlwdCxzeW1EZWNyeXB0Omkuc3ltRGVjcnlwdCxkZWNvZGVIZXg6aS5kZWNvZGVIZXgsZ2V0VmFsaWRTZWNyZXQ6aS5nZXRWYWxpZFNlY3JldCxyZW1vdmUweDppLnJlbW92ZTB4fX0ocCk7Y29uc3QgV249dChcIktleUV4Y2hhbmdlOkxheWVyXCIpLFZuPXQoXCJTb2NrZXRTZXJ2aWNlOkxheWVyXCIpLEduPXQoXCJFY2llczpMYXllclwiKSxZbj10KFwiUmVtb3RlQ29tbXVuaWNhdGlvbjpMYXllclwiKTtXbi5jb2xvcj1cIiMjOTVjNDRlXCIsVm4uY29sb3I9XCIjZjYzOGQ3XCIsR24uY29sb3I9XCIjNDY1YjljXCIsWW4uY29sb3I9XCIjNDdhMmJlXCI7Y29uc3QgWm49e0tleUV4Y2hhbmdlOlduLFNvY2tldFNlcnZpY2U6Vm4sRWNpZXM6R24sUmVtb3RlQ29tbXVuaWNhdGlvbjpZbn07bGV0IEpuLFFuPVtdLFhuPVtdO2NvbnN0IGVyPSh0LG4pPT51KHZvaWQgMCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtKbj1uLFhuLnB1c2godCksZnVuY3Rpb24odCl7cmV0dXJuIHUodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtpZighSm58fCF0KXJldHVybjshZnVuY3Rpb24oKXtjb25zdCBlPVhuO1huPVFuLFFuPWV9KCk7Y29uc3Qgbj1Kbi5lbmRzV2l0aChcIi9cIik/YCR7Sm59ZXZ0YDpgJHtKbn0vZXZ0YCxyPU9iamVjdC5hc3NpZ24oe30sdCk7aWYoZGVsZXRlIHIucGFyYW1zLHQucGFyYW1zKWZvcihjb25zdFtlLG5db2YgT2JqZWN0LmVudHJpZXModC5wYXJhbXMpKXJbZV09bjtjb25zdCBpPUpTT04uc3RyaW5naWZ5KHIpO1puLlJlbW90ZUNvbW11bmljYXRpb24oYFtzZW5kQnVmZmVyZWRFdmVudHNdIFNlbmRpbmcgJHtRbi5sZW5ndGh9IGFuYWx5dGljcyBldmVudHMgdG8gJHtufWApO3RyeXtjb25zdCB0PXlpZWxkIGUobix7bWV0aG9kOlwiUE9TVFwiLGhlYWRlcnM6e0FjY2VwdDpcImFwcGxpY2F0aW9uL2pzb25cIixcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifSxib2R5Oml9KSxyPXlpZWxkIHQudGV4dCgpO1puLlJlbW90ZUNvbW11bmljYXRpb24oYFtzZW5kQnVmZmVyZWRFdmVudHNdIFJlc3BvbnNlOiAke3J9YCksUW4ubGVuZ3RoPTB9Y2F0Y2gobil7fX0pKX0odCkuY2F0Y2goKCgpPT57fSkpfSkpO2NsYXNzIHRye2NvbnN0cnVjdG9yKGUpe3RoaXMuZW5hYmxlZD0hMCwobnVsbD09ZT92b2lkIDA6ZS5kZWJ1ZykmJnQuZW5hYmxlKFwiRWNpZXM6TGF5ZXJcIiksdGhpcy5lY2llcz0obnVsbD09ZT92b2lkIDA6ZS5wcml2YXRlS2V5KT9wLlByaXZhdGVLZXkuZnJvbUhleChlLnByaXZhdGVLZXkpOm5ldyBwLlByaXZhdGVLZXksWm4uRWNpZXMoXCJbRUNJRVMgY29uc3RydWN0b3IoKV0gaW5pdGlhbGl6ZWQgc2VjcmV0OiBcIix0aGlzLmVjaWVzLnRvSGV4KCkpLFpuLkVjaWVzKFwiW0VDSUVTIGNvbnN0cnVjdG9yKCldIGluaXRpYWxpemVkIHB1YmxpYzogXCIsdGhpcy5lY2llcy5wdWJsaWNLZXkudG9IZXgoKSksWm4uRWNpZXMoXCJbRUNJRVMgY29uc3RydWN0b3IoKV0gaW5pdCB3aXRoXCIsdGhpcyl9Z2VuZXJhdGVFQ0lFUygpe3RoaXMuZWNpZXM9bmV3IHAuUHJpdmF0ZUtleX1nZXRQdWJsaWNLZXkoKXtyZXR1cm4gdGhpcy5lY2llcy5wdWJsaWNLZXkudG9IZXgoKX1lbmNyeXB0KGUsdCl7bGV0IHI9ZTtpZih0aGlzLmVuYWJsZWQpdHJ5e1puLkVjaWVzKFwiW0VDSUVTOiBlbmNyeXB0KCldIHVzaW5nIG90aGVyUHVibGljS2V5XCIsdCk7Y29uc3QgaT1uLkJ1ZmZlci5mcm9tKGUpLG89cC5lbmNyeXB0KHQsaSk7cj1uLkJ1ZmZlci5mcm9tKG8pLnRvU3RyaW5nKFwiYmFzZTY0XCIpfWNhdGNoKHIpe3Rocm93IFpuLkVjaWVzKFwiW0VDSUVTOiBlbmNyeXB0KCldIGVycm9yIGVuY3J5cHQ6XCIsciksWm4uRWNpZXMoXCJbRUNJRVM6IGVuY3J5cHQoKV0gcHJpdmF0ZTogXCIsdGhpcy5lY2llcy50b0hleCgpKSxabi5FY2llcyhcIltFQ0lFUzogZW5jcnlwdCgpXSBkYXRhOiBcIixlKSxabi5FY2llcyhcIltFQ0lFUzogZW5jcnlwdCgpXSBvdGhlcmtleTogXCIsdCkscn1yZXR1cm4gcn1kZWNyeXB0KGUpe2xldCB0PWU7aWYodGhpcy5lbmFibGVkKXRyeXtabi5FY2llcyhcIltFQ0lFUzogZGVjcnlwdCgpXSB1c2luZyBwcml2YXRlS2V5XCIsdGhpcy5lY2llcy50b0hleCgpKTtjb25zdCByPW4uQnVmZmVyLmZyb20oZS50b1N0cmluZygpLFwiYmFzZTY0XCIpO3Q9cC5kZWNyeXB0KHRoaXMuZWNpZXMudG9IZXgoKSxyKS50b1N0cmluZygpfWNhdGNoKHQpe3Rocm93IFpuLkVjaWVzKFwiW0VDSUVTOiBkZWNyeXB0KCldIGVycm9yIGRlY3J5cHRcIix0KSxabi5FY2llcyhcIltFQ0lFUzogZGVjcnlwdCgpXSBwcml2YXRlOiBcIix0aGlzLmVjaWVzLnRvSGV4KCkpLFpuLkVjaWVzKFwiW0VDSUVTOiBkZWNyeXB0KCldIGVuY3J5cHRlZERhdGE6IFwiLGUpLHR9cmV0dXJuIHR9Z2V0S2V5SW5mbygpe3JldHVybntwcml2YXRlOnRoaXMuZWNpZXMudG9IZXgoKSxwdWJsaWM6dGhpcy5lY2llcy5wdWJsaWNLZXkudG9IZXgoKX19dG9TdHJpbmcoKXtabi5FY2llcyhcIltFQ0lFUzogdG9TdHJpbmcoKV1cIix0aGlzLmdldEtleUluZm8oKSl9fXZhciBucj17bmFtZTpcIkBtZXRhbWFzay9zZGstY29tbXVuaWNhdGlvbi1sYXllclwiLHZlcnNpb246XCIwLjMzLjFcIixkZXNjcmlwdGlvbjpcIlwiLGhvbWVwYWdlOlwiaHR0cHM6Ly9naXRodWIuY29tL01ldGFNYXNrL21ldGFtYXNrLXNkayNyZWFkbWVcIixidWdzOnt1cmw6XCJodHRwczovL2dpdGh1Yi5jb20vTWV0YU1hc2svbWV0YW1hc2stc2RrL2lzc3Vlc1wifSxyZXBvc2l0b3J5Ont0eXBlOlwiZ2l0XCIsdXJsOlwiaHR0cHM6Ly9naXRodWIuY29tL01ldGFNYXNrL21ldGFtYXNrLXNkay5naXRcIixkaXJlY3Rvcnk6XCJwYWNrYWdlcy9zZGstY29tbXVuaWNhdGlvbi1sYXllclwifSxtYWluOlwiZGlzdC9ub2RlL2Nqcy9tZXRhbWFzay1zZGstY29tbXVuaWNhdGlvbi1sYXllci5qc1wiLHVucGtnOlwiZGlzdC9icm93c2VyL3VtZC9tZXRhbWFzay1zZGstY29tbXVuaWNhdGlvbi1sYXllci5qc1wiLG1vZHVsZTpcImRpc3Qvbm9kZS9lcy9tZXRhbWFzay1zZGstY29tbXVuaWNhdGlvbi1sYXllci5qc1wiLGJyb3dzZXI6XCJkaXN0L2Jyb3dzZXIvZXMvbWV0YW1hc2stc2RrLWNvbW11bmljYXRpb24tbGF5ZXIuanNcIixcInJlYWN0LW5hdGl2ZVwiOlwiZGlzdC9yZWFjdC1uYXRpdmUvZXMvbWV0YW1hc2stc2RrLWNvbW11bmljYXRpb24tbGF5ZXIuanNcIix0eXBlczpcImRpc3QvdHlwZXMvc3JjL2luZGV4LmQudHNcIixmaWxlczpbXCIvZGlzdFwiXSxzY3JpcHRzOntcImJ1aWxkOnR5cGVzXCI6XCJ0c2MgLS1wcm9qZWN0IHRzY29uZmlnLmJ1aWxkLmpzb24gLS1lbWl0RGVjbGFyYXRpb25Pbmx5IC0tb3V0RGlyIGRpc3QvdHlwZXNcIixcImJ1aWxkOmNsZWFuXCI6XCJ5YXJuIGNsZWFuICYmIHlhcm4gYnVpbGRcIixidWlsZDpcInlhcm4gYnVpbGQ6dHlwZXMgJiYgcm9sbHVwIC1jIC0tYnVuZGxlQ29uZmlnQXNDanNcIixcImJ1aWxkOmRldlwiOlwieWFybiBidWlsZDp0eXBlcyAmJiBOT0RFX0VOVj1kZXYgcm9sbHVwIC1jIC0tYnVuZGxlQ29uZmlnQXNDanNcIixkZXY6J2NvbmN1cnJlbnRseSBcInRzYyAtLXdhdGNoXCIgXCJyb2xsdXAgLWMgLS1idW5kbGVDb25maWdBc0NqcyAtd1wiJyxcImJ1aWxkOnBvc3QtdHNjXCI6XCJlY2hvICdOL0EnXCIsXCJidWlsZDpwcmUtdHNjXCI6XCJlY2hvICdOL0EnXCIsc2l6ZTpcInNpemUtbGltaXRcIixjbGVhbjpcInJpbXJhZiAuL2Rpc3RcIixsaW50OlwieWFybiBsaW50OmVzbGludCAmJiB5YXJuIGxpbnQ6bWlzYyAtLWNoZWNrXCIsXCJsaW50OmNoYW5nZWxvZ1wiOlwiLi4vLi4vc2NyaXB0cy92YWxpZGF0ZS1jaGFuZ2Vsb2cuc2ggQG1ldGFtYXNrL3Nkay1jb21tdW5pY2F0aW9uLWxheWVyXCIsXCJsaW50OmVzbGludFwiOlwiZXNsaW50IC4gLS1jYWNoZSAtLWV4dCBqcyx0c1wiLFwibGludDpmaXhcIjpcInlhcm4gbGludDplc2xpbnQgLS1maXggJiYgeWFybiBsaW50Om1pc2MgLS13cml0ZVwiLFwibGludDptaXNjXCI6XCJwcmV0dGllciAnKiovKi5qc29uJyAnKiovKi5tZCcgJyFDSEFOR0VMT0cubWQnIC0taWdub3JlLXBhdGggLi4vLi4vLmdpdGlnbm9yZVwiLFwicHVibGlzaDpwcmV2aWV3XCI6XCJ5YXJuIG5wbSBwdWJsaXNoIC0tdGFnIHByZXZpZXdcIixwcmVwYWNrOlwiLi4vLi4vc2NyaXB0cy9wcmVwYWNrLnNoXCIscmVzZXQ6XCJ5YXJuIGNsZWFuICYmIHJpbXJhZiAuL25vZGVfbW9kdWxlcy9cIix0ZXN0OidqZXN0IC0tdGVzdFBhdGhJZ25vcmVQYXR0ZXJucyBcIi9lMmUvXCInLFwidGVzdDplMmVcIjonamVzdCAtLXRlc3RQYXRoUGF0dGVybiBcIi9lMmUvXCInLFwidGVzdDpjb3ZlcmFnZVwiOlwiamVzdCAtLWNvdmVyYWdlXCIsXCJ0ZXN0OmNpXCI6J2plc3QgLS1jb3ZlcmFnZSAtLXBhc3NXaXRoTm9UZXN0cyAtLXNldHVwRmlsZXNBZnRlckVudiAuL2plc3QtcHJlbG9hZC5qcyAtLXRlc3RQYXRoSWdub3JlUGF0dGVybnMgXCIvZTJlL1wiJyxcInRlc3Q6ZGV2XCI6XCJqZXN0XCIsd2F0Y2g6XCJyb2xsdXAgLWMgLS1idW5kbGVDb25maWdBc0NqcyAtd1wifSxkZXBlbmRlbmNpZXM6e1wiQG1ldGFtYXNrL3Nkay1hbmFseXRpY3NcIjpcIndvcmtzcGFjZToqXCIsYnVmZmVydXRpbDpcIl40LjAuOFwiLFwiZGF0ZS1mbnNcIjpcIl4yLjI5LjNcIixkZWJ1ZzpcIjQuMy40XCIsXCJ1dGYtOC12YWxpZGF0ZVwiOlwiXjUuMC4yXCIsdXVpZDpcIl44LjMuMlwifSxkZXZEZXBlbmRlbmNpZXM6e1wiQGplc3QvZ2xvYmFsc1wiOlwiXjI5LjMuMVwiLFwiQGxhdmFtb2F0L2FsbG93LXNjcmlwdHNcIjpcIl4yLjMuMVwiLFwiQG1ldGFtYXNrL2F1dG8tY2hhbmdlbG9nXCI6XCIzLjEuMFwiLFwiQG1ldGFtYXNrL2VzbGludC1jb25maWdcIjpcIl42LjAuMFwiLFwiQG1ldGFtYXNrL2VzbGludC1jb25maWctbm9kZWpzXCI6XCJeNi4wLjBcIixcIkBtZXRhbWFzay9lc2xpbnQtY29uZmlnLXR5cGVzY3JpcHRcIjpcIl42LjAuMFwiLFwiQHJvbGx1cC9wbHVnaW4tY29tbW9uanNcIjpcIl4yNS4wLjBcIixcIkByb2xsdXAvcGx1Z2luLWpzb25cIjpcIl42LjAuMFwiLFwiQHJvbGx1cC9wbHVnaW4tbm9kZS1yZXNvbHZlXCI6XCJeMTUuMC4yXCIsXCJAcm9sbHVwL3BsdWdpbi1yZXBsYWNlXCI6XCJeNi4wLjFcIixcIkByb2xsdXAvcGx1Z2luLXRlcnNlclwiOlwiXjAuNC40XCIsXCJAc2l6ZS1saW1pdC9wcmVzZXQtYmlnLWxpYlwiOlwiXjExLjAuMlwiLFwiQHR5cGVzL2plc3RcIjpcIl4yOS4yLjRcIixcIkB0eXBlcy9ub2RlXCI6XCJeMjAuMS4zXCIsXCJAdHlwZXMvdXVpZFwiOlwiXjkuMC4wXCIsXCJAdHlwZXNjcmlwdC1lc2xpbnQvZXNsaW50LXBsdWdpblwiOlwiXjQuMjYuMFwiLFwiQHR5cGVzY3JpcHQtZXNsaW50L3BhcnNlclwiOlwiXjQuMjYuMFwiLGNvbmN1cnJlbnRseTpcIl45LjEuMlwiLFwiY3Jvc3MtZmV0Y2hcIjpcIl40LjAuMFwiLGVjaWVzanM6XCJeMC40LjExXCIsZXNsaW50OlwiXjcuMzAuMFwiLFwiZXNsaW50LWNvbmZpZy1wcmV0dGllclwiOlwiXjguMy4wXCIsXCJlc2xpbnQtcGx1Z2luLWltcG9ydFwiOlwiXjIuMjMuNFwiLFwiZXNsaW50LXBsdWdpbi1qZXN0XCI6XCJeMjQuNC4wXCIsXCJlc2xpbnQtcGx1Z2luLWpzZG9jXCI6XCJeMzYuMS4wXCIsXCJlc2xpbnQtcGx1Z2luLW5vZGVcIjpcIl4xMS4xLjBcIixcImVzbGludC1wbHVnaW4tcHJldHRpZXJcIjpcIl4zLjQuMFwiLGV2ZW50ZW1pdHRlcjI6XCJeNi40LjlcIixqZXN0OlwiXjI5LjMuMVwiLHByZXR0aWVyOlwiXjIuMy4wXCIscmltcmFmOlwiXjMuMC4yXCIscm9sbHVwOlwiXjQuMjYuMFwiLFwicm9sbHVwLXBsdWdpbi1qc2NjXCI6XCJeMi4wLjBcIixcInJvbGx1cC1wbHVnaW4tbmF0aXZlc1wiOlwiXjAuNy41XCIsXCJyb2xsdXAtcGx1Z2luLW5vZGUtYnVpbHRpbnNcIjpcIl4yLjEuMlwiLFwicm9sbHVwLXBsdWdpbi1ub2RlLWdsb2JhbHNcIjpcIl4xLjQuMFwiLFwicm9sbHVwLXBsdWdpbi1wZWVyLWRlcHMtZXh0ZXJuYWxcIjpcIl4yLjIuNFwiLFwicm9sbHVwLXBsdWdpbi1wb2x5ZmlsbC1ub2RlXCI6XCJeMC4xMy4wXCIsXCJyb2xsdXAtcGx1Z2luLXNpemVzXCI6XCJeMS4wLjZcIixcInJvbGx1cC1wbHVnaW4tdHlwZXNjcmlwdDJcIjpcIl4wLjMxLjJcIixcInJvbGx1cC1wbHVnaW4tdmlzdWFsaXplclwiOlwiXjUuMTIuMFwiLFwic2l6ZS1saW1pdFwiOlwiXjExLjEuNlwiLFwic29ja2V0LmlvLWNsaWVudFwiOlwiXjQuNS4xXCIsXCJzdHJlYW0tYnJvd3NlcmlmeVwiOlwiXjMuMC4wXCIsXCJ0cy1qZXN0XCI6XCJeMjkuMC4zXCIsXCJ0cy1ub2RlXCI6XCJeMTAuOS4xXCIsdHlwZXNjcmlwdDpcIl41LjYuM1wifSxwZWVyRGVwZW5kZW5jaWVzOntcImNyb3NzLWZldGNoXCI6XCJeNC4wLjBcIixlY2llc2pzOlwiKlwiLGV2ZW50ZW1pdHRlcjI6XCJeNi40LjlcIixcInJlYWRhYmxlLXN0cmVhbVwiOlwiXjMuNi4yXCIsXCJzb2NrZXQuaW8tY2xpZW50XCI6XCJeNC41LjFcIn0scHVibGlzaENvbmZpZzp7YWNjZXNzOlwicHVibGljXCIscmVnaXN0cnk6XCJodHRwczovL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9cIn0sbGF2YW1vYXQ6e2FsbG93U2NyaXB0czp7XCJAbGF2YW1vYXQvcHJlaW5zdGFsbC1hbHdheXMtZmFpbFwiOiExLGNhbnZhczohMCxcImVjaWVzanM+c2VjcDI1NmsxXCI6ITEsXCJzb2NrZXQuaW8tY2xpZW50PmVuZ2luZS5pby1jbGllbnQ+d3M+YnVmZmVydXRpbFwiOiExLFwic29ja2V0LmlvLWNsaWVudD5lbmdpbmUuaW8tY2xpZW50PndzPnV0Zi04LXZhbGlkYXRlXCI6ITEsYnVmZmVydXRpbDohMSxcInV0Zi04LXZhbGlkYXRlXCI6ITF9fX07Y29uc3QgcnI9XCJodHRwczovL21ldGFtYXNrLXNkay5hcGkuY3gubWV0YW1hc2suaW8vXCIsaXI9W1wid2Vic29ja2V0XCJdLG9yPTYwNDhlNSxzcj0zZTMsYXI9e01FVEFNQVNLX0dFVFBST1ZJREVSU1RBVEU6XCJtZXRhbWFza19nZXRQcm92aWRlclN0YXRlXCIsTUVUQU1BU0tfQ09OTkVDVFNJR046XCJtZXRhbWFza19jb25uZWN0U2lnblwiLE1FVEFNQVNLX0NPTk5FQ1RXSVRIOlwibWV0YW1hc2tfY29ubmVjdFdpdGhcIixNRVRBTUFTS19PUEVOOlwibWV0YW1hc2tfb3BlblwiLE1FVEFNQVNLX0JBVENIOlwibWV0YW1hc2tfYmF0Y2hcIixQRVJTT05BTF9TSUdOOlwicGVyc29uYWxfc2lnblwiLFdBTExFVF9SRVFVRVNUUEVSTUlTU0lPTlM6XCJ3YWxsZXRfcmVxdWVzdFBlcm1pc3Npb25zXCIsV0FMTEVUX1JFVk9LRVBFUk1JU1NJT05TOlwid2FsbGV0X3Jldm9rZVBlcm1pc3Npb25zXCIsV0FMTEVUX0dFVFBFUk1JU1NJT05TOlwid2FsbGV0X2dldFBlcm1pc3Npb25zXCIsV0FMTEVUX1dBVENIQVNTRVQ6XCJ3YWxsZXRfd2F0Y2hBc3NldFwiLFdBTExFVF9TV0lUQ0hFVEhFUkVVTUNIQUlOOlwid2FsbGV0X3N3aXRjaEV0aGVyZXVtQ2hhaW5cIixXQUxMRVRfQURERVRIRVJFVU1DSEFJTjpcIndhbGxldF9hZGRFdGhlcmV1bUNoYWluXCIsRVRIX1JFUVVFU1RBQ0NPVU5UUzpcImV0aF9yZXF1ZXN0QWNjb3VudHNcIixFVEhfQUNDT1VOVFM6XCJldGhfYWNjb3VudHNcIixFVEhfQ0hBSU5JRDpcImV0aF9jaGFpbklkXCIsRVRIX1NFTkRUUkFOU0FDVElPTjpcImV0aF9zZW5kVHJhbnNhY3Rpb25cIixFVEhfU0lHTlRZUEVEREFUQTpcImV0aF9zaWduVHlwZWREYXRhXCIsRVRIX1NJR05UWVBFRERBVEFfVjM6XCJldGhfc2lnblR5cGVkRGF0YV92M1wiLEVUSF9TSUdOVFlQRUREQVRBX1Y0OlwiZXRoX3NpZ25UeXBlZERhdGFfdjRcIixFVEhfU0lHTlRSQU5TQUNUSU9OOlwiZXRoX3NpZ25UcmFuc2FjdGlvblwiLEVUSF9TSUdOOlwiZXRoX3NpZ25cIixQRVJTT05BTF9FQ19SRUNPVkVSOlwicGVyc29uYWxfZWNSZWNvdmVyXCJ9LGNyPVthci5NRVRBTUFTS19DT05ORUNUU0lHTixhci5NRVRBTUFTS19DT05ORUNUV0lUSCxhci5NRVRBTUFTS19PUEVOLGFyLk1FVEFNQVNLX0JBVENILGFyLlBFUlNPTkFMX1NJR04sYXIuV0FMTEVUX1JFUVVFU1RQRVJNSVNTSU9OUyxhci5XQUxMRVRfUkVWT0tFUEVSTUlTU0lPTlMsYXIuV0FMTEVUX1dBVENIQVNTRVQsYXIuRVRIX1NFTkRUUkFOU0FDVElPTixhci5FVEhfU0lHTlRZUEVEREFUQSxhci5FVEhfU0lHTlRZUEVEREFUQV9WMyxhci5FVEhfU0lHTlRZUEVEREFUQV9WNCxhci5FVEhfU0lHTlRSQU5TQUNUSU9OLGFyLkVUSF9TSUdOLGFyLlBFUlNPTkFMX0VDX1JFQ09WRVJdO2Z1bmN0aW9uIGRyKGUpe3JldHVybiBjci5pbmNsdWRlcyhlKX1mdW5jdGlvbiBscihlKXtjb25zdHtjb250ZXh0OnR9PWU7Wm4uUmVtb3RlQ29tbXVuaWNhdGlvbihgW1JlbW90ZUNvbW11bmljYXRpb246IGNsZWFuKCldIGNvbnRleHQ9JHt0fWApLGUuY2hhbm5lbENvbmZpZz12b2lkIDAsZS5yZWFkeT0hMSxlLm9yaWdpbmF0b3JDb25uZWN0U3RhcnRlZD0hMX12YXIgdXIsaHIsZnIscHI7ZXhwb3J0cy5Db25uZWN0aW9uU3RhdHVzPXZvaWQgMCxleHBvcnRzLkV2ZW50VHlwZT12b2lkIDAsZXhwb3J0cy5NZXNzYWdlVHlwZT12b2lkIDAsKHByPWV4cG9ydHMuQ29ubmVjdGlvblN0YXR1c3x8KGV4cG9ydHMuQ29ubmVjdGlvblN0YXR1cz17fSkpLkRJU0NPTk5FQ1RFRD1cImRpc2Nvbm5lY3RlZFwiLHByLldBSVRJTkc9XCJ3YWl0aW5nXCIscHIuVElNRU9VVD1cInRpbWVvdXRcIixwci5MSU5LRUQ9XCJsaW5rZWRcIixwci5QQVVTRUQ9XCJwYXVzZWRcIixwci5URVJNSU5BVEVEPVwidGVybWluYXRlZFwiLGZ1bmN0aW9uKGUpe2UuS0VZX0lORk89XCJrZXlfaW5mb1wiLGUuU0VSVklDRV9TVEFUVVM9XCJzZXJ2aWNlX3N0YXR1c1wiLGUuUFJPVklERVJfVVBEQVRFPVwicHJvdmlkZXJfdXBkYXRlXCIsZS5SUENfVVBEQVRFPVwicnBjX3VwZGF0ZVwiLGUuS0VZU19FWENIQU5HRUQ9XCJrZXlzX2V4Y2hhbmdlZFwiLGUuSk9JTl9DSEFOTkVMPVwiam9pbl9jaGFubmVsXCIsZS5QVUJMSUNfS0VZPVwicHVibGljX2tleVwiLGUuQ0hBTk5FTF9DUkVBVEVEPVwiY2hhbm5lbF9jcmVhdGVkXCIsZS5DTElFTlRTX0NPTk5FQ1RFRD1cImNsaWVudHNfY29ubmVjdGVkXCIsZS5DTElFTlRTX0RJU0NPTk5FQ1RFRD1cImNsaWVudHNfZGlzY29ubmVjdGVkXCIsZS5DTElFTlRTX1dBSVRJTkc9XCJjbGllbnRzX3dhaXRpbmdcIixlLkNMSUVOVFNfUkVBRFk9XCJjbGllbnRzX3JlYWR5XCIsZS5SRUpFQ1RFRD1cInJlamVjdGVkXCIsZS5XQUxMRVRfSU5JVD1cIndhbGxldF9pbml0XCIsZS5DSEFOTkVMX1BFUlNJU1RFTkNFPVwiY2hhbm5lbF9wZXJzaXN0ZW5jZVwiLGUuQ09ORklHPVwiY29uZmlnXCIsZS5NRVNTQUdFX0FDSz1cImFja1wiLGUuU09DS0VUX0RJU0NPTk5FQ1RFRD1cInNvY2tldF9kaXNjb25uZWN0ZWRcIixlLlNPQ0tFVF9SRUNPTk5FQ1Q9XCJzb2NrZXRfcmVjb25uZWN0XCIsZS5PVFA9XCJvdHBcIixlLlNES19SUENfQ0FMTD1cInNka19ycGNfY2FsbFwiLGUuQVVUSE9SSVpFRD1cImF1dGhvcml6ZWRcIixlLkNPTk5FQ1RJT05fU1RBVFVTPVwiY29ubmVjdGlvbl9zdGF0dXNcIixlLk1FU1NBR0U9XCJtZXNzYWdlXCIsZS5URVJNSU5BVEU9XCJ0ZXJtaW5hdGVcIn0oZXhwb3J0cy5FdmVudFR5cGV8fChleHBvcnRzLkV2ZW50VHlwZT17fSkpLCh1cnx8KHVyPXt9KSkuS0VZX0VYQ0hBTkdFPVwia2V5X2V4Y2hhbmdlXCIsZnVuY3Rpb24oZSl7ZS5LRVlfSEFORFNIQUtFX1NUQVJUPVwia2V5X2hhbmRzaGFrZV9zdGFydFwiLGUuS0VZX0hBTkRTSEFLRV9DSEVDSz1cImtleV9oYW5kc2hha2VfY2hlY2tcIixlLktFWV9IQU5EU0hBS0VfU1lOPVwia2V5X2hhbmRzaGFrZV9TWU5cIixlLktFWV9IQU5EU0hBS0VfU1lOQUNLPVwia2V5X2hhbmRzaGFrZV9TWU5BQ0tcIixlLktFWV9IQU5EU0hBS0VfQUNLPVwia2V5X2hhbmRzaGFrZV9BQ0tcIixlLktFWV9IQU5EU0hBS0VfV0FMTEVUPVwia2V5X2hhbmRzaGFrZV93YWxsZXRcIixlLktFWV9IQU5EU0hBS0VfTk9ORT1cIm5vbmVcIn0oaHJ8fChocj17fSkpO2NsYXNzIG1yIGV4dGVuZHMgby5FdmVudEVtaXR0ZXIye2NvbnN0cnVjdG9yKHtjb21tdW5pY2F0aW9uTGF5ZXI6ZSxvdGhlclB1YmxpY0tleTp0LGNvbnRleHQ6bixlY2llczpyLGxvZ2dpbmc6aX0pe3N1cGVyKCksdGhpcy5rZXlzRXhjaGFuZ2VkPSExLHRoaXMuc3RlcD1oci5LRVlfSEFORFNIQUtFX05PTkUsdGhpcy5kZWJ1Zz0hMSx0aGlzLmNvbnRleHQ9bix0aGlzLmNvbW11bmljYXRpb25MYXllcj1lLChudWxsPT1yP3ZvaWQgMDpyLnByaXZhdGVLZXkpJiZ0JiYoWm4uS2V5RXhjaGFuZ2UoYFtLZXlFeGNoYW5nZTogY29uc3RydWN0b3IoKV0gb3RoZXJQdWJLZXk9JHt0fSBzZXQga2V5c0V4Y2hhbmdlZCB0byB0cnVlIWAsciksdGhpcy5rZXlzRXhjaGFuZ2VkPSEwKSx0aGlzLm15RUNJRVM9bmV3IHRyKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyKSx7ZGVidWc6bnVsbD09aT92b2lkIDA6aS5lY2llc0xheWVyfSkpLHRoaXMuY29tbXVuaWNhdGlvbkxheWVyLnN0YXRlLmVjaWVzSW5zdGFuY2U9dGhpcy5teUVDSUVTLHRoaXMubXlQdWJsaWNLZXk9dGhpcy5teUVDSUVTLmdldFB1YmxpY0tleSgpLHRoaXMuZGVidWc9ITA9PT0obnVsbD09aT92b2lkIDA6aS5rZXlFeGNoYW5nZUxheWVyKSx0JiZ0aGlzLnNldE90aGVyUHVibGljS2V5KHQpLHRoaXMuY29tbXVuaWNhdGlvbkxheWVyLm9uKHVyLktFWV9FWENIQU5HRSx0aGlzLm9uS2V5RXhjaGFuZ2VNZXNzYWdlLmJpbmQodGhpcykpfW9uS2V5RXhjaGFuZ2VNZXNzYWdlKGUpe2NvbnN0e3JlbGF5UGVyc2lzdGVuY2U6dH09dGhpcy5jb21tdW5pY2F0aW9uTGF5ZXIucmVtb3RlLnN0YXRlO2lmKFpuLktleUV4Y2hhbmdlKGBbS2V5RXhjaGFuZ2U6IG9uS2V5RXhjaGFuZ2VNZXNzYWdlKCldIGNvbnRleHQ9JHt0aGlzLmNvbnRleHR9IGtleXNFeGNoYW5nZWQ9JHt0aGlzLmtleXNFeGNoYW5nZWR9IHJlbGF5UGVyc2lzdGVuY2U9JHt0fWAsZSksdClyZXR1cm4gdm9pZCBabi5LZXlFeGNoYW5nZShcIltLZXlFeGNoYW5nZTogb25LZXlFeGNoYW5nZU1lc3NhZ2UoKV0gSWdub3Jpbmcga2V5IGV4Y2hhbmdlIG1lc3NhZ2UgYmVjYXVzZSByZWxheSBwZXJzaXN0ZW5jZSBpcyBhY3RpdmF0ZWRcIik7Y29uc3R7bWVzc2FnZTpufT1lO3RoaXMua2V5c0V4Y2hhbmdlZCYmWm4uS2V5RXhjaGFuZ2UoYFtLZXlFeGNoYW5nZTogb25LZXlFeGNoYW5nZU1lc3NhZ2UoKV0gY29udGV4dD0ke3RoaXMuY29udGV4dH0gcmVjZWl2ZWQgaGFuZHNoYWtlIHdoaWxlIGFscmVhZHkgZXhjaGFuZ2VkLiBzdGVwPSR7dGhpcy5zdGVwfSBvdGhlclB1YktleT0ke3RoaXMub3RoZXJQdWJsaWNLZXl9YCksdGhpcy5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLktFWV9JTkZPLG4udHlwZSksbi50eXBlPT09aHIuS0VZX0hBTkRTSEFLRV9TWU4/KHRoaXMuY2hlY2tTdGVwKFtoci5LRVlfSEFORFNIQUtFX05PTkUsaHIuS0VZX0hBTkRTSEFLRV9BQ0tdKSxabi5LZXlFeGNoYW5nZShcIltLZXlFeGNoYW5nZTogb25LZXlFeGNoYW5nZU1lc3NhZ2UoKV0gS0VZX0hBTkRTSEFLRV9TWU5cIixuKSxuLnB1YmtleSYmdGhpcy5zZXRPdGhlclB1YmxpY0tleShuLnB1YmtleSksdGhpcy5jb21tdW5pY2F0aW9uTGF5ZXIuc2VuZE1lc3NhZ2Uoe3R5cGU6aHIuS0VZX0hBTkRTSEFLRV9TWU5BQ0sscHVia2V5OnRoaXMubXlQdWJsaWNLZXl9KS5jYXRjaCgoZT0+e1puLktleUV4Y2hhbmdlKFwiW0tleUV4Y2hhbmdlOiBvbktleUV4Y2hhbmdlTWVzc2FnZSgpXSBFcnJvciBzZW5kaW5nIEtFWV9IQU5EU0hBS0VfU1lOQUNLXCIsZSl9KSksdGhpcy5zZXRTdGVwKGhyLktFWV9IQU5EU0hBS0VfQUNLKSk6bi50eXBlPT09aHIuS0VZX0hBTkRTSEFLRV9TWU5BQ0s/KHRoaXMuY2hlY2tTdGVwKFtoci5LRVlfSEFORFNIQUtFX1NZTkFDSyxoci5LRVlfSEFORFNIQUtFX0FDSyxoci5LRVlfSEFORFNIQUtFX05PTkVdKSxabi5LZXlFeGNoYW5nZShcIltLZXlFeGNoYW5nZTogb25LZXlFeGNoYW5nZU1lc3NhZ2UoKV0gS0VZX0hBTkRTSEFLRV9TWU5BQ0tcIiksbi5wdWJrZXkmJnRoaXMuc2V0T3RoZXJQdWJsaWNLZXkobi5wdWJrZXkpLHRoaXMuY29tbXVuaWNhdGlvbkxheWVyLnNlbmRNZXNzYWdlKHt0eXBlOmhyLktFWV9IQU5EU0hBS0VfQUNLfSkuY2F0Y2goKGU9Pntabi5LZXlFeGNoYW5nZShcIltLZXlFeGNoYW5nZTogb25LZXlFeGNoYW5nZU1lc3NhZ2UoKV0gRXJyb3Igc2VuZGluZyBLRVlfSEFORFNIQUtFX0FDS1wiLGUpfSkpLHRoaXMua2V5c0V4Y2hhbmdlZD0hMCx0aGlzLnNldFN0ZXAoaHIuS0VZX0hBTkRTSEFLRV9BQ0spLHRoaXMuZW1pdChleHBvcnRzLkV2ZW50VHlwZS5LRVlTX0VYQ0hBTkdFRCkpOm4udHlwZT09PWhyLktFWV9IQU5EU0hBS0VfQUNLJiYoWm4uS2V5RXhjaGFuZ2UoXCJbS2V5RXhjaGFuZ2U6IG9uS2V5RXhjaGFuZ2VNZXNzYWdlKCldIEtFWV9IQU5EU0hBS0VfQUNLIHNldCBrZXlzRXhjaGFuZ2VkIHRvIHRydWUhXCIpLHRoaXMuY2hlY2tTdGVwKFtoci5LRVlfSEFORFNIQUtFX0FDSyxoci5LRVlfSEFORFNIQUtFX05PTkVdKSx0aGlzLmtleXNFeGNoYW5nZWQ9ITAsdGhpcy5zZXRTdGVwKGhyLktFWV9IQU5EU0hBS0VfQUNLKSx0aGlzLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuS0VZU19FWENIQU5HRUQpKX1yZXNldEtleXMoZSl7dGhpcy5jbGVhbigpLHRoaXMubXlFQ0lFUz1uZXcgdHIoZSl9Y2xlYW4oKXtabi5LZXlFeGNoYW5nZShgW0tleUV4Y2hhbmdlOiBjbGVhbigpXSBjb250ZXh0PSR7dGhpcy5jb250ZXh0fSByZXNldCBoYW5kc2hha2Ugc3RhdGVgKSx0aGlzLnNldFN0ZXAoaHIuS0VZX0hBTkRTSEFLRV9OT05FKSx0aGlzLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuS0VZX0lORk8sdGhpcy5zdGVwKSx0aGlzLmtleXNFeGNoYW5nZWQ9ITF9c3RhcnQoe2lzT3JpZ2luYXRvcjplLGZvcmNlOnR9KXtjb25zdHtyZWxheVBlcnNpc3RlbmNlOm4scHJvdG9jb2xWZXJzaW9uOnJ9PXRoaXMuY29tbXVuaWNhdGlvbkxheWVyLnJlbW90ZS5zdGF0ZSxpPXI+PTI7bj9abi5LZXlFeGNoYW5nZShcIltLZXlFeGNoYW5nZTogc3RhcnQoKV0gSWdub3Jpbmcga2V5IGV4Y2hhbmdlIG1lc3NhZ2UgYmVjYXVzZSByZWxheSBwZXJzaXN0ZW5jZSBpcyBhY3RpdmF0ZWRcIik6KFpuLktleUV4Y2hhbmdlKGBbS2V5RXhjaGFuZ2U6IHN0YXJ0KCldIGNvbnRleHQ9JHt0aGlzLmNvbnRleHR9IHByb3RvY29sVmVyc2lvbj0ke3J9IGlzT3JpZ2luYXRvcj0ke2V9IHN0ZXA9JHt0aGlzLnN0ZXB9IGZvcmNlPSR7dH0gcmVsYXlQZXJzaXN0ZW5jZT0ke259IGtleXNFeGNoYW5nZWQ9JHt0aGlzLmtleXNFeGNoYW5nZWR9YCksZT8hKHRoaXMua2V5c0V4Y2hhbmdlZHx8dGhpcy5zdGVwIT09aHIuS0VZX0hBTkRTSEFLRV9OT05FJiZ0aGlzLnN0ZXAhPT1oci5LRVlfSEFORFNIQUtFX1NZTkFDSyl8fHQ/KFpuLktleUV4Y2hhbmdlKGBbS2V5RXhjaGFuZ2U6IHN0YXJ0KCldIGNvbnRleHQ9JHt0aGlzLmNvbnRleHR9IC0tIHN0YXJ0IGtleSBleGNoYW5nZSAoZm9yY2U9JHt0fSkgLS0gc3RlcD0ke3RoaXMuc3RlcH1gLHRoaXMuc3RlcCksdGhpcy5jbGVhbigpLHRoaXMuc2V0U3RlcChoci5LRVlfSEFORFNIQUtFX1NZTkFDSyksdGhpcy5jb21tdW5pY2F0aW9uTGF5ZXIuc2VuZE1lc3NhZ2Uoe3R5cGU6aHIuS0VZX0hBTkRTSEFLRV9TWU4scHVia2V5OnRoaXMubXlQdWJsaWNLZXksdjoyfSkuY2F0Y2goKGU9Pntabi5LZXlFeGNoYW5nZShcIltLZXlFeGNoYW5nZTogc3RhcnQoKV0gRXJyb3Igc2VuZGluZyBLRVlfSEFORFNIQUtFX1NZTlwiLGUpfSkpKTpabi5LZXlFeGNoYW5nZShgW0tleUV4Y2hhbmdlOiBzdGFydCgpXSBjb250ZXh0PSR7dGhpcy5jb250ZXh0fSAtLSBrZXkgZXhjaGFuZ2UgYWxyZWFkeSAke3RoaXMua2V5c0V4Y2hhbmdlZD9cImRvbmVcIjpcImluIHByb2dyZXNzXCJ9IC0tIGFib3J0ZWQuYCx0aGlzLnN0ZXApOnRoaXMua2V5c0V4Y2hhbmdlZCYmITAhPT10P1puLktleUV4Y2hhbmdlKFwiW0tleUV4Y2hhbmdlOiBzdGFydCgpXSBkb24ndCBzZW5kIEtFWV9IQU5EU0hBS0VfU1RBUlQgLS0gZXhjaGFuZ2UgYWxyZWFkeSBkb25lLlwiKTppP3RoaXMuY29tbXVuaWNhdGlvbkxheWVyLnNlbmRNZXNzYWdlKHt0eXBlOmhyLktFWV9IQU5EU0hBS0VfU1lOQUNLLHB1YmtleTp0aGlzLm15UHVibGljS2V5LHY6Mn0pLmNhdGNoKChlPT57Wm4uS2V5RXhjaGFuZ2UoXCJbS2V5RXhjaGFuZ2U6IHN0YXJ0KCldIEVycm9yIHNlbmRpbmcgS0VZX0hBTkRTSEFLRV9TWU5BQ0tcIixlKX0pKToodGhpcy5jb21tdW5pY2F0aW9uTGF5ZXIuc2VuZE1lc3NhZ2Uoe3R5cGU6aHIuS0VZX0hBTkRTSEFLRV9TVEFSVH0pLmNhdGNoKChlPT57Wm4uS2V5RXhjaGFuZ2UoXCJbS2V5RXhjaGFuZ2U6IHN0YXJ0KCldIEVycm9yIHNlbmRpbmcgS0VZX0hBTkRTSEFLRV9TVEFSVFwiLGUpfSkpLHRoaXMuY2xlYW4oKSkpfXNldFN0ZXAoZSl7dGhpcy5zdGVwPWUsdGhpcy5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLktFWV9JTkZPLGUpfWNoZWNrU3RlcChlKXtlLmxlbmd0aD4wJiZlLmluZGV4T2YodGhpcy5zdGVwLnRvU3RyaW5nKCkpfXNldFJlbGF5UGVyc2lzdGVuY2Uoe2xvY2FsS2V5OmUsb3RoZXJLZXk6dH0pe3RoaXMub3RoZXJQdWJsaWNLZXk9dCx0aGlzLm15RUNJRVM9bmV3IHRyKHtwcml2YXRlS2V5OmUsZGVidWc6dGhpcy5kZWJ1Z30pLHRoaXMua2V5c0V4Y2hhbmdlZD0hMH1zZXRLZXlzRXhjaGFuZ2VkKGUpe3RoaXMua2V5c0V4Y2hhbmdlZD1lfWFyZUtleXNFeGNoYW5nZWQoKXtyZXR1cm4gdGhpcy5rZXlzRXhjaGFuZ2VkfWdldE15UHVibGljS2V5KCl7cmV0dXJuIHRoaXMubXlQdWJsaWNLZXl9Z2V0T3RoZXJQdWJsaWNLZXkoKXtyZXR1cm4gdGhpcy5vdGhlclB1YmxpY0tleX1zZXRPdGhlclB1YmxpY0tleShlKXtabi5LZXlFeGNoYW5nZShcIltLZXlFeGNoYW5nZTogc2V0T3RoZXJQdWJLZXkoKV1cIixlKSx0aGlzLm90aGVyUHVibGljS2V5PWV9ZW5jcnlwdE1lc3NhZ2UoZSl7aWYoIXRoaXMub3RoZXJQdWJsaWNLZXkpdGhyb3cgbmV3IEVycm9yKFwiZW5jcnlwdE1lc3NhZ2U6IEtleXMgbm90IGV4Y2hhbmdlZCAtIG1pc3Npbmcgb3RoZXJQdWJLZXlcIik7cmV0dXJuIHRoaXMubXlFQ0lFUy5lbmNyeXB0KGUsdGhpcy5vdGhlclB1YmxpY0tleSl9ZGVjcnlwdE1lc3NhZ2UoZSl7aWYoIXRoaXMub3RoZXJQdWJsaWNLZXkpdGhyb3cgbmV3IEVycm9yKFwiZGVjcnlwdE1lc3NhZ2U6IEtleXMgbm90IGV4Y2hhbmdlZCAtIG1pc3Npbmcgb3RoZXJQdWJLZXlcIik7cmV0dXJuIHRoaXMubXlFQ0lFUy5kZWNyeXB0KGUpfWdldEtleUluZm8oKXtyZXR1cm57ZWNpZXM6T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHRoaXMubXlFQ0lFUy5nZXRLZXlJbmZvKCkpLHtvdGhlclB1YktleTp0aGlzLm90aGVyUHVibGljS2V5fSksc3RlcDp0aGlzLnN0ZXAsa2V5c0V4Y2hhbmdlZDp0aGlzLmFyZUtleXNFeGNoYW5nZWQoKX19dG9TdHJpbmcoKXtjb25zdCBlPXtrZXlJbmZvOnRoaXMuZ2V0S2V5SW5mbygpLGtleXNFeGNoYW5nZWQ6dGhpcy5rZXlzRXhjaGFuZ2VkLHN0ZXA6dGhpcy5zdGVwfTtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoZSl9fSFmdW5jdGlvbihlKXtlLlRFUk1JTkFURT1cInRlcm1pbmF0ZVwiLGUuQU5TV0VSPVwiYW5zd2VyXCIsZS5PRkZFUj1cIm9mZmVyXCIsZS5DQU5ESURBVEU9XCJjYW5kaWRhdGVcIixlLkpTT05SUEM9XCJqc29ucnBjXCIsZS5XQUxMRVRfSU5GTz1cIndhbGxldF9pbmZvXCIsZS5XQUxMRVRfSU5JVD1cIndhbGxldF9pbml0XCIsZS5PUklHSU5BVE9SX0lORk89XCJvcmlnaW5hdG9yX2luZm9cIixlLlBBVVNFPVwicGF1c2VcIixlLk9UUD1cIm90cFwiLGUuQVVUSE9SSVpFRD1cImF1dGhvcml6ZWRcIixlLlBJTkc9XCJwaW5nXCIsZS5SRUFEWT1cInJlYWR5XCJ9KGV4cG9ydHMuTWVzc2FnZVR5cGV8fChleHBvcnRzLk1lc3NhZ2VUeXBlPXt9KSksZnVuY3Rpb24oZSl7ZS5SRVFVRVNUPVwic2RrX2Nvbm5lY3RfcmVxdWVzdF9zdGFydGVkXCIsZS5SRVFVRVNUX01PQklMRT1cInNka19jb25uZWN0X3JlcXVlc3Rfc3RhcnRlZF9tb2JpbGVcIixlLlJFQ09OTkVDVD1cInNka19yZWNvbm5lY3RfcmVxdWVzdF9zdGFydGVkXCIsZS5DT05ORUNURUQ9XCJzZGtfY29ubmVjdGlvbl9lc3RhYmxpc2hlZFwiLGUuQ09OTkVDVEVEX01PQklMRT1cInNka19jb25uZWN0aW9uX2VzdGFibGlzaGVkX21vYmlsZVwiLGUuQVVUSE9SSVpFRD1cInNka19jb25uZWN0aW9uX2F1dGhvcml6ZWRcIixlLlJFSkVDVEVEPVwic2RrX2Nvbm5lY3Rpb25fcmVqZWN0ZWRcIixlLlRFUk1JTkFURUQ9XCJzZGtfY29ubmVjdGlvbl90ZXJtaW5hdGVkXCIsZS5ESVNDT05ORUNURUQ9XCJzZGtfZGlzY29ubmVjdGVkXCIsZS5TREtfVVNFX0VYVEVOU0lPTj1cInNka191c2VfZXh0ZW5zaW9uXCIsZS5TREtfUlBDX1JFUVVFU1Q9XCJzZGtfcnBjX3JlcXVlc3RcIixlLlNES19SUENfUkVRVUVTVF9SRUNFSVZFRD1cInNka19ycGNfcmVxdWVzdF9yZWNlaXZlZFwiLGUuU0RLX1JQQ19SRVFVRVNUX0RPTkU9XCJzZGtfcnBjX3JlcXVlc3RfZG9uZVwiLGUuU0RLX0VYVEVOU0lPTl9VVElMSVpFRD1cInNka19leHRlbnNpb25fdXRpbGl6ZWRcIixlLlNES19VU0VfSU5BUFBfQlJPV1NFUj1cInNka191c2VfaW5hcHBfYnJvd3NlclwifShmcnx8KGZyPXt9KSk7Y29uc3QgZ3I9KGUsdCxuKT0+dSh2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7dmFyIHIsaSxvLHMsYSxjO2NvbnN0e3JlbW90ZTpkLHN0YXRlOmx9PWUse2NoYW5uZWxJZDp1LGlzT3JpZ2luYXRvcjpofT1sO2lmKFwiZXJyb3JfdGVybWluYXRlZFwiPT09dClyZXR1cm4gWm4uU29ja2V0U2VydmljZShgaGFuZGxlSm9pbkNoYW5uZWxSZXN1bHRzOiBDaGFubmVsICR7dX0gdGVybWluYXRlZGApLHZvaWQgZS5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLlRFUk1JTkFURSk7aWYoIW4pcmV0dXJuIHZvaWQgWm4uU29ja2V0U2VydmljZShgaGFuZGxlSm9pbkNoYW5uZWxSZXN1bHRzOiBObyByZXN1bHQgZm9yIGNoYW5uZWwgJHt1fWApO2NvbnN0e3BlcnNpc3RlbmNlOmYsd2FsbGV0S2V5OnAscmVqZWN0ZWQ6bX09bjtpZihabi5Tb2NrZXRTZXJ2aWNlKGBoYW5kbGVKb2luQ2hhbm5lbFJlc3VsdHM6IENoYW5uZWwgJHt1fSBwZXJzaXN0ZW5jZT0ke2Z9IHdhbGxldEtleT0ke3B9IHJlamVjdGVkPSR7bX1gKSxtKXJldHVybiBabi5Tb2NrZXRTZXJ2aWNlKGBoYW5kbGVKb2luQ2hhbm5lbFJlc3VsdHM6IENoYW5uZWwgJHt1fSByZWplY3RlZGApLHlpZWxkIGUucmVtb3RlLmRpc2Nvbm5lY3Qoe3Rlcm1pbmF0ZTohMH0pLGUucmVtb3RlLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuUkVKRUNURUQse2NoYW5uZWxJZDp1fSksdm9pZCBlLnJlbW90ZS5lbWl0U2VydmljZVN0YXR1c0V2ZW50KCk7aWYocCYmIShudWxsPT09KHI9ZC5zdGF0ZS5jaGFubmVsQ29uZmlnKXx8dm9pZCAwPT09cj92b2lkIDA6ci5vdGhlcktleSkpe2UuZ2V0S2V5RXhjaGFuZ2UoKS5zZXRPdGhlclB1YmxpY0tleShwKSxudWxsPT09KGk9ZS5zdGF0ZS5rZXlFeGNoYW5nZSl8fHZvaWQgMD09PWl8fGkuc2V0S2V5c0V4Y2hhbmdlZCghMCksZC5zdGF0ZS5yZWFkeT0hMCxkLnN0YXRlLmF1dGhvcml6ZWQ9ITAsZC5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLkFVVEhPUklaRUQpO2NvbnN0e2NvbW11bmljYXRpb25MYXllcjp0LHN0b3JhZ2VNYW5hZ2VyOm59PWQuc3RhdGUscj1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZC5zdGF0ZS5jaGFubmVsQ29uZmlnKSx7Y2hhbm5lbElkOm51bGwhPT0obz1kLnN0YXRlLmNoYW5uZWxJZCkmJnZvaWQgMCE9PW8/bzpcIlwiLHZhbGlkVW50aWw6RGF0ZS5ub3coKStvcixsb2NhbEtleTpudWxsPT10P3ZvaWQgMDp0LmdldEtleUluZm8oKS5lY2llcy5wcml2YXRlLG90aGVyS2V5OnB9KTtlLnNlbmRNZXNzYWdlKHt0eXBlOmhyLktFWV9IQU5EU0hBS0VfQUNLfSkuY2F0Y2goKGU9Pnt9KSksbnVsbD09PShzPWUuc3RhdGUuc29ja2V0KXx8dm9pZCAwPT09c3x8cy5lbWl0KGV4cG9ydHMuTWVzc2FnZVR5cGUuUElORyx7aWQ6dSxjbGllbnRUeXBlOmg/XCJkYXBwXCI6XCJ3YWxsZXRcIixjb250ZXh0Olwib25fY2hhbm5lbF9yZWNvbm5lY3RcIixtZXNzYWdlOlwiXCJ9KSx5aWVsZCBudWxsPT1uP3ZvaWQgMDpuLnBlcnNpc3RDaGFubmVsQ29uZmlnKHIpLGQuZW1pdFNlcnZpY2VTdGF0dXNFdmVudCgpLGQuc2V0Q29ubmVjdGlvblN0YXR1cyhleHBvcnRzLkNvbm5lY3Rpb25TdGF0dXMuTElOS0VEKX1mJiYoZS5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLkNIQU5ORUxfUEVSU0lTVEVOQ0UpLG51bGw9PT0oYT1lLnN0YXRlLmtleUV4Y2hhbmdlKXx8dm9pZCAwPT09YXx8YS5zZXRLZXlzRXhjaGFuZ2VkKCEwKSxkLnN0YXRlLnJlYWR5PSEwLGQuc3RhdGUuYXV0aG9yaXplZD0hMCxkLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuQVVUSE9SSVpFRCksZXIoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHtpZDpudWxsIT11P3U6XCJcIixldmVudDpoP2ZyLkNPTk5FQ1RFRDpmci5DT05ORUNURURfTU9CSUxFfSxlLnJlbW90ZS5zdGF0ZS5vcmlnaW5hdG9ySW5mbykse3Nka1ZlcnNpb246ZS5yZW1vdGUuc3RhdGUuc2RrVmVyc2lvbixjb21tTGF5ZXI6ZS5zdGF0ZS5jb21tdW5pY2F0aW9uTGF5ZXJQcmVmZXJlbmNlLGNvbW1MYXllclZlcnNpb246bnIudmVyc2lvbix3YWxsZXRWZXJzaW9uOm51bGw9PT0oYz1lLnJlbW90ZS5zdGF0ZS53YWxsZXRJbmZvKXx8dm9pZCAwPT09Yz92b2lkIDA6Yy52ZXJzaW9ufSksbC5jb21tdW5pY2F0aW9uU2VydmVyVXJsKS5jYXRjaCgoZT0+e30pKSl9KSkseXI9ZT0+bmV3IFByb21pc2UoKHQ9PntzZXRUaW1lb3V0KHQsZSl9KSksdnI9KGUsdCwuLi5uKT0+dSh2b2lkIDAsW2UsdCwuLi5uXSx2b2lkIDAsKGZ1bmN0aW9uKihlLHQsbj0yMDApe2xldCByO2NvbnN0IGk9RGF0ZS5ub3coKTtsZXQgbz0hMTtmb3IoOyFvOyl7aWYobz1EYXRlLm5vdygpLWk+M2U1LHI9dFtlXSx2b2lkIDAhPT1yLmVsYXBzZWRUaW1lKXJldHVybiByO3lpZWxkIHlyKG4pfXRocm93IG5ldyBFcnJvcihgUlBDICR7ZX0gdGltZWQgb3V0YCl9KSksRXI9ZT0+dSh2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7Y29uc3R7c3RhdGU6dH09ZSx7c29ja2V0Om4sY2hhbm5lbElkOnIsY29udGV4dDppLGlzT3JpZ2luYXRvcjpvLGlzUmVjb25uZWN0aW5nOnN9PXQ7aWYocylyZXR1cm4gWm4uU29ja2V0U2VydmljZShcIltTb2NrZXRTZXJ2aWNlOiByZWNvbm5lY3RTb2NrZXQoKV0gUmVjb25uZWN0aW9uIGFscmVhZHkgaW4gcHJvZ3Jlc3MsIHNraXBwaW5nXCIsZSksITE7aWYoIW4pcmV0dXJuIFpuLlNvY2tldFNlcnZpY2UoXCJbU29ja2V0U2VydmljZTogcmVjb25uZWN0U29ja2V0KCldIHNvY2tldCBpcyBub3QgZGVmaW5lZFwiLGUpLCExO2lmKCFyKXJldHVybiExO2NvbnN0e2Nvbm5lY3RlZDphfT1uO3QuaXNSZWNvbm5lY3Rpbmc9ITAsdC5yZWNvbm5lY3Rpb25BdHRlbXB0cz0wLFpuLlNvY2tldFNlcnZpY2UoYFtTb2NrZXRTZXJ2aWNlOiByZWNvbm5lY3RTb2NrZXQoKV0gY29ubmVjdGVkPSR7YX0gdHJ5aW5nIHRvIHJlY29ubmVjdCBhZnRlciBzb2NrZXRpbyBkaXNjb25uZWN0aW9uYCxlKTt0cnl7Zm9yKDszPnQucmVjb25uZWN0aW9uQXR0ZW1wdHM7KXtpZihabi5Tb2NrZXRTZXJ2aWNlKGBbU29ja2V0U2VydmljZTogcmVjb25uZWN0U29ja2V0KCldIEF0dGVtcHQgJHt0LnJlY29ubmVjdGlvbkF0dGVtcHRzKzF9IG9mIDNgLGUpLHlpZWxkIHlyKDIwMCksbi5jb25uZWN0ZWQpcmV0dXJuIFpuLlNvY2tldFNlcnZpY2UoXCJTb2NrZXQgYWxyZWFkeSBjb25uZWN0ZWQgLS0tIHBpbmcgdG8gcmV0cmlldmUgbWVzc2FnZXNcIiksbi5lbWl0KGV4cG9ydHMuTWVzc2FnZVR5cGUuUElORyx7aWQ6cixjbGllbnRUeXBlOm8/XCJkYXBwXCI6XCJ3YWxsZXRcIixjb250ZXh0Olwib25fY2hhbm5lbF9jb25maWdcIixtZXNzYWdlOlwiXCJ9KSwhMDt0LnJlc3VtZWQ9ITAsbi5jb25uZWN0KCksZS5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLlNPQ0tFVF9SRUNPTk5FQ1QpO3RyeXtpZih5aWVsZCBuZXcgUHJvbWlzZSgoKHQscyk9PntuLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuSk9JTl9DSEFOTkVMLHtjaGFubmVsSWQ6cixjb250ZXh0OmAke2l9Y29ubmVjdF9hZ2FpbmAsY2xpZW50VHlwZTpvP1wiZGFwcFwiOlwid2FsbGV0XCJ9LCgobixyKT0+dSh2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7dHJ5e3lpZWxkIGdyKGUsbixyKSx0KCl9Y2F0Y2goZSl7cyhlKX19KSkpKX0pKSx5aWVsZCB5cigxMDApLG4uY29ubmVjdGVkKXJldHVybiBabi5Tb2NrZXRTZXJ2aWNlKGBSZWNvbm5lY3Rpb24gc3VjY2Vzc2Z1bCBvbiBhdHRlbXB0ICR7dC5yZWNvbm5lY3Rpb25BdHRlbXB0cysxfWApLCEwfWNhdGNoKGUpe1puLlNvY2tldFNlcnZpY2UoYEVycm9yIGR1cmluZyByZWNvbm5lY3Rpb24gYXR0ZW1wdCAke3QucmVjb25uZWN0aW9uQXR0ZW1wdHMrMX06YCxlKX10LnJlY29ubmVjdGlvbkF0dGVtcHRzKz0xLDM+dC5yZWNvbm5lY3Rpb25BdHRlbXB0cyYmKHlpZWxkIHlyKDIwMCkpfXJldHVybiBabi5Tb2NrZXRTZXJ2aWNlKFwiRmFpbGVkIHRvIHJlY29ubmVjdCBhZnRlciAzIGF0dGVtcHRzXCIpLCExfWZpbmFsbHl7dC5pc1JlY29ubmVjdGluZz0hMSx0LnJlY29ubmVjdGlvbkF0dGVtcHRzPTB9fSkpO2Z1bmN0aW9uIGJyKGUsdCl7cmV0dXJuIHUodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXt2YXIgbjtjb25zdCByPW51bGw9PT0obj1lLnN0YXRlLmtleUV4Y2hhbmdlKXx8dm9pZCAwPT09bj92b2lkIDA6bi5lbmNyeXB0TWVzc2FnZShKU09OLnN0cmluZ2lmeSh0KSksaT17aWQ6ZS5zdGF0ZS5jaGFubmVsSWQsY29udGV4dDplLnN0YXRlLmNvbnRleHQsY2xpZW50VHlwZTplLnN0YXRlLmlzT3JpZ2luYXRvcj9cImRhcHBcIjpcIndhbGxldFwiLG1lc3NhZ2U6cixwbGFpbnRleHQ6ZS5zdGF0ZS5oYXNQbGFpbnRleHQ/SlNPTi5zdHJpbmdpZnkodCk6dm9pZCAwfTtyZXR1cm4gWm4uU29ja2V0U2VydmljZShgW1NvY2tldFNlcnZpY2U6IGVuY3J5cHRBbmRTZW5kTWVzc2FnZSgpXSBjb250ZXh0PSR7ZS5zdGF0ZS5jb250ZXh0fWAsaSksdC50eXBlPT09ZXhwb3J0cy5NZXNzYWdlVHlwZS5URVJNSU5BVEUmJihlLnN0YXRlLm1hbnVhbERpc2Nvbm5lY3Q9ITApLG5ldyBQcm9taXNlKCgodCxuKT0+e3ZhciByO251bGw9PT0ocj1lLnN0YXRlLnNvY2tldCl8fHZvaWQgMD09PXJ8fHIuZW1pdChleHBvcnRzLkV2ZW50VHlwZS5NRVNTQUdFLGksKChlLHIpPT57dmFyIGk7ZSYmKFpuLlNvY2tldFNlcnZpY2UoYFtTb2NrZXRTZXJ2aWNlOiBlbmNyeXB0QW5kU2VuZE1lc3NhZ2UoKV0gZXJyb3I9JHtlfWApLG4oZSkpLFpuLlNvY2tldFNlcnZpY2UoXCJbZW5jcnlwdEFuZFNlbmRNZXNzYWdlXSByZXNwb25zZVwiLHIpLHQobnVsbCE9PShpPW51bGw9PXI/dm9pZCAwOnIuc3VjY2VzcykmJnZvaWQgMCE9PWkmJmkpfSkpfSkpfSkpfXZhciB3cjshZnVuY3Rpb24oZSl7ZS5SUENfQ0hFQ0s9XCJycGNDaGVja1wiLGUuU0tJUFBFRF9SUEM9XCJza2lwcGVkUnBjXCJ9KHdyfHwod3I9e30pKTtjb25zdCBTcj1bXCJldGhfc2VuZFRyYW5zYWN0aW9uXCIsXCJldGhfc2lnblR5cGVkRGF0YVwiLFwiZXRoX3NpZ25UcmFuc2FjdGlvblwiLFwicGVyc29uYWxfc2lnblwiLFwid2FsbGV0X3JlcXVlc3RQZXJtaXNzaW9uc1wiLFwid2FsbGV0X3N3aXRjaEV0aGVyZXVtQ2hhaW5cIixcImV0aF9zaWduVHlwZWREYXRhX3YzXCIsXCJldGhfc2lnblR5cGVkRGF0YV92NFwiLFwibWV0YW1hc2tfY29ubmVjdFNpZ25cIixcIm1ldGFtYXNrX2Nvbm5lY3RXaXRoXCIsXCJtZXRhbWFza19iYXRjaFwiXS5tYXAoKGU9PmUudG9Mb3dlckNhc2UoKSkpO2NvbnN0IF9yPVt7ZXZlbnQ6ZXhwb3J0cy5FdmVudFR5cGUuQ0xJRU5UU19DT05ORUNURUQsaGFuZGxlcjpmdW5jdGlvbihlLHQpe3JldHVybiBuPT51KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7dmFyIG4scixpLG8scyxhLGMsZCxsLHUsaDtjb25zdCBmPW51bGwhPT0ocj1udWxsPT09KG49ZS5yZW1vdGUuc3RhdGUuY2hhbm5lbENvbmZpZyl8fHZvaWQgMD09PW4/dm9pZCAwOm4ucmVsYXlQZXJzaXN0ZW5jZSkmJnZvaWQgMCE9PXImJnI7aWYoWm4uU29ja2V0U2VydmljZShgW1NvY2tldFNlcnZpY2U6IGhhbmRsZUNsaWVudHNDb25uZWN0ZWQoKV0gY29udGV4dD0ke2Uuc3RhdGUuY29udGV4dH0gb24gJ2NsaWVudHNfY29ubmVjdGVkLSR7dH0nIHJlbGF5UGVyc2lzdGVuY2U9JHtmfSByZXN1bWVkPSR7ZS5zdGF0ZS5yZXN1bWVkfSAgY2xpZW50c1BhdXNlZD0ke2Uuc3RhdGUuY2xpZW50c1BhdXNlZH0ga2V5c0V4Y2hhbmdlZD0ke251bGw9PT0oaT1lLnN0YXRlLmtleUV4Y2hhbmdlKXx8dm9pZCAwPT09aT92b2lkIDA6aS5hcmVLZXlzRXhjaGFuZ2VkKCl9IGlzT3JpZ2luYXRvcj0ke2Uuc3RhdGUuaXNPcmlnaW5hdG9yfWApLGUuZW1pdChleHBvcnRzLkV2ZW50VHlwZS5DTElFTlRTX0NPTk5FQ1RFRCx7aXNPcmlnaW5hdG9yOmUuc3RhdGUuaXNPcmlnaW5hdG9yLGtleXNFeGNoYW5nZWQ6bnVsbD09PShvPWUuc3RhdGUua2V5RXhjaGFuZ2UpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmFyZUtleXNFeGNoYW5nZWQoKSxjb250ZXh0OmUuc3RhdGUuY29udGV4dH0pLGUuc3RhdGUucmVzdW1lZCllLnN0YXRlLmlzT3JpZ2luYXRvcnx8KFpuLlNvY2tldFNlcnZpY2UoYFtTb2NrZXRTZXJ2aWNlOiBoYW5kbGVDbGllbnRzQ29ubmVjdGVkKCldIGNvbnRleHQ9JHtlLnN0YXRlLmNvbnRleHR9ICdjbGllbnRzX2Nvbm5lY3RlZCcgLyBrZXlzRXhjaGFuZ2VkPSR7bnVsbD09PShzPWUuc3RhdGUua2V5RXhjaGFuZ2UpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLmFyZUtleXNFeGNoYW5nZWQoKX0gLS0gYmFja3dhcmQgY29tcGF0aWJpbGl0eWApLG51bGw9PT0oYT1lLnN0YXRlLmtleUV4Y2hhbmdlKXx8dm9pZCAwPT09YXx8YS5zdGFydCh7aXNPcmlnaW5hdG9yOm51bGwhPT0oYz1lLnN0YXRlLmlzT3JpZ2luYXRvcikmJnZvaWQgMCE9PWMmJmN9KSksZS5zdGF0ZS5yZXN1bWVkPSExO2Vsc2UgaWYoZS5zdGF0ZS5jbGllbnRzUGF1c2VkKVpuLlNvY2tldFNlcnZpY2UoXCJbU29ja2V0U2VydmljZTogaGFuZGxlQ2xpZW50c0Nvbm5lY3RlZCgpXSAnY2xpZW50c19jb25uZWN0ZWQnIHNraXAgc2VuZGluZyBvcmlnaW5hdG9ySW5mbyBvbiBwYXVzZVwiKTtlbHNlIGlmKCFlLnN0YXRlLmlzT3JpZ2luYXRvcil7Y29uc3QgdD0hZjtabi5Tb2NrZXRTZXJ2aWNlKGBbU29ja2V0U2VydmljZTogaGFuZGxlQ2xpZW50c0Nvbm5lY3RlZCgpXSBjb250ZXh0PSR7ZS5zdGF0ZS5jb250ZXh0fSBvbiAnY2xpZW50c19jb25uZWN0ZWQnIC8ga2V5c0V4Y2hhbmdlZD0ke251bGw9PT0oZD1lLnN0YXRlLmtleUV4Y2hhbmdlKXx8dm9pZCAwPT09ZD92b2lkIDA6ZC5hcmVLZXlzRXhjaGFuZ2VkKCl9IC0tIGZvcmNlPSR7dH0gLS0gYmFja3dhcmQgY29tcGF0aWJpbGl0eWApLFpuLlNvY2tldFNlcnZpY2UoYFtTb2NrZXRTZXJ2aWNlOiBoYW5kbGVDbGllbnRzQ29ubmVjdGVkKCldIGNvbnRleHQ9JHtlLnN0YXRlLmNvbnRleHR9IG9uICdjbGllbnRzX2Nvbm5lY3RlZCcgLyBrZXlzRXhjaGFuZ2VkPSR7bnVsbD09PShsPWUuc3RhdGUua2V5RXhjaGFuZ2UpfHx2b2lkIDA9PT1sP3ZvaWQgMDpsLmFyZUtleXNFeGNoYW5nZWQoKX0gLS0gZm9yY2U9JHt0fSAtLSBiYWNrd2FyZCBjb21wYXRpYmlsaXR5YCksbnVsbD09PSh1PWUuc3RhdGUua2V5RXhjaGFuZ2UpfHx2b2lkIDA9PT11fHx1LnN0YXJ0KHtpc09yaWdpbmF0b3I6bnVsbCE9PShoPWUuc3RhdGUuaXNPcmlnaW5hdG9yKSYmdm9pZCAwIT09aCYmaCxmb3JjZTp0fSl9ZS5zdGF0ZS5jbGllbnRzQ29ubmVjdGVkPSEwLGUuc3RhdGUuY2xpZW50c1BhdXNlZD0hMX0pKX19LHtldmVudDpleHBvcnRzLkV2ZW50VHlwZS5DSEFOTkVMX0NSRUFURUQsaGFuZGxlcjpmdW5jdGlvbihlLHQpe3JldHVybiBuPT57Wm4uU29ja2V0U2VydmljZShgW1NvY2tldFNlcnZpY2U6IGhhbmRsZUNoYW5uZWxDcmVhdGVkKCldIGNvbnRleHQ9JHtlLnN0YXRlLmNvbnRleHR9IG9uICdjaGFubmVsX2NyZWF0ZWQtJHt0fSdgLG4pLGUuZW1pdChleHBvcnRzLkV2ZW50VHlwZS5DSEFOTkVMX0NSRUFURUQsbil9fX0se2V2ZW50OmV4cG9ydHMuRXZlbnRUeXBlLkNMSUVOVFNfRElTQ09OTkVDVEVELGhhbmRsZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4oKT0+e3ZhciBuO2Uuc3RhdGUuY2xpZW50c0Nvbm5lY3RlZD0hMSxabi5Tb2NrZXRTZXJ2aWNlKGBbU29ja2V0U2VydmljZTogaGFuZGxlc0NsaWVudHNEaXNjb25uZWN0ZWQoKV0gY29udGV4dD0ke2Uuc3RhdGUuY29udGV4dH0gb24gJ2NsaWVudHNfZGlzY29ubmVjdGVkLSR7dH0nYCksZS5yZW1vdGUuc3RhdGUucmVsYXlQZXJzaXN0ZW5jZT9abi5Tb2NrZXRTZXJ2aWNlKGBbU29ja2V0U2VydmljZTogaGFuZGxlc0NsaWVudHNEaXNjb25uZWN0ZWQoKV0gY29udGV4dD0ke2Uuc3RhdGUuY29udGV4dH0gb24gJ2NsaWVudHNfZGlzY29ubmVjdGVkLSR7dH0nIC0gcmVsYXlQZXJzaXN0ZW5jZSBlbmFibGVkLCBza2lwcGluZyBrZXkgZXhjaGFuZ2UgY2xlYW51cC5gKTooZS5zdGF0ZS5pc09yaWdpbmF0b3ImJiFlLnN0YXRlLmNsaWVudHNQYXVzZWQmJihudWxsPT09KG49ZS5zdGF0ZS5rZXlFeGNoYW5nZSl8fHZvaWQgMD09PW58fG4uY2xlYW4oKSksZS5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLkNMSUVOVFNfRElTQ09OTkVDVEVELHQpKX19fSx7ZXZlbnQ6ZXhwb3J0cy5FdmVudFR5cGUuQ09ORklHLGhhbmRsZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbj0+dSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3ZhciByLGksbztabi5Tb2NrZXRTZXJ2aWNlKGBbU29ja2V0U2VydmljZTogaGFuZGxlQ2hhbm5lbENvbmZpZygpXSB1cGRhdGUgcmVsYXlQZXJzaXN0ZW5jZSBvbiAnY29uZmlnLSR7dH0nYCxuKTtjb25zdHtwZXJzaXN0ZW5jZTpzLHdhbGxldEtleTphfT1uO2Uuc3RhdGUuaXNPcmlnaW5hdG9yJiZlLnJlbW90ZS5zdGF0ZS5jaGFubmVsQ29uZmlnPyhuLndhbGxldEtleSYmIWUucmVtb3RlLnN0YXRlLmNoYW5uZWxDb25maWcub3RoZXJLZXkmJihabi5Tb2NrZXRTZXJ2aWNlKGBTZXR0aW5nIHdhbGxldCBrZXkgJHthfWApLGUucmVtb3RlLnN0YXRlLmNoYW5uZWxDb25maWcub3RoZXJLZXk9YSxlLmdldEtleUV4Y2hhbmdlKCkuc2V0T3RoZXJQdWJsaWNLZXkobi53YWxsZXRLZXkpLG51bGw9PT0ocj1lLnN0YXRlLmtleUV4Y2hhbmdlKXx8dm9pZCAwPT09cnx8ci5zZXRLZXlzRXhjaGFuZ2VkKCEwKSx5aWVsZCBlLnJlbW90ZS5zZW5kTWVzc2FnZSh7dHlwZTpoci5LRVlfSEFORFNIQUtFX0FDS30pLHlpZWxkIGUucmVtb3RlLnNlbmRNZXNzYWdlKHt0eXBlOmV4cG9ydHMuTWVzc2FnZVR5cGUuUElOR30pLHlpZWxkIG51bGw9PT0oaT1lLnJlbW90ZS5zdGF0ZS5zdG9yYWdlTWFuYWdlcil8fHZvaWQgMD09PWk/dm9pZCAwOmkucGVyc2lzdENoYW5uZWxDb25maWcoZS5yZW1vdGUuc3RhdGUuY2hhbm5lbENvbmZpZykpLCEwIT09c3x8ZS5yZW1vdGUuc3RhdGUuY2hhbm5lbENvbmZpZy5yZWxheVBlcnNpc3RlbmNlfHwoWm4uU29ja2V0U2VydmljZShgU2V0dGluZyByZWxheSBwZXJzaXN0ZW5jZSAke3N9YCksZS5yZW1vdGUuc3RhdGUuY2hhbm5lbENvbmZpZy5yZWxheVBlcnNpc3RlbmNlPXMsZS5yZW1vdGUuc3RhdGUucmVsYXlQZXJzaXN0ZW5jZT0hMCxlLnJlbW90ZS5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLkNIQU5ORUxfUEVSU0lTVEVOQ0UpLGUucmVtb3RlLnN0YXRlLmF1dGhvcml6ZWQ9ITAsZS5yZW1vdGUuc3RhdGUucmVhZHk9ITAsZS5yZW1vdGUuZW1pdChleHBvcnRzLkV2ZW50VHlwZS5BVVRIT1JJWkVEKSx5aWVsZCBudWxsPT09KG89ZS5yZW1vdGUuc3RhdGUuc3RvcmFnZU1hbmFnZXIpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLnBlcnNpc3RDaGFubmVsQ29uZmlnKGUucmVtb3RlLnN0YXRlLmNoYW5uZWxDb25maWcpKSk6ZS5zdGF0ZS5pc09yaWdpbmF0b3J8fG4ucGVyc2lzdGVuY2UmJihlLnJlbW90ZS5zdGF0ZS5yZWxheVBlcnNpc3RlbmNlPSEwLGUucmVtb3RlLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuQ0hBTk5FTF9QRVJTSVNURU5DRSkpfSkpfX0se2V2ZW50OmV4cG9ydHMuRXZlbnRUeXBlLk1FU1NBR0UsaGFuZGxlcjpmdW5jdGlvbihlLHQpe3JldHVybiBuPT57dmFyIHIsbyxzLGEsYyxkLGwsdSxoLGYscCxtLGcseSx2LEUsYix3O2NvbnN0e2Fja0lkOlMsbWVzc2FnZTpfLGVycm9yOkN9PW4seD1udWxsIT09KHI9ZS5yZW1vdGUuc3RhdGUucmVsYXlQZXJzaXN0ZW5jZSkmJnZvaWQgMCE9PXImJnI7aWYoWm4uU29ja2V0U2VydmljZShgW1NvY2tldFNlcnZpY2UgaGFuZGxlTWVzc2FnZSgpXSAgcmVsYXlQZXJzaXN0ZW5jZT0ke3h9ICBjb250ZXh0PSR7ZS5zdGF0ZS5jb250ZXh0fSBvbiAnbWVzc2FnZScgJHt0fSBrZXlzRXhjaGFuZ2VkPSR7bnVsbD09PShvPWUuc3RhdGUua2V5RXhjaGFuZ2UpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmFyZUtleXNFeGNoYW5nZWQoKX1gLG4pLEMpdGhyb3cgWm4uU29ja2V0U2VydmljZShgXFxuICAgICAgW1NvY2tldFNlcnZpY2UgaGFuZGxlTWVzc2FnZSgpXSBjb250ZXh0PSR7ZS5zdGF0ZS5jb250ZXh0fTo6b24gJ21lc3NhZ2UnIGVycm9yPSR7Q31gKSxuZXcgRXJyb3IoQyk7Y29uc3Qgaz1cInN0cmluZ1wiPT10eXBlb2YgXztpZighayYmKG51bGw9PV8/dm9pZCAwOl8udHlwZSk9PT1oci5LRVlfSEFORFNIQUtFX1NUQVJUKXtpZih4KXJldHVybjtyZXR1cm4gWm4uU29ja2V0U2VydmljZShgW1NvY2tldFNlcnZpY2UgaGFuZGxlTWVzc2FnZSgpXSBjb250ZXh0PSR7ZS5zdGF0ZS5jb250ZXh0fTo6b24gJ21lc3NhZ2UnIHJlY2VpdmVkIEhBTkRTSEFLRV9TVEFSVCBpc09yaWdpbmF0b3I9JHtlLnN0YXRlLmlzT3JpZ2luYXRvcn1gLF8pLHZvaWQobnVsbD09PShzPWUuc3RhdGUua2V5RXhjaGFuZ2UpfHx2b2lkIDA9PT1zfHxzLnN0YXJ0KHtpc09yaWdpbmF0b3I6bnVsbCE9PShhPWUuc3RhdGUuaXNPcmlnaW5hdG9yKSYmdm9pZCAwIT09YSYmYSxmb3JjZTohMH0pKX1pZighayYmKG51bGw9PT0oYz1udWxsPT1fP3ZvaWQgMDpfLnR5cGUpfHx2b2lkIDA9PT1jP3ZvaWQgMDpjLnN0YXJ0c1dpdGgoXCJrZXlfaGFuZHNoYWtlXCIpKSl7aWYoeClyZXR1cm47cmV0dXJuIFpuLlNvY2tldFNlcnZpY2UoYFtTb2NrZXRTZXJ2aWNlIGhhbmRsZU1lc3NhZ2UoKV0gY29udGV4dD0ke2Uuc3RhdGUuY29udGV4dH06Om9uICdtZXNzYWdlJyBlbWl0IEtFWV9FWENIQU5HRWAsXyksdm9pZCBlLmVtaXQodXIuS0VZX0VYQ0hBTkdFLHttZXNzYWdlOl8sY29udGV4dDplLnN0YXRlLmNvbnRleHR9KX1pZihrJiYhKG51bGw9PT0oZD1lLnN0YXRlLmtleUV4Y2hhbmdlKXx8dm9pZCAwPT09ZD92b2lkIDA6ZC5hcmVLZXlzRXhjaGFuZ2VkKCkpKXtsZXQgdD0hMTt0cnl7Wm4uU29ja2V0U2VydmljZShgW1NvY2tldFNlcnZpY2UgaGFuZGxlTWVzc2FnZSgpXSBjb250ZXh0PSR7ZS5zdGF0ZS5jb250ZXh0fTo6b24gJ21lc3NhZ2UnIHRyeWluZyB0byBkZWNyeXB0IG1lc3NhZ2VgKSxudWxsPT09KGw9ZS5zdGF0ZS5rZXlFeGNoYW5nZSl8fHZvaWQgMD09PWx8fGwuZGVjcnlwdE1lc3NhZ2UoXyksdD0hMH1jYXRjaCh0KXtabi5Tb2NrZXRTZXJ2aWNlKGBbU29ja2V0U2VydmljZSBoYW5kbGVNZXNzYWdlKCldIGNvbnRleHQ9JHtlLnN0YXRlLmNvbnRleHR9OjpvbiAnbWVzc2FnZScgZXJyb3JgLHQpfWlmKCF0KXJldHVybiBlLnN0YXRlLmlzT3JpZ2luYXRvcj9udWxsPT09KGg9ZS5zdGF0ZS5rZXlFeGNoYW5nZSl8fHZvaWQgMD09PWh8fGguc3RhcnQoe2lzT3JpZ2luYXRvcjpudWxsIT09KGY9ZS5zdGF0ZS5pc09yaWdpbmF0b3IpJiZ2b2lkIDAhPT1mJiZmfSk6ZS5zZW5kTWVzc2FnZSh7dHlwZTpoci5LRVlfSEFORFNIQUtFX1NUQVJUfSkuY2F0Y2goKGU9Pnt9KSksdm9pZCBabi5Tb2NrZXRTZXJ2aWNlKGBNZXNzYWdlIGlnbm9yZWQgYmVjYXVzZSBpbnZhbGlkIGtleSBleGNoYW5nZSBzdGF0dXMuIHN0ZXA9JHtudWxsPT09KHA9ZS5zdGF0ZS5rZXlFeGNoYW5nZSl8fHZvaWQgMD09PXA/dm9pZCAwOnAuZ2V0S2V5SW5mbygpLnN0ZXB9YCxudWxsPT09KG09ZS5zdGF0ZS5rZXlFeGNoYW5nZSl8fHZvaWQgMD09PW0/dm9pZCAwOm0uZ2V0S2V5SW5mbygpLF8pO1puLlNvY2tldFNlcnZpY2UoXCJJbnZhbGlkIGtleSBleGNoYW5nZSBzdGF0dXMgZGV0ZWN0ZWQgLS0tIHVwZGF0aW5nIGl0LlwiKSxudWxsPT09KHU9ZS5zdGF0ZS5rZXlFeGNoYW5nZSl8fHZvaWQgMD09PXV8fHUuc2V0S2V5c0V4Y2hhbmdlZCghMCl9ZWxzZSBpZighayYmKG51bGw9PV8/dm9pZCAwOl8udHlwZSkpcmV0dXJuIHZvaWQgZS5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLk1FU1NBR0UsXyk7aWYoIWspcmV0dXJuIHZvaWQgZS5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLk1FU1NBR0UsXyk7Y29uc3QgTT1udWxsPT09KGc9ZS5zdGF0ZS5rZXlFeGNoYW5nZSl8fHZvaWQgMD09PWc/dm9pZCAwOmcuZGVjcnlwdE1lc3NhZ2UoXyksQT1KU09OLnBhcnNlKG51bGwhPU0/TTpcInt9XCIpO2lmKFMmJihudWxsPT1TP3ZvaWQgMDpTLmxlbmd0aCk+MCYmKFpuLlNvY2tldFNlcnZpY2UoYFtTb2NrZXRTZXJ2aWNlIGhhbmRsZU1lc3NhZ2UoKV0gY29udGV4dD0ke2Uuc3RhdGUuY29udGV4dH06Om9uICdtZXNzYWdlJyBhY2tpZD0ke1N9IGNoYW5uZWxJZD0ke3R9YCksbnVsbD09PSh5PWUuc3RhdGUuc29ja2V0KXx8dm9pZCAwPT09eXx8eS5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLk1FU1NBR0VfQUNLLHthY2tJZDpTLGNoYW5uZWxJZDp0LGNsaWVudFR5cGU6ZS5zdGF0ZS5pc09yaWdpbmF0b3I/XCJkYXBwXCI6XCJ3YWxsZXRcIn0pKSxlLnN0YXRlLmNsaWVudHNQYXVzZWQ9KG51bGw9PUE/dm9pZCAwOkEudHlwZSk9PT1leHBvcnRzLk1lc3NhZ2VUeXBlLlBBVVNFLGUuc3RhdGUuaXNPcmlnaW5hdG9yJiZBLmRhdGEpe2NvbnN0IHQ9QS5kYXRhLG49ZS5zdGF0ZS5ycGNNZXRob2RUcmFja2VyW3QuaWRdO2lmKG4pe2NvbnN0IHI9RGF0ZS5ub3coKS1uLnRpbWVzdGFtcDtabi5Tb2NrZXRTZXJ2aWNlKGBbU29ja2V0U2VydmljZSBoYW5kbGVNZXNzYWdlKCldIGNvbnRleHQ9JHtlLnN0YXRlLmNvbnRleHR9OjpvbiAnbWVzc2FnZScgcmVjZWl2ZWQgYW5zd2VyIGZvciBpZD0ke3QuaWR9IG1ldGhvZD0ke24ubWV0aG9kfSByZXNwb25zZVRpbWU9JHtyfWAsQSksZS5yZW1vdGUuc3RhdGUuYW5hbHl0aWNzJiZTci5pbmNsdWRlcyhuLm1ldGhvZC50b0xvd2VyQ2FzZSgpKSYmZXIoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHtpZDpudWxsIT09KHY9ZS5yZW1vdGUuc3RhdGUuY2hhbm5lbElkKSYmdm9pZCAwIT09dj92OlwiXCIsZXZlbnQ6ZnIuU0RLX1JQQ19SRVFVRVNUX0RPTkUsc2RrVmVyc2lvbjplLnJlbW90ZS5zdGF0ZS5zZGtWZXJzaW9uLGNvbW1MYXllclZlcnNpb246bnIudmVyc2lvbn0sZS5yZW1vdGUuc3RhdGUub3JpZ2luYXRvckluZm8pLHt3YWxsZXRWZXJzaW9uOm51bGw9PT0oRT1lLnJlbW90ZS5zdGF0ZS53YWxsZXRJbmZvKXx8dm9pZCAwPT09RT92b2lkIDA6RS52ZXJzaW9uLHBhcmFtczp7bWV0aG9kOm4ubWV0aG9kLGZyb206XCJtb2JpbGVcIn19KSxlLnJlbW90ZS5zdGF0ZS5jb21tdW5pY2F0aW9uU2VydmVyVXJsKS5jYXRjaCgoZT0+e30pKSxkcihuLm1ldGhvZCkmJmkuYW5hbHl0aWNzLnRyYWNrKHQuZXJyb3I/NDAwMT09PXQuZXJyb3IuY29kZT9cInNka19hY3Rpb25fcmVqZWN0ZWRcIjpcInNka19hY3Rpb25fZmFpbGVkXCI6XCJzZGtfYWN0aW9uX3N1Y2NlZWRlZFwiLHthY3Rpb246bi5tZXRob2R9KTtjb25zdCBvPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxuKSx7cmVzdWx0OnQucmVzdWx0LGVycm9yOnQuZXJyb3I/e2NvZGU6bnVsbD09PShiPXQuZXJyb3IpfHx2b2lkIDA9PT1iP3ZvaWQgMDpiLmNvZGUsbWVzc2FnZTpudWxsPT09KHc9dC5lcnJvcil8fHZvaWQgMD09PXc/dm9pZCAwOncubWVzc2FnZX06dm9pZCAwLGVsYXBzZWRUaW1lOnJ9KTtlLnN0YXRlLnJwY01ldGhvZFRyYWNrZXJbdC5pZF09byxlLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuUlBDX1VQREFURSxvKX19ZS5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLk1FU1NBR0Use21lc3NhZ2U6QX0pfX19LHtldmVudDpleHBvcnRzLkV2ZW50VHlwZS5SRUpFQ1RFRCxoYW5kbGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG49PnUodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXt2YXIgbjtlLnN0YXRlLmlzT3JpZ2luYXRvciYmIWUucmVtb3RlLnN0YXRlLnJlYWR5Pyhabi5Tb2NrZXRTZXJ2aWNlKGBbU29ja2V0U2VydmljZTogaGFuZGxlQ2hhbm5lbFJlamVjdGVkKCldIGNvbnRleHQ9JHtlLnN0YXRlLmNvbnRleHR9IGNoYW5uZWxJZD0ke3R9IGlzT3JpZ2luYXRvcj0ke2Uuc3RhdGUuaXNPcmlnaW5hdG9yfSByZWFkeT0ke2UucmVtb3RlLnN0YXRlLnJlYWR5fWAsZS5yZW1vdGUuc3RhdGUub3JpZ2luYXRvckluZm8pLGVyKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7aWQ6dCxldmVudDpmci5SRUpFQ1RFRH0sZS5yZW1vdGUuc3RhdGUub3JpZ2luYXRvckluZm8pLHtzZGtWZXJzaW9uOmUucmVtb3RlLnN0YXRlLnNka1ZlcnNpb24sY29tbUxheWVyOmUuc3RhdGUuY29tbXVuaWNhdGlvbkxheWVyUHJlZmVyZW5jZSxjb21tTGF5ZXJWZXJzaW9uOm5yLnZlcnNpb24sd2FsbGV0VmVyc2lvbjpudWxsPT09KG49ZS5yZW1vdGUuc3RhdGUud2FsbGV0SW5mbyl8fHZvaWQgMD09PW4/dm9pZCAwOm4udmVyc2lvbn0pLGUucmVtb3RlLnN0YXRlLmNvbW11bmljYXRpb25TZXJ2ZXJVcmwpLmNhdGNoKChlPT57fSkpLGkuYW5hbHl0aWNzLnRyYWNrKFwic2RrX2Nvbm5lY3Rpb25fcmVqZWN0ZWRcIix7dHJhbnNwb3J0X3R5cGU6XCJ3ZWJzb2NrZXRcIn0pLHlpZWxkIGUucmVtb3RlLmRpc2Nvbm5lY3Qoe3Rlcm1pbmF0ZTohMH0pLGUucmVtb3RlLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuUkVKRUNURUQse2NoYW5uZWxJZDp0fSksZS5yZW1vdGUuc2V0Q29ubmVjdGlvblN0YXR1cyhleHBvcnRzLkNvbm5lY3Rpb25TdGF0dXMuRElTQ09OTkVDVEVEKSk6Wm4uU29ja2V0U2VydmljZShgW1NvY2tldFNlcnZpY2U6IGhhbmRsZUNoYW5uZWxSZWplY3RlZCgpXSBTS0lQIC0tIGNoYW5uZWxJZD0ke3R9IGlzT3JpZ2luYXRvcj0ke2Uuc3RhdGUuaXNPcmlnaW5hdG9yfSByZWFkeT0ke2UucmVtb3RlLnN0YXRlLnJlYWR5fWApfSkpfX0se2V2ZW50OlwiY2xpZW50c193YWl0aW5nX3RvX2pvaW5cIixoYW5kbGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG49Pntabi5Tb2NrZXRTZXJ2aWNlKGBbU29ja2V0U2VydmljZTogaGFuZGxlQ2xpZW50c1dhaXRpbmdUb0pvaW4oKV0gY29udGV4dD0ke2Uuc3RhdGUuY29udGV4dH0gb24gJ2NsaWVudHNfd2FpdGluZ190b19qb2luLSR7dH0nYCxuKSxlLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuQ0xJRU5UU19XQUlUSU5HLG4pfX19XSxDcj1be2V2ZW50OmV4cG9ydHMuRXZlbnRUeXBlLktFWV9JTkZPLGhhbmRsZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHQ9Pntabi5Tb2NrZXRTZXJ2aWNlKFwiW1NvY2tldFNlcnZpY2U6IGhhbmRsZUtleUluZm8oKV0gb24gJ0tFWV9JTkZPJ1wiLHQpLGUuZW1pdChleHBvcnRzLkV2ZW50VHlwZS5LRVlfSU5GTyx0KX19fSx7ZXZlbnQ6ZXhwb3J0cy5FdmVudFR5cGUuS0VZU19FWENIQU5HRUQsaGFuZGxlcjpmdW5jdGlvbihlKXtyZXR1cm4oKT0+e3ZhciB0LG4scjtabi5Tb2NrZXRTZXJ2aWNlKGBbU29ja2V0U2VydmljZTogaGFuZGxlS2V5c0V4Y2hhbmdlZCgpXSBvbiAna2V5c19leGNoYW5nZWQnIGtleXNjaGFuZ2VkPSR7bnVsbD09PSh0PWUuc3RhdGUua2V5RXhjaGFuZ2UpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmFyZUtleXNFeGNoYW5nZWQoKX1gKTtjb25zdHtjaGFubmVsQ29uZmlnOml9PWUucmVtb3RlLnN0YXRlO2lmKGkpe2NvbnN0IHQ9ZS5nZXRLZXlFeGNoYW5nZSgpLmdldEtleUluZm8oKS5lY2llcztpLmxvY2FsS2V5PXQucHJpdmF0ZSxpLm90aGVyS2V5PXQub3RoZXJQdWJLZXksZS5yZW1vdGUuc3RhdGUuY2hhbm5lbENvbmZpZz1pLG51bGw9PT0obj1lLnJlbW90ZS5zdGF0ZS5zdG9yYWdlTWFuYWdlcil8fHZvaWQgMD09PW58fG4ucGVyc2lzdENoYW5uZWxDb25maWcoaSkuY2F0Y2goKGU9Pnt9KSl9ZS5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLktFWVNfRVhDSEFOR0VELHtrZXlzRXhjaGFuZ2VkOm51bGw9PT0ocj1lLnN0YXRlLmtleUV4Y2hhbmdlKXx8dm9pZCAwPT09cj92b2lkIDA6ci5hcmVLZXlzRXhjaGFuZ2VkKCksaXNPcmlnaW5hdG9yOmUuc3RhdGUuaXNPcmlnaW5hdG9yfSk7Y29uc3Qgbz17a2V5SW5mbzplLmdldEtleUluZm8oKX07ZS5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLlNFUlZJQ0VfU1RBVFVTLG8pfX19XTtmdW5jdGlvbiB4cihlLHQpe1puLlNvY2tldFNlcnZpY2UoYFtTb2NrZXRTZXJ2aWNlOiBzZXR1cENoYW5uZWxMaXN0ZW5lcigpXSBjb250ZXh0PSR7ZS5zdGF0ZS5jb250ZXh0fSBzZXR0aW5nIHNvY2tldCBsaXN0ZW5lcnMgZm9yIGNoYW5uZWwgJHt0fS4uLmApO2NvbnN0e3NvY2tldDpufT1lLnN0YXRlLHtrZXlFeGNoYW5nZTpyfT1lLnN0YXRlO24mJmUuc3RhdGUuaXNPcmlnaW5hdG9yJiYoZS5zdGF0ZS5kZWJ1ZyYmKG51bGw9PW58fG4uaW8ub24oXCJlcnJvclwiLCh0PT57Wm4uU29ja2V0U2VydmljZShgW1NvY2tldFNlcnZpY2U6IHNldHVwQ2hhbm5lbExpc3RlbmVyKCldIGNvbnRleHQ9JHtlLnN0YXRlLmNvbnRleHR9IHNvY2tldCBldmVudD1lcnJvcmAsdCl9KSksbnVsbD09bnx8bi5pby5vbihcInJlY29ubmVjdFwiLCh0PT57Wm4uU29ja2V0U2VydmljZShgW1NvY2tldFNlcnZpY2U6IHNldHVwQ2hhbm5lbExpc3RlbmVyKCldIGNvbnRleHQ9JHtlLnN0YXRlLmNvbnRleHR9IHNvY2tldCBldmVudD1yZWNvbm5lY3RgLHQpLEVyKGUpLmNhdGNoKChlPT57fSkpfSkpLG51bGw9PW58fG4uaW8ub24oXCJyZWNvbm5lY3RfZXJyb3JcIiwodD0+e1puLlNvY2tldFNlcnZpY2UoYFtTb2NrZXRTZXJ2aWNlOiBzZXR1cENoYW5uZWxMaXN0ZW5lcigpXSBjb250ZXh0PSR7ZS5zdGF0ZS5jb250ZXh0fSBzb2NrZXQgZXZlbnQ9cmVjb25uZWN0X2Vycm9yYCx0KX0pKSxudWxsPT1ufHxuLmlvLm9uKFwicmVjb25uZWN0X2ZhaWxlZFwiLCgoKT0+e1puLlNvY2tldFNlcnZpY2UoYFtTb2NrZXRTZXJ2aWNlOiBzZXR1cENoYW5uZWxMaXN0ZW5lcigpXSBjb250ZXh0PSR7ZS5zdGF0ZS5jb250ZXh0fSBzb2NrZXQgZXZlbnQ9cmVjb25uZWN0X2ZhaWxlZGApfSkpKSxudWxsPT1ufHxuLm9uKFwiZGlzY29ubmVjdFwiLCh0PT4oWm4uU29ja2V0U2VydmljZShgW1NvY2tldFNlcnZpY2U6IHNldHVwQ2hhbm5lbExpc3RlbmVyKCldIG9uICdkaXNjb25uZWN0JyAtLSBNZXRhTWFza1NESyBzb2NrZXQgZGlzY29ubmVjdGVkICcke3R9JyBiZWdpbiByZWNvdmVyeS4uLmApLGZ1bmN0aW9uKGUpe3JldHVybiB0PT57Wm4uU29ja2V0U2VydmljZShgW1NvY2tldFNlcnZpY2U6IGhhbmRsZURpc2Nvbm5lY3QoKV0gb24gJ2Rpc2Nvbm5lY3QnIG1hbnVhbERpc2Nvbm5lY3Q9JHtlLnN0YXRlLm1hbnVhbERpc2Nvbm5lY3R9YCx0KSxlLnN0YXRlLm1hbnVhbERpc2Nvbm5lY3R8fChlLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuU09DS0VUX0RJU0NPTk5FQ1RFRCksRXIoZSkuY2F0Y2goKGU9Pnt9KSkpfX0oZSkodCkpKSkpLF9yLmZvckVhY2goKCh7ZXZlbnQ6cixoYW5kbGVyOml9KT0+e251bGw9PW58fG4ub24oYCR7cn0tJHt0fWAsaShlLHQpKX0pKSxDci5mb3JFYWNoKCgoe2V2ZW50OnQsaGFuZGxlcjpufSk9PntudWxsPT1yfHxyLm9uKHQsbihlKSl9KSksZS5zdGF0ZS5zZXR1cENoYW5uZWxMaXN0ZW5lcnM9ITB9Y2xhc3Mga3IgZXh0ZW5kcyBvLkV2ZW50RW1pdHRlcjJ7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLnN0YXRlPXtjbGllbnRzQ29ubmVjdGVkOiExLGNsaWVudHNQYXVzZWQ6ITEsbWFudWFsRGlzY29ubmVjdDohMSxsYXN0UnBjSWQ6dm9pZCAwLHJwY01ldGhvZFRyYWNrZXI6e30saGFzUGxhaW50ZXh0OiExLGNvbW11bmljYXRpb25TZXJ2ZXJVcmw6XCJcIixmb2N1c0xpc3RlbmVyQWRkZWQ6ITEscmVtb3ZlRm9jdXNMaXN0ZW5lcjp2b2lkIDAsaXNSZWNvbm5lY3Rpbmc6ITEscmVjb25uZWN0aW9uQXR0ZW1wdHM6MH0sdGhpcy5vcHRpb25zPWU7Y29uc3R7cmVjb25uZWN0Om4sY29tbXVuaWNhdGlvbkxheWVyUHJlZmVyZW5jZTpyLGNvbW11bmljYXRpb25TZXJ2ZXJVcmw6aSxjb250ZXh0Om8scmVtb3RlOnMsbG9nZ2luZzphfT1lO3RoaXMuc3RhdGUucmVzdW1lZD1uLHRoaXMuc3RhdGUuY29udGV4dD1vLHRoaXMuc3RhdGUuaXNPcmlnaW5hdG9yPXMuc3RhdGUuaXNPcmlnaW5hdG9yLHRoaXMuc3RhdGUuY29tbXVuaWNhdGlvbkxheWVyUHJlZmVyZW5jZT1yLHRoaXMuc3RhdGUuZGVidWc9ITA9PT0obnVsbD09YT92b2lkIDA6YS5zZXJ2aWNlTGF5ZXIpLHRoaXMucmVtb3RlPXMsITA9PT0obnVsbD09YT92b2lkIDA6YS5zZXJ2aWNlTGF5ZXIpJiZ0LmVuYWJsZShcIlNvY2tldFNlcnZpY2U6TGF5ZXJcIiksdGhpcy5zdGF0ZS5jb21tdW5pY2F0aW9uU2VydmVyVXJsPWksdGhpcy5zdGF0ZS5oYXNQbGFpbnRleHQ9dGhpcy5zdGF0ZS5jb21tdW5pY2F0aW9uU2VydmVyVXJsIT09cnImJiEwPT09KG51bGw9PWE/dm9pZCAwOmEucGxhaW50ZXh0KSxabi5Tb2NrZXRTZXJ2aWNlKGBbU29ja2V0U2VydmljZTogY29uc3RydWN0b3IoKV0gU29ja2V0IElPIHVybDogJHt0aGlzLnN0YXRlLmNvbW11bmljYXRpb25TZXJ2ZXJVcmx9YCksdGhpcy5pbml0U29ja2V0KCl9aW5pdFNvY2tldCgpe3ZhciBlO2NvbnN0e290aGVyUHVibGljS2V5OnQsZWNpZXM6bixsb2dnaW5nOnJ9PXRoaXMub3B0aW9ucyxpPXthdXRvQ29ubmVjdDohMSx0cmFuc3BvcnRzOmlyLHdpdGhDcmVkZW50aWFsczohMH0sbz10aGlzLnN0YXRlLmNvbW11bmljYXRpb25TZXJ2ZXJVcmw7Wm4uU29ja2V0U2VydmljZShgW1NvY2tldFNlcnZpY2U6IGluaXRTb2NrZXQoKV0gU29ja2V0IElPIHVybDogJHtvfWApLHRoaXMuc3RhdGUuc29ja2V0PWEuaW8obyxpKSxmdW5jdGlvbihlKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQmJihabi5Tb2NrZXRTZXJ2aWNlKGBbU29ja2V0U2VydmljZTogc2V0dXBTb2NrZXRGb2N1c0xpc3RlbmVyKCldIGhhc0ZvY3VzPSR7ZG9jdW1lbnQuaGFzRm9jdXMoKX1gLGUpLCFlLnN0YXRlLmZvY3VzTGlzdGVuZXJBZGRlZCkpe2NvbnN0IHQ9KCk9Pntabi5Tb2NrZXRTZXJ2aWNlKFwiRG9jdW1lbnQgaGFzIGZvY3VzIC0tLSByZWNvbm5lY3Rpbmcgc29ja2V0XCIpLEVyKGUpLmNhdGNoKChlPT57fSkpfTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsdCksZS5zdGF0ZS5mb2N1c0xpc3RlbmVyQWRkZWQ9ITAsZS5zdGF0ZS5yZW1vdmVGb2N1c0xpc3RlbmVyPSgpPT57d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLHQpLGUuc3RhdGUuZm9jdXNMaXN0ZW5lckFkZGVkPSExfX19KHRoaXMpO2NvbnN0IHM9e2NvbW11bmljYXRpb25MYXllcjp0aGlzLG90aGVyUHVibGljS2V5OnQsc2VuZFB1YmxpY0tleTohMSxjb250ZXh0Om51bGwhPT0oZT10aGlzLnN0YXRlLmNvbnRleHQpJiZ2b2lkIDAhPT1lP2U6XCJcIixlY2llczpuLGxvZ2dpbmc6cn07dGhpcy5zdGF0ZS5rZXlFeGNoYW5nZT1uZXcgbXIocyl9cmVzZXRLZXlzKCl7cmV0dXJuIFpuLlNvY2tldFNlcnZpY2UoXCJbU29ja2V0U2VydmljZTogcmVzZXRLZXlzKCldIFJlc2V0dGluZyBrZXlzLlwiKSx2b2lkKG51bGw9PT0oZT10aGlzLnN0YXRlLmtleUV4Y2hhbmdlKXx8dm9pZCAwPT09ZXx8ZS5yZXNldEtleXMoKSk7dmFyIGV9Y3JlYXRlQ2hhbm5lbCgpe3JldHVybiB1KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB1KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7dmFyIHQsbixyO2lmKFpuLlNvY2tldFNlcnZpY2UoYFtTb2NrZXRTZXJ2aWNlOiBjcmVhdGVDaGFubmVsKCldIGNvbnRleHQ9JHtlLnN0YXRlLmNvbnRleHR9YCksZS5zdGF0ZS5zb2NrZXR8fGUuaW5pdFNvY2tldCgpLG51bGw9PT0odD1lLnN0YXRlLnNvY2tldCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuY29ubmVjdGVkKXRocm93IG5ldyBFcnJvcihcInNvY2tldCBhbHJlYWR5IGNvbm5lY3RlZFwiKTtudWxsPT09KG49ZS5zdGF0ZS5zb2NrZXQpfHx2b2lkIDA9PT1ufHxuLmNvbm5lY3QoKSxlLnN0YXRlLm1hbnVhbERpc2Nvbm5lY3Q9ITEsZS5zdGF0ZS5pc09yaWdpbmF0b3I9ITA7Y29uc3QgaT1zLnY0KCk7ZS5zdGF0ZS5jaGFubmVsSWQ9aSx4cihlLGkpLHlpZWxkIG5ldyBQcm9taXNlKCgodCxuKT0+e3ZhciByO251bGw9PT0ocj1lLnN0YXRlLnNvY2tldCl8fHZvaWQgMD09PXJ8fHIuZW1pdChleHBvcnRzLkV2ZW50VHlwZS5KT0lOX0NIQU5ORUwse2NoYW5uZWxJZDppLGNvbnRleHQ6YCR7ZS5zdGF0ZS5jb250ZXh0fWNyZWF0ZUNoYW5uZWxgLGNsaWVudFR5cGU6XCJkYXBwXCJ9LCgocixpKT0+dSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3RyeXt5aWVsZCBncihlLHIsaSksdCgpfWNhdGNoKGUpe24oZSl9fSkpKSl9KSk7Y29uc3Qgbz1udWxsPT09KHI9ZS5zdGF0ZS5rZXlFeGNoYW5nZSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuZ2V0S2V5SW5mbygpO3JldHVybntjaGFubmVsSWQ6aSxwdWJLZXk6KG51bGw9PW8/dm9pZCAwOm8uZWNpZXMucHVibGljKXx8XCJcIixwcml2S2V5OihudWxsPT1vP3ZvaWQgMDpvLmVjaWVzLnByaXZhdGUpfHxcIlwifX0pKX0odGhpcyl9KSl9Y29ubmVjdFRvQ2hhbm5lbCh7Y2hhbm5lbElkOmUsd2l0aEtleUV4Y2hhbmdlOnQ9ITEsYXV0aG9yaXplZDpufSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB1KHRoaXMsYXJndW1lbnRzLHZvaWQgMCwoZnVuY3Rpb24qKHtvcHRpb25zOmUsaW5zdGFuY2U6dH0pe2NvbnN0e2NoYW5uZWxJZDpuLGF1dGhvcml6ZWQ6cix3aXRoS2V5RXhjaGFuZ2U6aX09ZSx7c3RhdGU6byxyZW1vdGU6c309dCx7aXNPcmlnaW5hdG9yOmE9ITEsc29ja2V0OmMsa2V5RXhjaGFuZ2U6ZH09byx7Y2hhbm5lbENvbmZpZzpsfT1zLnN0YXRlO2lmKG51bGw9PWM/dm9pZCAwOmMuY29ubmVjdGVkKXRocm93IG5ldyBFcnJvcihcInNvY2tldCBhbHJlYWR5IGNvbm5lY3RlZFwiKTtpZihhJiYobnVsbD09bD92b2lkIDA6bC5yZWxheVBlcnNpc3RlbmNlKSl7Y29uc3R7bG9jYWxLZXk6ZSxvdGhlcktleTp0fT1sO2UmJnQmJihudWxsPT1kfHxkLnNldFJlbGF5UGVyc2lzdGVuY2Uoe2xvY2FsS2V5OmUsb3RoZXJLZXk6dH0pKX1yZXR1cm4gT2JqZWN0LmFzc2lnbihvLHttYW51YWxEaXNjb25uZWN0OiExLHdpdGhLZXlFeGNoYW5nZTppLGlzT3JpZ2luYXRvcjphLGNoYW5uZWxJZDpufSksbnVsbD09Y3x8Yy5jb25uZWN0KCkseHIodCxuKSwhYSYmciYmKG51bGw9PWR8fGQuc2V0S2V5c0V4Y2hhbmdlZCghMCksT2JqZWN0LmFzc2lnbihzLnN0YXRlLHtyZWFkeTohMCxhdXRob3JpemVkOiEwfSkpLG5ldyBQcm9taXNlKChlPT57dmFyIGk7Y29uc3Qgcz1udWxsPT09KGk9bnVsbD09ZD92b2lkIDA6ZC5nZXRLZXlJbmZvKCkpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmVjaWVzLnB1YmxpYztudWxsPT1jfHxjLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuSk9JTl9DSEFOTkVMLHtjaGFubmVsSWQ6bixjb250ZXh0OmAke28uY29udGV4dH1fY29ubmVjdFRvQ2hhbm5lbGAsY2xpZW50VHlwZTphP1wiZGFwcFwiOlwid2FsbGV0XCIscHVibGljS2V5OnImJiFhP3M6dm9pZCAwfSwoKG4scik9PnUodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXt5aWVsZCBncih0LG4sciksZSgpfSkpKSl9KSl9KSl9KHtvcHRpb25zOntjaGFubmVsSWQ6ZSx3aXRoS2V5RXhjaGFuZ2U6dCxhdXRob3JpemVkOm59LGluc3RhbmNlOnRoaXN9KX1nZXRLZXlJbmZvKCl7cmV0dXJuIHRoaXMuc3RhdGUua2V5RXhjaGFuZ2UuZ2V0S2V5SW5mbygpfWtleUNoZWNrKCl7dmFyIGUsdDtudWxsPT09KHQ9KGU9dGhpcykuc3RhdGUuc29ja2V0KXx8dm9pZCAwPT09dHx8dC5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLk1FU1NBR0Use2lkOmUuc3RhdGUuY2hhbm5lbElkLGNvbnRleHQ6ZS5zdGF0ZS5jb250ZXh0LG1lc3NhZ2U6e3R5cGU6aHIuS0VZX0hBTkRTSEFLRV9DSEVDSyxwdWJrZXk6ZS5nZXRLZXlJbmZvKCkuZWNpZXMub3RoZXJQdWJLZXl9fSl9Z2V0S2V5RXhjaGFuZ2UoKXtyZXR1cm4gdGhpcy5zdGF0ZS5rZXlFeGNoYW5nZX1zZW5kTWVzc2FnZShlKXtyZXR1cm4gdSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3JldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiB1KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7dmFyIG4scixvO2lmKCFlLnN0YXRlLmNoYW5uZWxJZCl0aHJvdyBabi5Tb2NrZXRTZXJ2aWNlKFwiaGFuZGxlU2VuZE1lc3NhZ2U6IG5vIGNoYW5uZWxJZCAtIENyZWF0ZSBhIGNoYW5uZWwgZmlyc3RcIiksbmV3IEVycm9yKFwiQ3JlYXRlIGEgY2hhbm5lbCBmaXJzdFwiKTtpZihabi5Tb2NrZXRTZXJ2aWNlKGBbU29ja2V0U2VydmljZTogaGFuZGxlU2VuZE1lc3NhZ2UoKV0gY29udGV4dD0ke2Uuc3RhdGUuY29udGV4dH0gYXJlS2V5c0V4Y2hhbmdlZD0ke251bGw9PT0obj1lLnN0YXRlLmtleUV4Y2hhbmdlKXx8dm9pZCAwPT09bj92b2lkIDA6bi5hcmVLZXlzRXhjaGFuZ2VkKCl9YCx0KSxudWxsPT09KHI9bnVsbD09dD92b2lkIDA6dC50eXBlKXx8dm9pZCAwPT09cj92b2lkIDA6ci5zdGFydHNXaXRoKFwia2V5X2hhbmRzaGFrZVwiKSlyZXR1cm4gZnVuY3Rpb24oZSx0KXt2YXIgbjtabi5Tb2NrZXRTZXJ2aWNlKGBbU29ja2V0U2VydmljZTogaGFuZGxlS2V5SGFuZHNoYWtlKCldIGNvbnRleHQ9JHtlLnN0YXRlLmNvbnRleHR9YCx0KSxudWxsPT09KG49ZS5zdGF0ZS5zb2NrZXQpfHx2b2lkIDA9PT1ufHxuLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuTUVTU0FHRSx7aWQ6ZS5zdGF0ZS5jaGFubmVsSWQsY29udGV4dDplLnN0YXRlLmNvbnRleHQsY2xpZW50VHlwZTplLnN0YXRlLmlzT3JpZ2luYXRvcj9cImRhcHBcIjpcIndhbGxldFwiLG1lc3NhZ2U6dH0pfShlLHQpLCEwOyFmdW5jdGlvbihlLHQpe3ZhciBuO2lmKCEobnVsbD09PShuPWUuc3RhdGUua2V5RXhjaGFuZ2UpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmFyZUtleXNFeGNoYW5nZWQoKSkmJiFlLnJlbW90ZS5zdGF0ZS5yZWxheVBlcnNpc3RlbmNlKXRocm93IFpuLlNvY2tldFNlcnZpY2UoYFtTb2NrZXRTZXJ2aWNlOiB2YWxpZGF0ZUtleUV4Y2hhbmdlKCldIGNvbnRleHQ9JHtlLnN0YXRlLmNvbnRleHR9IEVSUk9SIGtleXMgbm90IGV4Y2hhbmdlZGAsdCksbmV3IEVycm9yKFwiS2V5cyBub3QgZXhjaGFuZ2VkIEJCQlwiKX0oZSx0KSxmdW5jdGlvbihlLHQpe3ZhciBuO2NvbnN0IHI9bnVsbCE9PShuPW51bGw9PXQ/dm9pZCAwOnQubWV0aG9kKSYmdm9pZCAwIT09bj9uOlwiXCIsaT1udWxsPT10P3ZvaWQgMDp0LmlkO2Uuc3RhdGUuaXNPcmlnaW5hdG9yJiZpJiYoZS5zdGF0ZS5ycGNNZXRob2RUcmFja2VyW2ldPXtpZDppLHRpbWVzdGFtcDpEYXRlLm5vdygpLG1ldGhvZDpyfSxlLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuUlBDX1VQREFURSxlLnN0YXRlLnJwY01ldGhvZFRyYWNrZXJbaV0pKX0oZSx0KTtjb25zdCBzPXlpZWxkIGJyKGUsdCk7cmV0dXJuIGUucmVtb3RlLnN0YXRlLmFuYWx5dGljcyYmZS5yZW1vdGUuc3RhdGUuaXNPcmlnaW5hdG9yJiZ0Lm1ldGhvZCYmU3IuaW5jbHVkZXModC5tZXRob2QudG9Mb3dlckNhc2UoKSkmJmVyKHtpZDpudWxsIT09KG89ZS5yZW1vdGUuc3RhdGUuY2hhbm5lbElkKSYmdm9pZCAwIT09bz9vOlwiXCIsZXZlbnQ6ZnIuU0RLX1JQQ19SRVFVRVNULHBhcmFtczp7bWV0aG9kOnQubWV0aG9kLGZyb206XCJtb2JpbGVcIn19LGUucmVtb3RlLnN0YXRlLmNvbW11bmljYXRpb25TZXJ2ZXJVcmwpLmNhdGNoKChlPT57fSkpLGUucmVtb3RlLnN0YXRlLmlzT3JpZ2luYXRvciYmdC5tZXRob2QmJmRyKHQubWV0aG9kKSYmaS5hbmFseXRpY3MudHJhY2soXCJzZGtfYWN0aW9uX3JlcXVlc3RlZFwiLHthY3Rpb246dC5tZXRob2R9KSxmdW5jdGlvbihlLHQpe3JldHVybiB1KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7dmFyIG47Y29uc3Qgcj1udWxsPT10P3ZvaWQgMDp0LmlkLGk9bnVsbCE9PShuPW51bGw9PXQ/dm9pZCAwOnQubWV0aG9kKSYmdm9pZCAwIT09bj9uOlwiXCI7aWYoZS5zdGF0ZS5pc09yaWdpbmF0b3ImJnIpdHJ5e2NvbnN0IG49dnIocixlLnN0YXRlLnJwY01ldGhvZFRyYWNrZXIsMjAwKS50aGVuKChlPT4oe3R5cGU6d3IuUlBDX0NIRUNLLHJlc3VsdDplfSkpKSxvPSgoKT0+dSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2NvbnN0IHQ9eWllbGQoZT0+dSh2b2lkIDAsW2VdLHZvaWQgMCwoZnVuY3Rpb24qKHtycGNJZDplLGluc3RhbmNlOnR9KXtmb3IoO3Quc3RhdGUubGFzdFJwY0lkPT09ZXx8dm9pZCAwPT09dC5zdGF0ZS5sYXN0UnBjSWQ7KXlpZWxkIHlyKDIwMCk7cmV0dXJuIHQuc3RhdGUubGFzdFJwY0lkfSkpKSh7aW5zdGFuY2U6ZSxycGNJZDpyfSksbj15aWVsZCB2cih0LGUuc3RhdGUucnBjTWV0aG9kVHJhY2tlciwyMDApO3JldHVybnt0eXBlOndyLlNLSVBQRURfUlBDLHJlc3VsdDpufX0pKSkoKSxzPXlpZWxkIFByb21pc2UucmFjZShbbixvXSk7aWYocy50eXBlPT09d3IuUlBDX0NIRUNLKXtjb25zdCBlPXMucmVzdWx0O1puLlNvY2tldFNlcnZpY2UoYFtTb2NrZXRTZXJ2aWNlOmhhbmRsZVJwY1JlcGxpZXMoKV0gaWQ9JHt0LmlkfSAke2l9ICggJHtlLmVsYXBzZWRUaW1lfSBtcylgLGUucmVzdWx0KX1lbHNle2lmKHMudHlwZSE9PXdyLlNLSVBQRURfUlBDKXRocm93IG5ldyBFcnJvcihgRXJyb3IgaGFuZGxpbmcgUlBDIHJlcGxpZXMgZm9yICR7cn1gKTt7Y29uc3QgdD1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZS5zdGF0ZS5ycGNNZXRob2RUcmFja2VyW3JdKSx7ZXJyb3I6bmV3IEVycm9yKFwiU0RLX0NPTk5FQ1RJT05fSVNTVUVcIil9KTtlLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuUlBDX1VQREFURSx0KTtjb25zdCBuPXtkYXRhOk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0KSx7anNvbnJwYzpcIjIuMFwifSksbmFtZTpcIm1ldGFtYXNrLXByb3ZpZGVyXCJ9O2UuZW1pdChleHBvcnRzLkV2ZW50VHlwZS5NRVNTQUdFLHttZXNzYWdlOm59KX19fWNhdGNoKGUpe3Rocm93IGV9fSkpfShlLHQpLmNhdGNoKChlPT57fSkpLHN9KSl9KHRoaXMsZSl9KSl9cGluZygpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3ZhciB0LG47Wm4uU29ja2V0U2VydmljZShgW1NvY2tldFNlcnZpY2U6IHBpbmcoKV0gY29udGV4dD0ke2Uuc3RhdGUuY29udGV4dH0gb3JpZ2luYXRvcj0ke2Uuc3RhdGUuaXNPcmlnaW5hdG9yfSBrZXlzRXhjaGFuZ2VkPSR7bnVsbD09PSh0PWUuc3RhdGUua2V5RXhjaGFuZ2UpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmFyZUtleXNFeGNoYW5nZWQoKX1gKSxudWxsPT09KG49ZS5zdGF0ZS5zb2NrZXQpfHx2b2lkIDA9PT1ufHxuLmVtaXQoZXhwb3J0cy5NZXNzYWdlVHlwZS5QSU5HLHtpZDplLnN0YXRlLmNoYW5uZWxJZCxjb250ZXh0OlwicGluZ1wiLGNsaWVudFR5cGU6ZS5yZW1vdGUuc3RhdGUuaXNPcmlnaW5hdG9yP1wiZGFwcFwiOlwid2FsbGV0XCIsbWVzc2FnZTpcIlwifSl9KSl9KHRoaXMpfXBhdXNlKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB1KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7dmFyIHQsbjtabi5Tb2NrZXRTZXJ2aWNlKGBbU29ja2V0U2VydmljZTogcGF1c2UoKV0gY29udGV4dD0ke2Uuc3RhdGUuY29udGV4dH1gKSxlLnN0YXRlLm1hbnVhbERpc2Nvbm5lY3Q9ITAsKG51bGw9PT0odD1lLnN0YXRlLmtleUV4Y2hhbmdlKXx8dm9pZCAwPT09dD92b2lkIDA6dC5hcmVLZXlzRXhjaGFuZ2VkKCkpJiYoeWllbGQgZS5zZW5kTWVzc2FnZSh7dHlwZTpleHBvcnRzLk1lc3NhZ2VUeXBlLlBBVVNFfSkpLG51bGw9PT0obj1lLnN0YXRlLnNvY2tldCl8fHZvaWQgMD09PW58fG4uZGlzY29ubmVjdCgpfSkpfSh0aGlzKX1pc0Nvbm5lY3RlZCgpe3ZhciBlO3JldHVybiBudWxsPT09KGU9dGhpcy5zdGF0ZS5zb2NrZXQpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmNvbm5lY3RlZH1yZXN1bWUoKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHUodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtjb25zdHtzdGF0ZTp0LHJlbW90ZTpufT1lLHtzb2NrZXQ6cixjaGFubmVsSWQ6aSxjb250ZXh0Om8sa2V5RXhjaGFuZ2U6cyxpc09yaWdpbmF0b3I6YX09dCx7aXNPcmlnaW5hdG9yOmN9PW4uc3RhdGU7aWYoWm4uU29ja2V0U2VydmljZShgW1NvY2tldFNlcnZpY2U6IHJlc3VtZSgpXSBjaGFubmVsSWQ9JHtpfSBjb250ZXh0PSR7b30gY29ubmVjdGVkPSR7bnVsbD09cj92b2lkIDA6ci5jb25uZWN0ZWR9IG1hbnVhbERpc2Nvbm5lY3Q9JHt0Lm1hbnVhbERpc2Nvbm5lY3R9IHJlc3VtZWQ9JHt0LnJlc3VtZWR9IGtleXNFeGNoYW5nZWQ9JHtudWxsPT1zP3ZvaWQgMDpzLmFyZUtleXNFeGNoYW5nZWQoKX1gKSwhaSl0aHJvdyBabi5Tb2NrZXRTZXJ2aWNlKFwiW1NvY2tldFNlcnZpY2U6IHJlc3VtZSgpXSBjaGFubmVsSWQgaXMgbm90IGRlZmluZWRcIiksbmV3IEVycm9yKFwiQ2hhbm5lbElkIGlzIG5vdCBkZWZpbmVkXCIpOyhudWxsPT1yP3ZvaWQgMDpyLmNvbm5lY3RlZCk/KFpuLlNvY2tldFNlcnZpY2UoXCJbU29ja2V0U2VydmljZTogcmVzdW1lKCldIGFscmVhZHkgY29ubmVjdGVkLlwiKSxyLmVtaXQoZXhwb3J0cy5NZXNzYWdlVHlwZS5QSU5HLHtpZDppLGNsaWVudFR5cGU6Yz9cImRhcHBcIjpcIndhbGxldFwiLGNvbnRleHQ6XCJvbl9jaGFubmVsX2NvbmZpZ1wiLG1lc3NhZ2U6XCJcIn0pLG4uaGFzUmVsYXlQZXJzaXN0ZW5jZSgpfHwobnVsbD09cz92b2lkIDA6cy5hcmVLZXlzRXhjaGFuZ2VkKCkpfHwoYT95aWVsZCBlLnNlbmRNZXNzYWdlKHt0eXBlOmV4cG9ydHMuTWVzc2FnZVR5cGUuUkVBRFl9KTpudWxsPT1zfHxzLnN0YXJ0KHtpc09yaWdpbmF0b3I6ITF9KSkpOihudWxsPT1yfHxyLmNvbm5lY3QoKSxabi5Tb2NrZXRTZXJ2aWNlKGBbU29ja2V0U2VydmljZTogcmVzdW1lKCldIGFmdGVyIGNvbm5lY3Rpbmcgc29ja2V0IC0tXFx4M2UgY29ubmVjdGVkPSR7bnVsbD09cj92b2lkIDA6ci5jb25uZWN0ZWR9YCksbnVsbD09cnx8ci5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLkpPSU5fQ0hBTk5FTCx7Y2hhbm5lbElkOmksY29udGV4dDpgJHtvfV9yZXN1bWVgLGNsaWVudFR5cGU6Yz9cImRhcHBcIjpcIndhbGxldFwifSwoKHQsbik9PnUodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXt0cnl7eWllbGQgZ3IoZSx0LG4pfWNhdGNoKGUpe319KSkpKSksdC5tYW51YWxEaXNjb25uZWN0PSExLHQucmVzdW1lZD0hMH0pKX0odGhpcyl9Z2V0UlBDTWV0aG9kVHJhY2tlcigpe3JldHVybiB0aGlzLnN0YXRlLnJwY01ldGhvZFRyYWNrZXJ9ZGlzY29ubmVjdChlKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxzO1puLlNvY2tldFNlcnZpY2UoYFtTb2NrZXRTZXJ2aWNlOiBkaXNjb25uZWN0KCldIGNvbnRleHQ9JHtlLnN0YXRlLmNvbnRleHR9YCx0KSwobnVsbD09dD92b2lkIDA6dC50ZXJtaW5hdGUpJiYobnVsbD09PShyPShuPWUuc3RhdGUpLnJlbW92ZUZvY3VzTGlzdGVuZXIpfHx2b2lkIDA9PT1yfHxyLmNhbGwobiksZS5zdGF0ZS5jaGFubmVsSWQ9dC5jaGFubmVsSWQsbnVsbD09PShpPWUuc3RhdGUuc29ja2V0KXx8dm9pZCAwPT09aXx8aS5yZW1vdmVBbGxMaXN0ZW5lcnMoKSxudWxsPT09KG89ZS5zdGF0ZS5rZXlFeGNoYW5nZSl8fHZvaWQgMD09PW98fG8uY2xlYW4oKSxlLnJlbW90ZS5zdGF0ZS5yZWFkeT0hMSxlLnN0YXRlLnNvY2tldD12b2lkIDAsZS5zdGF0ZS5ycGNNZXRob2RUcmFja2VyPXt9KSxlLnN0YXRlLm1hbnVhbERpc2Nvbm5lY3Q9ITAsbnVsbD09PShzPWUuc3RhdGUuc29ja2V0KXx8dm9pZCAwPT09c3x8cy5kaXNjb25uZWN0KCl9KHRoaXMsZSl9fXZhciBNcjtmdW5jdGlvbiBBcihlKXtyZXR1cm4oKT0+dSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3ZhciB0LG4scjtjb25zdHtzdGF0ZTppfT1lO2lmKGkuYXV0aG9yaXplZClyZXR1cm47eWllbGQoKCk9PnUodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtmb3IoOyFpLndhbGxldEluZm87KXlpZWxkIHlyKDUwMCl9KSkpKCk7Y29uc3Qgbz1cIjcuM1wiLmxvY2FsZUNvbXBhcmUoKG51bGw9PT0odD1pLndhbGxldEluZm8pfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnZlcnNpb24pfHxcIlwiKTtpZihabi5SZW1vdGVDb21tdW5pY2F0aW9uKGBbUmVtb3RlQ29tbXVuaWNhdGlvbjogaGFuZGxlQXV0aG9yaXplZEV2ZW50KCldIEhBQ0sgJ2F1dGhvcml6ZWQnIHZlcnNpb249JHtudWxsPT09KG49aS53YWxsZXRJbmZvKXx8dm9pZCAwPT09bj92b2lkIDA6bi52ZXJzaW9ufSBjb21wYXJlVmFsdWU9JHtvfWApLDEhPT1vKXJldHVybjtjb25zdCBzPWkucGxhdGZvcm1UeXBlPT09ZXhwb3J0cy5QbGF0Zm9ybVR5cGUuTW9iaWxlV2VifHxpLnBsYXRmb3JtVHlwZT09PWV4cG9ydHMuUGxhdGZvcm1UeXBlLlJlYWN0TmF0aXZlfHxpLnBsYXRmb3JtVHlwZT09PWV4cG9ydHMuUGxhdGZvcm1UeXBlLk1ldGFNYXNrTW9iaWxlV2Vidmlldztabi5SZW1vdGVDb21tdW5pY2F0aW9uKGBbUmVtb3RlQ29tbXVuaWNhdGlvbjogaGFuZGxlQXV0aG9yaXplZEV2ZW50KCldIEhBQ0sgJ2F1dGhvcml6ZWQnIHBsYXRmb3JtPSR7aS5wbGF0Zm9ybVR5cGV9IHNlY3VyZT0ke3N9IGNoYW5uZWw9JHtpLmNoYW5uZWxJZH0gd2FsbGV0VmVyc2lvbj0ke251bGw9PT0ocj1pLndhbGxldEluZm8pfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnZlcnNpb259YCkscyYmKGkuYXV0aG9yaXplZD0hMCxlLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuQVVUSE9SSVpFRCkpfSkpfWZ1bmN0aW9uIFRyKGUpe3JldHVybiB0PT57Y29uc3R7c3RhdGU6bn09ZTtabi5SZW1vdGVDb21tdW5pY2F0aW9uKGBbUmVtb3RlQ29tbXVuaWNhdGlvbjogaGFuZGxlQ2hhbm5lbENyZWF0ZWRFdmVudCgpXSBjb250ZXh0PSR7bi5jb250ZXh0fSBvbiAnY2hhbm5lbF9jcmVhdGVkJyBjaGFubmVsSWQ9JHt0fWApLGUuZW1pdChleHBvcnRzLkV2ZW50VHlwZS5DSEFOTkVMX0NSRUFURUQsdCl9fWZ1bmN0aW9uIElyKGUsdCl7cmV0dXJuKCk9Pnt2YXIgbixyLG8scztjb25zdHtzdGF0ZTphfT1lO1puLlJlbW90ZUNvbW11bmljYXRpb24oYFtSZW1vdGVDb21tdW5pY2F0aW9uOiBoYW5kbGVDbGllbnRzQ29ubmVjdGVkRXZlbnQoKV0gb24gJ2NsaWVudHNfY29ubmVjdGVkJyBjaGFubmVsPSR7YS5jaGFubmVsSWR9IGtleXNFeGNoYW5nZWQ9JHtudWxsPT09KHI9bnVsbD09PShuPWEuY29tbXVuaWNhdGlvbkxheWVyKXx8dm9pZCAwPT09bj92b2lkIDA6bi5nZXRLZXlJbmZvKCkpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmtleXNFeGNoYW5nZWR9YCksYS5hbmFseXRpY3MmJmVyKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7aWQ6bnVsbCE9PShvPWEuY2hhbm5lbElkKSYmdm9pZCAwIT09bz9vOlwiXCIsZXZlbnQ6YS5yZWNvbm5lY3Rpb24/ZnIuUkVDT05ORUNUOmEuaXNPcmlnaW5hdG9yP2ZyLlJFUVVFU1Q6ZnIuUkVRVUVTVF9NT0JJTEV9LGEub3JpZ2luYXRvckluZm8pLHtjb21tTGF5ZXI6dCxzZGtWZXJzaW9uOmEuc2RrVmVyc2lvbix3YWxsZXRWZXJzaW9uOm51bGw9PT0ocz1hLndhbGxldEluZm8pfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLnZlcnNpb24sY29tbUxheWVyVmVyc2lvbjpuci52ZXJzaW9ufSksYS5jb21tdW5pY2F0aW9uU2VydmVyVXJsKS5jYXRjaCgoZT0+e30pKSxhLmlzT3JpZ2luYXRvciYmIWEucmVjb25uZWN0aW9uJiZpLmFuYWx5dGljcy50cmFjayhcInNka19jb25uZWN0aW9uX2VzdGFibGlzaGVkXCIse3RyYW5zcG9ydF90eXBlOlwid2Vic29ja2V0XCJ9KSxhLmNsaWVudHNDb25uZWN0ZWQ9ITAsYS5vcmlnaW5hdG9ySW5mb1NlbnQ9ITEsZS5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLkNMSUVOVFNfQ09OTkVDVEVEKX19ZnVuY3Rpb24gUnIoZSl7cmV0dXJuIHQ9Pntjb25zdHtzdGF0ZTpufT1lO1puLlJlbW90ZUNvbW11bmljYXRpb24oYFtSZW1vdGVDb21tdW5pY2F0aW9uOiBoYW5kbGVDbGllbnRzRGlzY29ubmVjdGVkRXZlbnQoKV0gY29udGV4dD0ke24uY29udGV4dH0gb24gJ2NsaWVudHNfZGlzY29ubmVjdGVkJyBjaGFubmVsSWQ9JHt0fWApLG4ucmVsYXlQZXJzaXN0ZW5jZXx8KG4uY2xpZW50c0Nvbm5lY3RlZD0hMSxuLnJlYWR5PSExLG4uYXV0aG9yaXplZD0hMSksZS5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLkNMSUVOVFNfRElTQ09OTkVDVEVELG4uY2hhbm5lbElkKSxlLnNldENvbm5lY3Rpb25TdGF0dXMoZXhwb3J0cy5Db25uZWN0aW9uU3RhdHVzLkRJU0NPTk5FQ1RFRCl9fWZ1bmN0aW9uIFByKGUpe3JldHVybiB0PT57dmFyIG47Y29uc3R7c3RhdGU6cn09ZTtpZihabi5SZW1vdGVDb21tdW5pY2F0aW9uKGBbUmVtb3RlQ29tbXVuaWNhdGlvbjogaGFuZGxlQ2xpZW50c1dhaXRpbmdFdmVudCgpXSBjb250ZXh0PSR7ci5jb250ZXh0fSBvbiAnY2xpZW50c193YWl0aW5nJyBudW1iZXJVc2Vycz0ke3R9IHJlYWR5PSR7ci5yZWFkeX0gYXV0b1N0YXJ0ZWQ9JHtyLm9yaWdpbmF0b3JDb25uZWN0U3RhcnRlZH1gKSxlLnNldENvbm5lY3Rpb25TdGF0dXMoZXhwb3J0cy5Db25uZWN0aW9uU3RhdHVzLldBSVRJTkcpLGUuZW1pdChleHBvcnRzLkV2ZW50VHlwZS5DTElFTlRTX1dBSVRJTkcsdCksci5vcmlnaW5hdG9yQ29ubmVjdFN0YXJ0ZWQpe1puLlJlbW90ZUNvbW11bmljYXRpb24oYFtSZW1vdGVDb21tdW5pY2F0aW9uOiBoYW5kbGVDbGllbnRzV2FpdGluZ0V2ZW50KCldIG9uICdjbGllbnRzX3dhaXRpbmcnIHdhdGNoIGF1dG9TdGFydGVkPSR7ci5vcmlnaW5hdG9yQ29ubmVjdFN0YXJ0ZWR9IHRpbWVvdXRgLHIuYXV0b0Nvbm5lY3RPcHRpb25zKTtjb25zdCB0PShudWxsPT09KG49ci5hdXRvQ29ubmVjdE9wdGlvbnMpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnRpbWVvdXQpfHwzZTMsaT1zZXRUaW1lb3V0KCgoKT0+e1puLlJlbW90ZUNvbW11bmljYXRpb24oYFtSZW1vdGVDb21tdW5pY2F0aW9uOiBoYW5kbGVDbGllbnRzV2FpdGluZ0V2ZW50KCldIHNldFRpbWVvdXQoJHt0fSkgdGVybWluYXRlIGNoYW5uZWxDb25maWdgLHIuYXV0b0Nvbm5lY3RPcHRpb25zKSxyLm9yaWdpbmF0b3JDb25uZWN0U3RhcnRlZD0hMSxyLnJlYWR5fHxlLnNldENvbm5lY3Rpb25TdGF0dXMoZXhwb3J0cy5Db25uZWN0aW9uU3RhdHVzLlRJTUVPVVQpLGNsZWFyVGltZW91dChpKX0pLHQpfX19ZnVuY3Rpb24gT3IoZSx0KXtyZXR1cm4gbj0+e3ZhciByLGksbyxzLGEsYyxkLGw7Y29uc3R7c3RhdGU6dX09ZTtpZihabi5SZW1vdGVDb21tdW5pY2F0aW9uKGBbUmVtb3RlQ29tbXVuaWNhdGlvbjogaGFuZGxlS2V5c0V4Y2hhbmdlZEV2ZW50KCldIGNvbnRleHQ9JHt1LmNvbnRleHR9IG9uIGNvbW1MYXllci4na2V5c19leGNoYW5nZWQnIGNoYW5uZWw9JHt1LmNoYW5uZWxJZH1gLG4pLG51bGw9PT0oaT1udWxsPT09KHI9dS5jb21tdW5pY2F0aW9uTGF5ZXIpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmdldEtleUluZm8oKSl8fHZvaWQgMD09PWk/dm9pZCAwOmkua2V5c0V4Y2hhbmdlZCl7Y29uc3QgdD1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdS5jaGFubmVsQ29uZmlnKSx7Y2hhbm5lbElkOm51bGwhPT0obz11LmNoYW5uZWxJZCkmJnZvaWQgMCE9PW8/bzpcIlwiLHZhbGlkVW50aWw6KG51bGw9PT0ocz11LmNoYW5uZWxDb25maWcpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLnZhbGlkVW50aWwpfHxvcixsb2NhbEtleTp1LmNvbW11bmljYXRpb25MYXllci5nZXRLZXlJbmZvKCkuZWNpZXMucHJpdmF0ZSxvdGhlcktleTp1LmNvbW11bmljYXRpb25MYXllci5nZXRLZXlJbmZvKCkuZWNpZXMub3RoZXJQdWJLZXl9KTtudWxsPT09KGE9dS5zdG9yYWdlTWFuYWdlcil8fHZvaWQgMD09PWF8fGEucGVyc2lzdENoYW5uZWxDb25maWcodCkuY2F0Y2goKGU9Pnt9KSksZS5zZXRDb25uZWN0aW9uU3RhdHVzKGV4cG9ydHMuQ29ubmVjdGlvblN0YXR1cy5MSU5LRUQpfSFmdW5jdGlvbihlLHQpe3ZhciBuLHIsaSxvLHMsYSxjLGQ7Y29uc3R7c3RhdGU6bH09ZTtabi5SZW1vdGVDb21tdW5pY2F0aW9uKGBbUmVtb3RlQ29tbXVuaWNhdGlvbjogc2V0TGFzdEFjdGl2ZURhdGUoKV0gY2hhbm5lbD0ke2wuY2hhbm5lbElkfWAsdCk7Y29uc3QgdT1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sbC5jaGFubmVsQ29uZmlnKSx7Y2hhbm5lbElkOm51bGwhPT0obj1sLmNoYW5uZWxJZCkmJnZvaWQgMCE9PW4/bjpcIlwiLHZhbGlkVW50aWw6bnVsbCE9PShpPW51bGw9PT0ocj1sLmNoYW5uZWxDb25maWcpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnZhbGlkVW50aWwpJiZ2b2lkIDAhPT1pP2k6MCxyZWxheVBlcnNpc3RlbmNlOmwucmVsYXlQZXJzaXN0ZW5jZSxsb2NhbEtleTpudWxsPT09KHM9bnVsbD09PShvPWwuY29tbXVuaWNhdGlvbkxheWVyKXx8dm9pZCAwPT09bz92b2lkIDA6by5zdGF0ZS5rZXlFeGNoYW5nZSl8fHZvaWQgMD09PXM/dm9pZCAwOnMuZ2V0S2V5SW5mbygpLmVjaWVzLnByaXZhdGUsb3RoZXJLZXk6bnVsbD09PShjPW51bGw9PT0oYT1sLmNvbW11bmljYXRpb25MYXllcil8fHZvaWQgMD09PWE/dm9pZCAwOmEuc3RhdGUua2V5RXhjaGFuZ2UpfHx2b2lkIDA9PT1jP3ZvaWQgMDpjLmdldEtleUluZm8oKS5lY2llcy5vdGhlclB1YktleSxsYXN0QWN0aXZlOnQuZ2V0VGltZSgpfSk7bnVsbD09PShkPWwuc3RvcmFnZU1hbmFnZXIpfHx2b2lkIDA9PT1kfHxkLnBlcnNpc3RDaGFubmVsQ29uZmlnKHUpfShlLG5ldyBEYXRlKSx1LmFuYWx5dGljcyYmdS5jaGFubmVsSWQmJmVyKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7aWQ6dS5jaGFubmVsSWQsZXZlbnQ6bi5pc09yaWdpbmF0b3I/ZnIuQ09OTkVDVEVEOmZyLkNPTk5FQ1RFRF9NT0JJTEV9LHUub3JpZ2luYXRvckluZm8pLHtzZGtWZXJzaW9uOnUuc2RrVmVyc2lvbixjb21tTGF5ZXI6dCxjb21tTGF5ZXJWZXJzaW9uOm5yLnZlcnNpb24sd2FsbGV0VmVyc2lvbjpudWxsPT09KGM9dS53YWxsZXRJbmZvKXx8dm9pZCAwPT09Yz92b2lkIDA6Yy52ZXJzaW9ufSksdS5jb21tdW5pY2F0aW9uU2VydmVyVXJsKS5jYXRjaCgoZT0+e30pKSx1LmlzT3JpZ2luYXRvcj1uLmlzT3JpZ2luYXRvcixuLmlzT3JpZ2luYXRvcnx8KG51bGw9PT0oZD11LmNvbW11bmljYXRpb25MYXllcil8fHZvaWQgMD09PWR8fGQuc2VuZE1lc3NhZ2Uoe3R5cGU6ZXhwb3J0cy5NZXNzYWdlVHlwZS5SRUFEWX0pLHUucmVhZHk9ITAsdS5wYXVzZWQ9ITEpLG4uaXNPcmlnaW5hdG9yJiYhdS5vcmlnaW5hdG9ySW5mb1NlbnQmJihudWxsPT09KGw9dS5jb21tdW5pY2F0aW9uTGF5ZXIpfHx2b2lkIDA9PT1sfHxsLnNlbmRNZXNzYWdlKHt0eXBlOmV4cG9ydHMuTWVzc2FnZVR5cGUuT1JJR0lOQVRPUl9JTkZPLG9yaWdpbmF0b3JJbmZvOnUub3JpZ2luYXRvckluZm8sb3JpZ2luYXRvcjp1Lm9yaWdpbmF0b3JJbmZvfSksdS5vcmlnaW5hdG9ySW5mb1NlbnQ9ITApfX1mdW5jdGlvbiBOcihlKXtyZXR1cm4gdD0+e2xldCBuPXQ7dC5tZXNzYWdlJiYobj1uLm1lc3NhZ2UpLGZ1bmN0aW9uKGUsdCl7Y29uc3R7c3RhdGU6bn09dDtpZihabi5SZW1vdGVDb21tdW5pY2F0aW9uKGBbUmVtb3RlQ29tbXVuaWNhdGlvbjogb25Db21tdW5pY2F0aW9uTGF5ZXJNZXNzYWdlKCldIGNvbnRleHQ9JHtuLmNvbnRleHR9IG9uICdtZXNzYWdlJyB0eXBlb2Y9JHt0eXBlb2YgZX1gLGUpLHQuc3RhdGUucmVhZHk9ITAsbi5pc09yaWdpbmF0b3J8fGUudHlwZSE9PWV4cG9ydHMuTWVzc2FnZVR5cGUuT1JJR0lOQVRPUl9JTkZPKWlmKG4uaXNPcmlnaW5hdG9yJiZlLnR5cGU9PT1leHBvcnRzLk1lc3NhZ2VUeXBlLldBTExFVF9JTkZPKSFmdW5jdGlvbihlLHQpe2NvbnN0e3N0YXRlOm59PWU7bi53YWxsZXRJbmZvPXQud2FsbGV0SW5mbyxuLnBhdXNlZD0hMX0odCxlKTtlbHNle2lmKG4uaXNPcmlnaW5hdG9yJiZlLnR5cGU9PT1leHBvcnRzLk1lc3NhZ2VUeXBlLldBTExFVF9JTklUKShmdW5jdGlvbihlLHQpe3JldHVybiB1KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7dmFyIG4scixpO2NvbnN0e3N0YXRlOm99PWU7aWYoby5pc09yaWdpbmF0b3Ipe2NvbnN0IG89dC5kYXRhfHx7fTtpZihcIm9iamVjdFwiPT10eXBlb2YgbyYmXCJhY2NvdW50c1wiaW4gbyYmXCJjaGFpbklkXCJpbiBvJiZcIndhbGxldEtleVwiaW4gbyl0cnl7Y29uc3R7Y2hhbm5lbENvbmZpZzp0fT1lLnN0YXRlO2lmKFpuLlJlbW90ZUNvbW11bmljYXRpb24oXCJXQUxMRVRfSU5JVDogY2hhbm5lbENvbmZpZ1wiLEpTT04uc3RyaW5naWZ5KHQsbnVsbCwyKSksdCl7Y29uc3Qgcz1vLmFjY291bnRzLGE9by5jaGFpbklkLGM9by53YWxsZXRLZXk7bGV0IGQsbD0hMTtcImRlZXBsaW5rUHJvdG9jb2xcImluIG8mJihsPUJvb2xlYW4oby5kZWVwbGlua1Byb3RvY29sKSxlLnN0YXRlLmRlZXBsaW5rUHJvdG9jb2xBdmFpbGFibGU9bCksXCJ3YWxsZXRWZXJzaW9uXCJpbiBvJiYoZD1vLndhbGxldFZlcnNpb24pLHlpZWxkIG51bGw9PT0obj1lLnN0YXRlLnN0b3JhZ2VNYW5hZ2VyKXx8dm9pZCAwPT09bj92b2lkIDA6bi5wZXJzaXN0Q2hhbm5lbENvbmZpZyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse290aGVyS2V5OmMsd2FsbGV0VmVyc2lvbjpkLGRlZXBsaW5rUHJvdG9jb2xBdmFpbGFibGU6bCxyZWxheVBlcnNpc3RlbmNlOiEwfSkpLHlpZWxkIG51bGw9PT0ocj1lLnN0YXRlLnN0b3JhZ2VNYW5hZ2VyKXx8dm9pZCAwPT09cj92b2lkIDA6ci5wZXJzaXN0QWNjb3VudHMocykseWllbGQgbnVsbD09PShpPWUuc3RhdGUuc3RvcmFnZU1hbmFnZXIpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnBlcnNpc3RDaGFpbklkKGEpfWUuZW1pdChleHBvcnRzLkV2ZW50VHlwZS5XQUxMRVRfSU5JVCx7YWNjb3VudHM6by5hY2NvdW50cyxjaGFpbklkOm8uY2hhaW5JZH0pfWNhdGNoKG4pe319fSkpfSkodCxlKS5jYXRjaCgoZT0+e1puLlJlbW90ZUNvbW11bmljYXRpb24oYFtSZW1vdGVDb21tdW5pY2F0aW9uOiBvbkNvbW11bmljYXRpb25MYXllck1lc3NhZ2UoKV0gZXJyb3I9JHtlfWApfSkpO2Vsc2UgaWYoZS50eXBlPT09ZXhwb3J0cy5NZXNzYWdlVHlwZS5URVJNSU5BVEUpKGZ1bmN0aW9uKGUpe3JldHVybiB1KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7Y29uc3R7c3RhdGU6dH09ZTt0LmlzT3JpZ2luYXRvciYmKHlpZWxkIGpyKHtvcHRpb25zOnt0ZXJtaW5hdGU6ITAsc2VuZE1lc3NhZ2U6ITF9LGluc3RhbmNlOmV9KSxlLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuVEVSTUlOQVRFKSl9KSl9KSh0KS5jYXRjaCgoZT0+e1puLlJlbW90ZUNvbW11bmljYXRpb24oYFtSZW1vdGVDb21tdW5pY2F0aW9uOiBvbkNvbW11bmljYXRpb25MYXllck1lc3NhZ2UoKV0gZXJyb3I9JHtlfWApfSkpO2Vsc2UgaWYoZS50eXBlPT09ZXhwb3J0cy5NZXNzYWdlVHlwZS5QQVVTRSkhZnVuY3Rpb24oZSl7Y29uc3R7c3RhdGU6dH09ZTt0LnBhdXNlZD0hMCxlLnNldENvbm5lY3Rpb25TdGF0dXMoZXhwb3J0cy5Db25uZWN0aW9uU3RhdHVzLlBBVVNFRCl9KHQpO2Vsc2UgaWYoZS50eXBlPT09ZXhwb3J0cy5NZXNzYWdlVHlwZS5SRUFEWSYmbi5pc09yaWdpbmF0b3IpIWZ1bmN0aW9uKGUpe2NvbnN0e3N0YXRlOnR9PWU7ZS5zZXRDb25uZWN0aW9uU3RhdHVzKGV4cG9ydHMuQ29ubmVjdGlvblN0YXR1cy5MSU5LRUQpO2NvbnN0IG49dC5wYXVzZWQ7dC5wYXVzZWQ9ITEsZS5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLkNMSUVOVFNfUkVBRFkse2lzT3JpZ2luYXRvcjp0LmlzT3JpZ2luYXRvcix3YWxsZXRJbmZvOnQud2FsbGV0SW5mb30pLG4mJih0LmF1dGhvcml6ZWQ9ITAsZS5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLkFVVEhPUklaRUQpKX0odCk7ZWxzZXtpZihlLnR5cGU9PT1leHBvcnRzLk1lc3NhZ2VUeXBlLk9UUCYmbi5pc09yaWdpbmF0b3IpcmV0dXJuIHZvaWQgZnVuY3Rpb24oZSx0KXt2YXIgbjtjb25zdHtzdGF0ZTpyfT1lO2UuZW1pdChleHBvcnRzLkV2ZW50VHlwZS5PVFAsdC5vdHBBbnN3ZXIpLDE9PT1cIjYuNlwiLmxvY2FsZUNvbXBhcmUoKG51bGw9PT0obj1yLndhbGxldEluZm8pfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnZlcnNpb24pfHxcIlwiKSYmZS5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLlNES19SUENfQ0FMTCx7bWV0aG9kOmFyLkVUSF9SRVFVRVNUQUNDT1VOVFMscGFyYW1zOltdfSl9KHQsZSk7ZS50eXBlPT09ZXhwb3J0cy5NZXNzYWdlVHlwZS5BVVRIT1JJWkVEJiZuLmlzT3JpZ2luYXRvciYmZnVuY3Rpb24oZSl7Y29uc3R7c3RhdGU6dH09ZTt0LmF1dGhvcml6ZWQ9ITAsZS5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLkFVVEhPUklaRUQpfSh0KX10LmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuTUVTU0FHRSxlKX1lbHNlIWZ1bmN0aW9uKGUsdCl7dmFyIG47Y29uc3R7c3RhdGU6cn09ZTtudWxsPT09KG49ci5jb21tdW5pY2F0aW9uTGF5ZXIpfHx2b2lkIDA9PT1ufHxuLnNlbmRNZXNzYWdlKHt0eXBlOmV4cG9ydHMuTWVzc2FnZVR5cGUuV0FMTEVUX0lORk8sd2FsbGV0SW5mbzpyLndhbGxldEluZm99KSxyLm9yaWdpbmF0b3JJbmZvPXQub3JpZ2luYXRvckluZm98fHQub3JpZ2luYXRvcixlLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuQ0xJRU5UU19SRUFEWSx7aXNPcmlnaW5hdG9yOnIuaXNPcmlnaW5hdG9yLG9yaWdpbmF0b3JJbmZvOnIub3JpZ2luYXRvckluZm99KSxyLnBhdXNlZD0hMX0odCxlKX0obixlKX19ZnVuY3Rpb24gRHIoZSl7cmV0dXJuKCk9Pntjb25zdHtzdGF0ZTp0fT1lO1puLlJlbW90ZUNvbW11bmljYXRpb24oXCJbUmVtb3RlQ29tbXVuaWNhdGlvbjogaGFuZGxlU29ja2V0UmVjb25uZWN0RXZlbnQoKV0gb24gJ3NvY2tldF9yZWNvbm5lY3QnIC0tIHJlc2V0IGtleSBleGNoYW5nZSBzdGF0dXMgLyBzZXQgcmVhZHkgdG8gZmFsc2VcIiksdC5yZWFkeT0hMSx0LmF1dGhvcml6ZWQ9ITEsbHIodCksZS5lbWl0U2VydmljZVN0YXR1c0V2ZW50KHtjb250ZXh0Olwic29ja2V0X3JlY29ubmVjdFwifSl9fWZ1bmN0aW9uIExyKGUpe3JldHVybigpPT57Y29uc3R7c3RhdGU6dH09ZTtabi5SZW1vdGVDb21tdW5pY2F0aW9uKFwiW1JlbW90ZUNvbW11bmljYXRpb246IGhhbmRsZVNvY2tldERpc2Nvbm5lY3RlZEV2ZW50KCldIG9uICdzb2NrZXRfRGlzY29ubmVjdGVkJyBzZXQgcmVhZHkgdG8gZmFsc2VcIiksdC5yZWFkeT0hMX19ZnVuY3Rpb24gQnIoZSl7cmV0dXJuKCk9PnUodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXt2YXIgdCxuLHIsaSxvLHMsYTtjb25zdHtzdGF0ZTpjfT1lO1puLlJlbW90ZUNvbW11bmljYXRpb24oYFtSZW1vdGVDb21tdW5pY2F0aW9uOiBoYW5kbGVGdWxsUGVyc2lzdGVuY2VFdmVudCgpXSBjb250ZXh0PSR7Yy5jb250ZXh0fWApLGUuc3RhdGUucmVhZHk9ITAsZS5zdGF0ZS5jbGllbnRzQ29ubmVjdGVkPSEwLGUuc3RhdGUuYXV0aG9yaXplZD0hMCxlLnN0YXRlLnJlbGF5UGVyc2lzdGVuY2U9ITAsbnVsbD09PSh0PWUuc3RhdGUuY29tbXVuaWNhdGlvbkxheWVyKXx8dm9pZCAwPT09dHx8dC5nZXRLZXlFeGNoYW5nZSgpLnNldEtleXNFeGNoYW5nZWQoITApLGUuZW1pdChleHBvcnRzLkV2ZW50VHlwZS5LRVlTX0VYQ0hBTkdFRCx7a2V5c0V4Y2hhbmdlZDohMCxpc09yaWdpbmF0b3I6ITB9KSxlLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuQVVUSE9SSVpFRCksZS5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLkNMSUVOVFNfUkVBRFkpLGUuZW1pdChleHBvcnRzLkV2ZW50VHlwZS5DSEFOTkVMX1BFUlNJU1RFTkNFKTt0cnl7Yy5jaGFubmVsQ29uZmlnPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxjLmNoYW5uZWxDb25maWcpLHtsb2NhbEtleTpudWxsPT09KG49Yy5jb21tdW5pY2F0aW9uTGF5ZXIpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmdldEtleUV4Y2hhbmdlKCkuZ2V0S2V5SW5mbygpLmVjaWVzLnByaXZhdGUsb3RoZXJLZXk6bnVsbD09PShyPWMuY29tbXVuaWNhdGlvbkxheWVyKXx8dm9pZCAwPT09cj92b2lkIDA6ci5nZXRLZXlFeGNoYW5nZSgpLmdldE90aGVyUHVibGljS2V5KCksY2hhbm5lbElkOm51bGwhPT0oaT1jLmNoYW5uZWxJZCkmJnZvaWQgMCE9PWk/aTpcIlwiLHZhbGlkVW50aWw6bnVsbCE9PShzPW51bGw9PT0obz1jLmNoYW5uZWxDb25maWcpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLnZhbGlkVW50aWwpJiZ2b2lkIDAhPT1zP3M6b3IscmVsYXlQZXJzaXN0ZW5jZTohMH0pLHlpZWxkIG51bGw9PT0oYT1jLnN0b3JhZ2VNYW5hZ2VyKXx8dm9pZCAwPT09YT92b2lkIDA6YS5wZXJzaXN0Q2hhbm5lbENvbmZpZyhjLmNoYW5uZWxDb25maWcpfWNhdGNoKHQpe319KSl9ZnVuY3Rpb24gS3Ioe2NvbW11bmljYXRpb25MYXllclByZWZlcmVuY2U6ZSxvdGhlclB1YmxpY0tleTp0LHJlY29ubmVjdDpuLGVjaWVzOnIsY29tbXVuaWNhdGlvblNlcnZlclVybDppPXJyLGluc3RhbmNlOm99KXt2YXIgcyxhLGMsZCxsLHUsaCxmLHAsbSxnO2NvbnN0e3N0YXRlOnl9PW87aWYoWm4uUmVtb3RlQ29tbXVuaWNhdGlvbihcIltpbml0Q29tbXVuaWNhdGlvbkxheWVyKCldIFwiLEpTT04uc3RyaW5naWZ5KHksbnVsbCwyKSksZSE9PWV4cG9ydHMuQ29tbXVuaWNhdGlvbkxheWVyUHJlZmVyZW5jZS5TT0NLRVQpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjb21tdW5pY2F0aW9uIHByb3RvY29sXCIpO3kuY29tbXVuaWNhdGlvbkxheWVyPW5ldyBrcih7Y29tbXVuaWNhdGlvbkxheWVyUHJlZmVyZW5jZTplLG90aGVyUHVibGljS2V5OnQscmVjb25uZWN0Om4sdHJhbnNwb3J0czp5LnRyYW5zcG9ydHMsY29tbXVuaWNhdGlvblNlcnZlclVybDppLGNvbnRleHQ6eS5jb250ZXh0LGVjaWVzOnIsbG9nZ2luZzp5LmxvZ2dpbmcscmVtb3RlOm99KTtsZXQgdj1cInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQmJmRvY3VtZW50LlVSTHx8XCJcIixFPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudCYmZG9jdW1lbnQudGl0bGV8fFwiXCI7KG51bGw9PT0ocz15LmRhcHBNZXRhZGF0YSl8fHZvaWQgMD09PXM/dm9pZCAwOnMudXJsKSYmKHY9eS5kYXBwTWV0YWRhdGEudXJsKSwobnVsbD09PShhPXkuZGFwcE1ldGFkYXRhKXx8dm9pZCAwPT09YT92b2lkIDA6YS5uYW1lKSYmKEU9eS5kYXBwTWV0YWRhdGEubmFtZSk7Y29uc3QgYj1udWxsIT09KHU9bnVsbCE9PShkPW51bGw9PT0oYz15LmRhcHBNZXRhZGF0YSl8fHZvaWQgMD09PWM/dm9pZCAwOmMubmFtZSkmJnZvaWQgMCE9PWQ/ZDpudWxsPT09KGw9eS5kYXBwTWV0YWRhdGEpfHx2b2lkIDA9PT1sP3ZvaWQgMDpsLnVybCkmJnZvaWQgMCE9PXU/dTpcIk4vQVwiLHc9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmdm9pZCAwIT09d2luZG93LmxvY2F0aW9uJiZudWxsIT09KGg9d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lKSYmdm9pZCAwIT09aD9oOmIsUz17dXJsOnYsdGl0bGU6RSxzb3VyY2U6bnVsbD09PShmPXkuZGFwcE1ldGFkYXRhKXx8dm9pZCAwPT09Zj92b2lkIDA6Zi5zb3VyY2UsZGFwcElkOncsYW5vbklkOnkuYW5vbklkLGljb246KG51bGw9PT0ocD15LmRhcHBNZXRhZGF0YSl8fHZvaWQgMD09PXA/dm9pZCAwOnAuaWNvblVybCl8fChudWxsPT09KG09eS5kYXBwTWV0YWRhdGEpfHx2b2lkIDA9PT1tP3ZvaWQgMDptLmJhc2U2NEljb24pLHBsYXRmb3JtOnkucGxhdGZvcm1UeXBlLGFwaVZlcnNpb246bnIudmVyc2lvbixjb25uZWN0b3I6bnVsbD09PShnPXkuZGFwcE1ldGFkYXRhKXx8dm9pZCAwPT09Zz92b2lkIDA6Zy5jb25uZWN0b3J9O3kub3JpZ2luYXRvckluZm89Uztjb25zdCBfPXtbZXhwb3J0cy5FdmVudFR5cGUuQVVUSE9SSVpFRF06QXIobyksW2V4cG9ydHMuRXZlbnRUeXBlLk1FU1NBR0VdOk5yKG8pLFtleHBvcnRzLkV2ZW50VHlwZS5DSEFOTkVMX1BFUlNJU1RFTkNFXTpCcihvKSxbZXhwb3J0cy5FdmVudFR5cGUuQ0xJRU5UU19DT05ORUNURURdOklyKG8sZSksW2V4cG9ydHMuRXZlbnRUeXBlLktFWVNfRVhDSEFOR0VEXTpPcihvLGUpLFtleHBvcnRzLkV2ZW50VHlwZS5TT0NLRVRfRElTQ09OTkVDVEVEXTpMcihvKSxbZXhwb3J0cy5FdmVudFR5cGUuU09DS0VUX1JFQ09OTkVDVF06RHIobyksW2V4cG9ydHMuRXZlbnRUeXBlLkNMSUVOVFNfRElTQ09OTkVDVEVEXTpScihvKSxbZXhwb3J0cy5FdmVudFR5cGUuS0VZX0lORk9dOigpPT57fSxbZXhwb3J0cy5FdmVudFR5cGUuQ0hBTk5FTF9DUkVBVEVEXTpUcihvKSxbZXhwb3J0cy5FdmVudFR5cGUuQ0xJRU5UU19XQUlUSU5HXTpQcihvKSxbZXhwb3J0cy5FdmVudFR5cGUuUlBDX1VQREFURV06ZT0+e28uZW1pdChleHBvcnRzLkV2ZW50VHlwZS5SUENfVVBEQVRFLGUpfX07Zm9yKGNvbnN0W3Qsbl1vZiBPYmplY3QuZW50cmllcyhfKSl0cnl7eS5jb21tdW5pY2F0aW9uTGF5ZXIub24odCxuKX1jYXRjaChlKXt9fWZ1bmN0aW9uIGpyKGUpe3JldHVybiB1KHRoaXMsYXJndW1lbnRzLHZvaWQgMCwoZnVuY3Rpb24qKHtvcHRpb25zOmUsaW5zdGFuY2U6dH0pe2NvbnN0e3N0YXRlOm59PXQ7cmV0dXJuIFpuLlJlbW90ZUNvbW11bmljYXRpb24oYFtSZW1vdGVDb21tdW5pY2F0aW9uOiBkaXNjb25uZWN0KCldIGNoYW5uZWw9JHtuLmNoYW5uZWxJZH1gLGUpLG5ldyBQcm9taXNlKCgocixpKT0+e3ZhciBvLGEsYyxkLGwsdTsobnVsbD09ZT92b2lkIDA6ZS50ZXJtaW5hdGUpPyh0LnN0YXRlLnJlYWR5JiZlcih7aWQ6bnVsbCE9PShvPXQuc3RhdGUuY2hhbm5lbElkKSYmdm9pZCAwIT09bz9vOlwiXCIsZXZlbnQ6ZnIuVEVSTUlOQVRFRH0sdC5zdGF0ZS5jb21tdW5pY2F0aW9uU2VydmVyVXJsKS5jYXRjaCgoZT0+e30pKSxuLnJlYWR5PSExLG4ucGF1c2VkPSExLG51bGw9PT0oYT1uLnN0b3JhZ2VNYW5hZ2VyKXx8dm9pZCAwPT09YXx8YS50ZXJtaW5hdGUobnVsbCE9PShjPW4uY2hhbm5lbElkKSYmdm9pZCAwIT09Yz9jOlwiXCIpLHQuc3RhdGUudGVybWluYXRlZD0hMCxlLnNlbmRNZXNzYWdlPyhudWxsPT09KGQ9bi5jb21tdW5pY2F0aW9uTGF5ZXIpfHx2b2lkIDA9PT1kP3ZvaWQgMDpkLmdldEtleUluZm8oKS5rZXlzRXhjaGFuZ2VkKSYmdC5zdGF0ZS5jb21tdW5pY2F0aW9uTGF5ZXImJmJyKHQuc3RhdGUuY29tbXVuaWNhdGlvbkxheWVyLHt0eXBlOmV4cG9ydHMuTWVzc2FnZVR5cGUuVEVSTUlOQVRFfSkudGhlbigoKCk9PntyKCEwKX0pKS5jYXRjaCgoZT0+e2koZSl9KSk6cighMCksbi5hdXRob3JpemVkPSExLG4ucmVsYXlQZXJzaXN0ZW5jZT0hMSxuLmNoYW5uZWxJZD1zLnY0KCksZS5jaGFubmVsSWQ9bi5jaGFubmVsSWQsbi5jaGFubmVsQ29uZmlnPXZvaWQgMCxuLm9yaWdpbmF0b3JDb25uZWN0U3RhcnRlZD0hMSxudWxsPT09KGw9bi5jb21tdW5pY2F0aW9uTGF5ZXIpfHx2b2lkIDA9PT1sfHxsLmRpc2Nvbm5lY3QoZSksdC5zZXRDb25uZWN0aW9uU3RhdHVzKGV4cG9ydHMuQ29ubmVjdGlvblN0YXR1cy5URVJNSU5BVEVEKSk6KG51bGw9PT0odT1uLmNvbW11bmljYXRpb25MYXllcil8fHZvaWQgMD09PXV8fHUuZGlzY29ubmVjdChlKSx0LnNldENvbm5lY3Rpb25TdGF0dXMoZXhwb3J0cy5Db25uZWN0aW9uU3RhdHVzLkRJU0NPTk5FQ1RFRCkscighMCkpfSkpfSkpfWV4cG9ydHMuQ29tbXVuaWNhdGlvbkxheWVyUHJlZmVyZW5jZT12b2lkIDAsZXhwb3J0cy5QbGF0Zm9ybVR5cGU9dm9pZCAwLChleHBvcnRzLkNvbW11bmljYXRpb25MYXllclByZWZlcmVuY2V8fChleHBvcnRzLkNvbW11bmljYXRpb25MYXllclByZWZlcmVuY2U9e30pKS5TT0NLRVQ9XCJzb2NrZXRcIixmdW5jdGlvbihlKXtlLk5vbkJyb3dzZXI9XCJub2RlanNcIixlLk1ldGFNYXNrTW9iaWxlV2Vidmlldz1cImluLWFwcC1icm93c2VyXCIsZS5EZXNrdG9wV2ViPVwid2ViLWRlc2t0b3BcIixlLk1vYmlsZVdlYj1cIndlYi1tb2JpbGVcIixlLlJlYWN0TmF0aXZlPVwicmVhY3QtbmF0aXZlXCJ9KGV4cG9ydHMuUGxhdGZvcm1UeXBlfHwoZXhwb3J0cy5QbGF0Zm9ybVR5cGU9e30pKTtjbGFzcyAkciBleHRlbmRzIG8uRXZlbnRFbWl0dGVyMntjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMuc3RhdGU9e3JlYWR5OiExLGFub25JZDpcIlwiLGF1dGhvcml6ZWQ6ITEsaXNPcmlnaW5hdG9yOiExLHRlcm1pbmF0ZWQ6ITEscHJvdG9jb2xWZXJzaW9uOjEscGF1c2VkOiExLGRlZXBsaW5rUHJvdG9jb2xBdmFpbGFibGU6ITEscGxhdGZvcm1UeXBlOlwibWV0YW1hc2stbW9iaWxlXCIsYW5hbHl0aWNzOiExLHJlY29ubmVjdGlvbjohMSxvcmlnaW5hdG9ySW5mb1NlbnQ6ITEsY29tbXVuaWNhdGlvblNlcnZlclVybDpycixjb250ZXh0OlwiXCIscGVyc2lzdDohMSxjbGllbnRzQ29ubmVjdGVkOiExLHNlc3Npb25EdXJhdGlvbjpvcixvcmlnaW5hdG9yQ29ubmVjdFN0YXJ0ZWQ6ITEsZGVidWc6ITEsX2Nvbm5lY3Rpb25TdGF0dXM6ZXhwb3J0cy5Db25uZWN0aW9uU3RhdHVzLkRJU0NPTk5FQ1RFRH0sdGhpcy5fb3B0aW9ucz1lO2NvbnN0e2Fub25JZDpuLHBsYXRmb3JtVHlwZTpyLGNvbW11bmljYXRpb25MYXllclByZWZlcmVuY2U6aSxvdGhlclB1YmxpY0tleTpvLHJlY29ubmVjdDpzLHdhbGxldEluZm86YSxkYXBwTWV0YWRhdGE6Yyxwcm90b2NvbFZlcnNpb246ZCx0cmFuc3BvcnRzOmwsY29udGV4dDp1LHJlbGF5UGVyc2lzdGVuY2U6aCxlY2llczpmLGFuYWx5dGljczpwPSExLHN0b3JhZ2U6bSxzZGtWZXJzaW9uOmcsY29tbXVuaWNhdGlvblNlcnZlclVybDp5PXJyLGxvZ2dpbmc6dixhdXRvQ29ubmVjdDpFPXt0aW1lb3V0OnNyfX09ZTt0aGlzLnN0YXRlLmFub25JZD1uLHRoaXMuc3RhdGUub3RoZXJQdWJsaWNLZXk9byx0aGlzLnN0YXRlLmRhcHBNZXRhZGF0YT1jLHRoaXMuc3RhdGUud2FsbGV0SW5mbz1hLHRoaXMuc3RhdGUudHJhbnNwb3J0cz1sLHRoaXMuc3RhdGUucGxhdGZvcm1UeXBlPXIsdGhpcy5zdGF0ZS5hbmFseXRpY3M9cCx0aGlzLnN0YXRlLnByb3RvY29sVmVyc2lvbj1udWxsIT1kP2Q6MSx0aGlzLnN0YXRlLmlzT3JpZ2luYXRvcj0hbyx0aGlzLnN0YXRlLnJlbGF5UGVyc2lzdGVuY2U9aCx0aGlzLnN0YXRlLmNvbW11bmljYXRpb25TZXJ2ZXJVcmw9eSx0aGlzLnN0YXRlLmNvbnRleHQ9dSx0aGlzLnN0YXRlLnRlcm1pbmF0ZWQ9ITEsdGhpcy5zdGF0ZS5zZGtWZXJzaW9uPWcsdGhpcy5zZXRNYXhMaXN0ZW5lcnMoNTApLHRoaXMuc2V0Q29ubmVjdGlvblN0YXR1cyhleHBvcnRzLkNvbm5lY3Rpb25TdGF0dXMuRElTQ09OTkVDVEVEKSwobnVsbD09bT92b2lkIDA6bS5kdXJhdGlvbikmJih0aGlzLnN0YXRlLnNlc3Npb25EdXJhdGlvbj1vciksdGhpcy5zdGF0ZS5zdG9yYWdlT3B0aW9ucz1tLHRoaXMuc3RhdGUuYXV0b0Nvbm5lY3RPcHRpb25zPUUsdGhpcy5zdGF0ZS5kZWJ1Zz0hMD09PShudWxsPT12P3ZvaWQgMDp2LnJlbW90ZUxheWVyKSwhMD09PShudWxsPT12P3ZvaWQgMDp2LnJlbW90ZUxheWVyKSYmdC5lbmFibGUoXCJSZW1vdGVDb21tdW5pY2F0aW9uOkxheWVyXCIpLCEwPT09KG51bGw9PXY/dm9pZCAwOnYuc2VydmljZUxheWVyKSYmdC5lbmFibGUoXCJTb2NrZXRTZXJ2aWNlOkxheWVyXCIpLCEwPT09KG51bGw9PXY/dm9pZCAwOnYuZWNpZXNMYXllcikmJnQuZW5hYmxlKFwiRUNJRVM6TGF5ZXJcIiksITA9PT0obnVsbD09dj92b2lkIDA6di5rZXlFeGNoYW5nZUxheWVyKSYmdC5lbmFibGUoXCJLZXlFeGNoYW5nZTpMYXllclwiKSx0aGlzLnN0YXRlLmxvZ2dpbmc9diwobnVsbD09bT92b2lkIDA6bS5zdG9yYWdlTWFuYWdlcikmJih0aGlzLnN0YXRlLnN0b3JhZ2VNYW5hZ2VyPW0uc3RvcmFnZU1hbmFnZXIpLFpuLlJlbW90ZUNvbW11bmljYXRpb24oYFtSZW1vdGVDb21tdW5pY2F0aW9uOiBjb25zdHJ1Y3RvcigpXSBwcm90b2NvbFZlcnNpb249JHtkfSByZWxheVBlcnNpc3RlbmNlPSR7aH0gaXNPcmlnaW5hdG9yPSR7dGhpcy5zdGF0ZS5pc09yaWdpbmF0b3J9IGNvbW11bmljYXRpb25MYXllclByZWZlcmVuY2U9JHtpfSBvdGhlclB1YmxpY0tleT0ke299IHJlY29ubmVjdD0ke3N9YCksdGhpcy5zdGF0ZS5pc09yaWdpbmF0b3J8fEtyKHtjb21tdW5pY2F0aW9uTGF5ZXJQcmVmZXJlbmNlOmksb3RoZXJQdWJsaWNLZXk6byxyZWNvbm5lY3Q6cyxlY2llczpmLGNvbW11bmljYXRpb25TZXJ2ZXJVcmw6eSxpbnN0YW5jZTp0aGlzfSksdGhpcy5lbWl0U2VydmljZVN0YXR1c0V2ZW50KHtjb250ZXh0OlwiY29uc3RydWN0b3JcIn0pfWluaXRGcm9tRGFwcFN0b3JhZ2UoKXtyZXR1cm4gdSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3ZhciBlO2lmKHRoaXMuc3RhdGUuc3RvcmFnZU1hbmFnZXIpe2NvbnN0IHQ9eWllbGQgdGhpcy5zdGF0ZS5zdG9yYWdlTWFuYWdlci5nZXRQZXJzaXN0ZWRDaGFubmVsQ29uZmlnKHt9KTt0JiYodGhpcy5zdGF0ZS5jaGFubmVsQ29uZmlnPXQsdGhpcy5zdGF0ZS5jaGFubmVsSWQ9dC5jaGFubmVsSWQsdGhpcy5zdGF0ZS5kZWVwbGlua1Byb3RvY29sQXZhaWxhYmxlPW51bGwhPT0oZT10LmRlZXBsaW5rUHJvdG9jb2xBdmFpbGFibGUpJiZ2b2lkIDAhPT1lJiZlLHQucmVsYXlQZXJzaXN0ZW5jZSYmKHRoaXMuc3RhdGUuYXV0aG9yaXplZD0hMCx0aGlzLnN0YXRlLnJlYWR5PSEwLHRoaXMuc2V0Q29ubmVjdGlvblN0YXR1cyhleHBvcnRzLkNvbm5lY3Rpb25TdGF0dXMuTElOS0VEKSx5aWVsZCB0aGlzLmNvbm5lY3RUb0NoYW5uZWwoe2NoYW5uZWxJZDp0LmNoYW5uZWxJZH0pKSl9S3Ioe2NvbW11bmljYXRpb25MYXllclByZWZlcmVuY2U6ZXhwb3J0cy5Db21tdW5pY2F0aW9uTGF5ZXJQcmVmZXJlbmNlLlNPQ0tFVCxvdGhlclB1YmxpY0tleTp0aGlzLnN0YXRlLm90aGVyUHVibGljS2V5LHJlY29ubmVjdDp0aGlzLl9vcHRpb25zLnJlY29ubmVjdCxlY2llczp0aGlzLl9vcHRpb25zLmVjaWVzLGNvbW11bmljYXRpb25TZXJ2ZXJVcmw6dGhpcy5zdGF0ZS5jb21tdW5pY2F0aW9uU2VydmVyVXJsLGluc3RhbmNlOnRoaXN9KX0pKX1vcmlnaW5hdG9yU2Vzc2lvbkNvbm5lY3QoKXtyZXR1cm4gdSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3JldHVybiB5aWVsZCBmdW5jdGlvbihlKXtyZXR1cm4gdSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3ZhciB0O2NvbnN0e3N0YXRlOm59PWU7aWYoIW4uc3RvcmFnZU1hbmFnZXIpcmV0dXJuIHZvaWQgWm4uUmVtb3RlQ29tbXVuaWNhdGlvbihcIltSZW1vdGVDb21tdW5pY2F0aW9uOiBvcmlnaW5hdG9yU2Vzc2lvbkNvbm5lY3QoKV0gbm8gc3RvcmFnZSBtYW5hZ2VyIGRlZmluZWQgLSBza2lwXCIpO2NvbnN0IHI9eWllbGQgbi5zdG9yYWdlTWFuYWdlci5nZXRQZXJzaXN0ZWRDaGFubmVsQ29uZmlnKHt9KTtpZihabi5SZW1vdGVDb21tdW5pY2F0aW9uKGBbUmVtb3RlQ29tbXVuaWNhdGlvbjogb3JpZ2luYXRvclNlc3Npb25Db25uZWN0KCldIGF1dG9TdGFydGVkPSR7bi5vcmlnaW5hdG9yQ29ubmVjdFN0YXJ0ZWR9IGNoYW5uZWxDb25maWdgLHIpLG51bGw9PT0odD1uLmNvbW11bmljYXRpb25MYXllcil8fHZvaWQgMD09PXQ/dm9pZCAwOnQuaXNDb25uZWN0ZWQoKSlyZXR1cm4gWm4uUmVtb3RlQ29tbXVuaWNhdGlvbihcIltSZW1vdGVDb21tdW5pY2F0aW9uOiBvcmlnaW5hdG9yU2Vzc2lvbkNvbm5lY3QoKV0gc29ja2V0IGFscmVhZHkgY29ubmVjdGVkIC0gc2tpcFwiKSxyO2lmKHIpe2lmKHIudmFsaWRVbnRpbD5EYXRlLm5vdygpKXJldHVybiBuLmNoYW5uZWxDb25maWc9cixuLm9yaWdpbmF0b3JDb25uZWN0U3RhcnRlZD0hMCxuLmNoYW5uZWxJZD1udWxsPT1yP3ZvaWQgMDpyLmNoYW5uZWxJZCxuLnJlY29ubmVjdGlvbj0hMCxyO1puLlJlbW90ZUNvbW11bmljYXRpb24oXCJbUmVtb3RlQ29tbXVuaWNhdGlvbjogYXV0b0Nvbm5lY3QoKV0gU2Vzc2lvbiBoYXMgZXhwaXJlZFwiKX1uLm9yaWdpbmF0b3JDb25uZWN0U3RhcnRlZD0hMX0pKX0odGhpcyl9KSl9Z2VuZXJhdGVDaGFubmVsSWRDb25uZWN0KCl7cmV0dXJuIHUodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHUodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXt2YXIgdCxuLHIsaSxvLHM7aWYoIWUuY29tbXVuaWNhdGlvbkxheWVyKXRocm93IG5ldyBFcnJvcihcImNvbW11bmljYXRpb24gbGF5ZXIgbm90IGluaXRpYWxpemVkXCIpO2lmKGUucmVhZHkpdGhyb3cgbmV3IEVycm9yKFwiQ2hhbm5lbCBhbHJlYWR5IGNvbm5lY3RlZFwiKTtpZihlLmNoYW5uZWxJZCYmKG51bGw9PT0odD1lLmNvbW11bmljYXRpb25MYXllcil8fHZvaWQgMD09PXQ/dm9pZCAwOnQuaXNDb25uZWN0ZWQoKSkpcmV0dXJuIGUuY2hhbm5lbENvbmZpZz1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZS5jaGFubmVsQ29uZmlnKSx7Y2hhbm5lbElkOmUuY2hhbm5lbElkLHZhbGlkVW50aWw6RGF0ZS5ub3coKStlLnNlc3Npb25EdXJhdGlvbn0pLG51bGw9PT0obj1lLnN0b3JhZ2VNYW5hZ2VyKXx8dm9pZCAwPT09bnx8bi5wZXJzaXN0Q2hhbm5lbENvbmZpZyhlLmNoYW5uZWxDb25maWcpLHtjaGFubmVsSWQ6ZS5jaGFubmVsSWQscHJpdktleTpudWxsPT09KGk9bnVsbD09PShyPWUuY29tbXVuaWNhdGlvbkxheWVyKXx8dm9pZCAwPT09cj92b2lkIDA6ci5nZXRLZXlJbmZvKCkpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmVjaWVzLnByaXZhdGUscHViS2V5Om51bGw9PT0ocz1udWxsPT09KG89ZS5jb21tdW5pY2F0aW9uTGF5ZXIpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmdldEtleUluZm8oKSl8fHZvaWQgMD09PXM/dm9pZCAwOnMuZWNpZXMucHVibGljfTtabi5SZW1vdGVDb21tdW5pY2F0aW9uKFwiW1JlbW90ZUNvbW11bmljYXRpb246IGdlbmVyYXRlQ2hhbm5lbElkKCldXCIpO2NvbnN0IGE9eWllbGQgZS5jb21tdW5pY2F0aW9uTGF5ZXIuY3JlYXRlQ2hhbm5lbCgpO1puLlJlbW90ZUNvbW11bmljYXRpb24oXCJbUmVtb3RlQ29tbXVuaWNhdGlvbjogZ2VuZXJhdGVDaGFubmVsSWQoKV0gY2hhbm5lbCBjcmVhdGVkXCIsYSk7Y29uc3QgYz1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZS5jaGFubmVsQ29uZmlnKSx7Y2hhbm5lbElkOmEuY2hhbm5lbElkLGxvY2FsS2V5OmEucHJpdktleSx2YWxpZFVudGlsOkRhdGUubm93KCkrZS5zZXNzaW9uRHVyYXRpb259KTtyZXR1cm4gZS5jaGFubmVsSWQ9YS5jaGFubmVsSWQsZS5jaGFubmVsQ29uZmlnPWMse2NoYW5uZWxJZDplLmNoYW5uZWxJZCxwdWJLZXk6YS5wdWJLZXkscHJpdktleTphLnByaXZLZXl9fSkpfSh0aGlzLnN0YXRlKX0pKX1jbGVhbigpe3JldHVybiBscih0aGlzLnN0YXRlKX1jb25uZWN0VG9DaGFubmVsKHtjaGFubmVsSWQ6ZSx3aXRoS2V5RXhjaGFuZ2U6dCxhdXRob3JpemVkOm59KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHUodGhpcyxhcmd1bWVudHMsdm9pZCAwLChmdW5jdGlvbiooe2NoYW5uZWxJZDplLHdpdGhLZXlFeGNoYW5nZTp0LGF1dGhvcml6ZWQ6bixzdGF0ZTpyfSl7dmFyIGksbyxhO2lmKCFzLnZhbGlkYXRlKGUpKXRocm93IFpuLlJlbW90ZUNvbW11bmljYXRpb24oYFtSZW1vdGVDb21tdW5pY2F0aW9uOiBjb25uZWN0VG9DaGFubmVsKCldIGNvbnRleHQ9JHtyLmNvbnRleHR9IGludmFsaWQgY2hhbm5lbCBjaGFubmVsSWQ9JHtlfWApLG5ldyBFcnJvcihgSW52YWxpZCBjaGFubmVsICR7ZX1gKTtpZihabi5SZW1vdGVDb21tdW5pY2F0aW9uKGBbUmVtb3RlQ29tbXVuaWNhdGlvbjogY29ubmVjdFRvQ2hhbm5lbCgpXSBjb250ZXh0PSR7ci5jb250ZXh0fSBjaGFubmVsSWQ9JHtlfSB3aXRoS2V5RXhjaGFuZ2U9JHt0fWApLG51bGw9PT0oaT1yLmNvbW11bmljYXRpb25MYXllcil8fHZvaWQgMD09PWk/dm9pZCAwOmkuaXNDb25uZWN0ZWQoKSlyZXR1cm4gdm9pZCBabi5SZW1vdGVDb21tdW5pY2F0aW9uKGBbUmVtb3RlQ29tbXVuaWNhdGlvbjogY29ubmVjdFRvQ2hhbm5lbCgpXSBjb250ZXh0PSR7ci5jb250ZXh0fSBhbHJlYWR5IGNvbm5lY3RlZCAtIGludGVycnVwdCBjb25uZWN0aW9uLmApO3IuY2hhbm5lbElkPWUseWllbGQgbnVsbD09PShvPXIuY29tbXVuaWNhdGlvbkxheWVyKXx8dm9pZCAwPT09bz92b2lkIDA6by5jb25uZWN0VG9DaGFubmVsKHtjaGFubmVsSWQ6ZSxhdXRob3JpemVkOm4sd2l0aEtleUV4Y2hhbmdlOnR9KTtjb25zdCBjPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyLmNoYW5uZWxDb25maWcpLHtjaGFubmVsSWQ6ZSx2YWxpZFVudGlsOkRhdGUubm93KCkrci5zZXNzaW9uRHVyYXRpb259KTtyLmNoYW5uZWxDb25maWc9YyxudWxsPT09KGE9ci5zdG9yYWdlTWFuYWdlcil8fHZvaWQgMD09PWF8fGEucGVyc2lzdENoYW5uZWxDb25maWcoYyl9KSl9KHtjaGFubmVsSWQ6ZSxhdXRob3JpemVkOm4sd2l0aEtleUV4Y2hhbmdlOnQsc3RhdGU6dGhpcy5zdGF0ZX0pfXNlbmRNZXNzYWdlKGUpe3JldHVybiB1KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7Y29uc3QgdD10aGlzLnN0YXRlLmlzT3JpZ2luYXRvciYmZS5tZXRob2QmJmRyKGUubWV0aG9kKTt0JiZpLmFuYWx5dGljcy50cmFjayhcInNka19hY3Rpb25fcmVxdWVzdGVkXCIse2FjdGlvbjplLm1ldGhvZH0pO3RyeXtyZXR1cm4geWllbGQgZnVuY3Rpb24oZSx0KXtyZXR1cm4gdSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3ZhciBuLHI7Y29uc3R7c3RhdGU6aX09ZTtabi5SZW1vdGVDb21tdW5pY2F0aW9uKGBbUmVtb3RlQ29tbXVuaWNhdGlvbjogc2VuZE1lc3NhZ2UoKV0gY29udGV4dD0ke2kuY29udGV4dH0gcGF1c2VkPSR7aS5wYXVzZWR9IHJlYWR5PSR7aS5yZWFkeX0gcmVsYXlQZXJzaXN0ZW5jZT0ke2kucmVsYXlQZXJzaXN0ZW5jZX0gYXV0aG9yaXplZD0ke2kuYXV0aG9yaXplZH0gc29ja2V0PSR7bnVsbD09PShuPWkuY29tbXVuaWNhdGlvbkxheWVyKXx8dm9pZCAwPT09bj92b2lkIDA6bi5pc0Nvbm5lY3RlZCgpfSBjbGllbnRzQ29ubmVjdGVkPSR7aS5jbGllbnRzQ29ubmVjdGVkfSBzdGF0dXM9JHtpLl9jb25uZWN0aW9uU3RhdHVzfWAsdCksaS5yZWxheVBlcnNpc3RlbmNlfHxpLnJlYWR5JiYobnVsbD09PShyPWkuY29tbXVuaWNhdGlvbkxheWVyKXx8dm9pZCAwPT09cj92b2lkIDA6ci5pc0Nvbm5lY3RlZCgpKSYmaS5jbGllbnRzQ29ubmVjdGVkfHwoWm4uUmVtb3RlQ29tbXVuaWNhdGlvbihgW1JlbW90ZUNvbW11bmljYXRpb246IHNlbmRNZXNzYWdlKCldIGNvbnRleHQ9JHtpLmNvbnRleHR9ICBTS0lQIG1lc3NhZ2Ugd2FpdGluZyBmb3IgTU0gbW9iaWxlIHJlYWRpbmVzcy5gKSx5aWVsZCBuZXcgUHJvbWlzZSgodD0+e2Uub25jZShleHBvcnRzLkV2ZW50VHlwZS5DTElFTlRTX1JFQURZLHQpfSkpLFpuLlJlbW90ZUNvbW11bmljYXRpb24oYFtSZW1vdGVDb21tdW5pY2F0aW9uOiBzZW5kTWVzc2FnZSgpXSBjb250ZXh0PSR7aS5jb250ZXh0fSAgQUZURVIgU0tJUCAvIFJFQURZIC0tIHNlbmRpbmcgcGVuZGluZyBtZXNzYWdlYCkpO3RyeXtjb25zdCBuPXlpZWxkIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHUodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtyZXR1cm4gbmV3IFByb21pc2UoKG49Pnt2YXIgcjtjb25zdHtzdGF0ZTppfT1lO1puLlJlbW90ZUNvbW11bmljYXRpb24oYFtSZW1vdGVDb21tdW5pY2F0aW9uOiBoYW5kbGVBdXRob3JpemF0aW9uKCldIGNvbnRleHQ9JHtpLmNvbnRleHR9IHJlYWR5PSR7aS5yZWFkeX0gYXV0aG9yaXplZD0ke2kuYXV0aG9yaXplZH0gbWV0aG9kPSR7dC5tZXRob2R9YCksIWkuaXNPcmlnaW5hdG9yfHxpLmF1dGhvcml6ZWR8fGkucmVsYXlQZXJzaXN0ZW5jZT9udWxsPT09KHI9aS5jb21tdW5pY2F0aW9uTGF5ZXIpfHx2b2lkIDA9PT1yfHxyLnNlbmRNZXNzYWdlKHQpLnRoZW4oKGU9PntuKGUpfSkpLmNhdGNoKChlPT57bighMSl9KSk6ZS5vbmNlKGV4cG9ydHMuRXZlbnRUeXBlLkFVVEhPUklaRUQsKCgpPT57dmFyIGU7Wm4uUmVtb3RlQ29tbXVuaWNhdGlvbihgW1JlbW90ZUNvbW11bmljYXRpb246IGhhbmRsZUF1dGhvcml6YXRpb24oKV0gY29udGV4dD0ke2kuY29udGV4dH0gIEFGVEVSIFNLSVAgLyBBVVRIT1JJWkVEIC0tIHNlbmRpbmcgcGVuZGluZyBtZXNzYWdlYCksbnVsbD09PShlPWkuY29tbXVuaWNhdGlvbkxheWVyKXx8dm9pZCAwPT09ZXx8ZS5zZW5kTWVzc2FnZSh0KS50aGVuKChlPT57bihlKX0pKS5jYXRjaCgoZT0+e24oITEpfSkpfSkpfSkpfSkpfShlLHQpO3JldHVybiBufWNhdGNoKGUpe3Rocm93IGV9fSkpfSh0aGlzLGUpfWNhdGNoKG4pe3Rocm93IHQmJmkuYW5hbHl0aWNzLnRyYWNrKFwic2RrX2FjdGlvbl9mYWlsZWRcIix7YWN0aW9uOmUubWV0aG9kfSksbn19KSl9dGVzdFN0b3JhZ2UoKXtyZXR1cm4gdSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3ZhciB0O2NvbnN0IG49eWllbGQgbnVsbD09PSh0PWUuc3RvcmFnZU1hbmFnZXIpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmdldFBlcnNpc3RlZENoYW5uZWxDb25maWcoKTtabi5SZW1vdGVDb21tdW5pY2F0aW9uKFwiW1JlbW90ZUNvbW11bmljYXRpb246IHRlc3RTdG9yYWdlKCldIHJlc1wiLG4pfSkpfSh0aGlzLnN0YXRlKX0pKX1oYXNEZWVwbGlua1Byb3RvY29sKCl7cmV0dXJuIHRoaXMuc3RhdGUuZGVlcGxpbmtQcm90b2NvbEF2YWlsYWJsZX1nZXRDaGFubmVsQ29uZmlnKCl7cmV0dXJuIHRoaXMuc3RhdGUuY2hhbm5lbENvbmZpZ31pc1JlYWR5KCl7cmV0dXJuIHRoaXMuc3RhdGUucmVhZHl9aXNDb25uZWN0ZWQoKXt2YXIgZTtyZXR1cm4gbnVsbD09PShlPXRoaXMuc3RhdGUuY29tbXVuaWNhdGlvbkxheWVyKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5pc0Nvbm5lY3RlZCgpfWlzQXV0aG9yaXplZCgpe3JldHVybiB0aGlzLnN0YXRlLmF1dGhvcml6ZWR9aXNQYXVzZWQoKXtyZXR1cm4gdGhpcy5zdGF0ZS5wYXVzZWR9Z2V0Q29tbXVuaWNhdGlvbkxheWVyKCl7cmV0dXJuIHRoaXMuc3RhdGUuY29tbXVuaWNhdGlvbkxheWVyfXBpbmcoKXtyZXR1cm4gdSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3ZhciBlO1puLlJlbW90ZUNvbW11bmljYXRpb24oYFtSZW1vdGVDb21tdW5pY2F0aW9uOiBwaW5nKCldIGNoYW5uZWw9JHt0aGlzLnN0YXRlLmNoYW5uZWxJZH1gKSx5aWVsZCBudWxsPT09KGU9dGhpcy5zdGF0ZS5jb21tdW5pY2F0aW9uTGF5ZXIpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnBpbmcoKX0pKX10ZXN0TG9nZ2VyKCl7Wm4uUmVtb3RlQ29tbXVuaWNhdGlvbihgdGVzdExvZ2dlcigpIGNoYW5uZWw9JHt0aGlzLnN0YXRlLmNoYW5uZWxJZH1gKSxabi5Tb2NrZXRTZXJ2aWNlKGB0ZXN0TG9nZ2VyKCkgY2hhbm5lbD0ke3RoaXMuc3RhdGUuY2hhbm5lbElkfWApLFpuLkVjaWVzKGB0ZXN0TG9nZ2VyKCkgY2hhbm5lbD0ke3RoaXMuc3RhdGUuY2hhbm5lbElkfWApLFpuLktleUV4Y2hhbmdlKGB0ZXN0TG9nZ2VyKCkgY2hhbm5lbD0ke3RoaXMuc3RhdGUuY2hhbm5lbElkfWApfWtleUNoZWNrKCl7dmFyIGU7Wm4uUmVtb3RlQ29tbXVuaWNhdGlvbihgW1JlbW90ZUNvbW11bmljYXRpb246IGtleUNoZWNrKCldIGNoYW5uZWw9JHt0aGlzLnN0YXRlLmNoYW5uZWxJZH1gKSxudWxsPT09KGU9dGhpcy5zdGF0ZS5jb21tdW5pY2F0aW9uTGF5ZXIpfHx2b2lkIDA9PT1lfHxlLmtleUNoZWNrKCl9c2V0Q29ubmVjdGlvblN0YXR1cyhlKXt0aGlzLnN0YXRlLl9jb25uZWN0aW9uU3RhdHVzIT09ZSYmKHRoaXMuc3RhdGUuX2Nvbm5lY3Rpb25TdGF0dXM9ZSx0aGlzLmVtaXQoZXhwb3J0cy5FdmVudFR5cGUuQ09OTkVDVElPTl9TVEFUVVMsZSksdGhpcy5lbWl0U2VydmljZVN0YXR1c0V2ZW50KHtjb250ZXh0Olwic2V0Q29ubmVjdGlvblN0YXR1c1wifSkpfWVtaXRTZXJ2aWNlU3RhdHVzRXZlbnQoZT17fSl7dGhpcy5lbWl0KGV4cG9ydHMuRXZlbnRUeXBlLlNFUlZJQ0VfU1RBVFVTLHRoaXMuZ2V0U2VydmljZVN0YXR1cygpKX1nZXRDb25uZWN0aW9uU3RhdHVzKCl7cmV0dXJuIHRoaXMuc3RhdGUuX2Nvbm5lY3Rpb25TdGF0dXN9Z2V0U2VydmljZVN0YXR1cygpe3JldHVybntvcmlnaW5hdG9ySW5mbzp0aGlzLnN0YXRlLm9yaWdpbmF0b3JJbmZvLGtleUluZm86dGhpcy5nZXRLZXlJbmZvKCksY29ubmVjdGlvblN0YXR1czp0aGlzLnN0YXRlLl9jb25uZWN0aW9uU3RhdHVzLGNoYW5uZWxDb25maWc6dGhpcy5zdGF0ZS5jaGFubmVsQ29uZmlnLGNoYW5uZWxJZDp0aGlzLnN0YXRlLmNoYW5uZWxJZH19Z2V0S2V5SW5mbygpe3ZhciBlO3JldHVybiBudWxsPT09KGU9dGhpcy5zdGF0ZS5jb21tdW5pY2F0aW9uTGF5ZXIpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmdldEtleUluZm8oKX1yZXNldEtleXMoKXt2YXIgZTtudWxsPT09KGU9dGhpcy5zdGF0ZS5jb21tdW5pY2F0aW9uTGF5ZXIpfHx2b2lkIDA9PT1lfHxlLnJlc2V0S2V5cygpfXNldE90aGVyUHVibGljS2V5KGUpe3ZhciB0O2NvbnN0IG49bnVsbD09PSh0PXRoaXMuc3RhdGUuY29tbXVuaWNhdGlvbkxheWVyKXx8dm9pZCAwPT09dD92b2lkIDA6dC5nZXRLZXlFeGNoYW5nZSgpO2lmKCFuKXRocm93IG5ldyBFcnJvcihcIktleUV4Y2hhbmdlIGlzIG5vdCBpbml0aWFsaXplZC5cIik7bi5nZXRPdGhlclB1YmxpY0tleSgpIT09ZSYmbi5zZXRPdGhlclB1YmxpY0tleShlKX1wYXVzZSgpe3JldHVybiB1KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7dmFyIGU7Wm4uUmVtb3RlQ29tbXVuaWNhdGlvbihgW1JlbW90ZUNvbW11bmljYXRpb246IHBhdXNlKCldIGNoYW5uZWw9JHt0aGlzLnN0YXRlLmNoYW5uZWxJZH1gKSx5aWVsZCBudWxsPT09KGU9dGhpcy5zdGF0ZS5jb21tdW5pY2F0aW9uTGF5ZXIpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnBhdXNlKCksdGhpcy5zZXRDb25uZWN0aW9uU3RhdHVzKGV4cG9ydHMuQ29ubmVjdGlvblN0YXR1cy5QQVVTRUQpfSkpfWdldFZlcnNpb24oKXtyZXR1cm4gbnIudmVyc2lvbn1oYXNSZWxheVBlcnNpc3RlbmNlKCl7dmFyIGU7cmV0dXJuIG51bGwhPT0oZT10aGlzLnN0YXRlLnJlbGF5UGVyc2lzdGVuY2UpJiZ2b2lkIDAhPT1lJiZlfXJlc3VtZSgpe3JldHVybiB1KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB1KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7dmFyIHQ7Y29uc3R7c3RhdGU6bn09ZTtabi5SZW1vdGVDb21tdW5pY2F0aW9uKGBbUmVtb3RlQ29tbXVuaWNhdGlvbjogcmVzdW1lKCldIGNoYW5uZWw9JHtuLmNoYW5uZWxJZH1gKSx5aWVsZCBudWxsPT09KHQ9bi5jb21tdW5pY2F0aW9uTGF5ZXIpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnJlc3VtZSgpLGUuc2V0Q29ubmVjdGlvblN0YXR1cyhleHBvcnRzLkNvbm5lY3Rpb25TdGF0dXMuTElOS0VEKX0pKX0odGhpcyl9KSl9ZW5jcnlwdChlKXt2YXIgdCxuLHI7Y29uc3QgaT1udWxsPT09KHQ9dGhpcy5zdGF0ZS5jb21tdW5pY2F0aW9uTGF5ZXIpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmdldEtleUV4Y2hhbmdlKCksbz1udWxsPT1pP3ZvaWQgMDppLmdldE90aGVyUHVibGljS2V5KCk7aWYoIW8pdGhyb3cgbmV3IEVycm9yKFwiS2V5RXhjaGFuZ2Ugbm90IGNvbXBsZXRlZFwiKTtyZXR1cm4gbnVsbD09PShyPW51bGw9PT0obj10aGlzLnN0YXRlLmNvbW11bmljYXRpb25MYXllcil8fHZvaWQgMD09PW4/dm9pZCAwOm4uc3RhdGUuZWNpZXNJbnN0YW5jZSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuZW5jcnlwdChlLG8pfWRlY3J5cHQoZSl7dmFyIHQsbixyO2lmKCEobnVsbD09PSh0PXRoaXMuc3RhdGUuY29tbXVuaWNhdGlvbkxheWVyKXx8dm9pZCAwPT09dD92b2lkIDA6dC5zdGF0ZS5lY2llc0luc3RhbmNlKSl0aHJvdyBuZXcgRXJyb3IoXCJFQ0lFUyBpbnN0YW5jZSBpcyBub3QgaW5pdGlhbGl6ZWRcIik7cmV0dXJuIG51bGw9PT0ocj1udWxsPT09KG49dGhpcy5zdGF0ZS5jb21tdW5pY2F0aW9uTGF5ZXIpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnN0YXRlLmVjaWVzSW5zdGFuY2UpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmRlY3J5cHQoZSl9Z2V0Q2hhbm5lbElkKCl7cmV0dXJuIHRoaXMuc3RhdGUuY2hhbm5lbElkfWdldFJQQ01ldGhvZFRyYWNrZXIoKXt2YXIgZTtyZXR1cm4gbnVsbD09PShlPXRoaXMuc3RhdGUuY29tbXVuaWNhdGlvbkxheWVyKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5nZXRSUENNZXRob2RUcmFja2VyKCl9cmVqZWN0KHtjaGFubmVsSWQ6ZX0pe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdSh0aGlzLGFyZ3VtZW50cyx2b2lkIDAsKGZ1bmN0aW9uKih7Y2hhbm5lbElkOmUsc3RhdGU6dH0pe3ZhciBuLHIsaTtpZighcy52YWxpZGF0ZShlKSl0aHJvdyBabi5SZW1vdGVDb21tdW5pY2F0aW9uKGBbUmVtb3RlQ29tbXVuaWNhdGlvbjogY29ubmVjdFRvQ2hhbm5lbCgpXSBjb250ZXh0PSR7dC5jb250ZXh0fSBpbnZhbGlkIGNoYW5uZWwgY2hhbm5lbElkPSR7ZX1gKSxuZXcgRXJyb3IoYEludmFsaWQgY2hhbm5lbCAke2V9YCk7aWYodC5pc09yaWdpbmF0b3IpcmV0dXJuIHZvaWQgWm4uUmVtb3RlQ29tbXVuaWNhdGlvbihgW1JlbW90ZUNvbW11bmljYXRpb246IHJlamVjdCgpXSBjb250ZXh0PSR7dC5jb250ZXh0fSBpc09yaWdpbmF0b3I9JHt0LmlzT3JpZ2luYXRvcn0gY2hhbm5lbElkPSR7ZX1gKTtjb25zdHtzb2NrZXQ6b309bnVsbCE9PShyPW51bGw9PT0obj10LmNvbW11bmljYXRpb25MYXllcil8fHZvaWQgMD09PW4/dm9pZCAwOm4uc3RhdGUpJiZ2b2lkIDAhPT1yP3I6e307KG51bGw9PW8/dm9pZCAwOm8uY29ubmVjdGVkKXx8KFpuLlJlbW90ZUNvbW11bmljYXRpb24oYFtSZW1vdGVDb21tdW5pY2F0aW9uOiByZWplY3QoKV0gY29udGV4dD0ke3QuY29udGV4dH0gc29ja2V0IGFscmVhZHkgY29ubmVjdGVkYCksbnVsbD09b3x8by5jb25uZWN0KCkpLGVyKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7aWQ6ZSxldmVudDpmci5SRUpFQ1RFRH0sdC5vcmlnaW5hdG9ySW5mbykse3Nka1ZlcnNpb246dC5zZGtWZXJzaW9uLGNvbW1MYXllclZlcnNpb246bnIudmVyc2lvbix3YWxsZXRWZXJzaW9uOm51bGw9PT0oaT10LndhbGxldEluZm8pfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnZlcnNpb259KSx0LmNvbW11bmljYXRpb25TZXJ2ZXJVcmwpLmNhdGNoKChlPT57fSkpLHlpZWxkIG5ldyBQcm9taXNlKCgobixyKT0+e251bGw9PW98fG8uZW1pdChleHBvcnRzLkV2ZW50VHlwZS5SRUpFQ1RFRCx7Y2hhbm5lbElkOmV9LCgoZSxpKT0+e1puLlJlbW90ZUNvbW11bmljYXRpb24oYFtSZW1vdGVDb21tdW5pY2F0aW9uOiByZWplY3QoKV0gY29udGV4dD0ke3QuY29udGV4dH0gc29ja2V0PSR7bnVsbD09bz92b2lkIDA6by5pZH1gLHtlcnJvcjplLHJlc3BvbnNlOml9KSxlP3IoZSk6bihpKX0pKX0pKX0pKX0oe2NoYW5uZWxJZDplLHN0YXRlOnRoaXMuc3RhdGV9KX1kaXNjb25uZWN0KGUpe3JldHVybiB1KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7cmV0dXJuIGpyKHtvcHRpb25zOmUsaW5zdGFuY2U6dGhpc30pfSkpfX0hZnVuY3Rpb24oZSl7ZS5SRU5FVz1cInJlbmV3XCIsZS5MSU5LPVwibGlua1wifShNcnx8KE1yPXt9KSk7dmFyIEhyPVwiRVJDNzIxXCIsVXI9XCJFUkMxMTU1XCIsRnI9e2Vycm9yczp7ZGlzY29ubmVjdGVkOigpPT5cIk1ldGFNYXNrOiBEaXNjb25uZWN0ZWQgZnJvbSBjaGFpbi4gQXR0ZW1wdGluZyB0byBjb25uZWN0LlwiLHBlcm1hbmVudGx5RGlzY29ubmVjdGVkOigpPT5cIk1ldGFNYXNrOiBEaXNjb25uZWN0ZWQgZnJvbSBNZXRhTWFzayBiYWNrZ3JvdW5kLiBQYWdlIHJlbG9hZCByZXF1aXJlZC5cIixzZW5kU2l0ZU1ldGFkYXRhOigpPT5cIk1ldGFNYXNrOiBGYWlsZWQgdG8gc2VuZCBzaXRlIG1ldGFkYXRhLiBUaGlzIGlzIGFuIGludGVybmFsIGVycm9yLCBwbGVhc2UgcmVwb3J0IHRoaXMgYnVnLlwiLHVuc3VwcG9ydGVkU3luYzplPT5gTWV0YU1hc2s6IFRoZSBNZXRhTWFzayBFdGhlcmV1bSBwcm92aWRlciBkb2VzIG5vdCBzdXBwb3J0IHN5bmNocm9ub3VzIG1ldGhvZHMgbGlrZSAke2V9IHdpdGhvdXQgYSBjYWxsYmFjayBwYXJhbWV0ZXIuYCxpbnZhbGlkRHVwbGV4U3RyZWFtOigpPT5cIk11c3QgcHJvdmlkZSBhIE5vZGUuanMtc3R5bGUgZHVwbGV4IHN0cmVhbS5cIixpbnZhbGlkTmV0d29ya1BhcmFtczooKT0+XCJNZXRhTWFzazogUmVjZWl2ZWQgaW52YWxpZCBuZXR3b3JrIHBhcmFtZXRlcnMuIFBsZWFzZSByZXBvcnQgdGhpcyBidWcuXCIsaW52YWxpZFJlcXVlc3RBcmdzOigpPT5cIkV4cGVjdGVkIGEgc2luZ2xlLCBub24tYXJyYXksIG9iamVjdCBhcmd1bWVudC5cIixpbnZhbGlkUmVxdWVzdE1ldGhvZDooKT0+XCInYXJncy5tZXRob2QnIG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nLlwiLGludmFsaWRSZXF1ZXN0UGFyYW1zOigpPT5cIidhcmdzLnBhcmFtcycgbXVzdCBiZSBhbiBvYmplY3Qgb3IgYXJyYXkgaWYgcHJvdmlkZWQuXCIsaW52YWxpZExvZ2dlck9iamVjdDooKT0+XCInYXJncy5sb2dnZXInIG11c3QgYmUgYW4gb2JqZWN0IGlmIHByb3ZpZGVkLlwiLGludmFsaWRMb2dnZXJNZXRob2Q6ZT0+YCdhcmdzLmxvZ2dlcicgbXVzdCBpbmNsdWRlIHJlcXVpcmVkIG1ldGhvZCAnJHtlfScuYH0saW5mbzp7Y29ubmVjdGVkOmU9PmBNZXRhTWFzazogQ29ubmVjdGVkIHRvIGNoYWluIHdpdGggSUQgXCIke2V9XCIuYH0sd2FybmluZ3M6e2NoYWluSWREZXByZWNhdGlvbjpcIk1ldGFNYXNrOiAnZXRoZXJldW0uY2hhaW5JZCcgaXMgZGVwcmVjYXRlZCBhbmQgbWF5IGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZS4gUGxlYXNlIHVzZSB0aGUgJ2V0aF9jaGFpbklkJyBSUEMgbWV0aG9kIGluc3RlYWQuXFxuRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL01ldGFNYXNrL21ldGFtYXNrLWltcHJvdmVtZW50LXByb3Bvc2Fscy9kaXNjdXNzaW9ucy8yM1wiLG5ldHdvcmtWZXJzaW9uRGVwcmVjYXRpb246XCJNZXRhTWFzazogJ2V0aGVyZXVtLm5ldHdvcmtWZXJzaW9uJyBpcyBkZXByZWNhdGVkIGFuZCBtYXkgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLiBQbGVhc2UgdXNlIHRoZSAnbmV0X3ZlcnNpb24nIFJQQyBtZXRob2QgaW5zdGVhZC5cXG5Gb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlOiBodHRwczovL2dpdGh1Yi5jb20vTWV0YU1hc2svbWV0YW1hc2staW1wcm92ZW1lbnQtcHJvcG9zYWxzL2Rpc2N1c3Npb25zLzIzXCIsc2VsZWN0ZWRBZGRyZXNzRGVwcmVjYXRpb246XCJNZXRhTWFzazogJ2V0aGVyZXVtLnNlbGVjdGVkQWRkcmVzcycgaXMgZGVwcmVjYXRlZCBhbmQgbWF5IGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZS4gUGxlYXNlIHVzZSB0aGUgJ2V0aF9hY2NvdW50cycgUlBDIG1ldGhvZCBpbnN0ZWFkLlxcbkZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9NZXRhTWFzay9tZXRhbWFzay1pbXByb3ZlbWVudC1wcm9wb3NhbHMvZGlzY3Vzc2lvbnMvMjNcIixlbmFibGVEZXByZWNhdGlvbjpcIk1ldGFNYXNrOiAnZXRoZXJldW0uZW5hYmxlKCknIGlzIGRlcHJlY2F0ZWQgYW5kIG1heSBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUuIFBsZWFzZSB1c2UgdGhlICdldGhfcmVxdWVzdEFjY291bnRzJyBSUEMgbWV0aG9kIGluc3RlYWQuXFxuRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZTogaHR0cHM6Ly9laXBzLmV0aGVyZXVtLm9yZy9FSVBTL2VpcC0xMTAyXCIsc2VuZERlcHJlY2F0aW9uOlwiTWV0YU1hc2s6ICdldGhlcmV1bS5zZW5kKC4uLiknIGlzIGRlcHJlY2F0ZWQgYW5kIG1heSBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUuIFBsZWFzZSB1c2UgJ2V0aGVyZXVtLnNlbmRBc3luYyguLi4pJyBvciAnZXRoZXJldW0ucmVxdWVzdCguLi4pJyBpbnN0ZWFkLlxcbkZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWU6IGh0dHBzOi8vZWlwcy5ldGhlcmV1bS5vcmcvRUlQUy9laXAtMTE5M1wiLGV2ZW50czp7Y2xvc2U6XCJNZXRhTWFzazogVGhlIGV2ZW50ICdjbG9zZScgaXMgZGVwcmVjYXRlZCBhbmQgbWF5IGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZS4gUGxlYXNlIHVzZSAnZGlzY29ubmVjdCcgaW5zdGVhZC5cXG5Gb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlOiBodHRwczovL2VpcHMuZXRoZXJldW0ub3JnL0VJUFMvZWlwLTExOTMjZGlzY29ubmVjdFwiLGRhdGE6XCJNZXRhTWFzazogVGhlIGV2ZW50ICdkYXRhJyBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZS4gVXNlICdtZXNzYWdlJyBpbnN0ZWFkLlxcbkZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWU6IGh0dHBzOi8vZWlwcy5ldGhlcmV1bS5vcmcvRUlQUy9laXAtMTE5MyNtZXNzYWdlXCIsbmV0d29ya0NoYW5nZWQ6XCJNZXRhTWFzazogVGhlIGV2ZW50ICduZXR3b3JrQ2hhbmdlZCcgaXMgZGVwcmVjYXRlZCBhbmQgbWF5IGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZS4gVXNlICdjaGFpbkNoYW5nZWQnIGluc3RlYWQuXFxuRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZTogaHR0cHM6Ly9laXBzLmV0aGVyZXVtLm9yZy9FSVBTL2VpcC0xMTkzI2NoYWluY2hhbmdlZFwiLG5vdGlmaWNhdGlvbjpcIk1ldGFNYXNrOiBUaGUgZXZlbnQgJ25vdGlmaWNhdGlvbicgaXMgZGVwcmVjYXRlZCBhbmQgbWF5IGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZS4gVXNlICdtZXNzYWdlJyBpbnN0ZWFkLlxcbkZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWU6IGh0dHBzOi8vZWlwcy5ldGhlcmV1bS5vcmcvRUlQUy9laXAtMTE5MyNtZXNzYWdlXCJ9LHJwYzp7ZXRoRGVjcnlwdERlcHJlY2F0aW9uOlwiTWV0YU1hc2s6IFRoZSBSUEMgbWV0aG9kICdldGhfZGVjcnlwdCcgaXMgZGVwcmVjYXRlZCBhbmQgbWF5IGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZS5cXG5Gb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlOiBodHRwczovL21lZGl1bS5jb20vbWV0YW1hc2svbWV0YW1hc2stYXBpLW1ldGhvZC1kZXByZWNhdGlvbi0yYjA1NjRhODQ2ODZcIixldGhHZXRFbmNyeXB0aW9uUHVibGljS2V5RGVwcmVjYXRpb246XCJNZXRhTWFzazogVGhlIFJQQyBtZXRob2QgJ2V0aF9nZXRFbmNyeXB0aW9uUHVibGljS2V5JyBpcyBkZXByZWNhdGVkIGFuZCBtYXkgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLlxcbkZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWU6IGh0dHBzOi8vbWVkaXVtLmNvbS9tZXRhbWFzay9tZXRhbWFzay1hcGktbWV0aG9kLWRlcHJlY2F0aW9uLTJiMDU2NGE4NDY4NlwiLHdhbGxldFdhdGNoQXNzZXRORlRFeHBlcmltZW50YWw6XCJNZXRhTWFzazogVGhlIFJQQyBtZXRob2QgJ3dhbGxldF93YXRjaEFzc2V0JyBpcyBleHBlcmltZW50YWwgZm9yIEVSQzcyMS9FUkMxMTU1IGFzc2V0cyBhbmQgbWF5IGNoYW5nZSBpbiB0aGUgZnV0dXJlLlxcbkZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9NZXRhTWFzay9tZXRhbWFzay1pbXByb3ZlbWVudC1wcm9wb3NhbHMvYmxvYi9tYWluL01JUHMvbWlwLTEubWQgYW5kIGh0dHBzOi8vZ2l0aHViLmNvbS9NZXRhTWFzay9tZXRhbWFzay1pbXByb3ZlbWVudC1wcm9wb3NhbHMvYmxvYi9tYWluL1BST0NFU1MtR1VJREUubWQjcHJvcG9zYWwtbGlmZWN5Y2xlXCJ9LGV4cGVyaW1lbnRhbE1ldGhvZHM6XCJNZXRhTWFzazogJ2V0aGVyZXVtLl9tZXRhbWFzaycgZXhwb3NlcyBub24tc3RhbmRhcmQsIGV4cGVyaW1lbnRhbCBtZXRob2RzLiBUaGV5IG1heSBiZSByZW1vdmVkIG9yIGNoYW5nZWQgd2l0aG91dCB3YXJuaW5nLlwifX07ZnVuY3Rpb24gcXIoZSl7Y29uc3QgdD17ZXRoRGVjcnlwdERlcHJlY2F0aW9uOiExLGV0aEdldEVuY3J5cHRpb25QdWJsaWNLZXlEZXByZWNhdGlvbjohMSx3YWxsZXRXYXRjaEFzc2V0TkZURXhwZXJpbWVudGFsOiExfTtyZXR1cm4obixyLGkpPT57dC5ldGhEZWNyeXB0RGVwcmVjYXRpb258fFwiZXRoX2RlY3J5cHRcIiE9PW4ubWV0aG9kP3QuZXRoR2V0RW5jcnlwdGlvblB1YmxpY0tleURlcHJlY2F0aW9ufHxcImV0aF9nZXRFbmNyeXB0aW9uUHVibGljS2V5XCIhPT1uLm1ldGhvZD8hdC53YWxsZXRXYXRjaEFzc2V0TkZURXhwZXJpbWVudGFsJiZcIndhbGxldF93YXRjaEFzc2V0XCI9PT1uLm1ldGhvZCYmW0hyLFVyXS5pbmNsdWRlcyhuLnBhcmFtcz8udHlwZXx8XCJcIikmJihlLndhcm4oRnIud2FybmluZ3MucnBjLndhbGxldFdhdGNoQXNzZXRORlRFeHBlcmltZW50YWwpLHQud2FsbGV0V2F0Y2hBc3NldE5GVEV4cGVyaW1lbnRhbD0hMCk6KGUud2FybihGci53YXJuaW5ncy5ycGMuZXRoR2V0RW5jcnlwdGlvblB1YmxpY0tleURlcHJlY2F0aW9uKSx0LmV0aEdldEVuY3J5cHRpb25QdWJsaWNLZXlEZXByZWNhdGlvbj0hMCk6KGUud2FybihGci53YXJuaW5ncy5ycGMuZXRoRGVjcnlwdERlcHJlY2F0aW9uKSx0LmV0aERlY3J5cHREZXByZWNhdGlvbj0hMCksaSgpfX12YXIgenI9NDI5NDk2NzI5NSxXcj1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqenIpO2Z1bmN0aW9uIFZyKCl7cmV0dXJuKGUsdCxuLHIpPT57Y29uc3QgaT1lLmlkLG89V3I9KFdyKzEpJXpyO2UuaWQ9byx0LmlkPW8sbigobj0+e2UuaWQ9aSx0LmlkPWksbigpfSkpfX12YXIgR3I9KGUsdCxuKT0+e2lmKCF0LmhhcyhlKSl0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgXCIrbil9LFlyPShlLHQsbik9PihHcihlLHQsXCJyZWFkIGZyb20gcHJpdmF0ZSBmaWVsZFwiKSxuP24uY2FsbChlKTp0LmdldChlKSksWnI9KGUsdCxuKT0+e2lmKHQuaGFzKGUpKXRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBhZGQgdGhlIHNhbWUgcHJpdmF0ZSBtZW1iZXIgbW9yZSB0aGFuIG9uY2VcIik7dCBpbnN0YW5jZW9mIFdlYWtTZXQ/dC5hZGQoZSk6dC5zZXQoZSxuKX0sSnI9KGUsdCxuLHIpPT4oR3IoZSx0LFwid3JpdGUgdG8gcHJpdmF0ZSBmaWVsZFwiKSx0LnNldChlLG4pLG4pLFFyPShlLHQsbik9PihHcihlLHQsXCJhY2Nlc3MgcHJpdmF0ZSBtZXRob2RcIiksbiksWHI9e2ludmFsaWRJbnB1dDotMzJlMyxyZXNvdXJjZU5vdEZvdW5kOi0zMjAwMSxyZXNvdXJjZVVuYXZhaWxhYmxlOi0zMjAwMix0cmFuc2FjdGlvblJlamVjdGVkOi0zMjAwMyxtZXRob2ROb3RTdXBwb3J0ZWQ6LTMyMDA0LGxpbWl0RXhjZWVkZWQ6LTMyMDA1LHBhcnNlOi0zMjcwMCxpbnZhbGlkUmVxdWVzdDotMzI2MDAsbWV0aG9kTm90Rm91bmQ6LTMyNjAxLGludmFsaWRQYXJhbXM6LTMyNjAyLGludGVybmFsOi0zMjYwM30sZWk9e1wiLTMyNzAwXCI6e3N0YW5kYXJkOlwiSlNPTiBSUEMgMi4wXCIsbWVzc2FnZTpcIkludmFsaWQgSlNPTiB3YXMgcmVjZWl2ZWQgYnkgdGhlIHNlcnZlci4gQW4gZXJyb3Igb2NjdXJyZWQgb24gdGhlIHNlcnZlciB3aGlsZSBwYXJzaW5nIHRoZSBKU09OIHRleHQuXCJ9LFwiLTMyNjAwXCI6e3N0YW5kYXJkOlwiSlNPTiBSUEMgMi4wXCIsbWVzc2FnZTpcIlRoZSBKU09OIHNlbnQgaXMgbm90IGEgdmFsaWQgUmVxdWVzdCBvYmplY3QuXCJ9LFwiLTMyNjAxXCI6e3N0YW5kYXJkOlwiSlNPTiBSUEMgMi4wXCIsbWVzc2FnZTpcIlRoZSBtZXRob2QgZG9lcyBub3QgZXhpc3QgLyBpcyBub3QgYXZhaWxhYmxlLlwifSxcIi0zMjYwMlwiOntzdGFuZGFyZDpcIkpTT04gUlBDIDIuMFwiLG1lc3NhZ2U6XCJJbnZhbGlkIG1ldGhvZCBwYXJhbWV0ZXIocykuXCJ9LFwiLTMyNjAzXCI6e3N0YW5kYXJkOlwiSlNPTiBSUEMgMi4wXCIsbWVzc2FnZTpcIkludGVybmFsIEpTT04tUlBDIGVycm9yLlwifSxcIi0zMjAwMFwiOntzdGFuZGFyZDpcIkVJUC0xNDc0XCIsbWVzc2FnZTpcIkludmFsaWQgaW5wdXQuXCJ9LFwiLTMyMDAxXCI6e3N0YW5kYXJkOlwiRUlQLTE0NzRcIixtZXNzYWdlOlwiUmVzb3VyY2Ugbm90IGZvdW5kLlwifSxcIi0zMjAwMlwiOntzdGFuZGFyZDpcIkVJUC0xNDc0XCIsbWVzc2FnZTpcIlJlc291cmNlIHVuYXZhaWxhYmxlLlwifSxcIi0zMjAwM1wiOntzdGFuZGFyZDpcIkVJUC0xNDc0XCIsbWVzc2FnZTpcIlRyYW5zYWN0aW9uIHJlamVjdGVkLlwifSxcIi0zMjAwNFwiOntzdGFuZGFyZDpcIkVJUC0xNDc0XCIsbWVzc2FnZTpcIk1ldGhvZCBub3Qgc3VwcG9ydGVkLlwifSxcIi0zMjAwNVwiOntzdGFuZGFyZDpcIkVJUC0xNDc0XCIsbWVzc2FnZTpcIlJlcXVlc3QgbGltaXQgZXhjZWVkZWQuXCJ9LDQwMDE6e3N0YW5kYXJkOlwiRUlQLTExOTNcIixtZXNzYWdlOlwiVXNlciByZWplY3RlZCB0aGUgcmVxdWVzdC5cIn0sNDEwMDp7c3RhbmRhcmQ6XCJFSVAtMTE5M1wiLG1lc3NhZ2U6XCJUaGUgcmVxdWVzdGVkIGFjY291bnQgYW5kL29yIG1ldGhvZCBoYXMgbm90IGJlZW4gYXV0aG9yaXplZCBieSB0aGUgdXNlci5cIn0sNDIwMDp7c3RhbmRhcmQ6XCJFSVAtMTE5M1wiLG1lc3NhZ2U6XCJUaGUgcmVxdWVzdGVkIG1ldGhvZCBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgRXRoZXJldW0gcHJvdmlkZXIuXCJ9LDQ5MDA6e3N0YW5kYXJkOlwiRUlQLTExOTNcIixtZXNzYWdlOlwiVGhlIHByb3ZpZGVyIGlzIGRpc2Nvbm5lY3RlZCBmcm9tIGFsbCBjaGFpbnMuXCJ9LDQ5MDE6e3N0YW5kYXJkOlwiRUlQLTExOTNcIixtZXNzYWdlOlwiVGhlIHByb3ZpZGVyIGlzIGRpc2Nvbm5lY3RlZCBmcm9tIHRoZSBzcGVjaWZpZWQgY2hhaW4uXCJ9fTtmdW5jdGlvbiB0aShlKXtyZXR1cm4gQm9vbGVhbihlKSYmXCJvYmplY3RcIj09dHlwZW9mIGUmJiFBcnJheS5pc0FycmF5KGUpfXZhciBuaT0oZSx0KT0+T2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSx0KTtjbGFzcyByaSBleHRlbmRzIFR5cGVFcnJvcntjb25zdHJ1Y3RvcihlLHQpe2xldCBuO2NvbnN0e21lc3NhZ2U6cixleHBsYW5hdGlvbjppLC4uLm99PWUse3BhdGg6c309ZSxhPTA9PT1zLmxlbmd0aD9yOmBBdCBwYXRoOiAke3Muam9pbihcIi5cIil9IC0tICR7cn1gO3N1cGVyKGk/P2EpLG51bGwhPWkmJih0aGlzLmNhdXNlPWEpLE9iamVjdC5hc3NpZ24odGhpcyxvKSx0aGlzLm5hbWU9dGhpcy5jb25zdHJ1Y3Rvci5uYW1lLHRoaXMuZmFpbHVyZXM9KCk9Pm4/PyhuPVtlLC4uLnQoKV0pfX1mdW5jdGlvbiBpaShlKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9ZX1mdW5jdGlvbiBvaShlKXtyZXR1cm5cInN5bWJvbFwiPT10eXBlb2YgZT9lLnRvU3RyaW5nKCk6XCJzdHJpbmdcIj09dHlwZW9mIGU/SlNPTi5zdHJpbmdpZnkoZSk6YCR7ZX1gfWZ1bmN0aW9uIHNpKGUsdCxuLHIpe2lmKCEwPT09ZSlyZXR1cm47ITE9PT1lP2U9e306XCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPXttZXNzYWdlOmV9KTtjb25zdHtwYXRoOmksYnJhbmNoOm99PXQse3R5cGU6c309bix7cmVmaW5lbWVudDphLG1lc3NhZ2U6Yz1gRXhwZWN0ZWQgYSB2YWx1ZSBvZiB0eXBlIFxcYCR7c31cXGAke2E/YCB3aXRoIHJlZmluZW1lbnQgXFxgJHthfVxcYGA6XCJcIn0sIGJ1dCByZWNlaXZlZDogXFxgJHtvaShyKX1cXGBgfT1lO3JldHVybnt2YWx1ZTpyLHR5cGU6cyxyZWZpbmVtZW50OmEsa2V5OmlbaS5sZW5ndGgtMV0scGF0aDppLGJyYW5jaDpvLC4uLmUsbWVzc2FnZTpjfX1mdW5jdGlvbiphaShlLHQsbixyKXsoZnVuY3Rpb24oZSl7cmV0dXJuIGlpKGUpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlW1N5bWJvbC5pdGVyYXRvcl19KShlKXx8KGU9W2VdKTtmb3IoY29uc3QgaSBvZiBlKXtjb25zdCBlPXNpKGksdCxuLHIpO2UmJih5aWVsZCBlKX19ZnVuY3Rpb24qY2koZSx0LG49e30pe2NvbnN0e3BhdGg6cj1bXSxicmFuY2g6aT1bZV0sY29lcmNlOm89ITEsbWFzazpzPSExfT1uLGE9e3BhdGg6cixicmFuY2g6aX07aWYobyYmKGU9dC5jb2VyY2VyKGUsYSkscyYmXCJ0eXBlXCIhPT10LnR5cGUmJmlpKHQuc2NoZW1hKSYmaWkoZSkmJiFBcnJheS5pc0FycmF5KGUpKSlmb3IoY29uc3QgbiBpbiBlKXZvaWQgMD09PXQuc2NoZW1hW25dJiZkZWxldGUgZVtuXTtsZXQgYz1cInZhbGlkXCI7Zm9yKGNvbnN0IHIgb2YgdC52YWxpZGF0b3IoZSxhKSlyLmV4cGxhbmF0aW9uPW4ubWVzc2FnZSxjPVwibm90X3ZhbGlkXCIseWllbGRbcix2b2lkIDBdO2ZvcihsZXRbZCxsLHVdb2YgdC5lbnRyaWVzKGUsYSkpe2NvbnN0IHQ9Y2kobCx1LHtwYXRoOnZvaWQgMD09PWQ/cjpbLi4ucixkXSxicmFuY2g6dm9pZCAwPT09ZD9pOlsuLi5pLGxdLGNvZXJjZTpvLG1hc2s6cyxtZXNzYWdlOm4ubWVzc2FnZX0pO2Zvcihjb25zdCBuIG9mIHQpblswXT8oYz1udWxsIT1uWzBdLnJlZmluZW1lbnQ/XCJub3RfcmVmaW5lZFwiOlwibm90X3ZhbGlkXCIseWllbGRbblswXSx2b2lkIDBdKTpvJiYobD1uWzFdLHZvaWQgMD09PWQ/ZT1sOmUgaW5zdGFuY2VvZiBNYXA/ZS5zZXQoZCxsKTplIGluc3RhbmNlb2YgU2V0P2UuYWRkKGwpOmlpKGUpJiYodm9pZCAwIT09bHx8ZCBpbiBlKSYmKGVbZF09bCkpfWlmKFwibm90X3ZhbGlkXCIhPT1jKWZvcihjb25zdCByIG9mIHQucmVmaW5lcihlLGEpKXIuZXhwbGFuYXRpb249bi5tZXNzYWdlLGM9XCJub3RfcmVmaW5lZFwiLHlpZWxkW3Isdm9pZCAwXTtcInZhbGlkXCI9PT1jJiYoeWllbGRbdm9pZCAwLGVdKX1jbGFzcyBkaXtjb25zdHJ1Y3RvcihlKXtjb25zdHt0eXBlOnQsc2NoZW1hOm4sdmFsaWRhdG9yOnIscmVmaW5lcjppLGNvZXJjZXI6bz0oZT0+ZSksZW50cmllczpzPWZ1bmN0aW9uKigpe319PWU7dGhpcy50eXBlPXQsdGhpcy5zY2hlbWE9bix0aGlzLmVudHJpZXM9cyx0aGlzLmNvZXJjZXI9byx0aGlzLnZhbGlkYXRvcj1yPyhlLHQpPT5haShyKGUsdCksdCx0aGlzLGUpOigpPT5bXSx0aGlzLnJlZmluZXI9aT8oZSx0KT0+YWkoaShlLHQpLHQsdGhpcyxlKTooKT0+W119YXNzZXJ0KGUsdCl7cmV0dXJuIGxpKGUsdGhpcyx0KX1jcmVhdGUoZSx0KXtyZXR1cm4gdWkoZSx0aGlzLHQpfWlzKGUpe3JldHVybiBoaShlLHRoaXMpfW1hc2soZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe2NvbnN0IHI9ZmkoZSx0LHtjb2VyY2U6ITAsbWFzazohMCxtZXNzYWdlOm59KTtpZihyWzBdKXRocm93IHJbMF07cmV0dXJuIHJbMV19KGUsdGhpcyx0KX12YWxpZGF0ZShlLHQ9e30pe3JldHVybiBmaShlLHRoaXMsdCl9fWZ1bmN0aW9uIGxpKGUsdCxuKXtjb25zdCByPWZpKGUsdCx7bWVzc2FnZTpufSk7aWYoclswXSl0aHJvdyByWzBdfWZ1bmN0aW9uIHVpKGUsdCxuKXtjb25zdCByPWZpKGUsdCx7Y29lcmNlOiEwLG1lc3NhZ2U6bn0pO2lmKHJbMF0pdGhyb3cgclswXTtyZXR1cm4gclsxXX1mdW5jdGlvbiBoaShlLHQpe3JldHVybiFmaShlLHQpWzBdfWZ1bmN0aW9uIGZpKGUsdCxuPXt9KXtjb25zdCByPWNpKGUsdCxuKSxpPWZ1bmN0aW9uKGUpe2NvbnN0e2RvbmU6dCx2YWx1ZTpufT1lLm5leHQoKTtyZXR1cm4gdD92b2lkIDA6bn0ocik7aWYoaVswXSl7Y29uc3QgZT1uZXcgcmkoaVswXSwoZnVuY3Rpb24qKCl7Zm9yKGNvbnN0IGUgb2YgcillWzBdJiYoeWllbGQgZVswXSl9KSk7cmV0dXJuW2Usdm9pZCAwXX1yZXR1cm5bdm9pZCAwLGlbMV1dfWZ1bmN0aW9uIHBpKGUsdCl7cmV0dXJuIG5ldyBkaSh7dHlwZTplLHNjaGVtYTpudWxsLHZhbGlkYXRvcjp0fSl9ZnVuY3Rpb24gbWkoZSl7bGV0IHQ7cmV0dXJuIG5ldyBkaSh7dHlwZTpcImxhenlcIixzY2hlbWE6bnVsbCwqZW50cmllcyhuLHIpe3Q/Pyh0PWUoKSkseWllbGQqdC5lbnRyaWVzKG4scil9LHZhbGlkYXRvcjoobixyKT0+KHQ/Pyh0PWUoKSksdC52YWxpZGF0b3IobixyKSksY29lcmNlcjoobixyKT0+KHQ/Pyh0PWUoKSksdC5jb2VyY2VyKG4scikpLHJlZmluZXI6KG4scik9Pih0Pz8odD1lKCkpLHQucmVmaW5lcihuLHIpKX0pfWZ1bmN0aW9uIGdpKGUpe3JldHVybiBuZXcgZGkoe3R5cGU6XCJhcnJheVwiLHNjaGVtYTplLCplbnRyaWVzKHQpe2lmKGUmJkFycmF5LmlzQXJyYXkodCkpZm9yKGNvbnN0W24scl1vZiB0LmVudHJpZXMoKSl5aWVsZFtuLHIsZV19LGNvZXJjZXI6ZT0+QXJyYXkuaXNBcnJheShlKT9lLnNsaWNlKCk6ZSx2YWxpZGF0b3I6ZT0+QXJyYXkuaXNBcnJheShlKXx8YEV4cGVjdGVkIGFuIGFycmF5IHZhbHVlLCBidXQgcmVjZWl2ZWQ6ICR7b2koZSl9YH0pfWZ1bmN0aW9uIHlpKGUpe2NvbnN0IHQ9b2koZSksbj10eXBlb2YgZTtyZXR1cm4gbmV3IGRpKHt0eXBlOlwibGl0ZXJhbFwiLHNjaGVtYTpcInN0cmluZ1wiPT09bnx8XCJudW1iZXJcIj09PW58fFwiYm9vbGVhblwiPT09bj9lOm51bGwsdmFsaWRhdG9yOm49Pm49PT1lfHxgRXhwZWN0ZWQgdGhlIGxpdGVyYWwgXFxgJHt0fVxcYCwgYnV0IHJlY2VpdmVkOiAke29pKG4pfWB9KX1mdW5jdGlvbiB2aSgpe3JldHVybiBwaShcIm51bWJlclwiLChlPT5cIm51bWJlclwiPT10eXBlb2YgZSYmIWlzTmFOKGUpfHxgRXhwZWN0ZWQgYSBudW1iZXIsIGJ1dCByZWNlaXZlZDogJHtvaShlKX1gKSl9ZnVuY3Rpb24gRWkoZSl7Y29uc3QgdD1lP09iamVjdC5rZXlzKGUpOltdLG49cGkoXCJuZXZlclwiLCgoKT0+ITEpKTtyZXR1cm4gbmV3IGRpKHt0eXBlOlwib2JqZWN0XCIsc2NoZW1hOmV8fG51bGwsKmVudHJpZXMocil7aWYoZSYmaWkocikpe2NvbnN0IGk9bmV3IFNldChPYmplY3Qua2V5cyhyKSk7Zm9yKGNvbnN0IG4gb2YgdClpLmRlbGV0ZShuKSx5aWVsZFtuLHJbbl0sZVtuXV07Zm9yKGNvbnN0IGUgb2YgaSl5aWVsZFtlLHJbZV0sbl19fSx2YWxpZGF0b3I6ZT0+aWkoZSl8fGBFeHBlY3RlZCBhbiBvYmplY3QsIGJ1dCByZWNlaXZlZDogJHtvaShlKX1gLGNvZXJjZXI6ZT0+aWkoZSk/ey4uLmV9OmV9KX1mdW5jdGlvbiBiaShlKXtyZXR1cm4gbmV3IGRpKHsuLi5lLHZhbGlkYXRvcjoodCxuKT0+dm9pZCAwPT09dHx8ZS52YWxpZGF0b3IodCxuKSxyZWZpbmVyOih0LG4pPT52b2lkIDA9PT10fHxlLnJlZmluZXIodCxuKX0pfWZ1bmN0aW9uIHdpKGUsdCl7cmV0dXJuIG5ldyBkaSh7dHlwZTpcInJlY29yZFwiLHNjaGVtYTpudWxsLCplbnRyaWVzKG4pe2lmKGlpKG4pKWZvcihjb25zdCByIGluIG4pe2NvbnN0IGk9bltyXTt5aWVsZFtyLHIsZV0seWllbGRbcixpLHRdfX0sdmFsaWRhdG9yOmU9PmlpKGUpfHxgRXhwZWN0ZWQgYW4gb2JqZWN0LCBidXQgcmVjZWl2ZWQ6ICR7b2koZSl9YH0pfWZ1bmN0aW9uIFNpKCl7cmV0dXJuIHBpKFwic3RyaW5nXCIsKGU9Plwic3RyaW5nXCI9PXR5cGVvZiBlfHxgRXhwZWN0ZWQgYSBzdHJpbmcsIGJ1dCByZWNlaXZlZDogJHtvaShlKX1gKSl9ZnVuY3Rpb24gX2koZSl7Y29uc3QgdD1lLm1hcCgoZT0+ZS50eXBlKSkuam9pbihcIiB8IFwiKTtyZXR1cm4gbmV3IGRpKHt0eXBlOlwidW5pb25cIixzY2hlbWE6bnVsbCxjb2VyY2VyKHQpe2Zvcihjb25zdCBuIG9mIGUpe2NvbnN0W2Uscl09bi52YWxpZGF0ZSh0LHtjb2VyY2U6ITB9KTtpZighZSlyZXR1cm4gcn1yZXR1cm4gdH0sdmFsaWRhdG9yKG4scil7Y29uc3QgaT1bXTtmb3IoY29uc3QgdCBvZiBlKXtjb25zdFsuLi5lXT1jaShuLHQsciksW29dPWU7aWYoIW9bMF0pcmV0dXJuW107Zm9yKGNvbnN0W3Rdb2YgZSl0JiZpLnB1c2godCl9cmV0dXJuW2BFeHBlY3RlZCB0aGUgdmFsdWUgdG8gc2F0aXNmeSBhIHVuaW9uIG9mIFxcYCR7dH1cXGAsIGJ1dCByZWNlaXZlZDogJHtvaShuKX1gLC4uLmldfX0pfWZ1bmN0aW9uIENpKGUpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lJiZcIm1lc3NhZ2VcImluIGV9KGUpJiZcInN0cmluZ1wiPT10eXBlb2YgZS5tZXNzYWdlP2UubWVzc2FnZTpudWxsPT1lP1wiXCI6U3RyaW5nKGUpfShlKS5yZXBsYWNlKC9cXC4kL3UsXCJcIil9ZnVuY3Rpb24geGkoZSx0KXtyZXR1cm4gbj1lLEJvb2xlYW4oXCJzdHJpbmdcIj09dHlwZW9mIG4/LnByb3RvdHlwZT8uY29uc3RydWN0b3I/Lm5hbWUpP25ldyBlKHttZXNzYWdlOnR9KTplKHttZXNzYWdlOnR9KTt2YXIgbn12YXIga2k9Y2xhc3MgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihlKXtzdXBlcihlLm1lc3NhZ2UpLHRoaXMuY29kZT1cIkVSUl9BU1NFUlRJT05cIn19O3ZhciBNaT1lPT5FaShlKTtmdW5jdGlvbiBBaSh7cGF0aDplLGJyYW5jaDp0fSl7Y29uc3Qgbj1lW2UubGVuZ3RoLTFdO3JldHVybiBuaSh0W3QubGVuZ3RoLTJdLG4pfWZ1bmN0aW9uIFRpKGUpe3JldHVybiBuZXcgZGkoey4uLmUsdHlwZTpgb3B0aW9uYWwgJHtlLnR5cGV9YCx2YWxpZGF0b3I6KHQsbik9PiFBaShuKXx8ZS52YWxpZGF0b3IodCxuKSxyZWZpbmVyOih0LG4pPT4hQWkobil8fGUucmVmaW5lcih0LG4pfSl9dmFyIElpLFJpLFBpLE9pPV9pKFt5aShudWxsKSxwaShcImJvb2xlYW5cIiwoZT0+XCJib29sZWFuXCI9PXR5cGVvZiBlKSkscGkoXCJmaW5pdGUgbnVtYmVyXCIsKGU9PmhpKGUsdmkoKSkmJk51bWJlci5pc0Zpbml0ZShlKSkpLFNpKCksZ2kobWkoKCgpPT5PaSkpKSx3aShTaSgpLG1pKCgoKT0+T2kpKSldKSxOaT0oSWk9T2ksUmk9cGkoXCJhbnlcIiwoKCk9PiEwKSksUGk9ZT0+KGZ1bmN0aW9uKGUsdCxuPVwiQXNzZXJ0aW9uIGZhaWxlZFwiLHI9a2kpe3RyeXtsaShlLHQpfWNhdGNoKGUpe3Rocm93IHhpKHIsYCR7bn06ICR7Q2koZSl9LmApfX0oZSxPaSksSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlLCgoZSx0KT0+e2lmKFwiX19wcm90b19fXCIhPT1lJiZcImNvbnN0cnVjdG9yXCIhPT1lKXJldHVybiB0fSkpKSksbmV3IGRpKHsuLi5JaSxjb2VyY2VyOihlLHQpPT5oaShlLFJpKT9JaS5jb2VyY2VyKFBpKGUsdCksdCk6SWkuY29lcmNlcihlLHQpfSkpO2Z1bmN0aW9uIERpKGUpe3RyeXtyZXR1cm4gZnVuY3Rpb24oZSl7dWkoZSxOaSl9KGUpLCEwfWNhdGNoe3JldHVybiExfX12YXIgTGk9eWkoXCIyLjBcIiksQmk9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBkaSh7Li4uZSx2YWxpZGF0b3I6KHQsbik9Pm51bGw9PT10fHxlLnZhbGlkYXRvcih0LG4pLHJlZmluZXI6KHQsbik9Pm51bGw9PT10fHxlLnJlZmluZXIodCxuKX0pfShfaShbdmkoKSxTaSgpXSkpLEtpPU1pKHtjb2RlOnBpKFwiaW50ZWdlclwiLChlPT5cIm51bWJlclwiPT10eXBlb2YgZSYmIWlzTmFOKGUpJiZOdW1iZXIuaXNJbnRlZ2VyKGUpfHxgRXhwZWN0ZWQgYW4gaW50ZWdlciwgYnV0IHJlY2VpdmVkOiAke29pKGUpfWApKSxtZXNzYWdlOlNpKCksZGF0YTpUaShOaSksc3RhY2s6VGkoU2koKSl9KSxqaT1faShbd2koU2koKSxOaSksZ2koTmkpXSksJGk9TWkoe2lkOkJpLGpzb25ycGM6TGksbWV0aG9kOlNpKCkscGFyYW1zOlRpKGppKX0pLEhpPU1pKHtqc29ucnBjOkxpLG1ldGhvZDpTaSgpLHBhcmFtczpUaShqaSl9KTtmdW5jdGlvbiBVaShlKXtyZXR1cm4gaGkoZSwkaSl9ZnVuY3Rpb24gRmkoZSl7cmV0dXJuIGhpKGUsS2kpfUVpKHtpZDpCaSxqc29ucnBjOkxpLHJlc3VsdDpiaShwaShcInVua25vd25cIiwoKCk9PiEwKSkpLGVycm9yOmJpKEtpKX0pLF9pKFtNaSh7aWQ6QmksanNvbnJwYzpMaSxyZXN1bHQ6Tml9KSxNaSh7aWQ6QmksanNvbnJwYzpMaSxlcnJvcjpLaX0pXSk7dmFyIHFpPVhyLmludGVybmFsLHppPVwiVW5zcGVjaWZpZWQgZXJyb3IgbWVzc2FnZS4gVGhpcyBpcyBhIGJ1ZywgcGxlYXNlIHJlcG9ydCBpdC5cIixXaT17Y29kZTpxaSxtZXNzYWdlOkdpKHFpKX0sVmk9XCJVbnNwZWNpZmllZCBzZXJ2ZXIgZXJyb3IuXCI7ZnVuY3Rpb24gR2koZSx0PXppKXtpZihmdW5jdGlvbihlKXtyZXR1cm4gTnVtYmVyLmlzSW50ZWdlcihlKX0oZSkpe2NvbnN0IHQ9ZS50b1N0cmluZygpO2lmKG5pKGVpLHQpKXJldHVybiBlaVt0XS5tZXNzYWdlO2lmKGZ1bmN0aW9uKGUpe3JldHVybiBlPj0tMzIwOTkmJmU8PS0zMmUzfShlKSlyZXR1cm4gVml9cmV0dXJuIHR9ZnVuY3Rpb24gWWkoZSx7ZmFsbGJhY2tFcnJvcjp0PVdpLHNob3VsZEluY2x1ZGVTdGFjazpuPSEwfT17fSl7aWYoIUZpKHQpKXRocm93IG5ldyBFcnJvcihcIk11c3QgcHJvdmlkZSBmYWxsYmFjayBlcnJvciB3aXRoIGludGVnZXIgbnVtYmVyIGNvZGUgYW5kIHN0cmluZyBtZXNzYWdlLlwiKTtjb25zdCByPWZ1bmN0aW9uKGUsdCl7aWYoZSYmXCJvYmplY3RcIj09dHlwZW9mIGUmJlwic2VyaWFsaXplXCJpbiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnNlcmlhbGl6ZSlyZXR1cm4gZS5zZXJpYWxpemUoKTtpZihGaShlKSlyZXR1cm4gZTtjb25zdCBuPVppKGUpLHI9ey4uLnQsZGF0YTp7Y2F1c2U6bn19O3JldHVybiByfShlLHQpO3JldHVybiBufHxkZWxldGUgci5zdGFjayxyfWZ1bmN0aW9uIFppKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpP2UubWFwKChlPT5EaShlKT9lOnRpKGUpP0ppKGUpOm51bGwpKTp0aShlKT9KaShlKTpEaShlKT9lOm51bGx9ZnVuY3Rpb24gSmkoZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLnJlZHVjZSgoKHQsbik9Pntjb25zdCByPWVbbl07cmV0dXJuIERpKHIpJiYodFtuXT1yKSx0fSkse30pfXZhciBRaT1pbztpby5kZWZhdWx0PWlvLGlvLnN0YWJsZT1jbyxpby5zdGFibGVTdHJpbmdpZnk9Y287dmFyIFhpPVwiWy4uLl1cIixlbz1cIltDaXJjdWxhcl1cIix0bz1bXSxubz1bXTtmdW5jdGlvbiBybygpe3JldHVybntkZXB0aExpbWl0Ok51bWJlci5NQVhfU0FGRV9JTlRFR0VSLGVkZ2VzTGltaXQ6TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJ9fWZ1bmN0aW9uIGlvKGUsdCxuLHIpe3ZhciBpO3ZvaWQgMD09PXImJihyPXJvKCkpLHNvKGUsXCJcIiwwLFtdLHZvaWQgMCwwLHIpO3RyeXtpPTA9PT1uby5sZW5ndGg/SlNPTi5zdHJpbmdpZnkoZSx0LG4pOkpTT04uc3RyaW5naWZ5KGUsdW8odCksbil9Y2F0Y2goZSl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KFwiW3VuYWJsZSB0byBzZXJpYWxpemUsIGNpcmN1bGFyIHJlZmVyZW5jZSBpcyB0b28gY29tcGxleCB0byBhbmFseXplXVwiKX1maW5hbGx5e2Zvcig7MCE9PXRvLmxlbmd0aDspe3ZhciBvPXRvLnBvcCgpOzQ9PT1vLmxlbmd0aD9PYmplY3QuZGVmaW5lUHJvcGVydHkob1swXSxvWzFdLG9bM10pOm9bMF1bb1sxXV09b1syXX19cmV0dXJuIGl9ZnVuY3Rpb24gb28oZSx0LG4scil7dmFyIGk9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLG4pO3ZvaWQgMCE9PWkuZ2V0P2kuY29uZmlndXJhYmxlPyhPYmplY3QuZGVmaW5lUHJvcGVydHkocixuLHt2YWx1ZTplfSksdG8ucHVzaChbcixuLHQsaV0pKTpuby5wdXNoKFt0LG4sZV0pOihyW25dPWUsdG8ucHVzaChbcixuLHRdKSl9ZnVuY3Rpb24gc28oZSx0LG4scixpLG8scyl7dmFyIGE7aWYobys9MSxcIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWUpe2ZvcihhPTA7YTxyLmxlbmd0aDthKyspaWYoclthXT09PWUpcmV0dXJuIHZvaWQgb28oZW8sZSx0LGkpO2lmKHZvaWQgMCE9PXMuZGVwdGhMaW1pdCYmbz5zLmRlcHRoTGltaXQpcmV0dXJuIHZvaWQgb28oWGksZSx0LGkpO2lmKHZvaWQgMCE9PXMuZWRnZXNMaW1pdCYmbisxPnMuZWRnZXNMaW1pdClyZXR1cm4gdm9pZCBvbyhYaSxlLHQsaSk7aWYoci5wdXNoKGUpLEFycmF5LmlzQXJyYXkoZSkpZm9yKGE9MDthPGUubGVuZ3RoO2ErKylzbyhlW2FdLGEsYSxyLGUsbyxzKTtlbHNle3ZhciBjPU9iamVjdC5rZXlzKGUpO2ZvcihhPTA7YTxjLmxlbmd0aDthKyspe3ZhciBkPWNbYV07c28oZVtkXSxkLGEscixlLG8scyl9fXIucG9wKCl9fWZ1bmN0aW9uIGFvKGUsdCl7cmV0dXJuIGU8dD8tMTplPnQ/MTowfWZ1bmN0aW9uIGNvKGUsdCxuLHIpe3ZvaWQgMD09PXImJihyPXJvKCkpO3ZhciBpLG89bG8oZSxcIlwiLDAsW10sdm9pZCAwLDAscil8fGU7dHJ5e2k9MD09PW5vLmxlbmd0aD9KU09OLnN0cmluZ2lmeShvLHQsbik6SlNPTi5zdHJpbmdpZnkobyx1byh0KSxuKX1jYXRjaChlKXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoXCJbdW5hYmxlIHRvIHNlcmlhbGl6ZSwgY2lyY3VsYXIgcmVmZXJlbmNlIGlzIHRvbyBjb21wbGV4IHRvIGFuYWx5emVdXCIpfWZpbmFsbHl7Zm9yKDswIT09dG8ubGVuZ3RoOyl7dmFyIHM9dG8ucG9wKCk7ND09PXMubGVuZ3RoP09iamVjdC5kZWZpbmVQcm9wZXJ0eShzWzBdLHNbMV0sc1szXSk6c1swXVtzWzFdXT1zWzJdfX1yZXR1cm4gaX1mdW5jdGlvbiBsbyhlLHQsbixyLGksbyxzKXt2YXIgYTtpZihvKz0xLFwib2JqZWN0XCI9PXR5cGVvZiBlJiZudWxsIT09ZSl7Zm9yKGE9MDthPHIubGVuZ3RoO2ErKylpZihyW2FdPT09ZSlyZXR1cm4gdm9pZCBvbyhlbyxlLHQsaSk7dHJ5e2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUudG9KU09OKXJldHVybn1jYXRjaChlKXtyZXR1cm59aWYodm9pZCAwIT09cy5kZXB0aExpbWl0JiZvPnMuZGVwdGhMaW1pdClyZXR1cm4gdm9pZCBvbyhYaSxlLHQsaSk7aWYodm9pZCAwIT09cy5lZGdlc0xpbWl0JiZuKzE+cy5lZGdlc0xpbWl0KXJldHVybiB2b2lkIG9vKFhpLGUsdCxpKTtpZihyLnB1c2goZSksQXJyYXkuaXNBcnJheShlKSlmb3IoYT0wO2E8ZS5sZW5ndGg7YSsrKWxvKGVbYV0sYSxhLHIsZSxvLHMpO2Vsc2V7dmFyIGM9e30sZD1PYmplY3Qua2V5cyhlKS5zb3J0KGFvKTtmb3IoYT0wO2E8ZC5sZW5ndGg7YSsrKXt2YXIgbD1kW2FdO2xvKGVbbF0sbCxhLHIsZSxvLHMpLGNbbF09ZVtsXX1pZih2b2lkIDA9PT1pKXJldHVybiBjO3RvLnB1c2goW2ksdCxlXSksaVt0XT1jfXIucG9wKCl9fWZ1bmN0aW9uIHVvKGUpe3JldHVybiBlPXZvaWQgMCE9PWU/ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0fSxmdW5jdGlvbih0LG4pe2lmKG5vLmxlbmd0aD4wKWZvcih2YXIgcj0wO3I8bm8ubGVuZ3RoO3IrKyl7dmFyIGk9bm9bcl07aWYoaVsxXT09PXQmJmlbMF09PT1uKXtuPWlbMl0sbm8uc3BsaWNlKHIsMSk7YnJlYWt9fXJldHVybiBlLmNhbGwodGhpcyx0LG4pfX12YXIgaG89ZihRaSksZm89Y2xhc3MgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihlLHQsbil7aWYoIU51bWJlci5pc0ludGVnZXIoZSkpdGhyb3cgbmV3IEVycm9yKCdcImNvZGVcIiBtdXN0IGJlIGFuIGludGVnZXIuJyk7aWYoIXR8fFwic3RyaW5nXCIhPXR5cGVvZiB0KXRocm93IG5ldyBFcnJvcignXCJtZXNzYWdlXCIgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmcuJyk7c3VwZXIodCksdGhpcy5jb2RlPWUsdm9pZCAwIT09biYmKHRoaXMuZGF0YT1uKX1zZXJpYWxpemUoKXtjb25zdCBlPXtjb2RlOnRoaXMuY29kZSxtZXNzYWdlOnRoaXMubWVzc2FnZX07cmV0dXJuIHZvaWQgMCE9PXRoaXMuZGF0YSYmKGUuZGF0YT10aGlzLmRhdGEsZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVybiExO3RyeXtsZXQgdD1lO2Zvcig7bnVsbCE9PU9iamVjdC5nZXRQcm90b3R5cGVPZih0KTspdD1PYmplY3QuZ2V0UHJvdG90eXBlT2YodCk7cmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZihlKT09PXR9Y2F0Y2goZSl7cmV0dXJuITF9fSh0aGlzLmRhdGEpJiYoZS5kYXRhLmNhdXNlPVppKHRoaXMuZGF0YS5jYXVzZSkpKSx0aGlzLnN0YWNrJiYoZS5zdGFjaz10aGlzLnN0YWNrKSxlfXRvU3RyaW5nKCl7cmV0dXJuIGhvKHRoaXMuc2VyaWFsaXplKCkscG8sMil9fTtmdW5jdGlvbiBwbyhlLHQpe2lmKFwiW0NpcmN1bGFyXVwiIT09dClyZXR1cm4gdH12YXIgbW89ZT0+Z28oWHIuaW52YWxpZFJlcXVlc3QsZSk7ZnVuY3Rpb24gZ28oZSx0KXtjb25zdFtuLHJdPWZ1bmN0aW9uKGUpe2lmKGUpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybltlXTtpZihcIm9iamVjdFwiPT10eXBlb2YgZSYmIUFycmF5LmlzQXJyYXkoZSkpe2NvbnN0e21lc3NhZ2U6dCxkYXRhOm59PWU7aWYodCYmXCJzdHJpbmdcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IEVycm9yKFwiTXVzdCBzcGVjaWZ5IHN0cmluZyBtZXNzYWdlLlwiKTtyZXR1cm5bdD8/dm9pZCAwLG5dfX1yZXR1cm5bXX0odCk7cmV0dXJuIG5ldyBmbyhlLG4/P0dpKGUpLHIpfXZhciB5bz17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoeW8sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3Qgdm89YztmdW5jdGlvbiBFbyhlLHQsbil7dHJ5e1JlZmxlY3QuYXBwbHkoZSx0LG4pfWNhdGNoKGUpe3NldFRpbWVvdXQoKCgpPT57dGhyb3cgZX0pKX19bGV0IGJvPWNsYXNzIGV4dGVuZHMgdm8uRXZlbnRFbWl0dGVye2VtaXQoZSwuLi50KXtsZXQgbj1cImVycm9yXCI9PT1lO2NvbnN0IHI9dGhpcy5fZXZlbnRzO2lmKHZvaWQgMCE9PXIpbj1uJiZ2b2lkIDA9PT1yLmVycm9yO2Vsc2UgaWYoIW4pcmV0dXJuITE7aWYobil7bGV0IGU7aWYodC5sZW5ndGg+MCYmKFtlXT10KSxlIGluc3RhbmNlb2YgRXJyb3IpdGhyb3cgZTtjb25zdCBuPW5ldyBFcnJvcihcIlVuaGFuZGxlZCBlcnJvci5cIisoZT9gICgke2UubWVzc2FnZX0pYDpcIlwiKSk7dGhyb3cgbi5jb250ZXh0PWUsbn1jb25zdCBpPXJbZV07aWYodm9pZCAwPT09aSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBpKUVvKGksdGhpcyx0KTtlbHNle2NvbnN0IGU9aS5sZW5ndGgsbj1mdW5jdGlvbihlKXtjb25zdCB0PWUubGVuZ3RoLG49bmV3IEFycmF5KHQpO2ZvcihsZXQgcj0wO3I8dDtyKz0xKW5bcl09ZVtyXTtyZXR1cm4gbn0oaSk7Zm9yKGxldCByPTA7cjxlO3IrPTEpRW8obltyXSx0aGlzLHQpfXJldHVybiEwfX07dmFyIHdvLFNvLF9vLENvLHhvLGtvLE1vLEFvLFRvLElvLFJvLFBvLE9vLE5vLERvLExvLEJvLEtvLGpvLCRvPXlvLmRlZmF1bHQ9Ym8sSG89Y2xhc3MgZSBleHRlbmRzICRve2NvbnN0cnVjdG9yKHtub3RpZmljYXRpb25IYW5kbGVyOmV9PXt9KXtzdXBlcigpLFpyKHRoaXMsQ28pLFpyKHRoaXMsa28pLFpyKHRoaXMsQW8pLFpyKHRoaXMsd28sITEpLFpyKHRoaXMsU28sdm9pZCAwKSxacih0aGlzLF9vLHZvaWQgMCksSnIodGhpcyxTbyxbXSksSnIodGhpcyxfbyxlKX1kZXN0cm95KCl7WXIodGhpcyxTbykuZm9yRWFjaCgoZT0+e1wiZGVzdHJveVwiaW4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5kZXN0cm95JiZlLmRlc3Ryb3koKX0pKSxKcih0aGlzLFNvLFtdKSxKcih0aGlzLHdvLCEwKX1wdXNoKGUpe1FyKHRoaXMsQ28seG8pLmNhbGwodGhpcyksWXIodGhpcyxTbykucHVzaChlKX1oYW5kbGUoZSx0KXtpZihRcih0aGlzLENvLHhvKS5jYWxsKHRoaXMpLHQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IEVycm9yKCdcImNhbGxiYWNrXCIgbXVzdCBiZSBhIGZ1bmN0aW9uIGlmIHByb3ZpZGVkLicpO3JldHVybiBBcnJheS5pc0FycmF5KGUpP3Q/UXIodGhpcyxrbyxNbykuY2FsbCh0aGlzLGUsdCk6UXIodGhpcyxrbyxNbykuY2FsbCh0aGlzLGUpOnQ/UXIodGhpcyxBbyxUbykuY2FsbCh0aGlzLGUsdCk6dGhpcy5fcHJvbWlzZUhhbmRsZShlKX1hc01pZGRsZXdhcmUoKXtyZXR1cm4gUXIodGhpcyxDbyx4bykuY2FsbCh0aGlzKSxhc3luYyh0LG4scixpKT0+e3ZhciBvLHM7dHJ5e2NvbnN0W2EsYyxkXT1hd2FpdCBRcihvPWUsUG8sT28pLmNhbGwobyx0LG4sWXIodGhpcyxTbykpO3JldHVybiBjPyhhd2FpdCBRcihzPWUsTG8sQm8pLmNhbGwocyxkKSxpKGEpKTpyKChhc3luYyB0PT57dmFyIG47dHJ5e2F3YWl0IFFyKG49ZSxMbyxCbykuY2FsbChuLGQpfWNhdGNoKGUpe3JldHVybiB0KGUpfXJldHVybiB0KCl9KSl9Y2F0Y2goZSl7cmV0dXJuIGkoZSl9fX1hc3luYyBfcHJvbWlzZUhhbmRsZShlKXtyZXR1cm4gbmV3IFByb21pc2UoKCh0LG4pPT57UXIodGhpcyxBbyxUbykuY2FsbCh0aGlzLGUsKChlLHIpPT57ZSYmdm9pZCAwPT09cj9uKGUpOnQocil9KSkuY2F0Y2gobil9KSl9fTt3bz1uZXcgV2Vha01hcCxTbz1uZXcgV2Vha01hcCxfbz1uZXcgV2Vha01hcCxDbz1uZXcgV2Vha1NldCx4bz1mdW5jdGlvbigpe2lmKFlyKHRoaXMsd28pKXRocm93IG5ldyBFcnJvcihcIlRoaXMgZW5naW5lIGlzIGRlc3Ryb3llZCBhbmQgY2FuIG5vIGxvbmdlciBiZSB1c2VkLlwiKX0sa289bmV3IFdlYWtTZXQsTW89YXN5bmMgZnVuY3Rpb24oZSx0KXt0cnl7aWYoMD09PWUubGVuZ3RoKXtjb25zdCBlPVt7aWQ6bnVsbCxqc29ucnBjOlwiMi4wXCIsZXJyb3I6bmV3IGZvKFhyLmludmFsaWRSZXF1ZXN0LFwiUmVxdWVzdCBiYXRjaCBtdXN0IGNvbnRhaW4gcGxhaW4gb2JqZWN0cy4gUmVjZWl2ZWQgYW4gZW1wdHkgYXJyYXlcIil9XTtyZXR1cm4gdD90KG51bGwsZSk6ZX1jb25zdCBuPShhd2FpdCBQcm9taXNlLmFsbChlLm1hcCh0aGlzLl9wcm9taXNlSGFuZGxlLmJpbmQodGhpcykpKSkuZmlsdGVyKChlPT52b2lkIDAhPT1lKSk7cmV0dXJuIHQ/dChudWxsLG4pOm59Y2F0Y2goZSl7aWYodClyZXR1cm4gdChlKTt0aHJvdyBlfX0sQW89bmV3IFdlYWtTZXQsVG89YXN5bmMgZnVuY3Rpb24oZSx0KXt2YXIgbjtpZighZXx8QXJyYXkuaXNBcnJheShlKXx8XCJvYmplY3RcIiE9dHlwZW9mIGUpe2NvbnN0IG49bmV3IGZvKFhyLmludmFsaWRSZXF1ZXN0LFwiUmVxdWVzdHMgbXVzdCBiZSBwbGFpbiBvYmplY3RzLiBSZWNlaXZlZDogXCIrdHlwZW9mIGUse3JlcXVlc3Q6ZX0pO3JldHVybiB0KG4se2lkOm51bGwsanNvbnJwYzpcIjIuMFwiLGVycm9yOm59KX1pZihcInN0cmluZ1wiIT10eXBlb2YgZS5tZXRob2Qpe2NvbnN0IG49bmV3IGZvKFhyLmludmFsaWRSZXF1ZXN0LFwiTXVzdCBzcGVjaWZ5IGEgc3RyaW5nIG1ldGhvZC4gUmVjZWl2ZWQ6IFwiK3R5cGVvZiBlLm1ldGhvZCx7cmVxdWVzdDplfSk7cmV0dXJuIFlyKHRoaXMsX28pJiYhVWkoZSk/dChudWxsKTp0KG4se2lkOmUuaWQ/P251bGwsanNvbnJwYzpcIjIuMFwiLGVycm9yOm59KX1pZihZcih0aGlzLF9vKSYmaGkoZSxIaSkmJiFVaShlKSl7dHJ5e2F3YWl0IFlyKHRoaXMsX28pLmNhbGwodGhpcyxlKX1jYXRjaChlKXtyZXR1cm4gdChlKX1yZXR1cm4gdChudWxsKX1sZXQgcj1udWxsO2NvbnN0IGk9ey4uLmV9LG89e2lkOmkuaWQsanNvbnJwYzppLmpzb25ycGN9O3RyeXthd2FpdCBRcihuPUhvLElvLFJvKS5jYWxsKG4saSxvLFlyKHRoaXMsU28pKX1jYXRjaChlKXtyPWV9cmV0dXJuIHImJihkZWxldGUgby5yZXN1bHQsby5lcnJvcnx8KG8uZXJyb3I9WWkocikpKSx0KHIsbyl9LElvPW5ldyBXZWFrU2V0LFJvPWFzeW5jIGZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG87Y29uc3RbcyxhLGNdPWF3YWl0IFFyKHI9SG8sUG8sT28pLmNhbGwocixlLHQsbik7aWYoUXIoaT1IbyxLbyxqbykuY2FsbChpLGUsdCxhKSxhd2FpdCBRcihvPUhvLExvLEJvKS5jYWxsKG8sYykscyl0aHJvdyBzfSxQbz1uZXcgV2Vha1NldCxPbz1hc3luYyBmdW5jdGlvbihlLHQsbil7dmFyIHI7Y29uc3QgaT1bXTtsZXQgbz1udWxsLHM9ITE7Zm9yKGNvbnN0IGEgb2YgbilpZihbbyxzXT1hd2FpdCBRcihyPUhvLE5vLERvKS5jYWxsKHIsZSx0LGEsaSkscylicmVhaztyZXR1cm5bbyxzLGkucmV2ZXJzZSgpXX0sTm89bmV3IFdlYWtTZXQsRG89YXN5bmMgZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIG5ldyBQcm9taXNlKChpPT57Y29uc3Qgbz1lPT57Y29uc3Qgbj1lfHx0LmVycm9yO24mJih0LmVycm9yPVlpKG4pKSxpKFtuLCEwXSl9LHM9bj0+e3QuZXJyb3I/byh0LmVycm9yKToobiYmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIG4mJm8obmV3IGZvKFhyLmludGVybmFsLGBKc29uUnBjRW5naW5lOiBcIm5leHRcIiByZXR1cm4gaGFuZGxlcnMgbXVzdCBiZSBmdW5jdGlvbnMuIFJlY2VpdmVkIFwiJHt0eXBlb2Ygbn1cIiBmb3IgcmVxdWVzdDpcXG4ke0ZvKGUpfWAse3JlcXVlc3Q6ZX0pKSxyLnB1c2gobikpLGkoW251bGwsITFdKSl9O3RyeXtuKGUsdCxzLG8pfWNhdGNoKGUpe28oZSl9fSkpfSxMbz1uZXcgV2Vha1NldCxCbz1hc3luYyBmdW5jdGlvbihlKXtmb3IoY29uc3QgdCBvZiBlKWF3YWl0IG5ldyBQcm9taXNlKCgoZSxuKT0+e3QoKHQ9PnQ/bih0KTplKCkpKX0pKX0sS289bmV3IFdlYWtTZXQsam89ZnVuY3Rpb24oZSx0LG4pe2lmKCFuaSh0LFwicmVzdWx0XCIpJiYhbmkodCxcImVycm9yXCIpKXRocm93IG5ldyBmbyhYci5pbnRlcm5hbCxgSnNvblJwY0VuZ2luZTogUmVzcG9uc2UgaGFzIG5vIGVycm9yIG9yIHJlc3VsdCBmb3IgcmVxdWVzdDpcXG4ke0ZvKGUpfWAse3JlcXVlc3Q6ZX0pO2lmKCFuKXRocm93IG5ldyBmbyhYci5pbnRlcm5hbCxgSnNvblJwY0VuZ2luZTogTm90aGluZyBlbmRlZCByZXF1ZXN0OlxcbiR7Rm8oZSl9YCx7cmVxdWVzdDplfSl9LFpyKEhvLElvKSxacihIbyxQbyksWnIoSG8sTm8pLFpyKEhvLExvKSxacihIbyxLbyk7dmFyIFVvPUhvO2Z1bmN0aW9uIEZvKGUpe3JldHVybiBKU09OLnN0cmluZ2lmeShlLG51bGwsMil9dmFyIHFvPU9iamVjdC5mcmVlemUoW1wiZXRoX3N1YnNjcmlwdGlvblwiXSksem89KGU9Y29uc29sZSk9PntyZXR1cm5bVnIoKSwodD1lLChlLG4scik9PntcInN0cmluZ1wiPT10eXBlb2YgZS5tZXRob2QmJmUubWV0aG9kfHwobi5lcnJvcj1tbyh7bWVzc2FnZTpcIlRoZSByZXF1ZXN0ICdtZXRob2QnIG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nLlwiLGRhdGE6ZX0pKSxyKChlPT57Y29uc3R7ZXJyb3I6cn09bjtyZXR1cm4gcj8odC5lcnJvcihgTWV0YU1hc2sgLSBSUEMgRXJyb3I6ICR7ci5tZXNzYWdlfWAsciksZSgpKTplKCl9KSl9KSxxcihlKV07dmFyIHR9O3ZhciBXbz0oZSx0LG49ITApPT4ocixpKT0+e3J8fGkuZXJyb3I/dChyfHxpLmVycm9yKTohbnx8QXJyYXkuaXNBcnJheShpKT9lKGkpOmUoaS5yZXN1bHQpfSxWbz1lPT5Cb29sZWFuKGUpJiZcInN0cmluZ1wiPT10eXBlb2YgZSYmZS5zdGFydHNXaXRoKFwiMHhcIiksR289KCk9Pnt9O2FzeW5jIGZ1bmN0aW9uIFlvKGUsdCl7dHJ5e2NvbnN0IHQ9YXdhaXQgYXN5bmMgZnVuY3Rpb24oKXtyZXR1cm57bmFtZTpabyh3aW5kb3cpLGljb246YXdhaXQgSm8od2luZG93KX19KCk7ZS5oYW5kbGUoe2pzb25ycGM6XCIyLjBcIixpZDoxLG1ldGhvZDpcIm1ldGFtYXNrX3NlbmREb21haW5NZXRhZGF0YVwiLHBhcmFtczp0fSxHbyl9Y2F0Y2goZSl7dC5lcnJvcih7bWVzc2FnZTpGci5lcnJvcnMuc2VuZFNpdGVNZXRhZGF0YSgpLG9yaWdpbmFsRXJyb3I6ZX0pfX1mdW5jdGlvbiBabyhlKXtjb25zdHtkb2N1bWVudDp0fT1lLG49dC5xdWVyeVNlbGVjdG9yKCdoZWFkID4gbWV0YVtwcm9wZXJ0eT1cIm9nOnNpdGVfbmFtZVwiXScpO2lmKG4pcmV0dXJuIG4uY29udGVudDtjb25zdCByPXQucXVlcnlTZWxlY3RvcignaGVhZCA+IG1ldGFbbmFtZT1cInRpdGxlXCJdJyk7cmV0dXJuIHI/ci5jb250ZW50OnQudGl0bGUmJnQudGl0bGUubGVuZ3RoPjA/dC50aXRsZTp3aW5kb3cubG9jYXRpb24uaG9zdG5hbWV9YXN5bmMgZnVuY3Rpb24gSm8oZSl7Y29uc3R7ZG9jdW1lbnQ6dH09ZSxuPXQucXVlcnlTZWxlY3RvckFsbCgnaGVhZCA+IGxpbmtbcmVsfj1cImljb25cIl0nKTtmb3IoY29uc3QgZSBvZiBBcnJheS5mcm9tKG4pKWlmKGUmJmF3YWl0IFFvKGUuaHJlZikpcmV0dXJuIGUuaHJlZjtyZXR1cm4gbnVsbH1hc3luYyBmdW5jdGlvbiBRbyhlKXtyZXR1cm4gbmV3IFByb21pc2UoKCh0LG4pPT57dHJ5e2NvbnN0IG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtuLm9ubG9hZD0oKT0+dCghMCksbi5vbmVycm9yPSgpPT50KCExKSxuLnNyYz1lfWNhdGNoKGUpe24oZSl9fSkpfXZhciBYbz0oZSx0LG4pPT57aWYoIXQuaGFzKGUpKXRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBcIituKX0sZXM9KGUsdCxuKT0+KFhvKGUsdCxcInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkXCIpLG4/bi5jYWxsKGUpOnQuZ2V0KGUpKSx0cz0oZSx0LG4pPT57aWYodC5oYXMoZSkpdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IGFkZCB0aGUgc2FtZSBwcml2YXRlIG1lbWJlciBtb3JlIHRoYW4gb25jZVwiKTt0IGluc3RhbmNlb2YgV2Vha1NldD90LmFkZChlKTp0LnNldChlLG4pfSxucz0oZSx0LG4scik9PihYbyhlLHQsXCJ3cml0ZSB0byBwcml2YXRlIGZpZWxkXCIpLHQuc2V0KGUsbiksbik7ZnVuY3Rpb24gcnMoZSx0LG4pe3RyeXtSZWZsZWN0LmFwcGx5KGUsdCxuKX1jYXRjaChlKXtzZXRUaW1lb3V0KCgoKT0+e3Rocm93IGV9KSl9fWNsYXNzIGlzIGV4dGVuZHMgYy5FdmVudEVtaXR0ZXJ7ZW1pdChlLC4uLnQpe2xldCBuPVwiZXJyb3JcIj09PWU7Y29uc3Qgcj10aGlzLl9ldmVudHM7aWYodm9pZCAwIT09ciluPW4mJnZvaWQgMD09PXIuZXJyb3I7ZWxzZSBpZighbilyZXR1cm4hMTtpZihuKXtsZXQgZTtpZih0Lmxlbmd0aD4wJiYoW2VdPXQpLGUgaW5zdGFuY2VvZiBFcnJvcil0aHJvdyBlO2NvbnN0IG49bmV3IEVycm9yKFwiVW5oYW5kbGVkIGVycm9yLlwiKyhlP2AgKCR7ZS5tZXNzYWdlfSlgOlwiXCIpKTt0aHJvdyBuLmNvbnRleHQ9ZSxufWNvbnN0IGk9cltlXTtpZih2b2lkIDA9PT1pKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGkpcnMoaSx0aGlzLHQpO2Vsc2V7Y29uc3QgZT1pLmxlbmd0aCxuPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZS5sZW5ndGgsbj1uZXcgQXJyYXkodCk7Zm9yKGxldCByPTA7cjx0O3IrPTEpbltyXT1lW3JdO3JldHVybiBufShpKTtmb3IobGV0IHI9MDtyPGU7cis9MSlycyhuW3JdLHRoaXMsdCl9cmV0dXJuITB9fXZhciBvcyxzcyxhcz1mdW5jdGlvbiBlKHQsbil7aWYodD09PW4pcmV0dXJuITA7aWYodCYmbiYmXCJvYmplY3RcIj09dHlwZW9mIHQmJlwib2JqZWN0XCI9PXR5cGVvZiBuKXtpZih0LmNvbnN0cnVjdG9yIT09bi5jb25zdHJ1Y3RvcilyZXR1cm4hMTt2YXIgcixpLG87aWYoQXJyYXkuaXNBcnJheSh0KSl7aWYoKHI9dC5sZW5ndGgpIT1uLmxlbmd0aClyZXR1cm4hMTtmb3IoaT1yOzAhPWktLTspaWYoIWUodFtpXSxuW2ldKSlyZXR1cm4hMTtyZXR1cm4hMH1pZih0LmNvbnN0cnVjdG9yPT09UmVnRXhwKXJldHVybiB0LnNvdXJjZT09PW4uc291cmNlJiZ0LmZsYWdzPT09bi5mbGFncztpZih0LnZhbHVlT2YhPT1PYmplY3QucHJvdG90eXBlLnZhbHVlT2YpcmV0dXJuIHQudmFsdWVPZigpPT09bi52YWx1ZU9mKCk7aWYodC50b1N0cmluZyE9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcpcmV0dXJuIHQudG9TdHJpbmcoKT09PW4udG9TdHJpbmcoKTtpZigocj0obz1PYmplY3Qua2V5cyh0KSkubGVuZ3RoKSE9PU9iamVjdC5rZXlzKG4pLmxlbmd0aClyZXR1cm4hMTtmb3IoaT1yOzAhPWktLTspaWYoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLG9baV0pKXJldHVybiExO2ZvcihpPXI7MCE9aS0tOyl7dmFyIHM9b1tpXTtpZighZSh0W3NdLG5bc10pKXJldHVybiExfXJldHVybiEwfXJldHVybiB0IT10JiZuIT1ufSxjcz1mKGFzKSxkcz1jbGFzcyBlIGV4dGVuZHMgaXN7Y29uc3RydWN0b3Ioe2xvZ2dlcjp0PWNvbnNvbGUsbWF4RXZlbnRMaXN0ZW5lcnM6bj0xMDAscnBjTWlkZGxld2FyZTpyPVtdfT17fSl7c3VwZXIoKSx0cyh0aGlzLG9zLHZvaWQgMCksdHModGhpcyxzcyx2b2lkIDApLHRoaXMuX2xvZz10LHRoaXMuc2V0TWF4TGlzdGVuZXJzKG4pLHRoaXMuX3N0YXRlPXsuLi5lLl9kZWZhdWx0U3RhdGV9LG5zKHRoaXMsc3MsbnVsbCksbnModGhpcyxvcyxudWxsKSx0aGlzLl9oYW5kbGVBY2NvdW50c0NoYW5nZWQ9dGhpcy5faGFuZGxlQWNjb3VudHNDaGFuZ2VkLmJpbmQodGhpcyksdGhpcy5faGFuZGxlQ29ubmVjdD10aGlzLl9oYW5kbGVDb25uZWN0LmJpbmQodGhpcyksdGhpcy5faGFuZGxlQ2hhaW5DaGFuZ2VkPXRoaXMuX2hhbmRsZUNoYWluQ2hhbmdlZC5iaW5kKHRoaXMpLHRoaXMuX2hhbmRsZURpc2Nvbm5lY3Q9dGhpcy5faGFuZGxlRGlzY29ubmVjdC5iaW5kKHRoaXMpLHRoaXMuX2hhbmRsZVVubG9ja1N0YXRlQ2hhbmdlZD10aGlzLl9oYW5kbGVVbmxvY2tTdGF0ZUNoYW5nZWQuYmluZCh0aGlzKSx0aGlzLl9ycGNSZXF1ZXN0PXRoaXMuX3JwY1JlcXVlc3QuYmluZCh0aGlzKSx0aGlzLnJlcXVlc3Q9dGhpcy5yZXF1ZXN0LmJpbmQodGhpcyk7Y29uc3QgaT1uZXcgVW87ci5mb3JFYWNoKChlPT5pLnB1c2goZSkpKSx0aGlzLl9ycGNFbmdpbmU9aX1nZXQgY2hhaW5JZCgpe3JldHVybiBlcyh0aGlzLG9zKX1nZXQgc2VsZWN0ZWRBZGRyZXNzKCl7cmV0dXJuIGVzKHRoaXMsc3MpfWlzQ29ubmVjdGVkKCl7cmV0dXJuIHRoaXMuX3N0YXRlLmlzQ29ubmVjdGVkfWFzeW5jIHJlcXVlc3QoZSl7aWYoIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlfHxBcnJheS5pc0FycmF5KGUpKXRocm93IG1vKHttZXNzYWdlOkZyLmVycm9ycy5pbnZhbGlkUmVxdWVzdEFyZ3MoKSxkYXRhOmV9KTtjb25zdHttZXRob2Q6dCxwYXJhbXM6bn09ZTtpZihcInN0cmluZ1wiIT10eXBlb2YgdHx8MD09PXQubGVuZ3RoKXRocm93IG1vKHttZXNzYWdlOkZyLmVycm9ycy5pbnZhbGlkUmVxdWVzdE1ldGhvZCgpLGRhdGE6ZX0pO2lmKHZvaWQgMCE9PW4mJiFBcnJheS5pc0FycmF5KG4pJiYoXCJvYmplY3RcIiE9dHlwZW9mIG58fG51bGw9PT1uKSl0aHJvdyBtbyh7bWVzc2FnZTpGci5lcnJvcnMuaW52YWxpZFJlcXVlc3RQYXJhbXMoKSxkYXRhOmV9KTtjb25zdCByPW51bGw9PW4/e21ldGhvZDp0fTp7bWV0aG9kOnQscGFyYW1zOm59O3JldHVybiBuZXcgUHJvbWlzZSgoKGUsdCk9Pnt0aGlzLl9ycGNSZXF1ZXN0KHIsV28oZSx0KSl9KSl9X2luaXRpYWxpemVTdGF0ZShlKXtpZih0aGlzLl9zdGF0ZS5pbml0aWFsaXplZCl0aHJvdyBuZXcgRXJyb3IoXCJQcm92aWRlciBhbHJlYWR5IGluaXRpYWxpemVkLlwiKTtpZihlKXtjb25zdHthY2NvdW50czp0LGNoYWluSWQ6bixpc1VubG9ja2VkOnIsbmV0d29ya1ZlcnNpb246aX09ZTt0aGlzLl9oYW5kbGVDb25uZWN0KG4pLHRoaXMuX2hhbmRsZUNoYWluQ2hhbmdlZCh7Y2hhaW5JZDpuLG5ldHdvcmtWZXJzaW9uOml9KSx0aGlzLl9oYW5kbGVVbmxvY2tTdGF0ZUNoYW5nZWQoe2FjY291bnRzOnQsaXNVbmxvY2tlZDpyfSksdGhpcy5faGFuZGxlQWNjb3VudHNDaGFuZ2VkKHQpfXRoaXMuX3N0YXRlLmluaXRpYWxpemVkPSEwLHRoaXMuZW1pdChcIl9pbml0aWFsaXplZFwiKX1fcnBjUmVxdWVzdChlLHQpe2xldCBuPXQ7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSl8fChlLmpzb25ycGN8fChlLmpzb25ycGM9XCIyLjBcIiksXCJldGhfYWNjb3VudHNcIiE9PWUubWV0aG9kJiZcImV0aF9yZXF1ZXN0QWNjb3VudHNcIiE9PWUubWV0aG9kfHwobj0obixyKT0+e3RoaXMuX2hhbmRsZUFjY291bnRzQ2hhbmdlZChyLnJlc3VsdD8/W10sXCJldGhfYWNjb3VudHNcIj09PWUubWV0aG9kKSx0KG4scil9KSksdGhpcy5fcnBjRW5naW5lLmhhbmRsZShlLG4pfV9oYW5kbGVDb25uZWN0KGUpe3RoaXMuX3N0YXRlLmlzQ29ubmVjdGVkfHwodGhpcy5fc3RhdGUuaXNDb25uZWN0ZWQ9ITAsdGhpcy5lbWl0KFwiY29ubmVjdFwiLHtjaGFpbklkOmV9KSx0aGlzLl9sb2cuZGVidWcoRnIuaW5mby5jb25uZWN0ZWQoZSkpKX1faGFuZGxlRGlzY29ubmVjdChlLHQpe2lmKHRoaXMuX3N0YXRlLmlzQ29ubmVjdGVkfHwhdGhpcy5fc3RhdGUuaXNQZXJtYW5lbnRseURpc2Nvbm5lY3RlZCYmIWUpe2xldCBuO3RoaXMuX3N0YXRlLmlzQ29ubmVjdGVkPSExLGU/KG49bmV3IGZvKDEwMTMsdD8/RnIuZXJyb3JzLmRpc2Nvbm5lY3RlZCgpKSx0aGlzLl9sb2cuZGVidWcobikpOihuPW5ldyBmbygxMDExLHQ/P0ZyLmVycm9ycy5wZXJtYW5lbnRseURpc2Nvbm5lY3RlZCgpKSx0aGlzLl9sb2cuZXJyb3IobiksbnModGhpcyxvcyxudWxsKSx0aGlzLl9zdGF0ZS5hY2NvdW50cz1udWxsLG5zKHRoaXMsc3MsbnVsbCksdGhpcy5fc3RhdGUuaXNVbmxvY2tlZD0hMSx0aGlzLl9zdGF0ZS5pc1Blcm1hbmVudGx5RGlzY29ubmVjdGVkPSEwKSx0aGlzLmVtaXQoXCJkaXNjb25uZWN0XCIsbil9fV9oYW5kbGVDaGFpbkNoYW5nZWQoe2NoYWluSWQ6ZX09e30pe1ZvKGUpPyh0aGlzLl9oYW5kbGVDb25uZWN0KGUpLGUhPT1lcyh0aGlzLG9zKSYmKG5zKHRoaXMsb3MsZSksdGhpcy5fc3RhdGUuaW5pdGlhbGl6ZWQmJnRoaXMuZW1pdChcImNoYWluQ2hhbmdlZFwiLGVzKHRoaXMsb3MpKSkpOnRoaXMuX2xvZy5lcnJvcihGci5lcnJvcnMuaW52YWxpZE5ldHdvcmtQYXJhbXMoKSx7Y2hhaW5JZDplfSl9X2hhbmRsZUFjY291bnRzQ2hhbmdlZChlLHQ9ITEpe2xldCBuPWU7QXJyYXkuaXNBcnJheShlKXx8KHRoaXMuX2xvZy5lcnJvcihcIk1ldGFNYXNrOiBSZWNlaXZlZCBpbnZhbGlkIGFjY291bnRzIHBhcmFtZXRlci4gUGxlYXNlIHJlcG9ydCB0aGlzIGJ1Zy5cIixlKSxuPVtdKTtmb3IoY29uc3QgdCBvZiBlKWlmKFwic3RyaW5nXCIhPXR5cGVvZiB0KXt0aGlzLl9sb2cuZXJyb3IoXCJNZXRhTWFzazogUmVjZWl2ZWQgbm9uLXN0cmluZyBhY2NvdW50LiBQbGVhc2UgcmVwb3J0IHRoaXMgYnVnLlwiLGUpLG49W107YnJlYWt9aWYoIWNzKHRoaXMuX3N0YXRlLmFjY291bnRzLG4pJiYodCYmbnVsbCE9PXRoaXMuX3N0YXRlLmFjY291bnRzJiZ0aGlzLl9sb2cuZXJyb3IoXCJNZXRhTWFzazogJ2V0aF9hY2NvdW50cycgdW5leHBlY3RlZGx5IHVwZGF0ZWQgYWNjb3VudHMuIFBsZWFzZSByZXBvcnQgdGhpcyBidWcuXCIsbiksdGhpcy5fc3RhdGUuYWNjb3VudHM9bixlcyh0aGlzLHNzKSE9PW5bMF0mJm5zKHRoaXMsc3MsblswXXx8bnVsbCksdGhpcy5fc3RhdGUuaW5pdGlhbGl6ZWQpKXtjb25zdCBlPVsuLi5uXTt0aGlzLmVtaXQoXCJhY2NvdW50c0NoYW5nZWRcIixlKX19X2hhbmRsZVVubG9ja1N0YXRlQ2hhbmdlZCh7YWNjb3VudHM6ZSxpc1VubG9ja2VkOnR9PXt9KXtcImJvb2xlYW5cIj09dHlwZW9mIHQ/dCE9PXRoaXMuX3N0YXRlLmlzVW5sb2NrZWQmJih0aGlzLl9zdGF0ZS5pc1VubG9ja2VkPXQsdGhpcy5faGFuZGxlQWNjb3VudHNDaGFuZ2VkKGU/P1tdKSk6dGhpcy5fbG9nLmVycm9yKFwiTWV0YU1hc2s6IFJlY2VpdmVkIGludmFsaWQgaXNVbmxvY2tlZCBwYXJhbWV0ZXIuIFBsZWFzZSByZXBvcnQgdGhpcyBidWcuXCIpfX07b3M9bmV3IFdlYWtNYXAsc3M9bmV3IFdlYWtNYXAsZHMuX2RlZmF1bHRTdGF0ZT17YWNjb3VudHM6bnVsbCxpc0Nvbm5lY3RlZDohMSxpc1VubG9ja2VkOiExLGluaXRpYWxpemVkOiExLGlzUGVybWFuZW50bHlEaXNjb25uZWN0ZWQ6ITF9O3ZhciBscyx1cyxocyxmcyxwcyxtcyxncz1kcyx5cz17ZXhwb3J0czp7fX07ZnVuY3Rpb24gdnMoKXtyZXR1cm4gdXM/bHM6KHVzPTEsbHM9ZCl9ZnVuY3Rpb24gRXMoKXtpZihmcylyZXR1cm4gaHM7ZnVuY3Rpb24gZShlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gdCh0KXtmb3IodmFyIG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbbl0/YXJndW1lbnRzW25dOnt9O24lMj9lKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cih0LGUsaVtlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6ZShPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLGUpKX0pKX1yZXR1cm4gdH1mdW5jdGlvbiByKGUsdCxuKXtyZXR1cm4odD1vKHQpKWluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09bixlfWZ1bmN0aW9uIGkoZSx0LG4pe3JldHVybiB0JiZmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxvKHIua2V5KSxyKX19KGUucHJvdG90eXBlLHQpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZX1mdW5jdGlvbiBvKGUpe3ZhciB0PWZ1bmN0aW9uKGUsdCl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVybiBlO3ZhciBuPWVbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwoZSx0fHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHIpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybihcInN0cmluZ1wiPT09dD9TdHJpbmc6TnVtYmVyKShlKX0oZSxcInN0cmluZ1wiKTtyZXR1cm5cInN5bWJvbFwiPT10eXBlb2YgdD90OlN0cmluZyh0KX1mcz0xO3ZhciBzPW4uQnVmZmVyLGE9bC5pbnNwZWN0LGM9YSYmYS5jdXN0b218fFwiaW5zcGVjdFwiO3JldHVybiBocz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLHRoaXMuaGVhZD1udWxsLHRoaXMudGFpbD1udWxsLHRoaXMubGVuZ3RoPTB9cmV0dXJuIGkoZSxbe2tleTpcInB1c2hcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD17ZGF0YTplLG5leHQ6bnVsbH07dGhpcy5sZW5ndGg+MD90aGlzLnRhaWwubmV4dD10OnRoaXMuaGVhZD10LHRoaXMudGFpbD10LCsrdGhpcy5sZW5ndGh9fSx7a2V5OlwidW5zaGlmdFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXtkYXRhOmUsbmV4dDp0aGlzLmhlYWR9OzA9PT10aGlzLmxlbmd0aCYmKHRoaXMudGFpbD10KSx0aGlzLmhlYWQ9dCwrK3RoaXMubGVuZ3RofX0se2tleTpcInNoaWZ0XCIsdmFsdWU6ZnVuY3Rpb24oKXtpZigwIT09dGhpcy5sZW5ndGgpe3ZhciBlPXRoaXMuaGVhZC5kYXRhO3JldHVybiAxPT09dGhpcy5sZW5ndGg/dGhpcy5oZWFkPXRoaXMudGFpbD1udWxsOnRoaXMuaGVhZD10aGlzLmhlYWQubmV4dCwtLXRoaXMubGVuZ3RoLGV9fX0se2tleTpcImNsZWFyXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmhlYWQ9dGhpcy50YWlsPW51bGwsdGhpcy5sZW5ndGg9MH19LHtrZXk6XCJqb2luXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoMD09PXRoaXMubGVuZ3RoKXJldHVyblwiXCI7Zm9yKHZhciB0PXRoaXMuaGVhZCxuPVwiXCIrdC5kYXRhO3Q9dC5uZXh0OyluKz1lK3QuZGF0YTtyZXR1cm4gbn19LHtrZXk6XCJjb25jYXRcIix2YWx1ZTpmdW5jdGlvbihlKXtpZigwPT09dGhpcy5sZW5ndGgpcmV0dXJuIHMuYWxsb2MoMCk7Zm9yKHZhciB0LG4scixpPXMuYWxsb2NVbnNhZmUoZT4+PjApLG89dGhpcy5oZWFkLGE9MDtvOyl0PW8uZGF0YSxuPWkscj1hLHMucHJvdG90eXBlLmNvcHkuY2FsbCh0LG4sciksYSs9by5kYXRhLmxlbmd0aCxvPW8ubmV4dDtyZXR1cm4gaX19LHtrZXk6XCJjb25zdW1lXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbjtyZXR1cm4gZTx0aGlzLmhlYWQuZGF0YS5sZW5ndGg/KG49dGhpcy5oZWFkLmRhdGEuc2xpY2UoMCxlKSx0aGlzLmhlYWQuZGF0YT10aGlzLmhlYWQuZGF0YS5zbGljZShlKSk6bj1lPT09dGhpcy5oZWFkLmRhdGEubGVuZ3RoP3RoaXMuc2hpZnQoKTp0P3RoaXMuX2dldFN0cmluZyhlKTp0aGlzLl9nZXRCdWZmZXIoZSksbn19LHtrZXk6XCJmaXJzdFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGVhZC5kYXRhfX0se2tleTpcIl9nZXRTdHJpbmdcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmhlYWQsbj0xLHI9dC5kYXRhO2ZvcihlLT1yLmxlbmd0aDt0PXQubmV4dDspe3ZhciBpPXQuZGF0YSxvPWU+aS5sZW5ndGg/aS5sZW5ndGg6ZTtpZihvPT09aS5sZW5ndGg/cis9aTpyKz1pLnNsaWNlKDAsZSksMD09PShlLT1vKSl7bz09PWkubGVuZ3RoPygrK24sdC5uZXh0P3RoaXMuaGVhZD10Lm5leHQ6dGhpcy5oZWFkPXRoaXMudGFpbD1udWxsKToodGhpcy5oZWFkPXQsdC5kYXRhPWkuc2xpY2UobykpO2JyZWFrfSsrbn1yZXR1cm4gdGhpcy5sZW5ndGgtPW4scn19LHtrZXk6XCJfZ2V0QnVmZmVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9cy5hbGxvY1Vuc2FmZShlKSxuPXRoaXMuaGVhZCxyPTE7Zm9yKG4uZGF0YS5jb3B5KHQpLGUtPW4uZGF0YS5sZW5ndGg7bj1uLm5leHQ7KXt2YXIgaT1uLmRhdGEsbz1lPmkubGVuZ3RoP2kubGVuZ3RoOmU7aWYoaS5jb3B5KHQsdC5sZW5ndGgtZSwwLG8pLDA9PT0oZS09bykpe289PT1pLmxlbmd0aD8oKytyLG4ubmV4dD90aGlzLmhlYWQ9bi5uZXh0OnRoaXMuaGVhZD10aGlzLnRhaWw9bnVsbCk6KHRoaXMuaGVhZD1uLG4uZGF0YT1pLnNsaWNlKG8pKTticmVha30rK3J9cmV0dXJuIHRoaXMubGVuZ3RoLT1yLHR9fSx7a2V5OmMsdmFsdWU6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gYSh0aGlzLHQodCh7fSxuKSx7fSx7ZGVwdGg6MCxjdXN0b21JbnNwZWN0OiExfSkpfX1dKSxlfSgpLGhzfWZ1bmN0aW9uIGJzKCl7aWYobXMpcmV0dXJuIHBzO2Z1bmN0aW9uIGUoZSxyKXtuKGUsciksdChlKX1mdW5jdGlvbiB0KGUpe2UuX3dyaXRhYmxlU3RhdGUmJiFlLl93cml0YWJsZVN0YXRlLmVtaXRDbG9zZXx8ZS5fcmVhZGFibGVTdGF0ZSYmIWUuX3JlYWRhYmxlU3RhdGUuZW1pdENsb3NlfHxlLmVtaXQoXCJjbG9zZVwiKX1mdW5jdGlvbiBuKGUsdCl7ZS5lbWl0KFwiZXJyb3JcIix0KX1yZXR1cm4gbXM9MSxwcz17ZGVzdHJveTpmdW5jdGlvbihyLGkpe3ZhciBvPXRoaXMscz10aGlzLl9yZWFkYWJsZVN0YXRlJiZ0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZCxhPXRoaXMuX3dyaXRhYmxlU3RhdGUmJnRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkO3JldHVybiBzfHxhPyhpP2kocik6ciYmKHRoaXMuX3dyaXRhYmxlU3RhdGU/dGhpcy5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWR8fCh0aGlzLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZD0hMCxwcm9jZXNzLm5leHRUaWNrKG4sdGhpcyxyKSk6cHJvY2Vzcy5uZXh0VGljayhuLHRoaXMscikpLHRoaXMpOih0aGlzLl9yZWFkYWJsZVN0YXRlJiYodGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQ9ITApLHRoaXMuX3dyaXRhYmxlU3RhdGUmJih0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZD0hMCksdGhpcy5fZGVzdHJveShyfHxudWxsLChmdW5jdGlvbihuKXshaSYmbj9vLl93cml0YWJsZVN0YXRlP28uX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkP3Byb2Nlc3MubmV4dFRpY2sodCxvKTooby5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQ9ITAscHJvY2Vzcy5uZXh0VGljayhlLG8sbikpOnByb2Nlc3MubmV4dFRpY2soZSxvLG4pOmk/KHByb2Nlc3MubmV4dFRpY2sodCxvKSxpKG4pKTpwcm9jZXNzLm5leHRUaWNrKHQsbyl9KSksdGhpcyl9LHVuZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX3JlYWRhYmxlU3RhdGUmJih0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZD0hMSx0aGlzLl9yZWFkYWJsZVN0YXRlLnJlYWRpbmc9ITEsdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmRlZD0hMSx0aGlzLl9yZWFkYWJsZVN0YXRlLmVuZEVtaXR0ZWQ9ITEpLHRoaXMuX3dyaXRhYmxlU3RhdGUmJih0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZD0hMSx0aGlzLl93cml0YWJsZVN0YXRlLmVuZGVkPSExLHRoaXMuX3dyaXRhYmxlU3RhdGUuZW5kaW5nPSExLHRoaXMuX3dyaXRhYmxlU3RhdGUuZmluYWxDYWxsZWQ9ITEsdGhpcy5fd3JpdGFibGVTdGF0ZS5wcmVmaW5pc2hlZD0hMSx0aGlzLl93cml0YWJsZVN0YXRlLmZpbmlzaGVkPSExLHRoaXMuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkPSExKX0sZXJyb3JPckRlc3Ryb3k6ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLl9yZWFkYWJsZVN0YXRlLHI9ZS5fd3JpdGFibGVTdGF0ZTtuJiZuLmF1dG9EZXN0cm95fHxyJiZyLmF1dG9EZXN0cm95P2UuZGVzdHJveSh0KTplLmVtaXQoXCJlcnJvclwiLHQpfX0scHN9dmFyIHdzLFNzLF9zLENzPXt9O2Z1bmN0aW9uIHhzKCl7aWYod3MpcmV0dXJuIENzO3dzPTE7Y29uc3QgZT17fTtmdW5jdGlvbiB0KHQsbixyKXtyfHwocj1FcnJvcik7Y2xhc3MgaSBleHRlbmRzIHJ7Y29uc3RydWN0b3IoZSx0LHIpe3N1cGVyKGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2Ygbj9uOm4oZSx0LHIpfShlLHQscikpfX1pLnByb3RvdHlwZS5uYW1lPXIubmFtZSxpLnByb3RvdHlwZS5jb2RlPXQsZVt0XT1pfWZ1bmN0aW9uIG4oZSx0KXtpZihBcnJheS5pc0FycmF5KGUpKXtjb25zdCBuPWUubGVuZ3RoO3JldHVybiBlPWUubWFwKChlPT5TdHJpbmcoZSkpKSxuPjI/YG9uZSBvZiAke3R9ICR7ZS5zbGljZSgwLG4tMSkuam9pbihcIiwgXCIpfSwgb3IgYCtlW24tMV06Mj09PW4/YG9uZSBvZiAke3R9ICR7ZVswXX0gb3IgJHtlWzFdfWA6YG9mICR7dH0gJHtlWzBdfWB9cmV0dXJuYG9mICR7dH0gJHtTdHJpbmcoZSl9YH1yZXR1cm4gdChcIkVSUl9JTlZBTElEX09QVF9WQUxVRVwiLChmdW5jdGlvbihlLHQpe3JldHVybidUaGUgdmFsdWUgXCInK3QrJ1wiIGlzIGludmFsaWQgZm9yIG9wdGlvbiBcIicrZSsnXCInfSksVHlwZUVycm9yKSx0KFwiRVJSX0lOVkFMSURfQVJHX1RZUEVcIiwoZnVuY3Rpb24oZSx0LHIpe2xldCBpO3ZhciBvO2xldCBzO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0JiYobz1cIm5vdCBcIix0LnN1YnN0cigwLG8ubGVuZ3RoKT09PW8pPyhpPVwibXVzdCBub3QgYmVcIix0PXQucmVwbGFjZSgvXm5vdCAvLFwiXCIpKTppPVwibXVzdCBiZVwiLGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4odm9pZCAwPT09bnx8bj5lLmxlbmd0aCkmJihuPWUubGVuZ3RoKSxlLnN1YnN0cmluZyhuLXQubGVuZ3RoLG4pPT09dH0oZSxcIiBhcmd1bWVudFwiKSlzPWBUaGUgJHtlfSAke2l9ICR7bih0LFwidHlwZVwiKX1gO2Vsc2V7Y29uc3Qgcj1mdW5jdGlvbihlLHQsbil7cmV0dXJuXCJudW1iZXJcIiE9dHlwZW9mIG4mJihuPTApLCEobit0Lmxlbmd0aD5lLmxlbmd0aCkmJi0xIT09ZS5pbmRleE9mKHQsbil9KGUsXCIuXCIpP1wicHJvcGVydHlcIjpcImFyZ3VtZW50XCI7cz1gVGhlIFwiJHtlfVwiICR7cn0gJHtpfSAke24odCxcInR5cGVcIil9YH1yZXR1cm4gcys9XCIuIFJlY2VpdmVkIHR5cGUgXCIrdHlwZW9mIHIsc30pLFR5cGVFcnJvciksdChcIkVSUl9TVFJFQU1fUFVTSF9BRlRFUl9FT0ZcIixcInN0cmVhbS5wdXNoKCkgYWZ0ZXIgRU9GXCIpLHQoXCJFUlJfTUVUSE9EX05PVF9JTVBMRU1FTlRFRFwiLChmdW5jdGlvbihlKXtyZXR1cm5cIlRoZSBcIitlK1wiIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWRcIn0pKSx0KFwiRVJSX1NUUkVBTV9QUkVNQVRVUkVfQ0xPU0VcIixcIlByZW1hdHVyZSBjbG9zZVwiKSx0KFwiRVJSX1NUUkVBTV9ERVNUUk9ZRURcIiwoZnVuY3Rpb24oZSl7cmV0dXJuXCJDYW5ub3QgY2FsbCBcIitlK1wiIGFmdGVyIGEgc3RyZWFtIHdhcyBkZXN0cm95ZWRcIn0pKSx0KFwiRVJSX01VTFRJUExFX0NBTExCQUNLXCIsXCJDYWxsYmFjayBjYWxsZWQgbXVsdGlwbGUgdGltZXNcIiksdChcIkVSUl9TVFJFQU1fQ0FOTk9UX1BJUEVcIixcIkNhbm5vdCBwaXBlLCBub3QgcmVhZGFibGVcIiksdChcIkVSUl9TVFJFQU1fV1JJVEVfQUZURVJfRU5EXCIsXCJ3cml0ZSBhZnRlciBlbmRcIiksdChcIkVSUl9TVFJFQU1fTlVMTF9WQUxVRVNcIixcIk1heSBub3Qgd3JpdGUgbnVsbCB2YWx1ZXMgdG8gc3RyZWFtXCIsVHlwZUVycm9yKSx0KFwiRVJSX1VOS05PV05fRU5DT0RJTkdcIiwoZnVuY3Rpb24oZSl7cmV0dXJuXCJVbmtub3duIGVuY29kaW5nOiBcIitlfSksVHlwZUVycm9yKSx0KFwiRVJSX1NUUkVBTV9VTlNISUZUX0FGVEVSX0VORF9FVkVOVFwiLFwic3RyZWFtLnVuc2hpZnQoKSBhZnRlciBlbmQgZXZlbnRcIiksQ3MuY29kZXM9ZSxDc31mdW5jdGlvbiBrcygpe2lmKF9zKXJldHVybiBTcztfcz0xO3ZhciBlPXhzKCkuY29kZXMuRVJSX0lOVkFMSURfT1BUX1ZBTFVFO3JldHVybiBTcz17Z2V0SGlnaFdhdGVyTWFyazpmdW5jdGlvbih0LG4scixpKXt2YXIgbz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIG51bGwhPWUuaGlnaFdhdGVyTWFyaz9lLmhpZ2hXYXRlck1hcms6dD9lW25dOm51bGx9KG4saSxyKTtpZihudWxsIT1vKXtpZighaXNGaW5pdGUobyl8fE1hdGguZmxvb3IobykhPT1vfHxvPDApdGhyb3cgbmV3IGUoaT9yOlwiaGlnaFdhdGVyTWFya1wiLG8pO3JldHVybiBNYXRoLmZsb29yKG8pfXJldHVybiB0Lm9iamVjdE1vZGU/MTY6MTYzODR9fX12YXIgTXMsQXMsVHMsSXMsUnMsUHMsT3MsTnMsRHM9e2V4cG9ydHM6e319LExzPXtleHBvcnRzOnt9fTtmdW5jdGlvbiBCcygpe2lmKEFzKXJldHVybiBEcy5leHBvcnRzO0FzPTE7dHJ5e3ZhciBlPXJlcXVpcmUoXCJ1dGlsXCIpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUuaW5oZXJpdHMpdGhyb3dcIlwiO0RzLmV4cG9ydHM9ZS5pbmhlcml0c31jYXRjaChlKXtEcy5leHBvcnRzPShNc3x8KE1zPTEsXCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmNyZWF0ZT9Mcy5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dCYmKGUuc3VwZXJfPXQsZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSkpfTpMcy5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYodCl7ZS5zdXBlcl89dDt2YXIgbj1mdW5jdGlvbigpe307bi5wcm90b3R5cGU9dC5wcm90b3R5cGUsZS5wcm90b3R5cGU9bmV3IG4sZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZX19KSxMcy5leHBvcnRzKX1yZXR1cm4gRHMuZXhwb3J0c31mdW5jdGlvbiBLcygpe2lmKFBzKXJldHVybiBScztmdW5jdGlvbiBlKGUpe3ZhciB0PXRoaXM7dGhpcy5uZXh0PW51bGwsdGhpcy5lbnRyeT1udWxsLHRoaXMuZmluaXNoPWZ1bmN0aW9uKCl7IWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1lLmVudHJ5O2UuZW50cnk9bnVsbDtmb3IoO3I7KXt2YXIgaT1yLmNhbGxiYWNrO3QucGVuZGluZ2NiLS0saShuKSxyPXIubmV4dH10LmNvcmtlZFJlcXVlc3RzRnJlZS5uZXh0PWV9KHQsZSl9fXZhciB0O1BzPTEsUnM9QyxDLldyaXRhYmxlU3RhdGU9Xzt2YXIgcj17ZGVwcmVjYXRlOklzP1RzOihJcz0xLFRzPWwuZGVwcmVjYXRlKX0saT12cygpLG89bi5CdWZmZXIscz0odm9pZCAwIT09aD9oOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6e30pLlVpbnQ4QXJyYXl8fGZ1bmN0aW9uKCl7fTt2YXIgYSxjPWJzKCksZD1rcygpLmdldEhpZ2hXYXRlck1hcmssdT14cygpLmNvZGVzLGY9dS5FUlJfSU5WQUxJRF9BUkdfVFlQRSxwPXUuRVJSX01FVEhPRF9OT1RfSU1QTEVNRU5URUQsbT11LkVSUl9NVUxUSVBMRV9DQUxMQkFDSyxnPXUuRVJSX1NUUkVBTV9DQU5OT1RfUElQRSx5PXUuRVJSX1NUUkVBTV9ERVNUUk9ZRUQsdj11LkVSUl9TVFJFQU1fTlVMTF9WQUxVRVMsRT11LkVSUl9TVFJFQU1fV1JJVEVfQUZURVJfRU5ELGI9dS5FUlJfVU5LTk9XTl9FTkNPRElORyx3PWMuZXJyb3JPckRlc3Ryb3k7ZnVuY3Rpb24gUygpe31mdW5jdGlvbiBfKG4scixpKXt0PXR8fGpzKCksbj1ufHx7fSxcImJvb2xlYW5cIiE9dHlwZW9mIGkmJihpPXIgaW5zdGFuY2VvZiB0KSx0aGlzLm9iamVjdE1vZGU9ISFuLm9iamVjdE1vZGUsaSYmKHRoaXMub2JqZWN0TW9kZT10aGlzLm9iamVjdE1vZGV8fCEhbi53cml0YWJsZU9iamVjdE1vZGUpLHRoaXMuaGlnaFdhdGVyTWFyaz1kKHRoaXMsbixcIndyaXRhYmxlSGlnaFdhdGVyTWFya1wiLGkpLHRoaXMuZmluYWxDYWxsZWQ9ITEsdGhpcy5uZWVkRHJhaW49ITEsdGhpcy5lbmRpbmc9ITEsdGhpcy5lbmRlZD0hMSx0aGlzLmZpbmlzaGVkPSExLHRoaXMuZGVzdHJveWVkPSExO3ZhciBvPSExPT09bi5kZWNvZGVTdHJpbmdzO3RoaXMuZGVjb2RlU3RyaW5ncz0hbyx0aGlzLmRlZmF1bHRFbmNvZGluZz1uLmRlZmF1bHRFbmNvZGluZ3x8XCJ1dGY4XCIsdGhpcy5sZW5ndGg9MCx0aGlzLndyaXRpbmc9ITEsdGhpcy5jb3JrZWQ9MCx0aGlzLnN5bmM9ITAsdGhpcy5idWZmZXJQcm9jZXNzaW5nPSExLHRoaXMub253cml0ZT1mdW5jdGlvbihlKXshZnVuY3Rpb24oZSx0KXt2YXIgbj1lLl93cml0YWJsZVN0YXRlLHI9bi5zeW5jLGk9bi53cml0ZWNiO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGkpdGhyb3cgbmV3IG07aWYoZnVuY3Rpb24oZSl7ZS53cml0aW5nPSExLGUud3JpdGVjYj1udWxsLGUubGVuZ3RoLT1lLndyaXRlbGVuLGUud3JpdGVsZW49MH0obiksdCkhZnVuY3Rpb24oZSx0LG4scixpKXstLXQucGVuZGluZ2NiLG4/KHByb2Nlc3MubmV4dFRpY2soaSxyKSxwcm9jZXNzLm5leHRUaWNrKEksZSx0KSxlLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZD0hMCx3KGUscikpOihpKHIpLGUuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkPSEwLHcoZSxyKSxJKGUsdCkpfShlLG4scix0LGkpO2Vsc2V7dmFyIG89QShuKXx8ZS5kZXN0cm95ZWQ7b3x8bi5jb3JrZWR8fG4uYnVmZmVyUHJvY2Vzc2luZ3x8IW4uYnVmZmVyZWRSZXF1ZXN0fHxNKGUsbikscj9wcm9jZXNzLm5leHRUaWNrKGssZSxuLG8saSk6ayhlLG4sbyxpKX19KHIsZSl9LHRoaXMud3JpdGVjYj1udWxsLHRoaXMud3JpdGVsZW49MCx0aGlzLmJ1ZmZlcmVkUmVxdWVzdD1udWxsLHRoaXMubGFzdEJ1ZmZlcmVkUmVxdWVzdD1udWxsLHRoaXMucGVuZGluZ2NiPTAsdGhpcy5wcmVmaW5pc2hlZD0hMSx0aGlzLmVycm9yRW1pdHRlZD0hMSx0aGlzLmVtaXRDbG9zZT0hMSE9PW4uZW1pdENsb3NlLHRoaXMuYXV0b0Rlc3Ryb3k9ISFuLmF1dG9EZXN0cm95LHRoaXMuYnVmZmVyZWRSZXF1ZXN0Q291bnQ9MCx0aGlzLmNvcmtlZFJlcXVlc3RzRnJlZT1uZXcgZSh0aGlzKX1mdW5jdGlvbiBDKGUpe3ZhciBuPXRoaXMgaW5zdGFuY2VvZih0PXR8fGpzKCkpO2lmKCFuJiYhYS5jYWxsKEMsdGhpcykpcmV0dXJuIG5ldyBDKGUpO3RoaXMuX3dyaXRhYmxlU3RhdGU9bmV3IF8oZSx0aGlzLG4pLHRoaXMud3JpdGFibGU9ITAsZSYmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUud3JpdGUmJih0aGlzLl93cml0ZT1lLndyaXRlKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLndyaXRldiYmKHRoaXMuX3dyaXRldj1lLndyaXRldiksXCJmdW5jdGlvblwiPT10eXBlb2YgZS5kZXN0cm95JiYodGhpcy5fZGVzdHJveT1lLmRlc3Ryb3kpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGUuZmluYWwmJih0aGlzLl9maW5hbD1lLmZpbmFsKSksaS5jYWxsKHRoaXMpfWZ1bmN0aW9uIHgoZSx0LG4scixpLG8scyl7dC53cml0ZWxlbj1yLHQud3JpdGVjYj1zLHQud3JpdGluZz0hMCx0LnN5bmM9ITAsdC5kZXN0cm95ZWQ/dC5vbndyaXRlKG5ldyB5KFwid3JpdGVcIikpOm4/ZS5fd3JpdGV2KGksdC5vbndyaXRlKTplLl93cml0ZShpLG8sdC5vbndyaXRlKSx0LnN5bmM9ITF9ZnVuY3Rpb24gayhlLHQsbixyKXtufHxmdW5jdGlvbihlLHQpezA9PT10Lmxlbmd0aCYmdC5uZWVkRHJhaW4mJih0Lm5lZWREcmFpbj0hMSxlLmVtaXQoXCJkcmFpblwiKSl9KGUsdCksdC5wZW5kaW5nY2ItLSxyKCksSShlLHQpfWZ1bmN0aW9uIE0odCxuKXtuLmJ1ZmZlclByb2Nlc3Npbmc9ITA7dmFyIHI9bi5idWZmZXJlZFJlcXVlc3Q7aWYodC5fd3JpdGV2JiZyJiZyLm5leHQpe3ZhciBpPW4uYnVmZmVyZWRSZXF1ZXN0Q291bnQsbz1uZXcgQXJyYXkoaSkscz1uLmNvcmtlZFJlcXVlc3RzRnJlZTtzLmVudHJ5PXI7Zm9yKHZhciBhPTAsYz0hMDtyOylvW2FdPXIsci5pc0J1Znx8KGM9ITEpLHI9ci5uZXh0LGErPTE7by5hbGxCdWZmZXJzPWMseCh0LG4sITAsbi5sZW5ndGgsbyxcIlwiLHMuZmluaXNoKSxuLnBlbmRpbmdjYisrLG4ubGFzdEJ1ZmZlcmVkUmVxdWVzdD1udWxsLHMubmV4dD8obi5jb3JrZWRSZXF1ZXN0c0ZyZWU9cy5uZXh0LHMubmV4dD1udWxsKTpuLmNvcmtlZFJlcXVlc3RzRnJlZT1uZXcgZShuKSxuLmJ1ZmZlcmVkUmVxdWVzdENvdW50PTB9ZWxzZXtmb3IoO3I7KXt2YXIgZD1yLmNodW5rLGw9ci5lbmNvZGluZyx1PXIuY2FsbGJhY2s7aWYoeCh0LG4sITEsbi5vYmplY3RNb2RlPzE6ZC5sZW5ndGgsZCxsLHUpLHI9ci5uZXh0LG4uYnVmZmVyZWRSZXF1ZXN0Q291bnQtLSxuLndyaXRpbmcpYnJlYWt9bnVsbD09PXImJihuLmxhc3RCdWZmZXJlZFJlcXVlc3Q9bnVsbCl9bi5idWZmZXJlZFJlcXVlc3Q9cixuLmJ1ZmZlclByb2Nlc3Npbmc9ITF9ZnVuY3Rpb24gQShlKXtyZXR1cm4gZS5lbmRpbmcmJjA9PT1lLmxlbmd0aCYmbnVsbD09PWUuYnVmZmVyZWRSZXF1ZXN0JiYhZS5maW5pc2hlZCYmIWUud3JpdGluZ31mdW5jdGlvbiBUKGUsdCl7ZS5fZmluYWwoKGZ1bmN0aW9uKG4pe3QucGVuZGluZ2NiLS0sbiYmdyhlLG4pLHQucHJlZmluaXNoZWQ9ITAsZS5lbWl0KFwicHJlZmluaXNoXCIpLEkoZSx0KX0pKX1mdW5jdGlvbiBJKGUsdCl7dmFyIG49QSh0KTtpZihuJiYoZnVuY3Rpb24oZSx0KXt0LnByZWZpbmlzaGVkfHx0LmZpbmFsQ2FsbGVkfHwoXCJmdW5jdGlvblwiIT10eXBlb2YgZS5fZmluYWx8fHQuZGVzdHJveWVkPyh0LnByZWZpbmlzaGVkPSEwLGUuZW1pdChcInByZWZpbmlzaFwiKSk6KHQucGVuZGluZ2NiKyssdC5maW5hbENhbGxlZD0hMCxwcm9jZXNzLm5leHRUaWNrKFQsZSx0KSkpfShlLHQpLDA9PT10LnBlbmRpbmdjYiYmKHQuZmluaXNoZWQ9ITAsZS5lbWl0KFwiZmluaXNoXCIpLHQuYXV0b0Rlc3Ryb3kpKSl7dmFyIHI9ZS5fcmVhZGFibGVTdGF0ZTsoIXJ8fHIuYXV0b0Rlc3Ryb3kmJnIuZW5kRW1pdHRlZCkmJmUuZGVzdHJveSgpfXJldHVybiBufXJldHVybiBCcygpKEMsaSksXy5wcm90b3R5cGUuZ2V0QnVmZmVyPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuYnVmZmVyZWRSZXF1ZXN0LHQ9W107ZTspdC5wdXNoKGUpLGU9ZS5uZXh0O3JldHVybiB0fSxmdW5jdGlvbigpe3RyeXtPYmplY3QuZGVmaW5lUHJvcGVydHkoXy5wcm90b3R5cGUsXCJidWZmZXJcIix7Z2V0OnIuZGVwcmVjYXRlKChmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEJ1ZmZlcigpfSksXCJfd3JpdGFibGVTdGF0ZS5idWZmZXIgaXMgZGVwcmVjYXRlZC4gVXNlIF93cml0YWJsZVN0YXRlLmdldEJ1ZmZlciBpbnN0ZWFkLlwiLFwiREVQMDAwM1wiKX0pfWNhdGNoKGUpe319KCksXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaGFzSW5zdGFuY2UmJlwiZnVuY3Rpb25cIj09dHlwZW9mIEZ1bmN0aW9uLnByb3RvdHlwZVtTeW1ib2wuaGFzSW5zdGFuY2VdPyhhPUZ1bmN0aW9uLnByb3RvdHlwZVtTeW1ib2wuaGFzSW5zdGFuY2VdLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDLFN5bWJvbC5oYXNJbnN0YW5jZSx7dmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuISFhLmNhbGwodGhpcyxlKXx8dGhpcz09PUMmJihlJiZlLl93cml0YWJsZVN0YXRlIGluc3RhbmNlb2YgXyl9fSkpOmE9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0aGlzfSxDLnByb3RvdHlwZS5waXBlPWZ1bmN0aW9uKCl7dyh0aGlzLG5ldyBnKX0sQy5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk9dGhpcy5fd3JpdGFibGVTdGF0ZSxhPSExLGM9IWkub2JqZWN0TW9kZSYmKHI9ZSxvLmlzQnVmZmVyKHIpfHxyIGluc3RhbmNlb2Ygcyk7cmV0dXJuIGMmJiFvLmlzQnVmZmVyKGUpJiYoZT1mdW5jdGlvbihlKXtyZXR1cm4gby5mcm9tKGUpfShlKSksXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmKG49dCx0PW51bGwpLGM/dD1cImJ1ZmZlclwiOnR8fCh0PWkuZGVmYXVsdEVuY29kaW5nKSxcImZ1bmN0aW9uXCIhPXR5cGVvZiBuJiYobj1TKSxpLmVuZGluZz9mdW5jdGlvbihlLHQpe3ZhciBuPW5ldyBFO3coZSxuKSxwcm9jZXNzLm5leHRUaWNrKHQsbil9KHRoaXMsbik6KGN8fGZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpO3JldHVybiBudWxsPT09bj9pPW5ldyB2Olwic3RyaW5nXCI9PXR5cGVvZiBufHx0Lm9iamVjdE1vZGV8fChpPW5ldyBmKFwiY2h1bmtcIixbXCJzdHJpbmdcIixcIkJ1ZmZlclwiXSxuKSksIWl8fCh3KGUsaSkscHJvY2Vzcy5uZXh0VGljayhyLGkpLCExKX0odGhpcyxpLGUsbikpJiYoaS5wZW5kaW5nY2IrKyxhPWZ1bmN0aW9uKGUsdCxuLHIsaSxzKXtpZighbil7dmFyIGE9ZnVuY3Rpb24oZSx0LG4pe2Uub2JqZWN0TW9kZXx8ITE9PT1lLmRlY29kZVN0cmluZ3N8fFwic3RyaW5nXCIhPXR5cGVvZiB0fHwodD1vLmZyb20odCxuKSk7cmV0dXJuIHR9KHQscixpKTtyIT09YSYmKG49ITAsaT1cImJ1ZmZlclwiLHI9YSl9dmFyIGM9dC5vYmplY3RNb2RlPzE6ci5sZW5ndGg7dC5sZW5ndGgrPWM7dmFyIGQ9dC5sZW5ndGg8dC5oaWdoV2F0ZXJNYXJrO2R8fCh0Lm5lZWREcmFpbj0hMCk7aWYodC53cml0aW5nfHx0LmNvcmtlZCl7dmFyIGw9dC5sYXN0QnVmZmVyZWRSZXF1ZXN0O3QubGFzdEJ1ZmZlcmVkUmVxdWVzdD17Y2h1bms6cixlbmNvZGluZzppLGlzQnVmOm4sY2FsbGJhY2s6cyxuZXh0Om51bGx9LGw/bC5uZXh0PXQubGFzdEJ1ZmZlcmVkUmVxdWVzdDp0LmJ1ZmZlcmVkUmVxdWVzdD10Lmxhc3RCdWZmZXJlZFJlcXVlc3QsdC5idWZmZXJlZFJlcXVlc3RDb3VudCs9MX1lbHNlIHgoZSx0LCExLGMscixpLHMpO3JldHVybiBkfSh0aGlzLGksYyxlLHQsbikpLGF9LEMucHJvdG90eXBlLmNvcms9ZnVuY3Rpb24oKXt0aGlzLl93cml0YWJsZVN0YXRlLmNvcmtlZCsrfSxDLnByb3RvdHlwZS51bmNvcms9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl93cml0YWJsZVN0YXRlO2UuY29ya2VkJiYoZS5jb3JrZWQtLSxlLndyaXRpbmd8fGUuY29ya2VkfHxlLmJ1ZmZlclByb2Nlc3Npbmd8fCFlLmJ1ZmZlcmVkUmVxdWVzdHx8TSh0aGlzLGUpKX0sQy5wcm90b3R5cGUuc2V0RGVmYXVsdEVuY29kaW5nPWZ1bmN0aW9uKGUpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1lLnRvTG93ZXJDYXNlKCkpLCEoW1wiaGV4XCIsXCJ1dGY4XCIsXCJ1dGYtOFwiLFwiYXNjaWlcIixcImJpbmFyeVwiLFwiYmFzZTY0XCIsXCJ1Y3MyXCIsXCJ1Y3MtMlwiLFwidXRmMTZsZVwiLFwidXRmLTE2bGVcIixcInJhd1wiXS5pbmRleE9mKChlK1wiXCIpLnRvTG93ZXJDYXNlKCkpPi0xKSl0aHJvdyBuZXcgYihlKTtyZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZS5kZWZhdWx0RW5jb2Rpbmc9ZSx0aGlzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoQy5wcm90b3R5cGUsXCJ3cml0YWJsZUJ1ZmZlclwiLHtlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlJiZ0aGlzLl93cml0YWJsZVN0YXRlLmdldEJ1ZmZlcigpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDLnByb3RvdHlwZSxcIndyaXRhYmxlSGlnaFdhdGVyTWFya1wiLHtlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlLmhpZ2hXYXRlck1hcmt9fSksQy5wcm90b3R5cGUuX3dyaXRlPWZ1bmN0aW9uKGUsdCxuKXtuKG5ldyBwKFwiX3dyaXRlKClcIikpfSxDLnByb3RvdHlwZS5fd3JpdGV2PW51bGwsQy5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzLl93cml0YWJsZVN0YXRlO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGU/KG49ZSxlPW51bGwsdD1udWxsKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYobj10LHQ9bnVsbCksbnVsbCE9ZSYmdGhpcy53cml0ZShlLHQpLHIuY29ya2VkJiYoci5jb3JrZWQ9MSx0aGlzLnVuY29yaygpKSxyLmVuZGluZ3x8ZnVuY3Rpb24oZSx0LG4pe3QuZW5kaW5nPSEwLEkoZSx0KSxuJiYodC5maW5pc2hlZD9wcm9jZXNzLm5leHRUaWNrKG4pOmUub25jZShcImZpbmlzaFwiLG4pKTt0LmVuZGVkPSEwLGUud3JpdGFibGU9ITF9KHRoaXMscixuKSx0aGlzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoQy5wcm90b3R5cGUsXCJ3cml0YWJsZUxlbmd0aFwiLHtlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlLmxlbmd0aH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoQy5wcm90b3R5cGUsXCJkZXN0cm95ZWRcIix7ZW51bWVyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5fd3JpdGFibGVTdGF0ZSYmdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl93cml0YWJsZVN0YXRlJiYodGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQ9ZSl9fSksQy5wcm90b3R5cGUuZGVzdHJveT1jLmRlc3Ryb3ksQy5wcm90b3R5cGUuX3VuZGVzdHJveT1jLnVuZGVzdHJveSxDLnByb3RvdHlwZS5fZGVzdHJveT1mdW5jdGlvbihlLHQpe3QoZSl9LFJzfWZ1bmN0aW9uIGpzKCl7aWYoTnMpcmV0dXJuIE9zO05zPTE7dmFyIGU9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgbiBpbiBlKXQucHVzaChuKTtyZXR1cm4gdH07T3M9czt2YXIgdD1jYSgpLG49S3MoKTtCcygpKHMsdCk7Zm9yKHZhciByPWUobi5wcm90b3R5cGUpLGk9MDtpPHIubGVuZ3RoO2krKyl7dmFyIG89cltpXTtzLnByb3RvdHlwZVtvXXx8KHMucHJvdG90eXBlW29dPW4ucHJvdG90eXBlW29dKX1mdW5jdGlvbiBzKGUpe2lmKCEodGhpcyBpbnN0YW5jZW9mIHMpKXJldHVybiBuZXcgcyhlKTt0LmNhbGwodGhpcyxlKSxuLmNhbGwodGhpcyxlKSx0aGlzLmFsbG93SGFsZk9wZW49ITAsZSYmKCExPT09ZS5yZWFkYWJsZSYmKHRoaXMucmVhZGFibGU9ITEpLCExPT09ZS53cml0YWJsZSYmKHRoaXMud3JpdGFibGU9ITEpLCExPT09ZS5hbGxvd0hhbGZPcGVuJiYodGhpcy5hbGxvd0hhbGZPcGVuPSExLHRoaXMub25jZShcImVuZFwiLGEpKSl9ZnVuY3Rpb24gYSgpe3RoaXMuX3dyaXRhYmxlU3RhdGUuZW5kZWR8fHByb2Nlc3MubmV4dFRpY2soYyx0aGlzKX1mdW5jdGlvbiBjKGUpe2UuZW5kKCl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzLnByb3RvdHlwZSxcIndyaXRhYmxlSGlnaFdhdGVyTWFya1wiLHtlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlLmhpZ2hXYXRlck1hcmt9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHMucHJvdG90eXBlLFwid3JpdGFibGVCdWZmZXJcIix7ZW51bWVyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZSYmdGhpcy5fd3JpdGFibGVTdGF0ZS5nZXRCdWZmZXIoKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkocy5wcm90b3R5cGUsXCJ3cml0YWJsZUxlbmd0aFwiLHtlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlLmxlbmd0aH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkocy5wcm90b3R5cGUsXCJkZXN0cm95ZWRcIix7ZW51bWVyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5fcmVhZGFibGVTdGF0ZSYmdm9pZCAwIT09dGhpcy5fd3JpdGFibGVTdGF0ZSYmKHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkJiZ0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZCl9LHNldDpmdW5jdGlvbihlKXt2b2lkIDAhPT10aGlzLl9yZWFkYWJsZVN0YXRlJiZ2b2lkIDAhPT10aGlzLl93cml0YWJsZVN0YXRlJiYodGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQ9ZSx0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZD1lKX19KSxPc312YXIgJHMsSHMsVXMsRnMscXMsenMsV3MsVnMsR3MsWXMsWnMsSnMsUXMsWHMsZWEsdGEsbmE9e30scmE9e2V4cG9ydHM6e319O2Z1bmN0aW9uIGlhKCl7aWYoSHMpcmV0dXJuIG5hO0hzPTE7dmFyIGU9KCRzfHwoJHM9MSxmdW5jdGlvbihlLHQpe3ZhciByPW4saT1yLkJ1ZmZlcjtmdW5jdGlvbiBvKGUsdCl7Zm9yKHZhciBuIGluIGUpdFtuXT1lW25dfWZ1bmN0aW9uIHMoZSx0LG4pe3JldHVybiBpKGUsdCxuKX1pLmZyb20mJmkuYWxsb2MmJmkuYWxsb2NVbnNhZmUmJmkuYWxsb2NVbnNhZmVTbG93P2UuZXhwb3J0cz1yOihvKHIsdCksdC5CdWZmZXI9cykscy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShpLnByb3RvdHlwZSksbyhpLHMpLHMuZnJvbT1mdW5jdGlvbihlLHQsbil7aWYoXCJudW1iZXJcIj09dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50IG11c3Qgbm90IGJlIGEgbnVtYmVyXCIpO3JldHVybiBpKGUsdCxuKX0scy5hbGxvYz1mdW5jdGlvbihlLHQsbil7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50IG11c3QgYmUgYSBudW1iZXJcIik7dmFyIHI9aShlKTtyZXR1cm4gdm9pZCAwIT09dD9cInN0cmluZ1wiPT10eXBlb2Ygbj9yLmZpbGwodCxuKTpyLmZpbGwodCk6ci5maWxsKDApLHJ9LHMuYWxsb2NVbnNhZmU9ZnVuY3Rpb24oZSl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50IG11c3QgYmUgYSBudW1iZXJcIik7cmV0dXJuIGkoZSl9LHMuYWxsb2NVbnNhZmVTbG93PWZ1bmN0aW9uKGUpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyXCIpO3JldHVybiByLlNsb3dCdWZmZXIoZSl9fShyYSxyYS5leHBvcnRzKSkscmEuZXhwb3J0cykuQnVmZmVyLHQ9ZS5pc0VuY29kaW5nfHxmdW5jdGlvbihlKXtzd2l0Y2goKGU9XCJcIitlKSYmZS50b0xvd2VyQ2FzZSgpKXtjYXNlXCJoZXhcIjpjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpjYXNlXCJhc2NpaVwiOmNhc2VcImJpbmFyeVwiOmNhc2VcImJhc2U2NFwiOmNhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOmNhc2VcInJhd1wiOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fTtmdW5jdGlvbiByKG4pe3ZhciByO3N3aXRjaCh0aGlzLmVuY29kaW5nPWZ1bmN0aW9uKG4pe3ZhciByPWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVyblwidXRmOFwiO2Zvcih2YXIgdDs7KXN3aXRjaChlKXtjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpyZXR1cm5cInV0ZjhcIjtjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm5cInV0ZjE2bGVcIjtjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpyZXR1cm5cImxhdGluMVwiO2Nhc2VcImJhc2U2NFwiOmNhc2VcImFzY2lpXCI6Y2FzZVwiaGV4XCI6cmV0dXJuIGU7ZGVmYXVsdDppZih0KXJldHVybjtlPShcIlwiK2UpLnRvTG93ZXJDYXNlKCksdD0hMH19KG4pO2lmKFwic3RyaW5nXCIhPXR5cGVvZiByJiYoZS5pc0VuY29kaW5nPT09dHx8IXQobikpKXRocm93IG5ldyBFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK24pO3JldHVybiByfHxufShuKSx0aGlzLmVuY29kaW5nKXtjYXNlXCJ1dGYxNmxlXCI6dGhpcy50ZXh0PXMsdGhpcy5lbmQ9YSxyPTQ7YnJlYWs7Y2FzZVwidXRmOFwiOnRoaXMuZmlsbExhc3Q9byxyPTQ7YnJlYWs7Y2FzZVwiYmFzZTY0XCI6dGhpcy50ZXh0PWMsdGhpcy5lbmQ9ZCxyPTM7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gdGhpcy53cml0ZT1sLHZvaWQodGhpcy5lbmQ9dSl9dGhpcy5sYXN0TmVlZD0wLHRoaXMubGFzdFRvdGFsPTAsdGhpcy5sYXN0Q2hhcj1lLmFsbG9jVW5zYWZlKHIpfWZ1bmN0aW9uIGkoZSl7cmV0dXJuIGU8PTEyNz8wOmU+PjU9PTY/MjplPj40PT0xND8zOmU+PjM9PTMwPzQ6ZT4+Nj09Mj8tMTotMn1mdW5jdGlvbiBvKGUpe3ZhciB0PXRoaXMubGFzdFRvdGFsLXRoaXMubGFzdE5lZWQsbj1mdW5jdGlvbihlLHQsbil7aWYoMTI4IT0oMTkyJnRbMF0pKXJldHVybiBlLmxhc3ROZWVkPTAsXCLvv71cIjtpZihlLmxhc3ROZWVkPjEmJnQubGVuZ3RoPjEpe2lmKDEyOCE9KDE5MiZ0WzFdKSlyZXR1cm4gZS5sYXN0TmVlZD0xLFwi77+9XCI7aWYoZS5sYXN0TmVlZD4yJiZ0Lmxlbmd0aD4yJiYxMjghPSgxOTImdFsyXSkpcmV0dXJuIGUubGFzdE5lZWQ9MixcIu+/vVwifX0odGhpcyxlKTtyZXR1cm4gdm9pZCAwIT09bj9uOnRoaXMubGFzdE5lZWQ8PWUubGVuZ3RoPyhlLmNvcHkodGhpcy5sYXN0Q2hhcix0LDAsdGhpcy5sYXN0TmVlZCksdGhpcy5sYXN0Q2hhci50b1N0cmluZyh0aGlzLmVuY29kaW5nLDAsdGhpcy5sYXN0VG90YWwpKTooZS5jb3B5KHRoaXMubGFzdENoYXIsdCwwLGUubGVuZ3RoKSx2b2lkKHRoaXMubGFzdE5lZWQtPWUubGVuZ3RoKSl9ZnVuY3Rpb24gcyhlLHQpe2lmKChlLmxlbmd0aC10KSUyPT0wKXt2YXIgbj1lLnRvU3RyaW5nKFwidXRmMTZsZVwiLHQpO2lmKG4pe3ZhciByPW4uY2hhckNvZGVBdChuLmxlbmd0aC0xKTtpZihyPj01NTI5NiYmcjw9NTYzMTkpcmV0dXJuIHRoaXMubGFzdE5lZWQ9Mix0aGlzLmxhc3RUb3RhbD00LHRoaXMubGFzdENoYXJbMF09ZVtlLmxlbmd0aC0yXSx0aGlzLmxhc3RDaGFyWzFdPWVbZS5sZW5ndGgtMV0sbi5zbGljZSgwLC0xKX1yZXR1cm4gbn1yZXR1cm4gdGhpcy5sYXN0TmVlZD0xLHRoaXMubGFzdFRvdGFsPTIsdGhpcy5sYXN0Q2hhclswXT1lW2UubGVuZ3RoLTFdLGUudG9TdHJpbmcoXCJ1dGYxNmxlXCIsdCxlLmxlbmd0aC0xKX1mdW5jdGlvbiBhKGUpe3ZhciB0PWUmJmUubGVuZ3RoP3RoaXMud3JpdGUoZSk6XCJcIjtpZih0aGlzLmxhc3ROZWVkKXt2YXIgbj10aGlzLmxhc3RUb3RhbC10aGlzLmxhc3ROZWVkO3JldHVybiB0K3RoaXMubGFzdENoYXIudG9TdHJpbmcoXCJ1dGYxNmxlXCIsMCxuKX1yZXR1cm4gdH1mdW5jdGlvbiBjKGUsdCl7dmFyIG49KGUubGVuZ3RoLXQpJTM7cmV0dXJuIDA9PT1uP2UudG9TdHJpbmcoXCJiYXNlNjRcIix0KToodGhpcy5sYXN0TmVlZD0zLW4sdGhpcy5sYXN0VG90YWw9MywxPT09bj90aGlzLmxhc3RDaGFyWzBdPWVbZS5sZW5ndGgtMV06KHRoaXMubGFzdENoYXJbMF09ZVtlLmxlbmd0aC0yXSx0aGlzLmxhc3RDaGFyWzFdPWVbZS5sZW5ndGgtMV0pLGUudG9TdHJpbmcoXCJiYXNlNjRcIix0LGUubGVuZ3RoLW4pKX1mdW5jdGlvbiBkKGUpe3ZhciB0PWUmJmUubGVuZ3RoP3RoaXMud3JpdGUoZSk6XCJcIjtyZXR1cm4gdGhpcy5sYXN0TmVlZD90K3RoaXMubGFzdENoYXIudG9TdHJpbmcoXCJiYXNlNjRcIiwwLDMtdGhpcy5sYXN0TmVlZCk6dH1mdW5jdGlvbiBsKGUpe3JldHVybiBlLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcpfWZ1bmN0aW9uIHUoZSl7cmV0dXJuIGUmJmUubGVuZ3RoP3RoaXMud3JpdGUoZSk6XCJcIn1yZXR1cm4gbmEuU3RyaW5nRGVjb2Rlcj1yLHIucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUpe2lmKDA9PT1lLmxlbmd0aClyZXR1cm5cIlwiO3ZhciB0LG47aWYodGhpcy5sYXN0TmVlZCl7aWYodm9pZCAwPT09KHQ9dGhpcy5maWxsTGFzdChlKSkpcmV0dXJuXCJcIjtuPXRoaXMubGFzdE5lZWQsdGhpcy5sYXN0TmVlZD0wfWVsc2Ugbj0wO3JldHVybiBuPGUubGVuZ3RoP3Q/dCt0aGlzLnRleHQoZSxuKTp0aGlzLnRleHQoZSxuKTp0fHxcIlwifSxyLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5sZW5ndGg/dGhpcy53cml0ZShlKTpcIlwiO3JldHVybiB0aGlzLmxhc3ROZWVkP3QrXCLvv71cIjp0fSxyLnByb3RvdHlwZS50ZXh0PWZ1bmN0aW9uKGUsdCl7dmFyIG49ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXQubGVuZ3RoLTE7aWYocjxuKXJldHVybiAwO3ZhciBvPWkodFtyXSk7aWYobz49MClyZXR1cm4gbz4wJiYoZS5sYXN0TmVlZD1vLTEpLG87aWYoLS1yPG58fC0yPT09bylyZXR1cm4gMDtpZihvPWkodFtyXSksbz49MClyZXR1cm4gbz4wJiYoZS5sYXN0TmVlZD1vLTIpLG87aWYoLS1yPG58fC0yPT09bylyZXR1cm4gMDtpZihvPWkodFtyXSksbz49MClyZXR1cm4gbz4wJiYoMj09PW8/bz0wOmUubGFzdE5lZWQ9by0zKSxvO3JldHVybiAwfSh0aGlzLGUsdCk7aWYoIXRoaXMubGFzdE5lZWQpcmV0dXJuIGUudG9TdHJpbmcoXCJ1dGY4XCIsdCk7dGhpcy5sYXN0VG90YWw9bjt2YXIgcj1lLmxlbmd0aC0obi10aGlzLmxhc3ROZWVkKTtyZXR1cm4gZS5jb3B5KHRoaXMubGFzdENoYXIsMCxyKSxlLnRvU3RyaW5nKFwidXRmOFwiLHQscil9LHIucHJvdG90eXBlLmZpbGxMYXN0PWZ1bmN0aW9uKGUpe2lmKHRoaXMubGFzdE5lZWQ8PWUubGVuZ3RoKXJldHVybiBlLmNvcHkodGhpcy5sYXN0Q2hhcix0aGlzLmxhc3RUb3RhbC10aGlzLmxhc3ROZWVkLDAsdGhpcy5sYXN0TmVlZCksdGhpcy5sYXN0Q2hhci50b1N0cmluZyh0aGlzLmVuY29kaW5nLDAsdGhpcy5sYXN0VG90YWwpO2UuY29weSh0aGlzLmxhc3RDaGFyLHRoaXMubGFzdFRvdGFsLXRoaXMubGFzdE5lZWQsMCxlLmxlbmd0aCksdGhpcy5sYXN0TmVlZC09ZS5sZW5ndGh9LG5hfWZ1bmN0aW9uIG9hKCl7aWYoRnMpcmV0dXJuIFVzO0ZzPTE7dmFyIGU9eHMoKS5jb2Rlcy5FUlJfU1RSRUFNX1BSRU1BVFVSRV9DTE9TRTtmdW5jdGlvbiB0KCl7fXJldHVybiBVcz1mdW5jdGlvbiBuKHIsaSxvKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBpKXJldHVybiBuKHIsbnVsbCxpKTtpfHwoaT17fSksbz1mdW5jdGlvbihlKXt2YXIgdD0hMTtyZXR1cm4gZnVuY3Rpb24oKXtpZighdCl7dD0hMDtmb3IodmFyIG49YXJndW1lbnRzLmxlbmd0aCxyPW5ldyBBcnJheShuKSxpPTA7aTxuO2krKylyW2ldPWFyZ3VtZW50c1tpXTtlLmFwcGx5KHRoaXMscil9fX0ob3x8dCk7dmFyIHM9aS5yZWFkYWJsZXx8ITEhPT1pLnJlYWRhYmxlJiZyLnJlYWRhYmxlLGE9aS53cml0YWJsZXx8ITEhPT1pLndyaXRhYmxlJiZyLndyaXRhYmxlLGM9ZnVuY3Rpb24oKXtyLndyaXRhYmxlfHxsKCl9LGQ9ci5fd3JpdGFibGVTdGF0ZSYmci5fd3JpdGFibGVTdGF0ZS5maW5pc2hlZCxsPWZ1bmN0aW9uKCl7YT0hMSxkPSEwLHN8fG8uY2FsbChyKX0sdT1yLl9yZWFkYWJsZVN0YXRlJiZyLl9yZWFkYWJsZVN0YXRlLmVuZEVtaXR0ZWQsaD1mdW5jdGlvbigpe3M9ITEsdT0hMCxhfHxvLmNhbGwocil9LGY9ZnVuY3Rpb24oZSl7by5jYWxsKHIsZSl9LHA9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gcyYmIXU/KHIuX3JlYWRhYmxlU3RhdGUmJnIuX3JlYWRhYmxlU3RhdGUuZW5kZWR8fCh0PW5ldyBlKSxvLmNhbGwocix0KSk6YSYmIWQ/KHIuX3dyaXRhYmxlU3RhdGUmJnIuX3dyaXRhYmxlU3RhdGUuZW5kZWR8fCh0PW5ldyBlKSxvLmNhbGwocix0KSk6dm9pZCAwfSxtPWZ1bmN0aW9uKCl7ci5yZXEub24oXCJmaW5pc2hcIixsKX07cmV0dXJuIWZ1bmN0aW9uKGUpe3JldHVybiBlLnNldEhlYWRlciYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5hYm9ydH0ocik/YSYmIXIuX3dyaXRhYmxlU3RhdGUmJihyLm9uKFwiZW5kXCIsYyksci5vbihcImNsb3NlXCIsYykpOihyLm9uKFwiY29tcGxldGVcIixsKSxyLm9uKFwiYWJvcnRcIixwKSxyLnJlcT9tKCk6ci5vbihcInJlcXVlc3RcIixtKSksci5vbihcImVuZFwiLGgpLHIub24oXCJmaW5pc2hcIixsKSwhMSE9PWkuZXJyb3ImJnIub24oXCJlcnJvclwiLGYpLHIub24oXCJjbG9zZVwiLHApLGZ1bmN0aW9uKCl7ci5yZW1vdmVMaXN0ZW5lcihcImNvbXBsZXRlXCIsbCksci5yZW1vdmVMaXN0ZW5lcihcImFib3J0XCIscCksci5yZW1vdmVMaXN0ZW5lcihcInJlcXVlc3RcIixtKSxyLnJlcSYmci5yZXEucmVtb3ZlTGlzdGVuZXIoXCJmaW5pc2hcIixsKSxyLnJlbW92ZUxpc3RlbmVyKFwiZW5kXCIsYyksci5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsYyksci5yZW1vdmVMaXN0ZW5lcihcImZpbmlzaFwiLGwpLHIucmVtb3ZlTGlzdGVuZXIoXCJlbmRcIixoKSxyLnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIixmKSxyLnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIixwKX19LFVzfWZ1bmN0aW9uIHNhKCl7aWYoenMpcmV0dXJuIHFzO3ZhciBlO2Z1bmN0aW9uIHQoZSx0LG4pe3JldHVybih0PWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUsdCl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVybiBlO3ZhciBuPWVbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwoZSx0fHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHIpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybihcInN0cmluZ1wiPT09dD9TdHJpbmc6TnVtYmVyKShlKX0oZSxcInN0cmluZ1wiKTtyZXR1cm5cInN5bWJvbFwiPT10eXBlb2YgdD90OlN0cmluZyh0KX0odCkpaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1uLGV9enM9MTt2YXIgbj1vYSgpLHI9U3ltYm9sKFwibGFzdFJlc29sdmVcIiksaT1TeW1ib2woXCJsYXN0UmVqZWN0XCIpLG89U3ltYm9sKFwiZXJyb3JcIikscz1TeW1ib2woXCJlbmRlZFwiKSxhPVN5bWJvbChcImxhc3RQcm9taXNlXCIpLGM9U3ltYm9sKFwiaGFuZGxlUHJvbWlzZVwiKSxkPVN5bWJvbChcInN0cmVhbVwiKTtmdW5jdGlvbiBsKGUsdCl7cmV0dXJue3ZhbHVlOmUsZG9uZTp0fX1mdW5jdGlvbiB1KGUpe3ZhciB0PWVbcl07aWYobnVsbCE9PXQpe3ZhciBuPWVbZF0ucmVhZCgpO251bGwhPT1uJiYoZVthXT1udWxsLGVbcl09bnVsbCxlW2ldPW51bGwsdChsKG4sITEpKSl9fWZ1bmN0aW9uIGgoZSl7cHJvY2Vzcy5uZXh0VGljayh1LGUpfXZhciBmPU9iamVjdC5nZXRQcm90b3R5cGVPZigoZnVuY3Rpb24oKXt9KSkscD1PYmplY3Quc2V0UHJvdG90eXBlT2YoKHQoZT17Z2V0IHN0cmVhbSgpe3JldHVybiB0aGlzW2RdfSxuZXh0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXNbb107aWYobnVsbCE9PXQpcmV0dXJuIFByb21pc2UucmVqZWN0KHQpO2lmKHRoaXNbc10pcmV0dXJuIFByb21pc2UucmVzb2x2ZShsKHZvaWQgMCwhMCkpO2lmKHRoaXNbZF0uZGVzdHJveWVkKXJldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCxuKXtwcm9jZXNzLm5leHRUaWNrKChmdW5jdGlvbigpe2Vbb10/bihlW29dKTp0KGwodm9pZCAwLCEwKSl9KSl9KSk7dmFyIG4scj10aGlzW2FdO2lmKHIpbj1uZXcgUHJvbWlzZShmdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihuLHIpe2UudGhlbigoZnVuY3Rpb24oKXt0W3NdP24obCh2b2lkIDAsITApKTp0W2NdKG4scil9KSxyKX19KHIsdGhpcykpO2Vsc2V7dmFyIGk9dGhpc1tkXS5yZWFkKCk7aWYobnVsbCE9PWkpcmV0dXJuIFByb21pc2UucmVzb2x2ZShsKGksITEpKTtuPW5ldyBQcm9taXNlKHRoaXNbY10pfXJldHVybiB0aGlzW2FdPW4sbn19LFN5bWJvbC5hc3luY0l0ZXJhdG9yLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpLHQoZSxcInJldHVyblwiLChmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih0LG4pe2VbZF0uZGVzdHJveShudWxsLChmdW5jdGlvbihlKXtlP24oZSk6dChsKHZvaWQgMCwhMCkpfSkpfSkpfSkpLGUpLGYpO3JldHVybiBxcz1mdW5jdGlvbihlKXt2YXIgdSxmPU9iamVjdC5jcmVhdGUocCwodCh1PXt9LGQse3ZhbHVlOmUsd3JpdGFibGU6ITB9KSx0KHUscix7dmFsdWU6bnVsbCx3cml0YWJsZTohMH0pLHQodSxpLHt2YWx1ZTpudWxsLHdyaXRhYmxlOiEwfSksdCh1LG8se3ZhbHVlOm51bGwsd3JpdGFibGU6ITB9KSx0KHUscyx7dmFsdWU6ZS5fcmVhZGFibGVTdGF0ZS5lbmRFbWl0dGVkLHdyaXRhYmxlOiEwfSksdCh1LGMse3ZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49ZltkXS5yZWFkKCk7bj8oZlthXT1udWxsLGZbcl09bnVsbCxmW2ldPW51bGwsZShsKG4sITEpKSk6KGZbcl09ZSxmW2ldPXQpfSx3cml0YWJsZTohMH0pLHUpKTtyZXR1cm4gZlthXT1udWxsLG4oZSwoZnVuY3Rpb24oZSl7aWYoZSYmXCJFUlJfU1RSRUFNX1BSRU1BVFVSRV9DTE9TRVwiIT09ZS5jb2RlKXt2YXIgdD1mW2ldO3JldHVybiBudWxsIT09dCYmKGZbYV09bnVsbCxmW3JdPW51bGwsZltpXT1udWxsLHQoZSkpLHZvaWQoZltvXT1lKX12YXIgbj1mW3JdO251bGwhPT1uJiYoZlthXT1udWxsLGZbcl09bnVsbCxmW2ldPW51bGwsbihsKHZvaWQgMCwhMCkpKSxmW3NdPSEwfSkpLGUub24oXCJyZWFkYWJsZVwiLGguYmluZChudWxsLGYpKSxmfSxxc31mdW5jdGlvbiBhYSgpe2lmKFZzKXJldHVybiBXcztmdW5jdGlvbiBlKGUsdCxuLHIsaSxvLHMpe3RyeXt2YXIgYT1lW29dKHMpLGM9YS52YWx1ZX1jYXRjaChlKXtyZXR1cm4gdm9pZCBuKGUpfWEuZG9uZT90KGMpOlByb21pc2UucmVzb2x2ZShjKS50aGVuKHIsaSl9ZnVuY3Rpb24gdChlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gbihlLHQsbil7cmV0dXJuKHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSx0KXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuIGU7dmFyIG49ZVtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbChlLHR8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT10eXBlb2YgcilyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT10P1N0cmluZzpOdW1iZXIpKGUpfShlLFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PXR5cGVvZiB0P3Q6U3RyaW5nKHQpfSh0KSlpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPW4sZX1Wcz0xO3ZhciByPXhzKCkuY29kZXMuRVJSX0lOVkFMSURfQVJHX1RZUEU7cmV0dXJuIFdzPWZ1bmN0aW9uKGksbyxzKXt2YXIgYTtpZihvJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBvLm5leHQpYT1vO2Vsc2UgaWYobyYmb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0pYT1vW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpO2Vsc2V7aWYoIW98fCFvW1N5bWJvbC5pdGVyYXRvcl0pdGhyb3cgbmV3IHIoXCJpdGVyYWJsZVwiLFtcIkl0ZXJhYmxlXCJdLG8pO2E9b1tTeW1ib2wuaXRlcmF0b3JdKCl9dmFyIGM9bmV3IGkoZnVuY3Rpb24oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3JdP2FyZ3VtZW50c1tyXTp7fTtyJTI/dChPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe24oZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOnQoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9KHtvYmplY3RNb2RlOiEwfSxzKSksZD0hMTtmdW5jdGlvbiBsKCl7cmV0dXJuIHUuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHUoKXt2YXIgdDtyZXR1cm4gdD1mdW5jdGlvbiooKXt0cnl7dmFyIGU9eWllbGQgYS5uZXh0KCksdD1lLnZhbHVlO2UuZG9uZT9jLnB1c2gobnVsbCk6Yy5wdXNoKHlpZWxkIHQpP2woKTpkPSExfWNhdGNoKGUpe2MuZGVzdHJveShlKX19LHU9ZnVuY3Rpb24oKXt2YXIgbj10aGlzLHI9YXJndW1lbnRzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oaSxvKXt2YXIgcz10LmFwcGx5KG4scik7ZnVuY3Rpb24gYSh0KXtlKHMsaSxvLGEsYyxcIm5leHRcIix0KX1mdW5jdGlvbiBjKHQpe2UocyxpLG8sYSxjLFwidGhyb3dcIix0KX1hKHZvaWQgMCl9KSl9LHUuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBjLl9yZWFkPWZ1bmN0aW9uKCl7ZHx8KGQ9ITAsbCgpKX0sY30sV3N9ZnVuY3Rpb24gY2EoKXtpZihZcylyZXR1cm4gR3M7dmFyIGU7WXM9MSxHcz14LHguUmVhZGFibGVTdGF0ZT1DLGMuRXZlbnRFbWl0dGVyO3ZhciB0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubGlzdGVuZXJzKHQpLmxlbmd0aH0scj12cygpLGk9bi5CdWZmZXIsbz0odm9pZCAwIT09aD9oOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6e30pLlVpbnQ4QXJyYXl8fGZ1bmN0aW9uKCl7fTt2YXIgcyxhPWw7cz1hJiZhLmRlYnVnbG9nP2EuZGVidWdsb2coXCJzdHJlYW1cIik6ZnVuY3Rpb24oKXt9O3ZhciBkLHUsZixwPUVzKCksbT1icygpLGc9a3MoKS5nZXRIaWdoV2F0ZXJNYXJrLHk9eHMoKS5jb2Rlcyx2PXkuRVJSX0lOVkFMSURfQVJHX1RZUEUsRT15LkVSUl9TVFJFQU1fUFVTSF9BRlRFUl9FT0YsYj15LkVSUl9NRVRIT0RfTk9UX0lNUExFTUVOVEVELHc9eS5FUlJfU1RSRUFNX1VOU0hJRlRfQUZURVJfRU5EX0VWRU5UO0JzKCkoeCxyKTt2YXIgUz1tLmVycm9yT3JEZXN0cm95LF89W1wiZXJyb3JcIixcImNsb3NlXCIsXCJkZXN0cm95XCIsXCJwYXVzZVwiLFwicmVzdW1lXCJdO2Z1bmN0aW9uIEModCxuLHIpe2U9ZXx8anMoKSx0PXR8fHt9LFwiYm9vbGVhblwiIT10eXBlb2YgciYmKHI9biBpbnN0YW5jZW9mIGUpLHRoaXMub2JqZWN0TW9kZT0hIXQub2JqZWN0TW9kZSxyJiYodGhpcy5vYmplY3RNb2RlPXRoaXMub2JqZWN0TW9kZXx8ISF0LnJlYWRhYmxlT2JqZWN0TW9kZSksdGhpcy5oaWdoV2F0ZXJNYXJrPWcodGhpcyx0LFwicmVhZGFibGVIaWdoV2F0ZXJNYXJrXCIsciksdGhpcy5idWZmZXI9bmV3IHAsdGhpcy5sZW5ndGg9MCx0aGlzLnBpcGVzPW51bGwsdGhpcy5waXBlc0NvdW50PTAsdGhpcy5mbG93aW5nPW51bGwsdGhpcy5lbmRlZD0hMSx0aGlzLmVuZEVtaXR0ZWQ9ITEsdGhpcy5yZWFkaW5nPSExLHRoaXMuc3luYz0hMCx0aGlzLm5lZWRSZWFkYWJsZT0hMSx0aGlzLmVtaXR0ZWRSZWFkYWJsZT0hMSx0aGlzLnJlYWRhYmxlTGlzdGVuaW5nPSExLHRoaXMucmVzdW1lU2NoZWR1bGVkPSExLHRoaXMucGF1c2VkPSEwLHRoaXMuZW1pdENsb3NlPSExIT09dC5lbWl0Q2xvc2UsdGhpcy5hdXRvRGVzdHJveT0hIXQuYXV0b0Rlc3Ryb3ksdGhpcy5kZXN0cm95ZWQ9ITEsdGhpcy5kZWZhdWx0RW5jb2Rpbmc9dC5kZWZhdWx0RW5jb2Rpbmd8fFwidXRmOFwiLHRoaXMuYXdhaXREcmFpbj0wLHRoaXMucmVhZGluZ01vcmU9ITEsdGhpcy5kZWNvZGVyPW51bGwsdGhpcy5lbmNvZGluZz1udWxsLHQuZW5jb2RpbmcmJihkfHwoZD1pYSgpLlN0cmluZ0RlY29kZXIpLHRoaXMuZGVjb2Rlcj1uZXcgZCh0LmVuY29kaW5nKSx0aGlzLmVuY29kaW5nPXQuZW5jb2RpbmcpfWZ1bmN0aW9uIHgodCl7aWYoZT1lfHxqcygpLCEodGhpcyBpbnN0YW5jZW9mIHgpKXJldHVybiBuZXcgeCh0KTt2YXIgbj10aGlzIGluc3RhbmNlb2YgZTt0aGlzLl9yZWFkYWJsZVN0YXRlPW5ldyBDKHQsdGhpcyxuKSx0aGlzLnJlYWRhYmxlPSEwLHQmJihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnJlYWQmJih0aGlzLl9yZWFkPXQucmVhZCksXCJmdW5jdGlvblwiPT10eXBlb2YgdC5kZXN0cm95JiYodGhpcy5fZGVzdHJveT10LmRlc3Ryb3kpKSxyLmNhbGwodGhpcyl9ZnVuY3Rpb24gayhlLHQsbixyLGEpe3MoXCJyZWFkYWJsZUFkZENodW5rXCIsdCk7dmFyIGMsZD1lLl9yZWFkYWJsZVN0YXRlO2lmKG51bGw9PT10KWQucmVhZGluZz0hMSxmdW5jdGlvbihlLHQpe2lmKHMoXCJvbkVvZkNodW5rXCIpLHQuZW5kZWQpcmV0dXJuO2lmKHQuZGVjb2Rlcil7dmFyIG49dC5kZWNvZGVyLmVuZCgpO24mJm4ubGVuZ3RoJiYodC5idWZmZXIucHVzaChuKSx0Lmxlbmd0aCs9dC5vYmplY3RNb2RlPzE6bi5sZW5ndGgpfXQuZW5kZWQ9ITAsdC5zeW5jP0koZSk6KHQubmVlZFJlYWRhYmxlPSExLHQuZW1pdHRlZFJlYWRhYmxlfHwodC5lbWl0dGVkUmVhZGFibGU9ITAsUihlKSkpfShlLGQpO2Vsc2UgaWYoYXx8KGM9ZnVuY3Rpb24oZSx0KXt2YXIgbjtyPXQsaS5pc0J1ZmZlcihyKXx8ciBpbnN0YW5jZW9mIG98fFwic3RyaW5nXCI9PXR5cGVvZiB0fHx2b2lkIDA9PT10fHxlLm9iamVjdE1vZGV8fChuPW5ldyB2KFwiY2h1bmtcIixbXCJzdHJpbmdcIixcIkJ1ZmZlclwiLFwiVWludDhBcnJheVwiXSx0KSk7dmFyIHI7cmV0dXJuIG59KGQsdCkpLGMpUyhlLGMpO2Vsc2UgaWYoZC5vYmplY3RNb2RlfHx0JiZ0Lmxlbmd0aD4wKWlmKFwic3RyaW5nXCI9PXR5cGVvZiB0fHxkLm9iamVjdE1vZGV8fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KT09PWkucHJvdG90eXBlfHwodD1mdW5jdGlvbihlKXtyZXR1cm4gaS5mcm9tKGUpfSh0KSkscilkLmVuZEVtaXR0ZWQ/UyhlLG5ldyB3KTpNKGUsZCx0LCEwKTtlbHNlIGlmKGQuZW5kZWQpUyhlLG5ldyBFKTtlbHNle2lmKGQuZGVzdHJveWVkKXJldHVybiExO2QucmVhZGluZz0hMSxkLmRlY29kZXImJiFuPyh0PWQuZGVjb2Rlci53cml0ZSh0KSxkLm9iamVjdE1vZGV8fDAhPT10Lmxlbmd0aD9NKGUsZCx0LCExKTpQKGUsZCkpOk0oZSxkLHQsITEpfWVsc2Ugcnx8KGQucmVhZGluZz0hMSxQKGUsZCkpO3JldHVybiFkLmVuZGVkJiYoZC5sZW5ndGg8ZC5oaWdoV2F0ZXJNYXJrfHwwPT09ZC5sZW5ndGgpfWZ1bmN0aW9uIE0oZSx0LG4scil7dC5mbG93aW5nJiYwPT09dC5sZW5ndGgmJiF0LnN5bmM/KHQuYXdhaXREcmFpbj0wLGUuZW1pdChcImRhdGFcIixuKSk6KHQubGVuZ3RoKz10Lm9iamVjdE1vZGU/MTpuLmxlbmd0aCxyP3QuYnVmZmVyLnVuc2hpZnQobik6dC5idWZmZXIucHVzaChuKSx0Lm5lZWRSZWFkYWJsZSYmSShlKSksUChlLHQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh4LnByb3RvdHlwZSxcImRlc3Ryb3llZFwiLHtlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB2b2lkIDAhPT10aGlzLl9yZWFkYWJsZVN0YXRlJiZ0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3JlYWRhYmxlU3RhdGUmJih0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZD1lKX19KSx4LnByb3RvdHlwZS5kZXN0cm95PW0uZGVzdHJveSx4LnByb3RvdHlwZS5fdW5kZXN0cm95PW0udW5kZXN0cm95LHgucHJvdG90eXBlLl9kZXN0cm95PWZ1bmN0aW9uKGUsdCl7dChlKX0seC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihlLHQpe3ZhciBuLHI9dGhpcy5fcmVhZGFibGVTdGF0ZTtyZXR1cm4gci5vYmplY3RNb2RlP249ITA6XCJzdHJpbmdcIj09dHlwZW9mIGUmJigodD10fHxyLmRlZmF1bHRFbmNvZGluZykhPT1yLmVuY29kaW5nJiYoZT1pLmZyb20oZSx0KSx0PVwiXCIpLG49ITApLGsodGhpcyxlLHQsITEsbil9LHgucHJvdG90eXBlLnVuc2hpZnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGsodGhpcyxlLG51bGwsITAsITEpfSx4LnByb3RvdHlwZS5pc1BhdXNlZD1mdW5jdGlvbigpe3JldHVybiExPT09dGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nfSx4LnByb3RvdHlwZS5zZXRFbmNvZGluZz1mdW5jdGlvbihlKXtkfHwoZD1pYSgpLlN0cmluZ0RlY29kZXIpO3ZhciB0PW5ldyBkKGUpO3RoaXMuX3JlYWRhYmxlU3RhdGUuZGVjb2Rlcj10LHRoaXMuX3JlYWRhYmxlU3RhdGUuZW5jb2Rpbmc9dGhpcy5fcmVhZGFibGVTdGF0ZS5kZWNvZGVyLmVuY29kaW5nO2Zvcih2YXIgbj10aGlzLl9yZWFkYWJsZVN0YXRlLmJ1ZmZlci5oZWFkLHI9XCJcIjtudWxsIT09bjspcis9dC53cml0ZShuLmRhdGEpLG49bi5uZXh0O3JldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlLmJ1ZmZlci5jbGVhcigpLFwiXCIhPT1yJiZ0aGlzLl9yZWFkYWJsZVN0YXRlLmJ1ZmZlci5wdXNoKHIpLHRoaXMuX3JlYWRhYmxlU3RhdGUubGVuZ3RoPXIubGVuZ3RoLHRoaXN9O3ZhciBBPTEwNzM3NDE4MjQ7ZnVuY3Rpb24gVChlLHQpe3JldHVybiBlPD0wfHwwPT09dC5sZW5ndGgmJnQuZW5kZWQ/MDp0Lm9iamVjdE1vZGU/MTplIT1lP3QuZmxvd2luZyYmdC5sZW5ndGg/dC5idWZmZXIuaGVhZC5kYXRhLmxlbmd0aDp0Lmxlbmd0aDooZT50LmhpZ2hXYXRlck1hcmsmJih0LmhpZ2hXYXRlck1hcms9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+PUE/ZT1BOihlLS0sZXw9ZT4+PjEsZXw9ZT4+PjIsZXw9ZT4+PjQsZXw9ZT4+PjgsZXw9ZT4+PjE2LGUrKyksZX0oZSkpLGU8PXQubGVuZ3RoP2U6dC5lbmRlZD90Lmxlbmd0aDoodC5uZWVkUmVhZGFibGU9ITAsMCkpfWZ1bmN0aW9uIEkoZSl7dmFyIHQ9ZS5fcmVhZGFibGVTdGF0ZTtzKFwiZW1pdFJlYWRhYmxlXCIsdC5uZWVkUmVhZGFibGUsdC5lbWl0dGVkUmVhZGFibGUpLHQubmVlZFJlYWRhYmxlPSExLHQuZW1pdHRlZFJlYWRhYmxlfHwocyhcImVtaXRSZWFkYWJsZVwiLHQuZmxvd2luZyksdC5lbWl0dGVkUmVhZGFibGU9ITAscHJvY2Vzcy5uZXh0VGljayhSLGUpKX1mdW5jdGlvbiBSKGUpe3ZhciB0PWUuX3JlYWRhYmxlU3RhdGU7cyhcImVtaXRSZWFkYWJsZV9cIix0LmRlc3Ryb3llZCx0Lmxlbmd0aCx0LmVuZGVkKSx0LmRlc3Ryb3llZHx8IXQubGVuZ3RoJiYhdC5lbmRlZHx8KGUuZW1pdChcInJlYWRhYmxlXCIpLHQuZW1pdHRlZFJlYWRhYmxlPSExKSx0Lm5lZWRSZWFkYWJsZT0hdC5mbG93aW5nJiYhdC5lbmRlZCYmdC5sZW5ndGg8PXQuaGlnaFdhdGVyTWFyayxCKGUpfWZ1bmN0aW9uIFAoZSx0KXt0LnJlYWRpbmdNb3JlfHwodC5yZWFkaW5nTW9yZT0hMCxwcm9jZXNzLm5leHRUaWNrKE8sZSx0KSl9ZnVuY3Rpb24gTyhlLHQpe2Zvcig7IXQucmVhZGluZyYmIXQuZW5kZWQmJih0Lmxlbmd0aDx0LmhpZ2hXYXRlck1hcmt8fHQuZmxvd2luZyYmMD09PXQubGVuZ3RoKTspe3ZhciBuPXQubGVuZ3RoO2lmKHMoXCJtYXliZVJlYWRNb3JlIHJlYWQgMFwiKSxlLnJlYWQoMCksbj09PXQubGVuZ3RoKWJyZWFrfXQucmVhZGluZ01vcmU9ITF9ZnVuY3Rpb24gTihlKXt2YXIgdD1lLl9yZWFkYWJsZVN0YXRlO3QucmVhZGFibGVMaXN0ZW5pbmc9ZS5saXN0ZW5lckNvdW50KFwicmVhZGFibGVcIik+MCx0LnJlc3VtZVNjaGVkdWxlZCYmIXQucGF1c2VkP3QuZmxvd2luZz0hMDplLmxpc3RlbmVyQ291bnQoXCJkYXRhXCIpPjAmJmUucmVzdW1lKCl9ZnVuY3Rpb24gRChlKXtzKFwicmVhZGFibGUgbmV4dHRpY2sgcmVhZCAwXCIpLGUucmVhZCgwKX1mdW5jdGlvbiBMKGUsdCl7cyhcInJlc3VtZVwiLHQucmVhZGluZyksdC5yZWFkaW5nfHxlLnJlYWQoMCksdC5yZXN1bWVTY2hlZHVsZWQ9ITEsZS5lbWl0KFwicmVzdW1lXCIpLEIoZSksdC5mbG93aW5nJiYhdC5yZWFkaW5nJiZlLnJlYWQoMCl9ZnVuY3Rpb24gQihlKXt2YXIgdD1lLl9yZWFkYWJsZVN0YXRlO2ZvcihzKFwiZmxvd1wiLHQuZmxvd2luZyk7dC5mbG93aW5nJiZudWxsIT09ZS5yZWFkKCk7KTt9ZnVuY3Rpb24gSyhlLHQpe3JldHVybiAwPT09dC5sZW5ndGg/bnVsbDoodC5vYmplY3RNb2RlP249dC5idWZmZXIuc2hpZnQoKTohZXx8ZT49dC5sZW5ndGg/KG49dC5kZWNvZGVyP3QuYnVmZmVyLmpvaW4oXCJcIik6MT09PXQuYnVmZmVyLmxlbmd0aD90LmJ1ZmZlci5maXJzdCgpOnQuYnVmZmVyLmNvbmNhdCh0Lmxlbmd0aCksdC5idWZmZXIuY2xlYXIoKSk6bj10LmJ1ZmZlci5jb25zdW1lKGUsdC5kZWNvZGVyKSxuKTt2YXIgbn1mdW5jdGlvbiBqKGUpe3ZhciB0PWUuX3JlYWRhYmxlU3RhdGU7cyhcImVuZFJlYWRhYmxlXCIsdC5lbmRFbWl0dGVkKSx0LmVuZEVtaXR0ZWR8fCh0LmVuZGVkPSEwLHByb2Nlc3MubmV4dFRpY2soJCx0LGUpKX1mdW5jdGlvbiAkKGUsdCl7aWYocyhcImVuZFJlYWRhYmxlTlRcIixlLmVuZEVtaXR0ZWQsZS5sZW5ndGgpLCFlLmVuZEVtaXR0ZWQmJjA9PT1lLmxlbmd0aCYmKGUuZW5kRW1pdHRlZD0hMCx0LnJlYWRhYmxlPSExLHQuZW1pdChcImVuZFwiKSxlLmF1dG9EZXN0cm95KSl7dmFyIG49dC5fd3JpdGFibGVTdGF0ZTsoIW58fG4uYXV0b0Rlc3Ryb3kmJm4uZmluaXNoZWQpJiZ0LmRlc3Ryb3koKX19ZnVuY3Rpb24gSChlLHQpe2Zvcih2YXIgbj0wLHI9ZS5sZW5ndGg7bjxyO24rKylpZihlW25dPT09dClyZXR1cm4gbjtyZXR1cm4tMX1yZXR1cm4geC5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtzKFwicmVhZFwiLGUpLGU9cGFyc2VJbnQoZSwxMCk7dmFyIHQ9dGhpcy5fcmVhZGFibGVTdGF0ZSxuPWU7aWYoMCE9PWUmJih0LmVtaXR0ZWRSZWFkYWJsZT0hMSksMD09PWUmJnQubmVlZFJlYWRhYmxlJiYoKDAhPT10LmhpZ2hXYXRlck1hcms/dC5sZW5ndGg+PXQuaGlnaFdhdGVyTWFyazp0Lmxlbmd0aD4wKXx8dC5lbmRlZCkpcmV0dXJuIHMoXCJyZWFkOiBlbWl0UmVhZGFibGVcIix0Lmxlbmd0aCx0LmVuZGVkKSwwPT09dC5sZW5ndGgmJnQuZW5kZWQ/aih0aGlzKTpJKHRoaXMpLG51bGw7aWYoMD09PShlPVQoZSx0KSkmJnQuZW5kZWQpcmV0dXJuIDA9PT10Lmxlbmd0aCYmaih0aGlzKSxudWxsO3ZhciByLGk9dC5uZWVkUmVhZGFibGU7cmV0dXJuIHMoXCJuZWVkIHJlYWRhYmxlXCIsaSksKDA9PT10Lmxlbmd0aHx8dC5sZW5ndGgtZTx0LmhpZ2hXYXRlck1hcmspJiZzKFwibGVuZ3RoIGxlc3MgdGhhbiB3YXRlcm1hcmtcIixpPSEwKSx0LmVuZGVkfHx0LnJlYWRpbmc/cyhcInJlYWRpbmcgb3IgZW5kZWRcIixpPSExKTppJiYocyhcImRvIHJlYWRcIiksdC5yZWFkaW5nPSEwLHQuc3luYz0hMCwwPT09dC5sZW5ndGgmJih0Lm5lZWRSZWFkYWJsZT0hMCksdGhpcy5fcmVhZCh0LmhpZ2hXYXRlck1hcmspLHQuc3luYz0hMSx0LnJlYWRpbmd8fChlPVQobix0KSkpLG51bGw9PT0ocj1lPjA/SyhlLHQpOm51bGwpPyh0Lm5lZWRSZWFkYWJsZT10Lmxlbmd0aDw9dC5oaWdoV2F0ZXJNYXJrLGU9MCk6KHQubGVuZ3RoLT1lLHQuYXdhaXREcmFpbj0wKSwwPT09dC5sZW5ndGgmJih0LmVuZGVkfHwodC5uZWVkUmVhZGFibGU9ITApLG4hPT1lJiZ0LmVuZGVkJiZqKHRoaXMpKSxudWxsIT09ciYmdGhpcy5lbWl0KFwiZGF0YVwiLHIpLHJ9LHgucHJvdG90eXBlLl9yZWFkPWZ1bmN0aW9uKGUpe1ModGhpcyxuZXcgYihcIl9yZWFkKClcIikpfSx4LnByb3RvdHlwZS5waXBlPWZ1bmN0aW9uKGUsbil7dmFyIHI9dGhpcyxpPXRoaXMuX3JlYWRhYmxlU3RhdGU7c3dpdGNoKGkucGlwZXNDb3VudCl7Y2FzZSAwOmkucGlwZXM9ZTticmVhaztjYXNlIDE6aS5waXBlcz1baS5waXBlcyxlXTticmVhaztkZWZhdWx0OmkucGlwZXMucHVzaChlKX1pLnBpcGVzQ291bnQrPTEscyhcInBpcGUgY291bnQ9JWQgb3B0cz0lalwiLGkucGlwZXNDb3VudCxuKTt2YXIgbz0oIW58fCExIT09bi5lbmQpJiZlIT09cHJvY2Vzcy5zdGRvdXQmJmUhPT1wcm9jZXNzLnN0ZGVycj9jOm07ZnVuY3Rpb24gYSh0LG4pe3MoXCJvbnVucGlwZVwiKSx0PT09ciYmbiYmITE9PT1uLmhhc1VucGlwZWQmJihuLmhhc1VucGlwZWQ9ITAscyhcImNsZWFudXBcIiksZS5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsZiksZS5yZW1vdmVMaXN0ZW5lcihcImZpbmlzaFwiLHApLGUucmVtb3ZlTGlzdGVuZXIoXCJkcmFpblwiLGQpLGUucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLGgpLGUucmVtb3ZlTGlzdGVuZXIoXCJ1bnBpcGVcIixhKSxyLnJlbW92ZUxpc3RlbmVyKFwiZW5kXCIsYyksci5yZW1vdmVMaXN0ZW5lcihcImVuZFwiLG0pLHIucmVtb3ZlTGlzdGVuZXIoXCJkYXRhXCIsdSksbD0hMCwhaS5hd2FpdERyYWlufHxlLl93cml0YWJsZVN0YXRlJiYhZS5fd3JpdGFibGVTdGF0ZS5uZWVkRHJhaW58fGQoKSl9ZnVuY3Rpb24gYygpe3MoXCJvbmVuZFwiKSxlLmVuZCgpfWkuZW5kRW1pdHRlZD9wcm9jZXNzLm5leHRUaWNrKG8pOnIub25jZShcImVuZFwiLG8pLGUub24oXCJ1bnBpcGVcIixhKTt2YXIgZD1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbj1lLl9yZWFkYWJsZVN0YXRlO3MoXCJwaXBlT25EcmFpblwiLG4uYXdhaXREcmFpbiksbi5hd2FpdERyYWluJiZuLmF3YWl0RHJhaW4tLSwwPT09bi5hd2FpdERyYWluJiZ0KGUsXCJkYXRhXCIpJiYobi5mbG93aW5nPSEwLEIoZSkpfX0ocik7ZS5vbihcImRyYWluXCIsZCk7dmFyIGw9ITE7ZnVuY3Rpb24gdSh0KXtzKFwib25kYXRhXCIpO3ZhciBuPWUud3JpdGUodCk7cyhcImRlc3Qud3JpdGVcIixuKSwhMT09PW4mJigoMT09PWkucGlwZXNDb3VudCYmaS5waXBlcz09PWV8fGkucGlwZXNDb3VudD4xJiYtMSE9PUgoaS5waXBlcyxlKSkmJiFsJiYocyhcImZhbHNlIHdyaXRlIHJlc3BvbnNlLCBwYXVzZVwiLGkuYXdhaXREcmFpbiksaS5hd2FpdERyYWluKyspLHIucGF1c2UoKSl9ZnVuY3Rpb24gaChuKXtzKFwib25lcnJvclwiLG4pLG0oKSxlLnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIixoKSwwPT09dChlLFwiZXJyb3JcIikmJlMoZSxuKX1mdW5jdGlvbiBmKCl7ZS5yZW1vdmVMaXN0ZW5lcihcImZpbmlzaFwiLHApLG0oKX1mdW5jdGlvbiBwKCl7cyhcIm9uZmluaXNoXCIpLGUucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLGYpLG0oKX1mdW5jdGlvbiBtKCl7cyhcInVucGlwZVwiKSxyLnVucGlwZShlKX1yZXR1cm4gci5vbihcImRhdGFcIix1KSxmdW5jdGlvbihlLHQsbil7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZS5wcmVwZW5kTGlzdGVuZXIpcmV0dXJuIGUucHJlcGVuZExpc3RlbmVyKHQsbik7ZS5fZXZlbnRzJiZlLl9ldmVudHNbdF0/QXJyYXkuaXNBcnJheShlLl9ldmVudHNbdF0pP2UuX2V2ZW50c1t0XS51bnNoaWZ0KG4pOmUuX2V2ZW50c1t0XT1bbixlLl9ldmVudHNbdF1dOmUub24odCxuKX0oZSxcImVycm9yXCIsaCksZS5vbmNlKFwiY2xvc2VcIixmKSxlLm9uY2UoXCJmaW5pc2hcIixwKSxlLmVtaXQoXCJwaXBlXCIsciksaS5mbG93aW5nfHwocyhcInBpcGUgcmVzdW1lXCIpLHIucmVzdW1lKCkpLGV9LHgucHJvdG90eXBlLnVucGlwZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9yZWFkYWJsZVN0YXRlLG49e2hhc1VucGlwZWQ6ITF9O2lmKDA9PT10LnBpcGVzQ291bnQpcmV0dXJuIHRoaXM7aWYoMT09PXQucGlwZXNDb3VudClyZXR1cm4gZSYmZSE9PXQucGlwZXN8fChlfHwoZT10LnBpcGVzKSx0LnBpcGVzPW51bGwsdC5waXBlc0NvdW50PTAsdC5mbG93aW5nPSExLGUmJmUuZW1pdChcInVucGlwZVwiLHRoaXMsbikpLHRoaXM7aWYoIWUpe3ZhciByPXQucGlwZXMsaT10LnBpcGVzQ291bnQ7dC5waXBlcz1udWxsLHQucGlwZXNDb3VudD0wLHQuZmxvd2luZz0hMTtmb3IodmFyIG89MDtvPGk7bysrKXJbb10uZW1pdChcInVucGlwZVwiLHRoaXMse2hhc1VucGlwZWQ6ITF9KTtyZXR1cm4gdGhpc312YXIgcz1IKHQucGlwZXMsZSk7cmV0dXJuLTE9PT1zfHwodC5waXBlcy5zcGxpY2UocywxKSx0LnBpcGVzQ291bnQtPTEsMT09PXQucGlwZXNDb3VudCYmKHQucGlwZXM9dC5waXBlc1swXSksZS5lbWl0KFwidW5waXBlXCIsdGhpcyxuKSksdGhpc30seC5wcm90b3R5cGUub249ZnVuY3Rpb24oZSx0KXt2YXIgbj1yLnByb3RvdHlwZS5vbi5jYWxsKHRoaXMsZSx0KSxpPXRoaXMuX3JlYWRhYmxlU3RhdGU7cmV0dXJuXCJkYXRhXCI9PT1lPyhpLnJlYWRhYmxlTGlzdGVuaW5nPXRoaXMubGlzdGVuZXJDb3VudChcInJlYWRhYmxlXCIpPjAsITEhPT1pLmZsb3dpbmcmJnRoaXMucmVzdW1lKCkpOlwicmVhZGFibGVcIj09PWUmJihpLmVuZEVtaXR0ZWR8fGkucmVhZGFibGVMaXN0ZW5pbmd8fChpLnJlYWRhYmxlTGlzdGVuaW5nPWkubmVlZFJlYWRhYmxlPSEwLGkuZmxvd2luZz0hMSxpLmVtaXR0ZWRSZWFkYWJsZT0hMSxzKFwib24gcmVhZGFibGVcIixpLmxlbmd0aCxpLnJlYWRpbmcpLGkubGVuZ3RoP0kodGhpcyk6aS5yZWFkaW5nfHxwcm9jZXNzLm5leHRUaWNrKEQsdGhpcykpKSxufSx4LnByb3RvdHlwZS5hZGRMaXN0ZW5lcj14LnByb3RvdHlwZS5vbix4LnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3ZhciBuPXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyLmNhbGwodGhpcyxlLHQpO3JldHVyblwicmVhZGFibGVcIj09PWUmJnByb2Nlc3MubmV4dFRpY2soTix0aGlzKSxufSx4LnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnM9ZnVuY3Rpb24oZSl7dmFyIHQ9ci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm5cInJlYWRhYmxlXCIhPT1lJiZ2b2lkIDAhPT1lfHxwcm9jZXNzLm5leHRUaWNrKE4sdGhpcyksdH0seC5wcm90b3R5cGUucmVzdW1lPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fcmVhZGFibGVTdGF0ZTtyZXR1cm4gZS5mbG93aW5nfHwocyhcInJlc3VtZVwiKSxlLmZsb3dpbmc9IWUucmVhZGFibGVMaXN0ZW5pbmcsZnVuY3Rpb24oZSx0KXt0LnJlc3VtZVNjaGVkdWxlZHx8KHQucmVzdW1lU2NoZWR1bGVkPSEwLHByb2Nlc3MubmV4dFRpY2soTCxlLHQpKX0odGhpcyxlKSksZS5wYXVzZWQ9ITEsdGhpc30seC5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXtyZXR1cm4gcyhcImNhbGwgcGF1c2UgZmxvd2luZz0lalwiLHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyksITEhPT10aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcmJihzKFwicGF1c2VcIiksdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nPSExLHRoaXMuZW1pdChcInBhdXNlXCIpKSx0aGlzLl9yZWFkYWJsZVN0YXRlLnBhdXNlZD0hMCx0aGlzfSx4LnByb3RvdHlwZS53cmFwPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj10aGlzLl9yZWFkYWJsZVN0YXRlLHI9ITE7Zm9yKHZhciBpIGluIGUub24oXCJlbmRcIiwoZnVuY3Rpb24oKXtpZihzKFwid3JhcHBlZCBlbmRcIiksbi5kZWNvZGVyJiYhbi5lbmRlZCl7dmFyIGU9bi5kZWNvZGVyLmVuZCgpO2UmJmUubGVuZ3RoJiZ0LnB1c2goZSl9dC5wdXNoKG51bGwpfSkpLGUub24oXCJkYXRhXCIsKGZ1bmN0aW9uKGkpeyhzKFwid3JhcHBlZCBkYXRhXCIpLG4uZGVjb2RlciYmKGk9bi5kZWNvZGVyLndyaXRlKGkpKSxuLm9iamVjdE1vZGUmJm51bGw9PWkpfHwobi5vYmplY3RNb2RlfHxpJiZpLmxlbmd0aCkmJih0LnB1c2goaSl8fChyPSEwLGUucGF1c2UoKSkpfSkpLGUpdm9pZCAwPT09dGhpc1tpXSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZVtpXSYmKHRoaXNbaV09ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGVbdF0uYXBwbHkoZSxhcmd1bWVudHMpfX0oaSkpO2Zvcih2YXIgbz0wO288Xy5sZW5ndGg7bysrKWUub24oX1tvXSx0aGlzLmVtaXQuYmluZCh0aGlzLF9bb10pKTtyZXR1cm4gdGhpcy5fcmVhZD1mdW5jdGlvbih0KXtzKFwid3JhcHBlZCBfcmVhZFwiLHQpLHImJihyPSExLGUucmVzdW1lKCkpfSx0aGlzfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJih4LnByb3RvdHlwZVtTeW1ib2wuYXN5bmNJdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwPT09dSYmKHU9c2EoKSksdSh0aGlzKX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh4LnByb3RvdHlwZSxcInJlYWRhYmxlSGlnaFdhdGVyTWFya1wiLHtlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlLmhpZ2hXYXRlck1hcmt9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHgucHJvdG90eXBlLFwicmVhZGFibGVCdWZmZXJcIix7ZW51bWVyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZSYmdGhpcy5fcmVhZGFibGVTdGF0ZS5idWZmZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHgucHJvdG90eXBlLFwicmVhZGFibGVGbG93aW5nXCIse2VudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZ30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3JlYWRhYmxlU3RhdGUmJih0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmc9ZSl9fSkseC5fZnJvbUxpc3Q9SyxPYmplY3QuZGVmaW5lUHJvcGVydHkoeC5wcm90b3R5cGUsXCJyZWFkYWJsZUxlbmd0aFwiLHtlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlLmxlbmd0aH19KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJih4LmZyb209ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09ZiYmKGY9YWEoKSksZih4LGUsdCl9KSxHc31mdW5jdGlvbiBkYSgpe2lmKEpzKXJldHVybiBacztKcz0xLFpzPWE7dmFyIGU9eHMoKS5jb2Rlcyx0PWUuRVJSX01FVEhPRF9OT1RfSU1QTEVNRU5URUQsbj1lLkVSUl9NVUxUSVBMRV9DQUxMQkFDSyxyPWUuRVJSX1RSQU5TRk9STV9BTFJFQURZX1RSQU5TRk9STUlORyxpPWUuRVJSX1RSQU5TRk9STV9XSVRIX0xFTkdUSF8wLG89anMoKTtmdW5jdGlvbiBzKGUsdCl7dmFyIHI9dGhpcy5fdHJhbnNmb3JtU3RhdGU7ci50cmFuc2Zvcm1pbmc9ITE7dmFyIGk9ci53cml0ZWNiO2lmKG51bGw9PT1pKXJldHVybiB0aGlzLmVtaXQoXCJlcnJvclwiLG5ldyBuKTtyLndyaXRlY2h1bms9bnVsbCxyLndyaXRlY2I9bnVsbCxudWxsIT10JiZ0aGlzLnB1c2godCksaShlKTt2YXIgbz10aGlzLl9yZWFkYWJsZVN0YXRlO28ucmVhZGluZz0hMSwoby5uZWVkUmVhZGFibGV8fG8ubGVuZ3RoPG8uaGlnaFdhdGVyTWFyaykmJnRoaXMuX3JlYWQoby5oaWdoV2F0ZXJNYXJrKX1mdW5jdGlvbiBhKGUpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGEpKXJldHVybiBuZXcgYShlKTtvLmNhbGwodGhpcyxlKSx0aGlzLl90cmFuc2Zvcm1TdGF0ZT17YWZ0ZXJUcmFuc2Zvcm06cy5iaW5kKHRoaXMpLG5lZWRUcmFuc2Zvcm06ITEsdHJhbnNmb3JtaW5nOiExLHdyaXRlY2I6bnVsbCx3cml0ZWNodW5rOm51bGwsd3JpdGVlbmNvZGluZzpudWxsfSx0aGlzLl9yZWFkYWJsZVN0YXRlLm5lZWRSZWFkYWJsZT0hMCx0aGlzLl9yZWFkYWJsZVN0YXRlLnN5bmM9ITEsZSYmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUudHJhbnNmb3JtJiYodGhpcy5fdHJhbnNmb3JtPWUudHJhbnNmb3JtKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmZsdXNoJiYodGhpcy5fZmx1c2g9ZS5mbHVzaCkpLHRoaXMub24oXCJwcmVmaW5pc2hcIixjKX1mdW5jdGlvbiBjKCl7dmFyIGU9dGhpcztcImZ1bmN0aW9uXCIhPXR5cGVvZiB0aGlzLl9mbHVzaHx8dGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQ/ZCh0aGlzLG51bGwsbnVsbCk6dGhpcy5fZmx1c2goKGZ1bmN0aW9uKHQsbil7ZChlLHQsbil9KSl9ZnVuY3Rpb24gZChlLHQsbil7aWYodClyZXR1cm4gZS5lbWl0KFwiZXJyb3JcIix0KTtpZihudWxsIT1uJiZlLnB1c2gobiksZS5fd3JpdGFibGVTdGF0ZS5sZW5ndGgpdGhyb3cgbmV3IGk7aWYoZS5fdHJhbnNmb3JtU3RhdGUudHJhbnNmb3JtaW5nKXRocm93IG5ldyByO3JldHVybiBlLnB1c2gobnVsbCl9cmV0dXJuIEJzKCkoYSxvKSxhLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3RyYW5zZm9ybVN0YXRlLm5lZWRUcmFuc2Zvcm09ITEsby5wcm90b3R5cGUucHVzaC5jYWxsKHRoaXMsZSx0KX0sYS5wcm90b3R5cGUuX3RyYW5zZm9ybT1mdW5jdGlvbihlLG4scil7cihuZXcgdChcIl90cmFuc2Zvcm0oKVwiKSl9LGEucHJvdG90eXBlLl93cml0ZT1mdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcy5fdHJhbnNmb3JtU3RhdGU7aWYoci53cml0ZWNiPW4sci53cml0ZWNodW5rPWUsci53cml0ZWVuY29kaW5nPXQsIXIudHJhbnNmb3JtaW5nKXt2YXIgaT10aGlzLl9yZWFkYWJsZVN0YXRlOyhyLm5lZWRUcmFuc2Zvcm18fGkubmVlZFJlYWRhYmxlfHxpLmxlbmd0aDxpLmhpZ2hXYXRlck1hcmspJiZ0aGlzLl9yZWFkKGkuaGlnaFdhdGVyTWFyayl9fSxhLnByb3RvdHlwZS5fcmVhZD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl90cmFuc2Zvcm1TdGF0ZTtudWxsPT09dC53cml0ZWNodW5rfHx0LnRyYW5zZm9ybWluZz90Lm5lZWRUcmFuc2Zvcm09ITA6KHQudHJhbnNmb3JtaW5nPSEwLHRoaXMuX3RyYW5zZm9ybSh0LndyaXRlY2h1bmssdC53cml0ZWVuY29kaW5nLHQuYWZ0ZXJUcmFuc2Zvcm0pKX0sYS5wcm90b3R5cGUuX2Rlc3Ryb3k9ZnVuY3Rpb24oZSx0KXtvLnByb3RvdHlwZS5fZGVzdHJveS5jYWxsKHRoaXMsZSwoZnVuY3Rpb24oZSl7dChlKX0pKX0sWnN9ZnVuY3Rpb24gbGEoKXtpZih0YSlyZXR1cm4gZWE7dmFyIGU7dGE9MTt2YXIgdD14cygpLmNvZGVzLG49dC5FUlJfTUlTU0lOR19BUkdTLHI9dC5FUlJfU1RSRUFNX0RFU1RST1lFRDtmdW5jdGlvbiBpKGUpe2lmKGUpdGhyb3cgZX1mdW5jdGlvbiBvKGUpe2UoKX1mdW5jdGlvbiBzKGUsdCl7cmV0dXJuIGUucGlwZSh0KX1yZXR1cm4gZWE9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxhPW5ldyBBcnJheSh0KSxjPTA7Yzx0O2MrKylhW2NdPWFyZ3VtZW50c1tjXTt2YXIgZCxsPWZ1bmN0aW9uKGUpe3JldHVybiBlLmxlbmd0aD9cImZ1bmN0aW9uXCIhPXR5cGVvZiBlW2UubGVuZ3RoLTFdP2k6ZS5wb3AoKTppfShhKTtpZihBcnJheS5pc0FycmF5KGFbMF0pJiYoYT1hWzBdKSxhLmxlbmd0aDwyKXRocm93IG5ldyBuKFwic3RyZWFtc1wiKTt2YXIgdT1hLm1hcCgoZnVuY3Rpb24odCxuKXt2YXIgaT1uPGEubGVuZ3RoLTE7cmV0dXJuIGZ1bmN0aW9uKHQsbixpLG8pe289ZnVuY3Rpb24oZSl7dmFyIHQ9ITE7cmV0dXJuIGZ1bmN0aW9uKCl7dHx8KHQ9ITAsZS5hcHBseSh2b2lkIDAsYXJndW1lbnRzKSl9fShvKTt2YXIgcz0hMTt0Lm9uKFwiY2xvc2VcIiwoZnVuY3Rpb24oKXtzPSEwfSkpLHZvaWQgMD09PWUmJihlPW9hKCkpLGUodCx7cmVhZGFibGU6bix3cml0YWJsZTppfSwoZnVuY3Rpb24oZSl7aWYoZSlyZXR1cm4gbyhlKTtzPSEwLG8oKX0pKTt2YXIgYT0hMTtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoIXMmJiFhKXJldHVybiBhPSEwLGZ1bmN0aW9uKGUpe3JldHVybiBlLnNldEhlYWRlciYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5hYm9ydH0odCk/dC5hYm9ydCgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuZGVzdHJveT90LmRlc3Ryb3koKTp2b2lkIG8oZXx8bmV3IHIoXCJwaXBlXCIpKX19KHQsaSxuPjAsKGZ1bmN0aW9uKGUpe2R8fChkPWUpLGUmJnUuZm9yRWFjaChvKSxpfHwodS5mb3JFYWNoKG8pLGwoZCkpfSkpfSkpO3JldHVybiBhLnJlZHVjZShzKX0sZWF9IWZ1bmN0aW9uKGUsdCl7dmFyIG49ZDtcImRpc2FibGVcIj09PXByb2Nlc3MuZW52LlJFQURBQkxFX1NUUkVBTSYmbj8oZS5leHBvcnRzPW4uUmVhZGFibGUsT2JqZWN0LmFzc2lnbihlLmV4cG9ydHMsbiksZS5leHBvcnRzLlN0cmVhbT1uKTooKHQ9ZS5leHBvcnRzPWNhKCkpLlN0cmVhbT1ufHx0LHQuUmVhZGFibGU9dCx0LldyaXRhYmxlPUtzKCksdC5EdXBsZXg9anMoKSx0LlRyYW5zZm9ybT1kYSgpLHQuUGFzc1Rocm91Z2g9ZnVuY3Rpb24oKXtpZihYcylyZXR1cm4gUXM7WHM9MSxRcz10O3ZhciBlPWRhKCk7ZnVuY3Rpb24gdChuKXtpZighKHRoaXMgaW5zdGFuY2VvZiB0KSlyZXR1cm4gbmV3IHQobik7ZS5jYWxsKHRoaXMsbil9cmV0dXJuIEJzKCkodCxlKSx0LnByb3RvdHlwZS5fdHJhbnNmb3JtPWZ1bmN0aW9uKGUsdCxuKXtuKG51bGwsZSl9LFFzfSgpLHQuZmluaXNoZWQ9b2EoKSx0LnBpcGVsaW5lPWxhKCkpfSh5cyx5cy5leHBvcnRzKTt2YXIgdWE9eXMuZXhwb3J0cztmdW5jdGlvbiBoYShlPXt9KXtjb25zdCB0PXt9LG49bmV3IHVhLkR1cGxleCh7b2JqZWN0TW9kZTohMCxyZWFkOigpPT57fSx3cml0ZTpmdW5jdGlvbihuLG8scyl7bGV0IGE9bnVsbDt0cnl7IW4uaWQ/ZnVuY3Rpb24obil7ZT8ucmV0cnlPbk1lc3NhZ2UmJm4ubWV0aG9kPT09ZS5yZXRyeU9uTWVzc2FnZSYmT2JqZWN0LnZhbHVlcyh0KS5mb3JFYWNoKCgoe3JlcTplLHJldHJ5Q291bnQ6bj0wfSk9PntpZighZS5pZClyZXR1cm47aWYobj49Myl0aHJvdyBuZXcgRXJyb3IoYFN0cmVhbU1pZGRsZXdhcmUgLSBSZXRyeSBsaW1pdCBleGNlZWRlZCBmb3IgcmVxdWVzdCBpZCBcIiR7ZS5pZH1cImApO2NvbnN0IHI9dFtlLmlkXTtyJiYoci5yZXRyeUNvdW50PW4rMSksaShlKX0pKTtyLmVtaXQoXCJub3RpZmljYXRpb25cIixuKX0obik6ZnVuY3Rpb24oZSl7Y29uc3R7aWQ6bn09ZTtpZihudWxsPT09bilyZXR1cm47Y29uc3Qgcj10W25dO2lmKCFyKXJldHVybiB2b2lkIGNvbnNvbGUud2FybihgU3RyZWFtTWlkZGxld2FyZSAtIFVua25vd24gcmVzcG9uc2UgaWQgXCIke259XCJgKTtkZWxldGUgdFtuXSxPYmplY3QuYXNzaWduKHIucmVzLGUpLHNldFRpbWVvdXQoci5lbmQpfShuKX1jYXRjaChlKXthPWV9cyhhKX19KSxyPW5ldyAkbztyZXR1cm57ZXZlbnRzOnIsbWlkZGxld2FyZTooZSxuLHIsbyk9Pnt0W2UuaWRdPXtyZXE6ZSxyZXM6bixuZXh0OnIsZW5kOm99LGkoZSl9LHN0cmVhbTpufTtmdW5jdGlvbiBpKGUpe24ucHVzaChlKX19dmFyIGZhPXt9LHBhPXtleHBvcnRzOnt9fSxtYT1mdW5jdGlvbiBlKHQsbil7aWYodCYmbilyZXR1cm4gZSh0KShuKTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoXCJuZWVkIHdyYXBwZXIgZnVuY3Rpb25cIik7cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JbZV09dFtlXX0pKSxyO2Z1bmN0aW9uIHIoKXtmb3IodmFyIGU9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpLG49MDtuPGUubGVuZ3RoO24rKyllW25dPWFyZ3VtZW50c1tuXTt2YXIgcj10LmFwcGx5KHRoaXMsZSksaT1lW2UubGVuZ3RoLTFdO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHImJnIhPT1pJiZPYmplY3Qua2V5cyhpKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyW2VdPWlbZV19KSkscn19O3ZhciBnYT1tYTtmdW5jdGlvbiB5YShlKXt2YXIgdD1mdW5jdGlvbigpe3JldHVybiB0LmNhbGxlZD90LnZhbHVlOih0LmNhbGxlZD0hMCx0LnZhbHVlPWUuYXBwbHkodGhpcyxhcmd1bWVudHMpKX07cmV0dXJuIHQuY2FsbGVkPSExLHR9ZnVuY3Rpb24gdmEoZSl7dmFyIHQ9ZnVuY3Rpb24oKXtpZih0LmNhbGxlZCl0aHJvdyBuZXcgRXJyb3IodC5vbmNlRXJyb3IpO3JldHVybiB0LmNhbGxlZD0hMCx0LnZhbHVlPWUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxuPWUubmFtZXx8XCJGdW5jdGlvbiB3cmFwcGVkIHdpdGggYG9uY2VgXCI7cmV0dXJuIHQub25jZUVycm9yPW4rXCIgc2hvdWxkbid0IGJlIGNhbGxlZCBtb3JlIHRoYW4gb25jZVwiLHQuY2FsbGVkPSExLHR9cGEuZXhwb3J0cz1nYSh5YSkscGEuZXhwb3J0cy5zdHJpY3Q9Z2EodmEpLHlhLnByb3RvPXlhKChmdW5jdGlvbigpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShGdW5jdGlvbi5wcm90b3R5cGUsXCJvbmNlXCIse3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHlhKHRoaXMpfSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoRnVuY3Rpb24ucHJvdG90eXBlLFwib25jZVN0cmljdFwiLHt2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB2YSh0aGlzKX0sY29uZmlndXJhYmxlOiEwfSl9KSk7dmFyIEVhPXBhLmV4cG9ydHMsYmE9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KGJhLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGJhLlN1YnN0cmVhbT12b2lkIDA7Y29uc3Qgd2E9dWE7Y2xhc3MgU2EgZXh0ZW5kcyB3YS5EdXBsZXh7Y29uc3RydWN0b3Ioe3BhcmVudDplLG5hbWU6dH0pe3N1cGVyKHtvYmplY3RNb2RlOiEwfSksdGhpcy5fcGFyZW50PWUsdGhpcy5fbmFtZT10fV9yZWFkKCl7fV93cml0ZShlLHQsbil7dGhpcy5fcGFyZW50LnB1c2goe25hbWU6dGhpcy5fbmFtZSxkYXRhOmV9KSxuKCl9fWJhLlN1YnN0cmVhbT1TYTt2YXIgX2E9aCYmaC5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGZhLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGZhLk9iamVjdE11bHRpcGxleD12b2lkIDA7Y29uc3QgQ2E9dWEseGE9X2EoRWEpLGthPWJhLE1hPVN5bWJvbChcIklHTk9SRV9TVUJTVFJFQU1cIik7bGV0IEFhPWNsYXNzIGV4dGVuZHMgQ2EuRHVwbGV4e2NvbnN0cnVjdG9yKGU9e30pe3N1cGVyKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlKSx7b2JqZWN0TW9kZTohMH0pKSx0aGlzLl9zdWJzdHJlYW1zPXt9fWNyZWF0ZVN0cmVhbShlKXtpZih0aGlzLmRlc3Ryb3llZCl0aHJvdyBuZXcgRXJyb3IoYE9iamVjdE11bHRpcGxleCAtIHBhcmVudCBzdHJlYW0gZm9yIG5hbWUgXCIke2V9XCIgYWxyZWFkeSBkZXN0cm95ZWRgKTtpZih0aGlzLl9yZWFkYWJsZVN0YXRlLmVuZGVkfHx0aGlzLl93cml0YWJsZVN0YXRlLmVuZGVkKXRocm93IG5ldyBFcnJvcihgT2JqZWN0TXVsdGlwbGV4IC0gcGFyZW50IHN0cmVhbSBmb3IgbmFtZSBcIiR7ZX1cIiBhbHJlYWR5IGVuZGVkYCk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiT2JqZWN0TXVsdGlwbGV4IC0gbmFtZSBtdXN0IG5vdCBiZSBlbXB0eVwiKTtpZih0aGlzLl9zdWJzdHJlYW1zW2VdKXRocm93IG5ldyBFcnJvcihgT2JqZWN0TXVsdGlwbGV4IC0gU3Vic3RyZWFtIGZvciBuYW1lIFwiJHtlfVwiIGFscmVhZHkgZXhpc3RzYCk7Y29uc3QgdD1uZXcga2EuU3Vic3RyZWFtKHtwYXJlbnQ6dGhpcyxuYW1lOmV9KTtyZXR1cm4gdGhpcy5fc3Vic3RyZWFtc1tlXT10LGZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj0oMCx4YS5kZWZhdWx0KSh0KTsoMCxDYS5maW5pc2hlZCkoZSx7cmVhZGFibGU6ITF9LG4pLCgwLENhLmZpbmlzaGVkKShlLHt3cml0YWJsZTohMX0sbil9KHRoaXMsKGU9PnQuZGVzdHJveShlfHx2b2lkIDApKSksdH1pZ25vcmVTdHJlYW0oZSl7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiT2JqZWN0TXVsdGlwbGV4IC0gbmFtZSBtdXN0IG5vdCBiZSBlbXB0eVwiKTtpZih0aGlzLl9zdWJzdHJlYW1zW2VdKXRocm93IG5ldyBFcnJvcihgT2JqZWN0TXVsdGlwbGV4IC0gU3Vic3RyZWFtIGZvciBuYW1lIFwiJHtlfVwiIGFscmVhZHkgZXhpc3RzYCk7dGhpcy5fc3Vic3RyZWFtc1tlXT1NYX1fcmVhZCgpe31fd3JpdGUoZSx0LG4pe2NvbnN0e25hbWU6cixkYXRhOml9PWU7aWYoIXIpcmV0dXJuIGNvbnNvbGUud2FybihgT2JqZWN0TXVsdGlwbGV4IC0gbWFsZm9ybWVkIGNodW5rIHdpdGhvdXQgbmFtZSBcIiR7ZX1cImApLG4oKTtjb25zdCBvPXRoaXMuX3N1YnN0cmVhbXNbcl07cmV0dXJuIG8/KG8hPT1NYSYmby5wdXNoKGkpLG4oKSk6KGNvbnNvbGUud2FybihgT2JqZWN0TXVsdGlwbGV4IC0gb3JwaGFuZWQgZGF0YSBmb3Igc3RyZWFtIFwiJHtyfVwiYCksbigpKX19O2ZhLk9iamVjdE11bHRpcGxleD1BYTt2YXIgVGE9ZihmYS5PYmplY3RNdWx0aXBsZXgpO2NvbnN0IElhPWU9Pm51bGwhPT1lJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5waXBlO0lhLndyaXRhYmxlPWU9PklhKGUpJiYhMSE9PWUud3JpdGFibGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuX3dyaXRlJiZcIm9iamVjdFwiPT10eXBlb2YgZS5fd3JpdGFibGVTdGF0ZSxJYS5yZWFkYWJsZT1lPT5JYShlKSYmITEhPT1lLnJlYWRhYmxlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLl9yZWFkJiZcIm9iamVjdFwiPT10eXBlb2YgZS5fcmVhZGFibGVTdGF0ZSxJYS5kdXBsZXg9ZT0+SWEud3JpdGFibGUoZSkmJklhLnJlYWRhYmxlKGUpLElhLnRyYW5zZm9ybT1lPT5JYS5kdXBsZXgoZSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuX3RyYW5zZm9ybTt2YXIgUmEsUGE9SWEsT2E9Y2xhc3MgZXh0ZW5kcyBnc3tjb25zdHJ1Y3RvcihlLHtqc29uUnBjU3RyZWFtTmFtZTp0LGxvZ2dlcjpuPWNvbnNvbGUsbWF4RXZlbnRMaXN0ZW5lcnM6cj0xMDAscnBjTWlkZGxld2FyZTppPVtdfSl7aWYoc3VwZXIoe2xvZ2dlcjpuLG1heEV2ZW50TGlzdGVuZXJzOnIscnBjTWlkZGxld2FyZTppfSksIVBhLmR1cGxleChlKSl0aHJvdyBuZXcgRXJyb3IoRnIuZXJyb3JzLmludmFsaWREdXBsZXhTdHJlYW0oKSk7dGhpcy5faGFuZGxlU3RyZWFtRGlzY29ubmVjdD10aGlzLl9oYW5kbGVTdHJlYW1EaXNjb25uZWN0LmJpbmQodGhpcyk7Y29uc3Qgbz1uZXcgVGE7dWEucGlwZWxpbmUoZSxvLGUsdGhpcy5faGFuZGxlU3RyZWFtRGlzY29ubmVjdC5iaW5kKHRoaXMsXCJNZXRhTWFza1wiKSksdGhpcy5fanNvblJwY0Nvbm5lY3Rpb249aGEoe3JldHJ5T25NZXNzYWdlOlwiTUVUQU1BU0tfRVhURU5TSU9OX0NPTk5FQ1RfQ0FOX1JFVFJZXCJ9KSx1YS5waXBlbGluZSh0aGlzLl9qc29uUnBjQ29ubmVjdGlvbi5zdHJlYW0sby5jcmVhdGVTdHJlYW0odCksdGhpcy5fanNvblJwY0Nvbm5lY3Rpb24uc3RyZWFtLHRoaXMuX2hhbmRsZVN0cmVhbURpc2Nvbm5lY3QuYmluZCh0aGlzLFwiTWV0YU1hc2sgUnBjUHJvdmlkZXJcIikpLHRoaXMuX3JwY0VuZ2luZS5wdXNoKHRoaXMuX2pzb25ScGNDb25uZWN0aW9uLm1pZGRsZXdhcmUpLHRoaXMuX2pzb25ScGNDb25uZWN0aW9uLmV2ZW50cy5vbihcIm5vdGlmaWNhdGlvblwiLCh0PT57Y29uc3R7bWV0aG9kOm4scGFyYW1zOnJ9PXQ7XCJtZXRhbWFza19hY2NvdW50c0NoYW5nZWRcIj09PW4/dGhpcy5faGFuZGxlQWNjb3VudHNDaGFuZ2VkKHIpOlwibWV0YW1hc2tfdW5sb2NrU3RhdGVDaGFuZ2VkXCI9PT1uP3RoaXMuX2hhbmRsZVVubG9ja1N0YXRlQ2hhbmdlZChyKTpcIm1ldGFtYXNrX2NoYWluQ2hhbmdlZFwiPT09bj90aGlzLl9oYW5kbGVDaGFpbkNoYW5nZWQocik6cW8uaW5jbHVkZXMobik/dGhpcy5lbWl0KFwibWVzc2FnZVwiLHt0eXBlOm4sZGF0YTpyfSk6XCJNRVRBTUFTS19TVFJFQU1fRkFJTFVSRVwiPT09biYmZS5kZXN0cm95KG5ldyBFcnJvcihGci5lcnJvcnMucGVybWFuZW50bHlEaXNjb25uZWN0ZWQoKSkpfSkpfWFzeW5jIF9pbml0aWFsaXplU3RhdGVBc3luYygpe2xldCBlO3RyeXtlPWF3YWl0IHRoaXMucmVxdWVzdCh7bWV0aG9kOlwibWV0YW1hc2tfZ2V0UHJvdmlkZXJTdGF0ZVwifSl9Y2F0Y2goZSl7dGhpcy5fbG9nLmVycm9yKFwiTWV0YU1hc2s6IEZhaWxlZCB0byBnZXQgaW5pdGlhbCBzdGF0ZS4gUGxlYXNlIHJlcG9ydCB0aGlzIGJ1Zy5cIixlKX10aGlzLl9pbml0aWFsaXplU3RhdGUoZSl9X2hhbmRsZVN0cmVhbURpc2Nvbm5lY3QoZSx0KXtsZXQgbj1gTWV0YU1hc2s6IExvc3QgY29ubmVjdGlvbiB0byBcIiR7ZX1cIi5gO3Q/LnN0YWNrJiYobis9YFxcbiR7dC5zdGFja31gKSx0aGlzLl9sb2cud2FybihuKSx0aGlzLmxpc3RlbmVyQ291bnQoXCJlcnJvclwiKT4wJiZ0aGlzLmVtaXQoXCJlcnJvclwiLG4pLHRoaXMuX2hhbmRsZURpc2Nvbm5lY3QoITEsdD90Lm1lc3NhZ2U6dm9pZCAwKX1faGFuZGxlQ2hhaW5DaGFuZ2VkKHtjaGFpbklkOmUsbmV0d29ya1ZlcnNpb246dH09e30pe1ZvKGUpJiYoZT0+Qm9vbGVhbihlKSYmXCJzdHJpbmdcIj09dHlwZW9mIGUpKHQpP1wibG9hZGluZ1wiPT09dD90aGlzLl9oYW5kbGVEaXNjb25uZWN0KCEwKTpzdXBlci5faGFuZGxlQ2hhaW5DaGFuZ2VkKHtjaGFpbklkOmV9KTp0aGlzLl9sb2cuZXJyb3IoRnIuZXJyb3JzLmludmFsaWROZXR3b3JrUGFyYW1zKCkse2NoYWluSWQ6ZSxuZXR3b3JrVmVyc2lvbjp0fSl9fSxOYT1jbGFzcyBleHRlbmRzIE9he2NvbnN0cnVjdG9yKGUse2pzb25ScGNTdHJlYW1OYW1lOnQ9XCJtZXRhbWFzay1wcm92aWRlclwiLGxvZ2dlcjpuPWNvbnNvbGUsbWF4RXZlbnRMaXN0ZW5lcnM6cj0xMDAsc2hvdWxkU2VuZE1ldGFkYXRhOml9PXt9KXtpZihzdXBlcihlLHtqc29uUnBjU3RyZWFtTmFtZTp0LGxvZ2dlcjpuLG1heEV2ZW50TGlzdGVuZXJzOnIscnBjTWlkZGxld2FyZTp6byhuKX0pLHRoaXMuX3NlbnRXYXJuaW5ncz17Y2hhaW5JZDohMSxuZXR3b3JrVmVyc2lvbjohMSxzZWxlY3RlZEFkZHJlc3M6ITEsZW5hYmxlOiExLGV4cGVyaW1lbnRhbE1ldGhvZHM6ITEsc2VuZDohMSxldmVudHM6e2Nsb3NlOiExLGRhdGE6ITEsbmV0d29ya0NoYW5nZWQ6ITEsbm90aWZpY2F0aW9uOiExfX0sdHModGhpcyxSYSx2b2lkIDApLHRoaXMuX2luaXRpYWxpemVTdGF0ZUFzeW5jKCksbnModGhpcyxSYSxudWxsKSx0aGlzLmlzTWV0YU1hc2s9ITAsdGhpcy5fc2VuZFN5bmM9dGhpcy5fc2VuZFN5bmMuYmluZCh0aGlzKSx0aGlzLmVuYWJsZT10aGlzLmVuYWJsZS5iaW5kKHRoaXMpLHRoaXMuc2VuZD10aGlzLnNlbmQuYmluZCh0aGlzKSx0aGlzLnNlbmRBc3luYz10aGlzLnNlbmRBc3luYy5iaW5kKHRoaXMpLHRoaXMuX3dhcm5PZkRlcHJlY2F0aW9uPXRoaXMuX3dhcm5PZkRlcHJlY2F0aW9uLmJpbmQodGhpcyksdGhpcy5fbWV0YW1hc2s9dGhpcy5fZ2V0RXhwZXJpbWVudGFsQXBpKCksdGhpcy5fanNvblJwY0Nvbm5lY3Rpb24uZXZlbnRzLm9uKFwibm90aWZpY2F0aW9uXCIsKGU9Pntjb25zdHttZXRob2Q6dH09ZTtxby5pbmNsdWRlcyh0KSYmKHRoaXMuZW1pdChcImRhdGFcIixlKSx0aGlzLmVtaXQoXCJub3RpZmljYXRpb25cIixlLnBhcmFtcy5yZXN1bHQpKX0pKSxpKWlmKFwiY29tcGxldGVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGUpWW8odGhpcy5fcnBjRW5naW5lLHRoaXMuX2xvZyk7ZWxzZXtjb25zdCBlPSgpPT57WW8odGhpcy5fcnBjRW5naW5lLHRoaXMuX2xvZyksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsZSl9O3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLGUpfX1nZXQgY2hhaW5JZCgpe3JldHVybiB0aGlzLl9zZW50V2FybmluZ3MuY2hhaW5JZHx8KHRoaXMuX2xvZy53YXJuKEZyLndhcm5pbmdzLmNoYWluSWREZXByZWNhdGlvbiksdGhpcy5fc2VudFdhcm5pbmdzLmNoYWluSWQ9ITApLHN1cGVyLmNoYWluSWR9Z2V0IG5ldHdvcmtWZXJzaW9uKCl7cmV0dXJuIHRoaXMuX3NlbnRXYXJuaW5ncy5uZXR3b3JrVmVyc2lvbnx8KHRoaXMuX2xvZy53YXJuKEZyLndhcm5pbmdzLm5ldHdvcmtWZXJzaW9uRGVwcmVjYXRpb24pLHRoaXMuX3NlbnRXYXJuaW5ncy5uZXR3b3JrVmVyc2lvbj0hMCksZXModGhpcyxSYSl9Z2V0IHNlbGVjdGVkQWRkcmVzcygpe3JldHVybiB0aGlzLl9zZW50V2FybmluZ3Muc2VsZWN0ZWRBZGRyZXNzfHwodGhpcy5fbG9nLndhcm4oRnIud2FybmluZ3Muc2VsZWN0ZWRBZGRyZXNzRGVwcmVjYXRpb24pLHRoaXMuX3NlbnRXYXJuaW5ncy5zZWxlY3RlZEFkZHJlc3M9ITApLHN1cGVyLnNlbGVjdGVkQWRkcmVzc31zZW5kQXN5bmMoZSx0KXt0aGlzLl9ycGNSZXF1ZXN0KGUsdCl9YWRkTGlzdGVuZXIoZSx0KXtyZXR1cm4gdGhpcy5fd2Fybk9mRGVwcmVjYXRpb24oZSksc3VwZXIuYWRkTGlzdGVuZXIoZSx0KX1vbihlLHQpe3JldHVybiB0aGlzLl93YXJuT2ZEZXByZWNhdGlvbihlKSxzdXBlci5vbihlLHQpfW9uY2UoZSx0KXtyZXR1cm4gdGhpcy5fd2Fybk9mRGVwcmVjYXRpb24oZSksc3VwZXIub25jZShlLHQpfXByZXBlbmRMaXN0ZW5lcihlLHQpe3JldHVybiB0aGlzLl93YXJuT2ZEZXByZWNhdGlvbihlKSxzdXBlci5wcmVwZW5kTGlzdGVuZXIoZSx0KX1wcmVwZW5kT25jZUxpc3RlbmVyKGUsdCl7cmV0dXJuIHRoaXMuX3dhcm5PZkRlcHJlY2F0aW9uKGUpLHN1cGVyLnByZXBlbmRPbmNlTGlzdGVuZXIoZSx0KX1faGFuZGxlRGlzY29ubmVjdChlLHQpe3N1cGVyLl9oYW5kbGVEaXNjb25uZWN0KGUsdCksZXModGhpcyxSYSkmJiFlJiZucyh0aGlzLFJhLG51bGwpfV93YXJuT2ZEZXByZWNhdGlvbihlKXshMT09PXRoaXMuX3NlbnRXYXJuaW5ncz8uZXZlbnRzW2VdJiYodGhpcy5fbG9nLndhcm4oRnIud2FybmluZ3MuZXZlbnRzW2VdKSx0aGlzLl9zZW50V2FybmluZ3MuZXZlbnRzW2VdPSEwKX1hc3luYyBlbmFibGUoKXtyZXR1cm4gdGhpcy5fc2VudFdhcm5pbmdzLmVuYWJsZXx8KHRoaXMuX2xvZy53YXJuKEZyLndhcm5pbmdzLmVuYWJsZURlcHJlY2F0aW9uKSx0aGlzLl9zZW50V2FybmluZ3MuZW5hYmxlPSEwKSxuZXcgUHJvbWlzZSgoKGUsdCk9Pnt0cnl7dGhpcy5fcnBjUmVxdWVzdCh7bWV0aG9kOlwiZXRoX3JlcXVlc3RBY2NvdW50c1wiLHBhcmFtczpbXX0sV28oZSx0KSl9Y2F0Y2goZSl7dChlKX19KSl9c2VuZChlLHQpe3JldHVybiB0aGlzLl9zZW50V2FybmluZ3Muc2VuZHx8KHRoaXMuX2xvZy53YXJuKEZyLndhcm5pbmdzLnNlbmREZXByZWNhdGlvbiksdGhpcy5fc2VudFdhcm5pbmdzLnNlbmQ9ITApLFwic3RyaW5nXCIhPXR5cGVvZiBlfHx0JiYhQXJyYXkuaXNBcnJheSh0KT9lJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdD90aGlzLl9ycGNSZXF1ZXN0KGUsdCk6dGhpcy5fc2VuZFN5bmMoZSk6bmV3IFByb21pc2UoKChuLHIpPT57dHJ5e3RoaXMuX3JwY1JlcXVlc3Qoe21ldGhvZDplLHBhcmFtczp0fSxXbyhuLHIsITEpKX1jYXRjaChlKXtyKGUpfX0pKX1fc2VuZFN5bmMoZSl7bGV0IHQ7c3dpdGNoKGUubWV0aG9kKXtjYXNlXCJldGhfYWNjb3VudHNcIjp0PXRoaXMuc2VsZWN0ZWRBZGRyZXNzP1t0aGlzLnNlbGVjdGVkQWRkcmVzc106W107YnJlYWs7Y2FzZVwiZXRoX2NvaW5iYXNlXCI6dD10aGlzLnNlbGVjdGVkQWRkcmVzcz8/bnVsbDticmVhaztjYXNlXCJldGhfdW5pbnN0YWxsRmlsdGVyXCI6dGhpcy5fcnBjUmVxdWVzdChlLEdvKSx0PSEwO2JyZWFrO2Nhc2VcIm5ldF92ZXJzaW9uXCI6dD1lcyh0aGlzLFJhKT8/bnVsbDticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihGci5lcnJvcnMudW5zdXBwb3J0ZWRTeW5jKGUubWV0aG9kKSl9cmV0dXJue2lkOmUuaWQsanNvbnJwYzplLmpzb25ycGMscmVzdWx0OnR9fV9nZXRFeHBlcmltZW50YWxBcGkoKXtyZXR1cm4gbmV3IFByb3h5KHtpc1VubG9ja2VkOmFzeW5jKCk9Pih0aGlzLl9zdGF0ZS5pbml0aWFsaXplZHx8YXdhaXQgbmV3IFByb21pc2UoKGU9Pnt0aGlzLm9uKFwiX2luaXRpYWxpemVkXCIsKCgpPT5lKCkpKX0pKSx0aGlzLl9zdGF0ZS5pc1VubG9ja2VkKSxyZXF1ZXN0QmF0Y2g6YXN5bmMgZT0+e2lmKCFBcnJheS5pc0FycmF5KGUpKXRocm93IG1vKHttZXNzYWdlOlwiQmF0Y2ggcmVxdWVzdHMgbXVzdCBiZSBtYWRlIHdpdGggYW4gYXJyYXkgb2YgcmVxdWVzdCBvYmplY3RzLlwiLGRhdGE6ZX0pO3JldHVybiBuZXcgUHJvbWlzZSgoKHQsbik9Pnt0aGlzLl9ycGNSZXF1ZXN0KGUsV28odCxuKSl9KSl9fSx7Z2V0OihlLHQsLi4ubik9Pih0aGlzLl9zZW50V2FybmluZ3MuZXhwZXJpbWVudGFsTWV0aG9kc3x8KHRoaXMuX2xvZy53YXJuKEZyLndhcm5pbmdzLmV4cGVyaW1lbnRhbE1ldGhvZHMpLHRoaXMuX3NlbnRXYXJuaW5ncy5leHBlcmltZW50YWxNZXRob2RzPSEwKSxSZWZsZWN0LmdldChlLHQsLi4ubikpfSl9X2hhbmRsZUNoYWluQ2hhbmdlZCh7Y2hhaW5JZDplLG5ldHdvcmtWZXJzaW9uOnR9PXt9KXtzdXBlci5faGFuZGxlQ2hhaW5DaGFuZ2VkKHtjaGFpbklkOmUsbmV0d29ya1ZlcnNpb246dH0pLHRoaXMuX3N0YXRlLmlzQ29ubmVjdGVkJiZ0IT09ZXModGhpcyxSYSkmJihucyh0aGlzLFJhLHQpLHRoaXMuX3N0YXRlLmluaXRpYWxpemVkJiZ0aGlzLmVtaXQoXCJuZXR3b3JrQ2hhbmdlZFwiLGVzKHRoaXMsUmEpKSl9fTtSYT1uZXcgV2Vha01hcDtjb25zdCBEYT10KFwiTU1fU0RLXCIpO2xldCBMYTtEYS5jb2xvcj1cIiNGRkFDMUNcIjt2YXIgQmE9e30sS2E9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KEthLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLEthLkV0aGVyZXVtUHJvdmlkZXJFcnJvcj1LYS5FdGhlcmV1bVJwY0Vycm9yPXZvaWQgMDtjb25zdCBqYT1RaTtjbGFzcyAkYSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGUsdCxuKXtpZighTnVtYmVyLmlzSW50ZWdlcihlKSl0aHJvdyBuZXcgRXJyb3IoJ1wiY29kZVwiIG11c3QgYmUgYW4gaW50ZWdlci4nKTtpZighdHx8XCJzdHJpbmdcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IEVycm9yKCdcIm1lc3NhZ2VcIiBtdXN0IGJlIGEgbm9uZW1wdHkgc3RyaW5nLicpO3N1cGVyKHQpLHRoaXMuY29kZT1lLHZvaWQgMCE9PW4mJih0aGlzLmRhdGE9bil9c2VyaWFsaXplKCl7Y29uc3QgZT17Y29kZTp0aGlzLmNvZGUsbWVzc2FnZTp0aGlzLm1lc3NhZ2V9O3JldHVybiB2b2lkIDAhPT10aGlzLmRhdGEmJihlLmRhdGE9dGhpcy5kYXRhKSx0aGlzLnN0YWNrJiYoZS5zdGFjaz10aGlzLnN0YWNrKSxlfXRvU3RyaW5nKCl7cmV0dXJuIGphLmRlZmF1bHQodGhpcy5zZXJpYWxpemUoKSxIYSwyKX19S2EuRXRoZXJldW1ScGNFcnJvcj0kYTtmdW5jdGlvbiBIYShlLHQpe2lmKFwiW0NpcmN1bGFyXVwiIT09dClyZXR1cm4gdH1LYS5FdGhlcmV1bVByb3ZpZGVyRXJyb3I9Y2xhc3MgZXh0ZW5kcyAkYXtjb25zdHJ1Y3RvcihlLHQsbil7aWYoIWZ1bmN0aW9uKGUpe3JldHVybiBOdW1iZXIuaXNJbnRlZ2VyKGUpJiZlPj0xZTMmJmU8PTQ5OTl9KGUpKXRocm93IG5ldyBFcnJvcignXCJjb2RlXCIgbXVzdCBiZSBhbiBpbnRlZ2VyIHN1Y2ggdGhhdDogMTAwMCA8PSBjb2RlIDw9IDQ5OTknKTtzdXBlcihlLHQsbil9fTt2YXIgVWE9e30sRmE9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KEZhLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLEZhLmVycm9yVmFsdWVzPUZhLmVycm9yQ29kZXM9dm9pZCAwLEZhLmVycm9yQ29kZXM9e3JwYzp7aW52YWxpZElucHV0Oi0zMmUzLHJlc291cmNlTm90Rm91bmQ6LTMyMDAxLHJlc291cmNlVW5hdmFpbGFibGU6LTMyMDAyLHRyYW5zYWN0aW9uUmVqZWN0ZWQ6LTMyMDAzLG1ldGhvZE5vdFN1cHBvcnRlZDotMzIwMDQsbGltaXRFeGNlZWRlZDotMzIwMDUscGFyc2U6LTMyNzAwLGludmFsaWRSZXF1ZXN0Oi0zMjYwMCxtZXRob2ROb3RGb3VuZDotMzI2MDEsaW52YWxpZFBhcmFtczotMzI2MDIsaW50ZXJuYWw6LTMyNjAzfSxwcm92aWRlcjp7dXNlclJlamVjdGVkUmVxdWVzdDo0MDAxLHVuYXV0aG9yaXplZDo0MTAwLHVuc3VwcG9ydGVkTWV0aG9kOjQyMDAsZGlzY29ubmVjdGVkOjQ5MDAsY2hhaW5EaXNjb25uZWN0ZWQ6NDkwMX19LEZhLmVycm9yVmFsdWVzPXtcIi0zMjcwMFwiOntzdGFuZGFyZDpcIkpTT04gUlBDIDIuMFwiLG1lc3NhZ2U6XCJJbnZhbGlkIEpTT04gd2FzIHJlY2VpdmVkIGJ5IHRoZSBzZXJ2ZXIuIEFuIGVycm9yIG9jY3VycmVkIG9uIHRoZSBzZXJ2ZXIgd2hpbGUgcGFyc2luZyB0aGUgSlNPTiB0ZXh0LlwifSxcIi0zMjYwMFwiOntzdGFuZGFyZDpcIkpTT04gUlBDIDIuMFwiLG1lc3NhZ2U6XCJUaGUgSlNPTiBzZW50IGlzIG5vdCBhIHZhbGlkIFJlcXVlc3Qgb2JqZWN0LlwifSxcIi0zMjYwMVwiOntzdGFuZGFyZDpcIkpTT04gUlBDIDIuMFwiLG1lc3NhZ2U6XCJUaGUgbWV0aG9kIGRvZXMgbm90IGV4aXN0IC8gaXMgbm90IGF2YWlsYWJsZS5cIn0sXCItMzI2MDJcIjp7c3RhbmRhcmQ6XCJKU09OIFJQQyAyLjBcIixtZXNzYWdlOlwiSW52YWxpZCBtZXRob2QgcGFyYW1ldGVyKHMpLlwifSxcIi0zMjYwM1wiOntzdGFuZGFyZDpcIkpTT04gUlBDIDIuMFwiLG1lc3NhZ2U6XCJJbnRlcm5hbCBKU09OLVJQQyBlcnJvci5cIn0sXCItMzIwMDBcIjp7c3RhbmRhcmQ6XCJFSVAtMTQ3NFwiLG1lc3NhZ2U6XCJJbnZhbGlkIGlucHV0LlwifSxcIi0zMjAwMVwiOntzdGFuZGFyZDpcIkVJUC0xNDc0XCIsbWVzc2FnZTpcIlJlc291cmNlIG5vdCBmb3VuZC5cIn0sXCItMzIwMDJcIjp7c3RhbmRhcmQ6XCJFSVAtMTQ3NFwiLG1lc3NhZ2U6XCJSZXNvdXJjZSB1bmF2YWlsYWJsZS5cIn0sXCItMzIwMDNcIjp7c3RhbmRhcmQ6XCJFSVAtMTQ3NFwiLG1lc3NhZ2U6XCJUcmFuc2FjdGlvbiByZWplY3RlZC5cIn0sXCItMzIwMDRcIjp7c3RhbmRhcmQ6XCJFSVAtMTQ3NFwiLG1lc3NhZ2U6XCJNZXRob2Qgbm90IHN1cHBvcnRlZC5cIn0sXCItMzIwMDVcIjp7c3RhbmRhcmQ6XCJFSVAtMTQ3NFwiLG1lc3NhZ2U6XCJSZXF1ZXN0IGxpbWl0IGV4Y2VlZGVkLlwifSw0MDAxOntzdGFuZGFyZDpcIkVJUC0xMTkzXCIsbWVzc2FnZTpcIlVzZXIgcmVqZWN0ZWQgdGhlIHJlcXVlc3QuXCJ9LDQxMDA6e3N0YW5kYXJkOlwiRUlQLTExOTNcIixtZXNzYWdlOlwiVGhlIHJlcXVlc3RlZCBhY2NvdW50IGFuZC9vciBtZXRob2QgaGFzIG5vdCBiZWVuIGF1dGhvcml6ZWQgYnkgdGhlIHVzZXIuXCJ9LDQyMDA6e3N0YW5kYXJkOlwiRUlQLTExOTNcIixtZXNzYWdlOlwiVGhlIHJlcXVlc3RlZCBtZXRob2QgaXMgbm90IHN1cHBvcnRlZCBieSB0aGlzIEV0aGVyZXVtIHByb3ZpZGVyLlwifSw0OTAwOntzdGFuZGFyZDpcIkVJUC0xMTkzXCIsbWVzc2FnZTpcIlRoZSBwcm92aWRlciBpcyBkaXNjb25uZWN0ZWQgZnJvbSBhbGwgY2hhaW5zLlwifSw0OTAxOntzdGFuZGFyZDpcIkVJUC0xMTkzXCIsbWVzc2FnZTpcIlRoZSBwcm92aWRlciBpcyBkaXNjb25uZWN0ZWQgZnJvbSB0aGUgc3BlY2lmaWVkIGNoYWluLlwifX0sZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5zZXJpYWxpemVFcnJvcj1lLmlzVmFsaWRDb2RlPWUuZ2V0TWVzc2FnZUZyb21Db2RlPWUuSlNPTl9SUENfU0VSVkVSX0VSUk9SX01FU1NBR0U9dm9pZCAwO2NvbnN0IHQ9RmEsbj1LYSxyPXQuZXJyb3JDb2Rlcy5ycGMuaW50ZXJuYWwsaT1cIlVuc3BlY2lmaWVkIGVycm9yIG1lc3NhZ2UuIFRoaXMgaXMgYSBidWcsIHBsZWFzZSByZXBvcnQgaXQuXCIsbz17Y29kZTpyLG1lc3NhZ2U6cyhyKX07ZnVuY3Rpb24gcyhuLHI9aSl7aWYoTnVtYmVyLmlzSW50ZWdlcihuKSl7Y29uc3Qgcj1uLnRvU3RyaW5nKCk7aWYobCh0LmVycm9yVmFsdWVzLHIpKXJldHVybiB0LmVycm9yVmFsdWVzW3JdLm1lc3NhZ2U7aWYoYyhuKSlyZXR1cm4gZS5KU09OX1JQQ19TRVJWRVJfRVJST1JfTUVTU0FHRX1yZXR1cm4gcn1mdW5jdGlvbiBhKGUpe2lmKCFOdW1iZXIuaXNJbnRlZ2VyKGUpKXJldHVybiExO2NvbnN0IG49ZS50b1N0cmluZygpO3JldHVybiEhdC5lcnJvclZhbHVlc1tuXXx8ISFjKGUpfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGU+PS0zMjA5OSYmZTw9LTMyZTN9ZnVuY3Rpb24gZChlKXtyZXR1cm4gZSYmXCJvYmplY3RcIj09dHlwZW9mIGUmJiFBcnJheS5pc0FycmF5KGUpP09iamVjdC5hc3NpZ24oe30sZSk6ZX1mdW5jdGlvbiBsKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfWUuSlNPTl9SUENfU0VSVkVSX0VSUk9SX01FU1NBR0U9XCJVbnNwZWNpZmllZCBzZXJ2ZXIgZXJyb3IuXCIsZS5nZXRNZXNzYWdlRnJvbUNvZGU9cyxlLmlzVmFsaWRDb2RlPWEsZS5zZXJpYWxpemVFcnJvcj1mdW5jdGlvbihlLHtmYWxsYmFja0Vycm9yOnQ9byxzaG91bGRJbmNsdWRlU3RhY2s6cj0hMX09e30pe3ZhciBpLGM7aWYoIXR8fCFOdW1iZXIuaXNJbnRlZ2VyKHQuY29kZSl8fFwic3RyaW5nXCIhPXR5cGVvZiB0Lm1lc3NhZ2UpdGhyb3cgbmV3IEVycm9yKFwiTXVzdCBwcm92aWRlIGZhbGxiYWNrIGVycm9yIHdpdGggaW50ZWdlciBudW1iZXIgY29kZSBhbmQgc3RyaW5nIG1lc3NhZ2UuXCIpO2lmKGUgaW5zdGFuY2VvZiBuLkV0aGVyZXVtUnBjRXJyb3IpcmV0dXJuIGUuc2VyaWFsaXplKCk7Y29uc3QgdT17fTtpZihlJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmIUFycmF5LmlzQXJyYXkoZSkmJmwoZSxcImNvZGVcIikmJmEoZS5jb2RlKSl7Y29uc3QgdD1lO3UuY29kZT10LmNvZGUsdC5tZXNzYWdlJiZcInN0cmluZ1wiPT10eXBlb2YgdC5tZXNzYWdlPyh1Lm1lc3NhZ2U9dC5tZXNzYWdlLGwodCxcImRhdGFcIikmJih1LmRhdGE9dC5kYXRhKSk6KHUubWVzc2FnZT1zKHUuY29kZSksdS5kYXRhPXtvcmlnaW5hbEVycm9yOmQoZSl9KX1lbHNle3UuY29kZT10LmNvZGU7Y29uc3Qgbj1udWxsPT09KGk9ZSl8fHZvaWQgMD09PWk/dm9pZCAwOmkubWVzc2FnZTt1Lm1lc3NhZ2U9biYmXCJzdHJpbmdcIj09dHlwZW9mIG4/bjp0Lm1lc3NhZ2UsdS5kYXRhPXtvcmlnaW5hbEVycm9yOmQoZSl9fWNvbnN0IGg9bnVsbD09PShjPWUpfHx2b2lkIDA9PT1jP3ZvaWQgMDpjLnN0YWNrO3JldHVybiByJiZlJiZoJiZcInN0cmluZ1wiPT10eXBlb2YgaCYmKHUuc3RhY2s9aCksdX19KFVhKTt2YXIgcWE9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KHFhLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHFhLmV0aEVycm9ycz12b2lkIDA7Y29uc3QgemE9S2EsV2E9VWEsVmE9RmE7ZnVuY3Rpb24gR2EoZSx0KXtjb25zdFtuLHJdPVphKHQpO3JldHVybiBuZXcgemEuRXRoZXJldW1ScGNFcnJvcihlLG58fFdhLmdldE1lc3NhZ2VGcm9tQ29kZShlKSxyKX1mdW5jdGlvbiBZYShlLHQpe2NvbnN0W24scl09WmEodCk7cmV0dXJuIG5ldyB6YS5FdGhlcmV1bVByb3ZpZGVyRXJyb3IoZSxufHxXYS5nZXRNZXNzYWdlRnJvbUNvZGUoZSkscil9ZnVuY3Rpb24gWmEoZSl7aWYoZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuW2VdO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBlJiYhQXJyYXkuaXNBcnJheShlKSl7Y29uc3R7bWVzc2FnZTp0LGRhdGE6bn09ZTtpZih0JiZcInN0cmluZ1wiIT10eXBlb2YgdCl0aHJvdyBuZXcgRXJyb3IoXCJNdXN0IHNwZWNpZnkgc3RyaW5nIG1lc3NhZ2UuXCIpO3JldHVyblt0fHx2b2lkIDAsbl19fXJldHVybltdfXFhLmV0aEVycm9ycz17cnBjOntwYXJzZTplPT5HYShWYS5lcnJvckNvZGVzLnJwYy5wYXJzZSxlKSxpbnZhbGlkUmVxdWVzdDplPT5HYShWYS5lcnJvckNvZGVzLnJwYy5pbnZhbGlkUmVxdWVzdCxlKSxpbnZhbGlkUGFyYW1zOmU9PkdhKFZhLmVycm9yQ29kZXMucnBjLmludmFsaWRQYXJhbXMsZSksbWV0aG9kTm90Rm91bmQ6ZT0+R2EoVmEuZXJyb3JDb2Rlcy5ycGMubWV0aG9kTm90Rm91bmQsZSksaW50ZXJuYWw6ZT0+R2EoVmEuZXJyb3JDb2Rlcy5ycGMuaW50ZXJuYWwsZSksc2VydmVyOmU9PntpZighZXx8XCJvYmplY3RcIiE9dHlwZW9mIGV8fEFycmF5LmlzQXJyYXkoZSkpdGhyb3cgbmV3IEVycm9yKFwiRXRoZXJldW0gUlBDIFNlcnZlciBlcnJvcnMgbXVzdCBwcm92aWRlIHNpbmdsZSBvYmplY3QgYXJndW1lbnQuXCIpO2NvbnN0e2NvZGU6dH09ZTtpZighTnVtYmVyLmlzSW50ZWdlcih0KXx8dD4tMzIwMDV8fHQ8LTMyMDk5KXRocm93IG5ldyBFcnJvcignXCJjb2RlXCIgbXVzdCBiZSBhbiBpbnRlZ2VyIHN1Y2ggdGhhdDogLTMyMDk5IDw9IGNvZGUgPD0gLTMyMDA1Jyk7cmV0dXJuIEdhKHQsZSl9LGludmFsaWRJbnB1dDplPT5HYShWYS5lcnJvckNvZGVzLnJwYy5pbnZhbGlkSW5wdXQsZSkscmVzb3VyY2VOb3RGb3VuZDplPT5HYShWYS5lcnJvckNvZGVzLnJwYy5yZXNvdXJjZU5vdEZvdW5kLGUpLHJlc291cmNlVW5hdmFpbGFibGU6ZT0+R2EoVmEuZXJyb3JDb2Rlcy5ycGMucmVzb3VyY2VVbmF2YWlsYWJsZSxlKSx0cmFuc2FjdGlvblJlamVjdGVkOmU9PkdhKFZhLmVycm9yQ29kZXMucnBjLnRyYW5zYWN0aW9uUmVqZWN0ZWQsZSksbWV0aG9kTm90U3VwcG9ydGVkOmU9PkdhKFZhLmVycm9yQ29kZXMucnBjLm1ldGhvZE5vdFN1cHBvcnRlZCxlKSxsaW1pdEV4Y2VlZGVkOmU9PkdhKFZhLmVycm9yQ29kZXMucnBjLmxpbWl0RXhjZWVkZWQsZSl9LHByb3ZpZGVyOnt1c2VyUmVqZWN0ZWRSZXF1ZXN0OmU9PllhKFZhLmVycm9yQ29kZXMucHJvdmlkZXIudXNlclJlamVjdGVkUmVxdWVzdCxlKSx1bmF1dGhvcml6ZWQ6ZT0+WWEoVmEuZXJyb3JDb2Rlcy5wcm92aWRlci51bmF1dGhvcml6ZWQsZSksdW5zdXBwb3J0ZWRNZXRob2Q6ZT0+WWEoVmEuZXJyb3JDb2Rlcy5wcm92aWRlci51bnN1cHBvcnRlZE1ldGhvZCxlKSxkaXNjb25uZWN0ZWQ6ZT0+WWEoVmEuZXJyb3JDb2Rlcy5wcm92aWRlci5kaXNjb25uZWN0ZWQsZSksY2hhaW5EaXNjb25uZWN0ZWQ6ZT0+WWEoVmEuZXJyb3JDb2Rlcy5wcm92aWRlci5jaGFpbkRpc2Nvbm5lY3RlZCxlKSxjdXN0b206ZT0+e2lmKCFlfHxcIm9iamVjdFwiIT10eXBlb2YgZXx8QXJyYXkuaXNBcnJheShlKSl0aHJvdyBuZXcgRXJyb3IoXCJFdGhlcmV1bSBQcm92aWRlciBjdXN0b20gZXJyb3JzIG11c3QgcHJvdmlkZSBzaW5nbGUgb2JqZWN0IGFyZ3VtZW50LlwiKTtjb25zdHtjb2RlOnQsbWVzc2FnZTpuLGRhdGE6cn09ZTtpZighbnx8XCJzdHJpbmdcIiE9dHlwZW9mIG4pdGhyb3cgbmV3IEVycm9yKCdcIm1lc3NhZ2VcIiBtdXN0IGJlIGEgbm9uZW1wdHkgc3RyaW5nJyk7cmV0dXJuIG5ldyB6YS5FdGhlcmV1bVByb3ZpZGVyRXJyb3IodCxuLHIpfX19LGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuZ2V0TWVzc2FnZUZyb21Db2RlPWUuc2VyaWFsaXplRXJyb3I9ZS5FdGhlcmV1bVByb3ZpZGVyRXJyb3I9ZS5FdGhlcmV1bVJwY0Vycm9yPWUuZXRoRXJyb3JzPWUuZXJyb3JDb2Rlcz12b2lkIDA7Y29uc3QgdD1LYTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIkV0aGVyZXVtUnBjRXJyb3JcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5FdGhlcmV1bVJwY0Vycm9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiRXRoZXJldW1Qcm92aWRlckVycm9yXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuRXRoZXJldW1Qcm92aWRlckVycm9yfX0pO2NvbnN0IG49VWE7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJzZXJpYWxpemVFcnJvclwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuLnNlcmlhbGl6ZUVycm9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiZ2V0TWVzc2FnZUZyb21Db2RlXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4uZ2V0TWVzc2FnZUZyb21Db2RlfX0pO2NvbnN0IHI9cWE7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJldGhFcnJvcnNcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gci5ldGhFcnJvcnN9fSk7Y29uc3QgaT1GYTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcImVycm9yQ29kZXNcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5lcnJvckNvZGVzfX0pfShCYSk7Y29uc3QgSmE9e1wiQW1hem9uIFNpbGtcIjpcImFtYXpvbl9zaWxrXCIsXCJBbmRyb2lkIEJyb3dzZXJcIjpcImFuZHJvaWRcIixCYWRhOlwiYmFkYVwiLEJsYWNrQmVycnk6XCJibGFja2JlcnJ5XCIsQ2hyb21lOlwiY2hyb21lXCIsQ2hyb21pdW06XCJjaHJvbWl1bVwiLEVsZWN0cm9uOlwiZWxlY3Ryb25cIixFcGlwaGFueTpcImVwaXBoYW55XCIsRmlyZWZveDpcImZpcmVmb3hcIixGb2N1czpcImZvY3VzXCIsR2VuZXJpYzpcImdlbmVyaWNcIixcIkdvb2dsZSBTZWFyY2hcIjpcImdvb2dsZV9zZWFyY2hcIixHb29nbGVib3Q6XCJnb29nbGVib3RcIixcIkludGVybmV0IEV4cGxvcmVyXCI6XCJpZVwiLFwiSy1NZWxlb25cIjpcImtfbWVsZW9uXCIsTWF4dGhvbjpcIm1heHRob25cIixcIk1pY3Jvc29mdCBFZGdlXCI6XCJlZGdlXCIsXCJNWiBCcm93c2VyXCI6XCJtelwiLFwiTkFWRVIgV2hhbGUgQnJvd3NlclwiOlwibmF2ZXJcIixPcGVyYTpcIm9wZXJhXCIsXCJPcGVyYSBDb2FzdFwiOlwib3BlcmFfY29hc3RcIixQaGFudG9tSlM6XCJwaGFudG9tanNcIixQdWZmaW46XCJwdWZmaW5cIixRdXBaaWxsYTpcInF1cHppbGxhXCIsUVE6XCJxcVwiLFFRTGl0ZTpcInFxbGl0ZVwiLFNhZmFyaTpcInNhZmFyaVwiLFNhaWxmaXNoOlwic2FpbGZpc2hcIixcIlNhbXN1bmcgSW50ZXJuZXQgZm9yIEFuZHJvaWRcIjpcInNhbXN1bmdfaW50ZXJuZXRcIixTZWFNb25rZXk6XCJzZWFtb25rZXlcIixTbGVpcG5pcjpcInNsZWlwbmlyXCIsU3dpbmc6XCJzd2luZ1wiLFRpemVuOlwidGl6ZW5cIixcIlVDIEJyb3dzZXJcIjpcInVjXCIsVml2YWxkaTpcInZpdmFsZGlcIixcIldlYk9TIEJyb3dzZXJcIjpcIndlYm9zXCIsV2VDaGF0Olwid2VjaGF0XCIsXCJZYW5kZXggQnJvd3NlclwiOlwieWFuZGV4XCIsUm9rdTpcInJva3VcIn0sUWE9e2FtYXpvbl9zaWxrOlwiQW1hem9uIFNpbGtcIixhbmRyb2lkOlwiQW5kcm9pZCBCcm93c2VyXCIsYmFkYTpcIkJhZGFcIixibGFja2JlcnJ5OlwiQmxhY2tCZXJyeVwiLGNocm9tZTpcIkNocm9tZVwiLGNocm9taXVtOlwiQ2hyb21pdW1cIixlbGVjdHJvbjpcIkVsZWN0cm9uXCIsZXBpcGhhbnk6XCJFcGlwaGFueVwiLGZpcmVmb3g6XCJGaXJlZm94XCIsZm9jdXM6XCJGb2N1c1wiLGdlbmVyaWM6XCJHZW5lcmljXCIsZ29vZ2xlYm90OlwiR29vZ2xlYm90XCIsZ29vZ2xlX3NlYXJjaDpcIkdvb2dsZSBTZWFyY2hcIixpZTpcIkludGVybmV0IEV4cGxvcmVyXCIsa19tZWxlb246XCJLLU1lbGVvblwiLG1heHRob246XCJNYXh0aG9uXCIsZWRnZTpcIk1pY3Jvc29mdCBFZGdlXCIsbXo6XCJNWiBCcm93c2VyXCIsbmF2ZXI6XCJOQVZFUiBXaGFsZSBCcm93c2VyXCIsb3BlcmE6XCJPcGVyYVwiLG9wZXJhX2NvYXN0OlwiT3BlcmEgQ29hc3RcIixwaGFudG9tanM6XCJQaGFudG9tSlNcIixwdWZmaW46XCJQdWZmaW5cIixxdXB6aWxsYTpcIlF1cFppbGxhXCIscXE6XCJRUSBCcm93c2VyXCIscXFsaXRlOlwiUVEgQnJvd3NlciBMaXRlXCIsc2FmYXJpOlwiU2FmYXJpXCIsc2FpbGZpc2g6XCJTYWlsZmlzaFwiLHNhbXN1bmdfaW50ZXJuZXQ6XCJTYW1zdW5nIEludGVybmV0IGZvciBBbmRyb2lkXCIsc2VhbW9ua2V5OlwiU2VhTW9ua2V5XCIsc2xlaXBuaXI6XCJTbGVpcG5pclwiLHN3aW5nOlwiU3dpbmdcIix0aXplbjpcIlRpemVuXCIsdWM6XCJVQyBCcm93c2VyXCIsdml2YWxkaTpcIlZpdmFsZGlcIix3ZWJvczpcIldlYk9TIEJyb3dzZXJcIix3ZWNoYXQ6XCJXZUNoYXRcIix5YW5kZXg6XCJZYW5kZXggQnJvd3NlclwifSxYYT17dGFibGV0OlwidGFibGV0XCIsbW9iaWxlOlwibW9iaWxlXCIsZGVza3RvcDpcImRlc2t0b3BcIix0djpcInR2XCJ9LGVjPXtXaW5kb3dzUGhvbmU6XCJXaW5kb3dzIFBob25lXCIsV2luZG93czpcIldpbmRvd3NcIixNYWNPUzpcIm1hY09TXCIsaU9TOlwiaU9TXCIsQW5kcm9pZDpcIkFuZHJvaWRcIixXZWJPUzpcIldlYk9TXCIsQmxhY2tCZXJyeTpcIkJsYWNrQmVycnlcIixCYWRhOlwiQmFkYVwiLFRpemVuOlwiVGl6ZW5cIixMaW51eDpcIkxpbnV4XCIsQ2hyb21lT1M6XCJDaHJvbWUgT1NcIixQbGF5U3RhdGlvbjQ6XCJQbGF5U3RhdGlvbiA0XCIsUm9rdTpcIlJva3VcIn0sdGM9e0VkZ2VIVE1MOlwiRWRnZUhUTUxcIixCbGluazpcIkJsaW5rXCIsVHJpZGVudDpcIlRyaWRlbnRcIixQcmVzdG86XCJQcmVzdG9cIixHZWNrbzpcIkdlY2tvXCIsV2ViS2l0OlwiV2ViS2l0XCJ9O2NsYXNzIG5je3N0YXRpYyBnZXRGaXJzdE1hdGNoKGUsdCl7Y29uc3Qgbj10Lm1hdGNoKGUpO3JldHVybiBuJiZuLmxlbmd0aD4wJiZuWzFdfHxcIlwifXN0YXRpYyBnZXRTZWNvbmRNYXRjaChlLHQpe2NvbnN0IG49dC5tYXRjaChlKTtyZXR1cm4gbiYmbi5sZW5ndGg+MSYmblsyXXx8XCJcIn1zdGF0aWMgbWF0Y2hBbmRSZXR1cm5Db25zdChlLHQsbil7aWYoZS50ZXN0KHQpKXJldHVybiBufXN0YXRpYyBnZXRXaW5kb3dzVmVyc2lvbk5hbWUoZSl7c3dpdGNoKGUpe2Nhc2VcIk5UXCI6cmV0dXJuXCJOVFwiO2Nhc2VcIlhQXCI6Y2FzZVwiTlQgNS4xXCI6cmV0dXJuXCJYUFwiO2Nhc2VcIk5UIDUuMFwiOnJldHVyblwiMjAwMFwiO2Nhc2VcIk5UIDUuMlwiOnJldHVyblwiMjAwM1wiO2Nhc2VcIk5UIDYuMFwiOnJldHVyblwiVmlzdGFcIjtjYXNlXCJOVCA2LjFcIjpyZXR1cm5cIjdcIjtjYXNlXCJOVCA2LjJcIjpyZXR1cm5cIjhcIjtjYXNlXCJOVCA2LjNcIjpyZXR1cm5cIjguMVwiO2Nhc2VcIk5UIDEwLjBcIjpyZXR1cm5cIjEwXCI7ZGVmYXVsdDpyZXR1cm59fXN0YXRpYyBnZXRNYWNPU1ZlcnNpb25OYW1lKGUpe2NvbnN0IHQ9ZS5zcGxpdChcIi5cIikuc3BsaWNlKDAsMikubWFwKChlPT5wYXJzZUludChlLDEwKXx8MCkpO2lmKHQucHVzaCgwKSwxMD09PXRbMF0pc3dpdGNoKHRbMV0pe2Nhc2UgNTpyZXR1cm5cIkxlb3BhcmRcIjtjYXNlIDY6cmV0dXJuXCJTbm93IExlb3BhcmRcIjtjYXNlIDc6cmV0dXJuXCJMaW9uXCI7Y2FzZSA4OnJldHVyblwiTW91bnRhaW4gTGlvblwiO2Nhc2UgOTpyZXR1cm5cIk1hdmVyaWNrc1wiO2Nhc2UgMTA6cmV0dXJuXCJZb3NlbWl0ZVwiO2Nhc2UgMTE6cmV0dXJuXCJFbCBDYXBpdGFuXCI7Y2FzZSAxMjpyZXR1cm5cIlNpZXJyYVwiO2Nhc2UgMTM6cmV0dXJuXCJIaWdoIFNpZXJyYVwiO2Nhc2UgMTQ6cmV0dXJuXCJNb2phdmVcIjtjYXNlIDE1OnJldHVyblwiQ2F0YWxpbmFcIjtkZWZhdWx0OnJldHVybn19c3RhdGljIGdldEFuZHJvaWRWZXJzaW9uTmFtZShlKXtjb25zdCB0PWUuc3BsaXQoXCIuXCIpLnNwbGljZSgwLDIpLm1hcCgoZT0+cGFyc2VJbnQoZSwxMCl8fDApKTtpZih0LnB1c2goMCksISgxPT09dFswXSYmdFsxXTw1KSlyZXR1cm4gMT09PXRbMF0mJnRbMV08Nj9cIkN1cGNha2VcIjoxPT09dFswXSYmdFsxXT49Nj9cIkRvbnV0XCI6Mj09PXRbMF0mJnRbMV08Mj9cIkVjbGFpclwiOjI9PT10WzBdJiYyPT09dFsxXT9cIkZyb3lvXCI6Mj09PXRbMF0mJnRbMV0+Mj9cIkdpbmdlcmJyZWFkXCI6Mz09PXRbMF0/XCJIb25leWNvbWJcIjo0PT09dFswXSYmdFsxXTwxP1wiSWNlIENyZWFtIFNhbmR3aWNoXCI6ND09PXRbMF0mJnRbMV08ND9cIkplbGx5IEJlYW5cIjo0PT09dFswXSYmdFsxXT49ND9cIktpdEthdFwiOjU9PT10WzBdP1wiTG9sbGlwb3BcIjo2PT09dFswXT9cIk1hcnNobWFsbG93XCI6Nz09PXRbMF0/XCJOb3VnYXRcIjo4PT09dFswXT9cIk9yZW9cIjo5PT09dFswXT9cIlBpZVwiOnZvaWQgMH1zdGF0aWMgZ2V0VmVyc2lvblByZWNpc2lvbihlKXtyZXR1cm4gZS5zcGxpdChcIi5cIikubGVuZ3RofXN0YXRpYyBjb21wYXJlVmVyc2lvbnMoZSx0LG49ITEpe2NvbnN0IHI9bmMuZ2V0VmVyc2lvblByZWNpc2lvbihlKSxpPW5jLmdldFZlcnNpb25QcmVjaXNpb24odCk7bGV0IG89TWF0aC5tYXgocixpKSxzPTA7Y29uc3QgYT1uYy5tYXAoW2UsdF0sKGU9Pntjb25zdCB0PW8tbmMuZ2V0VmVyc2lvblByZWNpc2lvbihlKSxuPWUrbmV3IEFycmF5KHQrMSkuam9pbihcIi4wXCIpO3JldHVybiBuYy5tYXAobi5zcGxpdChcIi5cIiksKGU9Pm5ldyBBcnJheSgyMC1lLmxlbmd0aCkuam9pbihcIjBcIikrZSkpLnJldmVyc2UoKX0pKTtmb3IobiYmKHM9by1NYXRoLm1pbihyLGkpKSxvLT0xO28+PXM7KXtpZihhWzBdW29dPmFbMV1bb10pcmV0dXJuIDE7aWYoYVswXVtvXT09PWFbMV1bb10pe2lmKG89PT1zKXJldHVybiAwO28tPTF9ZWxzZSBpZihhWzBdW29dPGFbMV1bb10pcmV0dXJuLTF9fXN0YXRpYyBtYXAoZSx0KXtjb25zdCBuPVtdO2xldCByO2lmKEFycmF5LnByb3RvdHlwZS5tYXApcmV0dXJuIEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChlLHQpO2ZvcihyPTA7cjxlLmxlbmd0aDtyKz0xKW4ucHVzaCh0KGVbcl0pKTtyZXR1cm4gbn1zdGF0aWMgZmluZChlLHQpe2xldCBuLHI7aWYoQXJyYXkucHJvdG90eXBlLmZpbmQpcmV0dXJuIEFycmF5LnByb3RvdHlwZS5maW5kLmNhbGwoZSx0KTtmb3Iobj0wLHI9ZS5sZW5ndGg7bjxyO24rPTEpe2NvbnN0IHI9ZVtuXTtpZih0KHIsbikpcmV0dXJuIHJ9fXN0YXRpYyBhc3NpZ24oZSwuLi50KXtjb25zdCBuPWU7bGV0IHIsaTtpZihPYmplY3QuYXNzaWduKXJldHVybiBPYmplY3QuYXNzaWduKGUsLi4udCk7Zm9yKHI9MCxpPXQubGVuZ3RoO3I8aTtyKz0xKXtjb25zdCBlPXRbcl07aWYoXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lKXtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKCh0PT57blt0XT1lW3RdfSkpfX1yZXR1cm4gZX1zdGF0aWMgZ2V0QnJvd3NlckFsaWFzKGUpe3JldHVybiBKYVtlXX1zdGF0aWMgZ2V0QnJvd3NlclR5cGVCeUFsaWFzKGUpe3JldHVybiBRYVtlXXx8XCJcIn19Y29uc3QgcmM9L3ZlcnNpb25cXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksaWM9W3t0ZXN0OlsvZ29vZ2xlYm90L2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJHb29nbGVib3RcIn0sbj1uYy5nZXRGaXJzdE1hdGNoKC9nb29nbGVib3RcXC8oXFxkKyhcXC5cXGQrKSkvaSxlKXx8bmMuZ2V0Rmlyc3RNYXRjaChyYyxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9vcGVyYS9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiT3BlcmFcIn0sbj1uYy5nZXRGaXJzdE1hdGNoKHJjLGUpfHxuYy5nZXRGaXJzdE1hdGNoKC8oPzpvcGVyYSlbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0Olsvb3ByXFwvfG9waW9zL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJPcGVyYVwifSxuPW5jLmdldEZpcnN0TWF0Y2goLyg/Om9wcnxvcGlvcylbXFxzL10oXFxTKykvaSxlKXx8bmMuZ2V0Rmlyc3RNYXRjaChyYyxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9TYW1zdW5nQnJvd3Nlci9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiU2Ftc3VuZyBJbnRlcm5ldCBmb3IgQW5kcm9pZFwifSxuPW5jLmdldEZpcnN0TWF0Y2gocmMsZSl8fG5jLmdldEZpcnN0TWF0Y2goLyg/OlNhbXN1bmdCcm93c2VyKVtcXHMvXShcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9XaGFsZS9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiTkFWRVIgV2hhbGUgQnJvd3NlclwifSxuPW5jLmdldEZpcnN0TWF0Y2gocmMsZSl8fG5jLmdldEZpcnN0TWF0Y2goLyg/OndoYWxlKVtcXHMvXShcXGQrKD86XFwuXFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL01aQnJvd3Nlci9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiTVogQnJvd3NlclwifSxuPW5jLmdldEZpcnN0TWF0Y2goLyg/Ok1aQnJvd3NlcilbXFxzL10oXFxkKyg/OlxcLlxcZCspKykvaSxlKXx8bmMuZ2V0Rmlyc3RNYXRjaChyYyxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9mb2N1cy9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiRm9jdXNcIn0sbj1uYy5nZXRGaXJzdE1hdGNoKC8oPzpmb2N1cylbXFxzL10oXFxkKyg/OlxcLlxcZCspKykvaSxlKXx8bmMuZ2V0Rmlyc3RNYXRjaChyYyxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9zd2luZy9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiU3dpbmdcIn0sbj1uYy5nZXRGaXJzdE1hdGNoKC8oPzpzd2luZylbXFxzL10oXFxkKyg/OlxcLlxcZCspKykvaSxlKXx8bmMuZ2V0Rmlyc3RNYXRjaChyYyxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9jb2FzdC9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiT3BlcmEgQ29hc3RcIn0sbj1uYy5nZXRGaXJzdE1hdGNoKHJjLGUpfHxuYy5nZXRGaXJzdE1hdGNoKC8oPzpjb2FzdClbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0Olsvb3B0XFwvXFxkKyg/Oi4/Xz9cXGQrKSsvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIk9wZXJhIFRvdWNoXCJ9LG49bmMuZ2V0Rmlyc3RNYXRjaCgvKD86b3B0KVtcXHMvXShcXGQrKFxcLj9fP1xcZCspKykvaSxlKXx8bmMuZ2V0Rmlyc3RNYXRjaChyYyxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy95YWJyb3dzZXIvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIllhbmRleCBCcm93c2VyXCJ9LG49bmMuZ2V0Rmlyc3RNYXRjaCgvKD86eWFicm93c2VyKVtcXHMvXShcXGQrKFxcLj9fP1xcZCspKykvaSxlKXx8bmMuZ2V0Rmlyc3RNYXRjaChyYyxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy91Y2Jyb3dzZXIvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIlVDIEJyb3dzZXJcIn0sbj1uYy5nZXRGaXJzdE1hdGNoKHJjLGUpfHxuYy5nZXRGaXJzdE1hdGNoKC8oPzp1Y2Jyb3dzZXIpW1xccy9dKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL01heHRob258bXhpb3MvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIk1heHRob25cIn0sbj1uYy5nZXRGaXJzdE1hdGNoKHJjLGUpfHxuYy5nZXRGaXJzdE1hdGNoKC8oPzpNYXh0aG9ufG14aW9zKVtcXHMvXShcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9lcGlwaGFueS9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiRXBpcGhhbnlcIn0sbj1uYy5nZXRGaXJzdE1hdGNoKHJjLGUpfHxuYy5nZXRGaXJzdE1hdGNoKC8oPzplcGlwaGFueSlbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvcHVmZmluL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJQdWZmaW5cIn0sbj1uYy5nZXRGaXJzdE1hdGNoKHJjLGUpfHxuYy5nZXRGaXJzdE1hdGNoKC8oPzpwdWZmaW4pW1xccy9dKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL3NsZWlwbmlyL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJTbGVpcG5pclwifSxuPW5jLmdldEZpcnN0TWF0Y2gocmMsZSl8fG5jLmdldEZpcnN0TWF0Y2goLyg/OnNsZWlwbmlyKVtcXHMvXShcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9rLW1lbGVvbi9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiSy1NZWxlb25cIn0sbj1uYy5nZXRGaXJzdE1hdGNoKHJjLGUpfHxuYy5nZXRGaXJzdE1hdGNoKC8oPzprLW1lbGVvbilbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvbWljcm9tZXNzZW5nZXIvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIldlQ2hhdFwifSxuPW5jLmdldEZpcnN0TWF0Y2goLyg/Om1pY3JvbWVzc2VuZ2VyKVtcXHMvXShcXGQrKFxcLj9fP1xcZCspKykvaSxlKXx8bmMuZ2V0Rmlyc3RNYXRjaChyYyxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9xcWJyb3dzZXIvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTovcXFicm93c2VybGl0ZS9pLnRlc3QoZSk/XCJRUSBCcm93c2VyIExpdGVcIjpcIlFRIEJyb3dzZXJcIn0sbj1uYy5nZXRGaXJzdE1hdGNoKC8oPzpxcWJyb3dzZXJsaXRlfHFxYnJvd3NlcilbL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSl8fG5jLmdldEZpcnN0TWF0Y2gocmMsZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvbXNpZXx0cmlkZW50L2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJJbnRlcm5ldCBFeHBsb3JlclwifSxuPW5jLmdldEZpcnN0TWF0Y2goLyg/Om1zaWUgfHJ2OikoXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvXFxzZWRnXFwvL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJNaWNyb3NvZnQgRWRnZVwifSxuPW5jLmdldEZpcnN0TWF0Y2goL1xcc2VkZ1xcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9lZGcoW2VhXXxpb3MpL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJNaWNyb3NvZnQgRWRnZVwifSxuPW5jLmdldFNlY29uZE1hdGNoKC9lZGcoW2VhXXxpb3MpXFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL3ZpdmFsZGkvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIlZpdmFsZGlcIn0sbj1uYy5nZXRGaXJzdE1hdGNoKC92aXZhbGRpXFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL3NlYW1vbmtleS9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiU2VhTW9ua2V5XCJ9LG49bmMuZ2V0Rmlyc3RNYXRjaCgvc2VhbW9ua2V5XFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL3NhaWxmaXNoL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJTYWlsZmlzaFwifSxuPW5jLmdldEZpcnN0TWF0Y2goL3NhaWxmaXNoXFxzP2Jyb3dzZXJcXC8oXFxkKyhcXC5cXGQrKT8pL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0Olsvc2lsay9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiQW1hem9uIFNpbGtcIn0sbj1uYy5nZXRGaXJzdE1hdGNoKC9zaWxrXFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL3BoYW50b20vaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIlBoYW50b21KU1wifSxuPW5jLmdldEZpcnN0TWF0Y2goL3BoYW50b21qc1xcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9zbGltZXJqcy9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiU2xpbWVySlNcIn0sbj1uYy5nZXRGaXJzdE1hdGNoKC9zbGltZXJqc1xcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9ibGFja2JlcnJ5fFxcYmJiXFxkKy9pLC9yaW1cXHN0YWJsZXQvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIkJsYWNrQmVycnlcIn0sbj1uYy5nZXRGaXJzdE1hdGNoKHJjLGUpfHxuYy5nZXRGaXJzdE1hdGNoKC9ibGFja2JlcnJ5W1xcZF0rXFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbLyh3ZWJ8aHB3KVtvMF1zL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJXZWJPUyBCcm93c2VyXCJ9LG49bmMuZ2V0Rmlyc3RNYXRjaChyYyxlKXx8bmMuZ2V0Rmlyc3RNYXRjaCgvdyg/OmViKT9bbzBdc2Jyb3dzZXJcXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvYmFkYS9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiQmFkYVwifSxuPW5jLmdldEZpcnN0TWF0Y2goL2RvbGZpblxcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy90aXplbi9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiVGl6ZW5cIn0sbj1uYy5nZXRGaXJzdE1hdGNoKC8oPzp0aXplblxccz8pP2Jyb3dzZXJcXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSl8fG5jLmdldEZpcnN0TWF0Y2gocmMsZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvcXVwemlsbGEvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIlF1cFppbGxhXCJ9LG49bmMuZ2V0Rmlyc3RNYXRjaCgvKD86cXVwemlsbGEpW1xccy9dKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpfHxuYy5nZXRGaXJzdE1hdGNoKHJjLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL2ZpcmVmb3h8aWNld2Vhc2VsfGZ4aW9zL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJGaXJlZm94XCJ9LG49bmMuZ2V0Rmlyc3RNYXRjaCgvKD86ZmlyZWZveHxpY2V3ZWFzZWx8Znhpb3MpW1xccy9dKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL2VsZWN0cm9uL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJFbGVjdHJvblwifSxuPW5jLmdldEZpcnN0TWF0Y2goLyg/OmVsZWN0cm9uKVxcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9NaXVpQnJvd3Nlci9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiTWl1aVwifSxuPW5jLmdldEZpcnN0TWF0Y2goLyg/Ok1pdWlCcm93c2VyKVtcXHMvXShcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9jaHJvbWl1bS9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiQ2hyb21pdW1cIn0sbj1uYy5nZXRGaXJzdE1hdGNoKC8oPzpjaHJvbWl1bSlbXFxzL10oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSl8fG5jLmdldEZpcnN0TWF0Y2gocmMsZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvY2hyb21lfGNyaW9zfGNybW8vaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIkNocm9tZVwifSxuPW5jLmdldEZpcnN0TWF0Y2goLyg/OmNocm9tZXxjcmlvc3xjcm1vKVxcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6Wy9HU0EvaV0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIkdvb2dsZSBTZWFyY2hcIn0sbj1uYy5nZXRGaXJzdE1hdGNoKC8oPzpHU0EpXFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdChlKXtjb25zdCB0PSFlLnRlc3QoL2xpa2UgYW5kcm9pZC9pKSxuPWUudGVzdCgvYW5kcm9pZC9pKTtyZXR1cm4gdCYmbn0sZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTpcIkFuZHJvaWQgQnJvd3NlclwifSxuPW5jLmdldEZpcnN0TWF0Y2gocmMsZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0OlsvcGxheXN0YXRpb24gNC9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOlwiUGxheVN0YXRpb24gNFwifSxuPW5jLmdldEZpcnN0TWF0Y2gocmMsZSk7cmV0dXJuIG4mJih0LnZlcnNpb249biksdH19LHt0ZXN0Olsvc2FmYXJpfGFwcGxld2Via2l0L2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6XCJTYWZhcmlcIn0sbj1uYy5nZXRGaXJzdE1hdGNoKHJjLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbLy4qL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9LTEhPT1lLnNlYXJjaChcIlxcXFwoXCIpPy9eKC4qKVxcLyguKilbIFxcdF1cXCgoLiopLzovXiguKilcXC8oLiopIC87cmV0dXJue25hbWU6bmMuZ2V0Rmlyc3RNYXRjaCh0LGUpLHZlcnNpb246bmMuZ2V0U2Vjb25kTWF0Y2godCxlKX19fV07dmFyIG9jPVt7dGVzdDpbL1Jva3VcXC9EVlAvXSxkZXNjcmliZShlKXtjb25zdCB0PW5jLmdldEZpcnN0TWF0Y2goL1Jva3VcXC9EVlAtKFxcZCtcXC5cXGQrKS9pLGUpO3JldHVybntuYW1lOmVjLlJva3UsdmVyc2lvbjp0fX19LHt0ZXN0Olsvd2luZG93cyBwaG9uZS9pXSxkZXNjcmliZShlKXtjb25zdCB0PW5jLmdldEZpcnN0TWF0Y2goL3dpbmRvd3MgcGhvbmUgKD86b3MpP1xccz8oXFxkKyhcXC5cXGQrKSopL2ksZSk7cmV0dXJue25hbWU6ZWMuV2luZG93c1Bob25lLHZlcnNpb246dH19fSx7dGVzdDpbL3dpbmRvd3MgL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9bmMuZ2V0Rmlyc3RNYXRjaCgvV2luZG93cyAoKE5UfFhQKSggXFxkXFxkPy5cXGQpPykvaSxlKSxuPW5jLmdldFdpbmRvd3NWZXJzaW9uTmFtZSh0KTtyZXR1cm57bmFtZTplYy5XaW5kb3dzLHZlcnNpb246dCx2ZXJzaW9uTmFtZTpufX19LHt0ZXN0OlsvTWFjaW50b3NoKC4qPykgRnhpT1MoLio/KVxcLy9dLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6ZWMuaU9TfSxuPW5jLmdldFNlY29uZE1hdGNoKC8oVmVyc2lvblxcLykoXFxkW1xcZC5dKykvLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbL21hY2ludG9zaC9pXSxkZXNjcmliZShlKXtjb25zdCB0PW5jLmdldEZpcnN0TWF0Y2goL21hYyBvcyB4IChcXGQrKFxcLj9fP1xcZCspKykvaSxlKS5yZXBsYWNlKC9bX1xcc10vZyxcIi5cIiksbj1uYy5nZXRNYWNPU1ZlcnNpb25OYW1lKHQpLHI9e25hbWU6ZWMuTWFjT1MsdmVyc2lvbjp0fTtyZXR1cm4gbiYmKHIudmVyc2lvbk5hbWU9bikscn19LHt0ZXN0OlsvKGlwb2R8aXBob25lfGlwYWQpL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9bmMuZ2V0Rmlyc3RNYXRjaCgvb3MgKFxcZCsoW19cXHNdXFxkKykqKSBsaWtlIG1hYyBvcyB4L2ksZSkucmVwbGFjZSgvW19cXHNdL2csXCIuXCIpO3JldHVybntuYW1lOmVjLmlPUyx2ZXJzaW9uOnR9fX0se3Rlc3QoZSl7Y29uc3QgdD0hZS50ZXN0KC9saWtlIGFuZHJvaWQvaSksbj1lLnRlc3QoL2FuZHJvaWQvaSk7cmV0dXJuIHQmJm59LGRlc2NyaWJlKGUpe2NvbnN0IHQ9bmMuZ2V0Rmlyc3RNYXRjaCgvYW5kcm9pZFtcXHMvLV0oXFxkKyhcXC5cXGQrKSopL2ksZSksbj1uYy5nZXRBbmRyb2lkVmVyc2lvbk5hbWUodCkscj17bmFtZTplYy5BbmRyb2lkLHZlcnNpb246dH07cmV0dXJuIG4mJihyLnZlcnNpb25OYW1lPW4pLHJ9fSx7dGVzdDpbLyh3ZWJ8aHB3KVtvMF1zL2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9bmMuZ2V0Rmlyc3RNYXRjaCgvKD86d2VifGhwdylbbzBdc1xcLyhcXGQrKFxcLlxcZCspKikvaSxlKSxuPXtuYW1lOmVjLldlYk9TfTtyZXR1cm4gdCYmdC5sZW5ndGgmJihuLnZlcnNpb249dCksbn19LHt0ZXN0OlsvYmxhY2tiZXJyeXxcXGJiYlxcZCsvaSwvcmltXFxzdGFibGV0L2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9bmMuZ2V0Rmlyc3RNYXRjaCgvcmltXFxzdGFibGV0XFxzb3NcXHMoXFxkKyhcXC5cXGQrKSopL2ksZSl8fG5jLmdldEZpcnN0TWF0Y2goL2JsYWNrYmVycnlcXGQrXFwvKFxcZCsoW19cXHNdXFxkKykqKS9pLGUpfHxuYy5nZXRGaXJzdE1hdGNoKC9cXGJiYihcXGQrKS9pLGUpO3JldHVybntuYW1lOmVjLkJsYWNrQmVycnksdmVyc2lvbjp0fX19LHt0ZXN0OlsvYmFkYS9pXSxkZXNjcmliZShlKXtjb25zdCB0PW5jLmdldEZpcnN0TWF0Y2goL2JhZGFcXC8oXFxkKyhcXC5cXGQrKSopL2ksZSk7cmV0dXJue25hbWU6ZWMuQmFkYSx2ZXJzaW9uOnR9fX0se3Rlc3Q6Wy90aXplbi9pXSxkZXNjcmliZShlKXtjb25zdCB0PW5jLmdldEZpcnN0TWF0Y2goL3RpemVuWy9cXHNdKFxcZCsoXFwuXFxkKykqKS9pLGUpO3JldHVybntuYW1lOmVjLlRpemVuLHZlcnNpb246dH19fSx7dGVzdDpbL2xpbnV4L2ldLGRlc2NyaWJlOigpPT4oe25hbWU6ZWMuTGludXh9KX0se3Rlc3Q6Wy9Dck9TL10sZGVzY3JpYmU6KCk9Pih7bmFtZTplYy5DaHJvbWVPU30pfSx7dGVzdDpbL1BsYXlTdGF0aW9uIDQvXSxkZXNjcmliZShlKXtjb25zdCB0PW5jLmdldEZpcnN0TWF0Y2goL1BsYXlTdGF0aW9uIDRbL1xcc10oXFxkKyhcXC5cXGQrKSopL2ksZSk7cmV0dXJue25hbWU6ZWMuUGxheVN0YXRpb240LHZlcnNpb246dH19fV0sc2M9W3t0ZXN0OlsvZ29vZ2xlYm90L2ldLGRlc2NyaWJlOigpPT4oe3R5cGU6XCJib3RcIix2ZW5kb3I6XCJHb29nbGVcIn0pfSx7dGVzdDpbL2h1YXdlaS9pXSxkZXNjcmliZShlKXtjb25zdCB0PW5jLmdldEZpcnN0TWF0Y2goLyhjYW4tbDAxKS9pLGUpJiZcIk5vdmFcIixuPXt0eXBlOlhhLm1vYmlsZSx2ZW5kb3I6XCJIdWF3ZWlcIn07cmV0dXJuIHQmJihuLm1vZGVsPXQpLG59fSx7dGVzdDpbL25leHVzXFxzKig/Ojd8OHw5fDEwKS4qL2ldLGRlc2NyaWJlOigpPT4oe3R5cGU6WGEudGFibGV0LHZlbmRvcjpcIk5leHVzXCJ9KX0se3Rlc3Q6Wy9pcGFkL2ldLGRlc2NyaWJlOigpPT4oe3R5cGU6WGEudGFibGV0LHZlbmRvcjpcIkFwcGxlXCIsbW9kZWw6XCJpUGFkXCJ9KX0se3Rlc3Q6Wy9NYWNpbnRvc2goLio/KSBGeGlPUyguKj8pXFwvL10sZGVzY3JpYmU6KCk9Pih7dHlwZTpYYS50YWJsZXQsdmVuZG9yOlwiQXBwbGVcIixtb2RlbDpcImlQYWRcIn0pfSx7dGVzdDpbL2tmdHQgYnVpbGQvaV0sZGVzY3JpYmU6KCk9Pih7dHlwZTpYYS50YWJsZXQsdmVuZG9yOlwiQW1hem9uXCIsbW9kZWw6XCJLaW5kbGUgRmlyZSBIRCA3XCJ9KX0se3Rlc3Q6Wy9zaWxrL2ldLGRlc2NyaWJlOigpPT4oe3R5cGU6WGEudGFibGV0LHZlbmRvcjpcIkFtYXpvblwifSl9LHt0ZXN0OlsvdGFibGV0KD8hIHBjKS9pXSxkZXNjcmliZTooKT0+KHt0eXBlOlhhLnRhYmxldH0pfSx7dGVzdChlKXtjb25zdCB0PWUudGVzdCgvaXBvZHxpcGhvbmUvaSksbj1lLnRlc3QoL2xpa2UgKGlwb2R8aXBob25lKS9pKTtyZXR1cm4gdCYmIW59LGRlc2NyaWJlKGUpe2NvbnN0IHQ9bmMuZ2V0Rmlyc3RNYXRjaCgvKGlwb2R8aXBob25lKS9pLGUpO3JldHVybnt0eXBlOlhhLm1vYmlsZSx2ZW5kb3I6XCJBcHBsZVwiLG1vZGVsOnR9fX0se3Rlc3Q6Wy9uZXh1c1xccypbMC02XS4qL2ksL2dhbGF4eSBuZXh1cy9pXSxkZXNjcmliZTooKT0+KHt0eXBlOlhhLm1vYmlsZSx2ZW5kb3I6XCJOZXh1c1wifSl9LHt0ZXN0OlsvW14tXW1vYmkvaV0sZGVzY3JpYmU6KCk9Pih7dHlwZTpYYS5tb2JpbGV9KX0se3Rlc3Q6ZT0+XCJibGFja2JlcnJ5XCI9PT1lLmdldEJyb3dzZXJOYW1lKCEwKSxkZXNjcmliZTooKT0+KHt0eXBlOlhhLm1vYmlsZSx2ZW5kb3I6XCJCbGFja0JlcnJ5XCJ9KX0se3Rlc3Q6ZT0+XCJiYWRhXCI9PT1lLmdldEJyb3dzZXJOYW1lKCEwKSxkZXNjcmliZTooKT0+KHt0eXBlOlhhLm1vYmlsZX0pfSx7dGVzdDplPT5cIndpbmRvd3MgcGhvbmVcIj09PWUuZ2V0QnJvd3Nlck5hbWUoKSxkZXNjcmliZTooKT0+KHt0eXBlOlhhLm1vYmlsZSx2ZW5kb3I6XCJNaWNyb3NvZnRcIn0pfSx7dGVzdChlKXtjb25zdCB0PU51bWJlcihTdHJpbmcoZS5nZXRPU1ZlcnNpb24oKSkuc3BsaXQoXCIuXCIpWzBdKTtyZXR1cm5cImFuZHJvaWRcIj09PWUuZ2V0T1NOYW1lKCEwKSYmdD49M30sZGVzY3JpYmU6KCk9Pih7dHlwZTpYYS50YWJsZXR9KX0se3Rlc3Q6ZT0+XCJhbmRyb2lkXCI9PT1lLmdldE9TTmFtZSghMCksZGVzY3JpYmU6KCk9Pih7dHlwZTpYYS5tb2JpbGV9KX0se3Rlc3Q6ZT0+XCJtYWNvc1wiPT09ZS5nZXRPU05hbWUoITApLGRlc2NyaWJlOigpPT4oe3R5cGU6WGEuZGVza3RvcCx2ZW5kb3I6XCJBcHBsZVwifSl9LHt0ZXN0OmU9Plwid2luZG93c1wiPT09ZS5nZXRPU05hbWUoITApLGRlc2NyaWJlOigpPT4oe3R5cGU6WGEuZGVza3RvcH0pfSx7dGVzdDplPT5cImxpbnV4XCI9PT1lLmdldE9TTmFtZSghMCksZGVzY3JpYmU6KCk9Pih7dHlwZTpYYS5kZXNrdG9wfSl9LHt0ZXN0OmU9PlwicGxheXN0YXRpb24gNFwiPT09ZS5nZXRPU05hbWUoITApLGRlc2NyaWJlOigpPT4oe3R5cGU6WGEudHZ9KX0se3Rlc3Q6ZT0+XCJyb2t1XCI9PT1lLmdldE9TTmFtZSghMCksZGVzY3JpYmU6KCk9Pih7dHlwZTpYYS50dn0pfV0sYWM9W3t0ZXN0OmU9PlwibWljcm9zb2Z0IGVkZ2VcIj09PWUuZ2V0QnJvd3Nlck5hbWUoITApLGRlc2NyaWJlKGUpe2lmKC9cXHNlZGdcXC8vaS50ZXN0KGUpKXJldHVybntuYW1lOnRjLkJsaW5rfTtjb25zdCB0PW5jLmdldEZpcnN0TWF0Y2goL2VkZ2VcXC8oXFxkKyhcXC4/Xz9cXGQrKSspL2ksZSk7cmV0dXJue25hbWU6dGMuRWRnZUhUTUwsdmVyc2lvbjp0fX19LHt0ZXN0OlsvdHJpZGVudC9pXSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOnRjLlRyaWRlbnR9LG49bmMuZ2V0Rmlyc3RNYXRjaCgvdHJpZGVudFxcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX0se3Rlc3Q6ZT0+ZS50ZXN0KC9wcmVzdG8vaSksZGVzY3JpYmUoZSl7Y29uc3QgdD17bmFtZTp0Yy5QcmVzdG99LG49bmMuZ2V0Rmlyc3RNYXRjaCgvcHJlc3RvXFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdChlKXtjb25zdCB0PWUudGVzdCgvZ2Vja28vaSksbj1lLnRlc3QoL2xpa2UgZ2Vja28vaSk7cmV0dXJuIHQmJiFufSxkZXNjcmliZShlKXtjb25zdCB0PXtuYW1lOnRjLkdlY2tvfSxuPW5jLmdldEZpcnN0TWF0Y2goL2dlY2tvXFwvKFxcZCsoXFwuP18/XFxkKykrKS9pLGUpO3JldHVybiBuJiYodC52ZXJzaW9uPW4pLHR9fSx7dGVzdDpbLyhhcHBsZSk/d2Via2l0XFwvNTM3XFwuMzYvaV0sZGVzY3JpYmU6KCk9Pih7bmFtZTp0Yy5CbGlua30pfSx7dGVzdDpbLyhhcHBsZSk/d2Via2l0L2ldLGRlc2NyaWJlKGUpe2NvbnN0IHQ9e25hbWU6dGMuV2ViS2l0fSxuPW5jLmdldEZpcnN0TWF0Y2goL3dlYmtpdFxcLyhcXGQrKFxcLj9fP1xcZCspKykvaSxlKTtyZXR1cm4gbiYmKHQudmVyc2lvbj1uKSx0fX1dO2NsYXNzIGNje2NvbnN0cnVjdG9yKGUsdD0hMSl7aWYobnVsbD09ZXx8XCJcIj09PWUpdGhyb3cgbmV3IEVycm9yKFwiVXNlckFnZW50IHBhcmFtZXRlciBjYW4ndCBiZSBlbXB0eVwiKTt0aGlzLl91YT1lLHRoaXMucGFyc2VkUmVzdWx0PXt9LCEwIT09dCYmdGhpcy5wYXJzZSgpfWdldFVBKCl7cmV0dXJuIHRoaXMuX3VhfXRlc3QoZSl7cmV0dXJuIGUudGVzdCh0aGlzLl91YSl9cGFyc2VCcm93c2VyKCl7dGhpcy5wYXJzZWRSZXN1bHQuYnJvd3Nlcj17fTtjb25zdCBlPW5jLmZpbmQoaWMsKGU9PntpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnRlc3QpcmV0dXJuIGUudGVzdCh0aGlzKTtpZihlLnRlc3QgaW5zdGFuY2VvZiBBcnJheSlyZXR1cm4gZS50ZXN0LnNvbWUoKGU9PnRoaXMudGVzdChlKSkpO3Rocm93IG5ldyBFcnJvcihcIkJyb3dzZXIncyB0ZXN0IGZ1bmN0aW9uIGlzIG5vdCB2YWxpZFwiKX0pKTtyZXR1cm4gZSYmKHRoaXMucGFyc2VkUmVzdWx0LmJyb3dzZXI9ZS5kZXNjcmliZSh0aGlzLmdldFVBKCkpKSx0aGlzLnBhcnNlZFJlc3VsdC5icm93c2VyfWdldEJyb3dzZXIoKXtyZXR1cm4gdGhpcy5wYXJzZWRSZXN1bHQuYnJvd3Nlcj90aGlzLnBhcnNlZFJlc3VsdC5icm93c2VyOnRoaXMucGFyc2VCcm93c2VyKCl9Z2V0QnJvd3Nlck5hbWUoZSl7cmV0dXJuIGU/U3RyaW5nKHRoaXMuZ2V0QnJvd3NlcigpLm5hbWUpLnRvTG93ZXJDYXNlKCl8fFwiXCI6dGhpcy5nZXRCcm93c2VyKCkubmFtZXx8XCJcIn1nZXRCcm93c2VyVmVyc2lvbigpe3JldHVybiB0aGlzLmdldEJyb3dzZXIoKS52ZXJzaW9ufWdldE9TKCl7cmV0dXJuIHRoaXMucGFyc2VkUmVzdWx0Lm9zP3RoaXMucGFyc2VkUmVzdWx0Lm9zOnRoaXMucGFyc2VPUygpfXBhcnNlT1MoKXt0aGlzLnBhcnNlZFJlc3VsdC5vcz17fTtjb25zdCBlPW5jLmZpbmQob2MsKGU9PntpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnRlc3QpcmV0dXJuIGUudGVzdCh0aGlzKTtpZihlLnRlc3QgaW5zdGFuY2VvZiBBcnJheSlyZXR1cm4gZS50ZXN0LnNvbWUoKGU9PnRoaXMudGVzdChlKSkpO3Rocm93IG5ldyBFcnJvcihcIkJyb3dzZXIncyB0ZXN0IGZ1bmN0aW9uIGlzIG5vdCB2YWxpZFwiKX0pKTtyZXR1cm4gZSYmKHRoaXMucGFyc2VkUmVzdWx0Lm9zPWUuZGVzY3JpYmUodGhpcy5nZXRVQSgpKSksdGhpcy5wYXJzZWRSZXN1bHQub3N9Z2V0T1NOYW1lKGUpe2NvbnN0e25hbWU6dH09dGhpcy5nZXRPUygpO3JldHVybiBlP1N0cmluZyh0KS50b0xvd2VyQ2FzZSgpfHxcIlwiOnR8fFwiXCJ9Z2V0T1NWZXJzaW9uKCl7cmV0dXJuIHRoaXMuZ2V0T1MoKS52ZXJzaW9ufWdldFBsYXRmb3JtKCl7cmV0dXJuIHRoaXMucGFyc2VkUmVzdWx0LnBsYXRmb3JtP3RoaXMucGFyc2VkUmVzdWx0LnBsYXRmb3JtOnRoaXMucGFyc2VQbGF0Zm9ybSgpfWdldFBsYXRmb3JtVHlwZShlPSExKXtjb25zdHt0eXBlOnR9PXRoaXMuZ2V0UGxhdGZvcm0oKTtyZXR1cm4gZT9TdHJpbmcodCkudG9Mb3dlckNhc2UoKXx8XCJcIjp0fHxcIlwifXBhcnNlUGxhdGZvcm0oKXt0aGlzLnBhcnNlZFJlc3VsdC5wbGF0Zm9ybT17fTtjb25zdCBlPW5jLmZpbmQoc2MsKGU9PntpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnRlc3QpcmV0dXJuIGUudGVzdCh0aGlzKTtpZihlLnRlc3QgaW5zdGFuY2VvZiBBcnJheSlyZXR1cm4gZS50ZXN0LnNvbWUoKGU9PnRoaXMudGVzdChlKSkpO3Rocm93IG5ldyBFcnJvcihcIkJyb3dzZXIncyB0ZXN0IGZ1bmN0aW9uIGlzIG5vdCB2YWxpZFwiKX0pKTtyZXR1cm4gZSYmKHRoaXMucGFyc2VkUmVzdWx0LnBsYXRmb3JtPWUuZGVzY3JpYmUodGhpcy5nZXRVQSgpKSksdGhpcy5wYXJzZWRSZXN1bHQucGxhdGZvcm19Z2V0RW5naW5lKCl7cmV0dXJuIHRoaXMucGFyc2VkUmVzdWx0LmVuZ2luZT90aGlzLnBhcnNlZFJlc3VsdC5lbmdpbmU6dGhpcy5wYXJzZUVuZ2luZSgpfWdldEVuZ2luZU5hbWUoZSl7cmV0dXJuIGU/U3RyaW5nKHRoaXMuZ2V0RW5naW5lKCkubmFtZSkudG9Mb3dlckNhc2UoKXx8XCJcIjp0aGlzLmdldEVuZ2luZSgpLm5hbWV8fFwiXCJ9cGFyc2VFbmdpbmUoKXt0aGlzLnBhcnNlZFJlc3VsdC5lbmdpbmU9e307Y29uc3QgZT1uYy5maW5kKGFjLChlPT57aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZS50ZXN0KXJldHVybiBlLnRlc3QodGhpcyk7aWYoZS50ZXN0IGluc3RhbmNlb2YgQXJyYXkpcmV0dXJuIGUudGVzdC5zb21lKChlPT50aGlzLnRlc3QoZSkpKTt0aHJvdyBuZXcgRXJyb3IoXCJCcm93c2VyJ3MgdGVzdCBmdW5jdGlvbiBpcyBub3QgdmFsaWRcIil9KSk7cmV0dXJuIGUmJih0aGlzLnBhcnNlZFJlc3VsdC5lbmdpbmU9ZS5kZXNjcmliZSh0aGlzLmdldFVBKCkpKSx0aGlzLnBhcnNlZFJlc3VsdC5lbmdpbmV9cGFyc2UoKXtyZXR1cm4gdGhpcy5wYXJzZUJyb3dzZXIoKSx0aGlzLnBhcnNlT1MoKSx0aGlzLnBhcnNlUGxhdGZvcm0oKSx0aGlzLnBhcnNlRW5naW5lKCksdGhpc31nZXRSZXN1bHQoKXtyZXR1cm4gbmMuYXNzaWduKHt9LHRoaXMucGFyc2VkUmVzdWx0KX1zYXRpc2ZpZXMoZSl7Y29uc3QgdD17fTtsZXQgbj0wO2NvbnN0IHI9e307bGV0IGk9MDtpZihPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChvPT57Y29uc3Qgcz1lW29dO1wic3RyaW5nXCI9PXR5cGVvZiBzPyhyW29dPXMsaSs9MSk6XCJvYmplY3RcIj09dHlwZW9mIHMmJih0W29dPXMsbis9MSl9KSksbj4wKXtjb25zdCBlPU9iamVjdC5rZXlzKHQpLG49bmMuZmluZChlLChlPT50aGlzLmlzT1MoZSkpKTtpZihuKXtjb25zdCBlPXRoaXMuc2F0aXNmaWVzKHRbbl0pO2lmKHZvaWQgMCE9PWUpcmV0dXJuIGV9Y29uc3Qgcj1uYy5maW5kKGUsKGU9PnRoaXMuaXNQbGF0Zm9ybShlKSkpO2lmKHIpe2NvbnN0IGU9dGhpcy5zYXRpc2ZpZXModFtyXSk7aWYodm9pZCAwIT09ZSlyZXR1cm4gZX19aWYoaT4wKXtjb25zdCBlPU9iamVjdC5rZXlzKHIpLHQ9bmMuZmluZChlLChlPT50aGlzLmlzQnJvd3NlcihlLCEwKSkpO2lmKHZvaWQgMCE9PXQpcmV0dXJuIHRoaXMuY29tcGFyZVZlcnNpb24oclt0XSl9fWlzQnJvd3NlcihlLHQ9ITEpe2NvbnN0IG49dGhpcy5nZXRCcm93c2VyTmFtZSgpLnRvTG93ZXJDYXNlKCk7bGV0IHI9ZS50b0xvd2VyQ2FzZSgpO2NvbnN0IGk9bmMuZ2V0QnJvd3NlclR5cGVCeUFsaWFzKHIpO3JldHVybiB0JiZpJiYocj1pLnRvTG93ZXJDYXNlKCkpLHI9PT1ufWNvbXBhcmVWZXJzaW9uKGUpe2xldCB0PVswXSxuPWUscj0hMTtjb25zdCBpPXRoaXMuZ2V0QnJvd3NlclZlcnNpb24oKTtpZihcInN0cmluZ1wiPT10eXBlb2YgaSlyZXR1cm5cIj5cIj09PWVbMF18fFwiPFwiPT09ZVswXT8obj1lLnN1YnN0cigxKSxcIj1cIj09PWVbMV0/KHI9ITAsbj1lLnN1YnN0cigyKSk6dD1bXSxcIj5cIj09PWVbMF0/dC5wdXNoKDEpOnQucHVzaCgtMSkpOlwiPVwiPT09ZVswXT9uPWUuc3Vic3RyKDEpOlwiflwiPT09ZVswXSYmKHI9ITAsbj1lLnN1YnN0cigxKSksdC5pbmRleE9mKG5jLmNvbXBhcmVWZXJzaW9ucyhpLG4scikpPi0xfWlzT1MoZSl7cmV0dXJuIHRoaXMuZ2V0T1NOYW1lKCEwKT09PVN0cmluZyhlKS50b0xvd2VyQ2FzZSgpfWlzUGxhdGZvcm0oZSl7cmV0dXJuIHRoaXMuZ2V0UGxhdGZvcm1UeXBlKCEwKT09PVN0cmluZyhlKS50b0xvd2VyQ2FzZSgpfWlzRW5naW5lKGUpe3JldHVybiB0aGlzLmdldEVuZ2luZU5hbWUoITApPT09U3RyaW5nKGUpLnRvTG93ZXJDYXNlKCl9aXMoZSx0PSExKXtyZXR1cm4gdGhpcy5pc0Jyb3dzZXIoZSx0KXx8dGhpcy5pc09TKGUpfHx0aGlzLmlzUGxhdGZvcm0oZSl9c29tZShlPVtdKXtyZXR1cm4gZS5zb21lKChlPT50aGlzLmlzKGUpKSl9fWNsYXNzIGRje3N0YXRpYyBnZXRQYXJzZXIoZSx0PSExKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoXCJVc2VyQWdlbnQgc2hvdWxkIGJlIGEgc3RyaW5nXCIpO3JldHVybiBuZXcgY2MoZSx0KX1zdGF0aWMgcGFyc2UoZSl7cmV0dXJuIG5ldyBjYyhlKS5nZXRSZXN1bHQoKX1zdGF0aWMgZ2V0IEJST1dTRVJfTUFQKCl7cmV0dXJuIFFhfXN0YXRpYyBnZXQgRU5HSU5FX01BUCgpe3JldHVybiB0Y31zdGF0aWMgZ2V0IE9TX01BUCgpe3JldHVybiBlY31zdGF0aWMgZ2V0IFBMQVRGT1JNU19NQVAoKXtyZXR1cm4gWGF9fWNvbnN0IGxjPXtJbml0aWFsaXplZDpcImluaXRpYWxpemVkXCIsRGlzcGxheVVSSTpcImRpc3BsYXlfdXJpXCIsUHJvdmlkZXJVcGRhdGU6XCJwcm92aWRlcl91cGRhdGVcIixDb25uZWN0V2l0aFJlc3BvbnNlOlwiY29ubmVjdFdpdGhSZXNwb25zZVwiLENvbm5lY3Rpb25TdGF0dXM6XCJjb25uZWN0aW9uX3N0YXR1c1wiLFNlcnZpY2VTdGF0dXM6XCJzZXJ2aWNlX3N0YXR1c1wifTtjbGFzcyB1Y3tjb25zdHJ1Y3Rvcih7c2hvdWxkU2V0T25XaW5kb3c6ZSxjb25uZWN0aW9uU3RyZWFtOnQsc2hvdWxkU2VuZE1ldGFkYXRhOm49ITEsc2hvdWxkU2hpbVdlYjM6cixzZGtJbnN0YW5jZTppfSl7Y29uc3Qgbz1uZXcgcGMoe2Nvbm5lY3Rpb25TdHJlYW06dCxzaG91bGRTZW5kTWV0YWRhdGE6bixzaG91bGRTZXRPbldpbmRvdzplLHNob3VsZFNoaW1XZWIzOnIsYXV0b1JlcXVlc3RBY2NvdW50czohMX0pLHM9bmV3IFByb3h5KG8se2RlbGV0ZVByb3BlcnR5OigpPT4hMH0pO2lmKHRoaXMucHJvdmlkZXI9cyx0aGlzLnNka0luc3RhbmNlPWksZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyl0cnl7YT1vLHdpbmRvdy5ldGhlcmV1bT1hLHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcImV0aGVyZXVtI2luaXRpYWxpemVkXCIpKX1jYXRjaChlKXtEYShcIltFdGhlcmV1bV0gVW5hYmxlIHRvIHNldCBnbG9iYWwgcHJvdmlkZXIgLSB3aW5kb3cuZXRoZXJldW0gbWF5IGJlIHJlYWQtb25seVwiLGUpfXZhciBhO2lmKHImJlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cpdHJ5eyFmdW5jdGlvbihlLHQ9Y29uc29sZSl7bGV0IG49ITEscj0hMTtpZighd2luZG93LndlYjMpe2NvbnN0IGk9XCJfX2lzTWV0YU1hc2tTaGltX19cIjtsZXQgbz17Y3VycmVudFByb3ZpZGVyOmV9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShvLGkse3ZhbHVlOiEwLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiExLHdyaXRhYmxlOiExfSksbz1uZXcgUHJveHkobyx7Z2V0OihvLHMsLi4uYSk9PihcImN1cnJlbnRQcm92aWRlclwiIT09c3x8bj9cImN1cnJlbnRQcm92aWRlclwiPT09c3x8cz09PWl8fHJ8fChyPSEwLHQuZXJyb3IoXCJNZXRhTWFzayBubyBsb25nZXIgaW5qZWN0cyB3ZWIzLiBGb3IgZGV0YWlscywgc2VlOiBodHRwczovL2RvY3MubWV0YW1hc2suaW8vZ3VpZGUvcHJvdmlkZXItbWlncmF0aW9uLmh0bWwjcmVwbGFjaW5nLXdpbmRvdy13ZWIzXCIpLGUucmVxdWVzdCh7bWV0aG9kOlwibWV0YW1hc2tfbG9nV2ViM1NoaW1Vc2FnZVwifSkuY2F0Y2goKGU9Pnt0LmRlYnVnKFwiTWV0YU1hc2s6IEZhaWxlZCB0byBsb2cgd2ViMyBzaGltIHVzYWdlLlwiLGUpfSkpKToobj0hMCx0Lndhcm4oXCJZb3UgYXJlIGFjY2Vzc2luZyB0aGUgTWV0YU1hc2sgd2luZG93LndlYjMuY3VycmVudFByb3ZpZGVyIHNoaW0uIFRoaXMgcHJvcGVydHkgaXMgZGVwcmVjYXRlZDsgdXNlIHdpbmRvdy5ldGhlcmV1bSBpbnN0ZWFkLiBGb3IgZGV0YWlscywgc2VlOiBodHRwczovL2RvY3MubWV0YW1hc2suaW8vZ3VpZGUvcHJvdmlkZXItbWlncmF0aW9uLmh0bWwjcmVwbGFjaW5nLXdpbmRvdy13ZWIzXCIpKSxSZWZsZWN0LmdldChvLHMsLi4uYSkpLHNldDooLi4uZSk9Pih0Lndhcm4oXCJZb3UgYXJlIGFjY2Vzc2luZyB0aGUgTWV0YU1hc2sgd2luZG93LndlYjMgc2hpbS4gVGhpcyBvYmplY3QgaXMgZGVwcmVjYXRlZDsgdXNlIHdpbmRvdy5ldGhlcmV1bSBpbnN0ZWFkLiBGb3IgZGV0YWlscywgc2VlOiBodHRwczovL2RvY3MubWV0YW1hc2suaW8vZ3VpZGUvcHJvdmlkZXItbWlncmF0aW9uLmh0bWwjcmVwbGFjaW5nLXdpbmRvdy13ZWIzXCIpLFJlZmxlY3Quc2V0KC4uLmUpKX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csXCJ3ZWIzXCIse3ZhbHVlOm8sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KX19KHRoaXMucHJvdmlkZXIpfWNhdGNoKGUpe0RhKFwiW0V0aGVyZXVtXSBVbmFibGUgdG8gc2hpbSB3ZWIzIC0gd2luZG93LndlYjMgbWF5IGJlIHJlYWQtb25seVwiLGUpfXRoaXMucHJvdmlkZXIub24oXCJkaXNwbGF5X3VyaVwiLChlPT57dGhpcy5zZGtJbnN0YW5jZS5lbWl0KGxjLkRpc3BsYXlVUkksZSl9KSksdGhpcy5wcm92aWRlci5vbihcIl9pbml0aWFsaXplZFwiLCgoKT0+e2NvbnN0IGU9e2NoYWluSWQ6dGhpcy5wcm92aWRlci5nZXRDaGFpbklkKCksaXNDb25uZWN0ZWQ6dGhpcy5wcm92aWRlci5pc0Nvbm5lY3RlZCgpLGlzTWV0YU1hc2s6dGhpcy5wcm92aWRlci5pc01ldGFNYXNrLHNlbGVjdGVkQWRkcmVzczp0aGlzLnByb3ZpZGVyLmdldFNlbGVjdGVkQWRkcmVzcygpLG5ldHdvcmtWZXJzaW9uOnRoaXMucHJvdmlkZXIuZ2V0TmV0d29ya1ZlcnNpb24oKX07dGhpcy5zZGtJbnN0YW5jZS5lbWl0KGxjLkluaXRpYWxpemVkLGUpLERhKFwiW0V0aGVyZXVtOiBjb25zdHJ1Y3RvcigpXSBwcm92aWRlciBpbml0aWFsaXplZFwiLGUpfSkpfXN0YXRpYyBpbml0KGUpe3ZhciB0O3JldHVybiBEYShcIltFdGhlcmV1bTogaW5pdCgpXSBJbml0aWFsaXppbmcgRXRoZXJldW0gc2VydmljZVwiKSx0aGlzLmluc3RhbmNlPW5ldyB1YyhlKSxudWxsPT09KHQ9dGhpcy5pbnN0YW5jZSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQucHJvdmlkZXJ9c3RhdGljIGRlc3Ryb3koKXt9c3RhdGljIGdldEluc3RhbmNlKCl7dmFyIGU7aWYoIShudWxsPT09KGU9dGhpcy5pbnN0YW5jZSl8fHZvaWQgMD09PWU/dm9pZCAwOmUucHJvdmlkZXIpKXRocm93IG5ldyBFcnJvcihcIkV0aGVyZXVtIGluc3RhbmNlIG5vdCBpbnRpaWFsaXplZCAtIGNhbGwgRXRoZXJldW0uZmFjdG9yeSBmaXJzdC5cIik7cmV0dXJuIHRoaXMuaW5zdGFuY2V9c3RhdGljIGdldFByb3ZpZGVyKCl7dmFyIGU7aWYoIShudWxsPT09KGU9dGhpcy5pbnN0YW5jZSl8fHZvaWQgMD09PWU/dm9pZCAwOmUucHJvdmlkZXIpKXRocm93IG5ldyBFcnJvcihcIkV0aGVyZXVtIGluc3RhbmNlIG5vdCBpbnRpaWFsaXplZCAtIGNhbGwgRXRoZXJldW0uZmFjdG9yeSBmaXJzdC5cIik7cmV0dXJuIHRoaXMuaW5zdGFuY2UucHJvdmlkZXJ9fWNsYXNzIGhje2NvbnN0cnVjdG9yKHt1c2VEZWVwTGluazplLHByZWZlcnJlZE9wZW5MaW5rOnQsZGVidWc6bj0hMX0pe3RoaXMuc3RhdGU9e3BsYXRmb3JtVHlwZTp2b2lkIDAsdXNlRGVlcGxpbms6ITEscHJlZmVycmVkT3Blbkxpbms6dm9pZCAwLGRlYnVnOiExfSx0aGlzLnN0YXRlLnBsYXRmb3JtVHlwZT10aGlzLmdldFBsYXRmb3JtVHlwZSgpLHRoaXMuc3RhdGUudXNlRGVlcGxpbms9ZSx0aGlzLnN0YXRlLnByZWZlcnJlZE9wZW5MaW5rPXQsdGhpcy5zdGF0ZS5kZWJ1Zz1ufW9wZW5EZWVwbGluayhlLHQsbil7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuLHIpe2NvbnN0e3N0YXRlOml9PWU7RGEoYFtQbGF0ZmZvcm1NYW5hZ2VyOiBvcGVuRGVlcGxpbmsoKV0gdW5pdmVyc2FsTGluayAtLVxceDNlICR7dH1gKSxEYShgW1BsYXRmZm9ybU1hbmFnZXI6IG9wZW5EZWVwbGluaygpXSBkZWVwTGluayAtLVxceDNlICR7bn1gKTt0cnl7aWYoaS5wcmVmZXJyZWRPcGVuTGluaylyZXR1cm4gdm9pZCBpLnByZWZlcnJlZE9wZW5MaW5rKGkudXNlRGVlcGxpbms/bjp0LHIpO2lmKERhKGBbUGxhdGZmb3JtTWFuYWdlcjogb3BlbkRlZXBsaW5rKCldIG9wZW4gbGluayBub3cgdXNlRGVlcExpbms9JHtpLnVzZURlZXBsaW5rfSBsaW5rPSR7aS51c2VEZWVwbGluaz9uOnR9YCksaS51c2VEZWVwbGluaylcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiYod2luZG93LmxvY2F0aW9uLmhyZWY9bik7ZWxzZSBpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQpe2NvbnN0IGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7ZS5ocmVmPXQsZS50YXJnZXQ9XCJfc2VsZlwiLGUucmVsPVwibm9yZWZlcnJlciBub29wZW5lclwiLGUuY2xpY2soKX19Y2F0Y2goZSl7Y29uc29sZS5sb2coXCJbUGxhdGZmb3JtTWFuYWdlcjogb3BlbkRlZXBsaW5rKCldIGNhbid0IG9wZW4gbGlua1wiLGUpfX0odGhpcyxlLHQsbil9aXNSZWFjdE5hdGl2ZSgpe3ZhciBlO3JldHVybiB0aGlzLmlzTm90QnJvd3NlcigpJiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiYobnVsbD09PXdpbmRvd3x8dm9pZCAwPT09d2luZG93P3ZvaWQgMDp3aW5kb3cubmF2aWdhdG9yKSYmXCJSZWFjdE5hdGl2ZVwiPT09KG51bGw9PT0oZT13aW5kb3cubmF2aWdhdG9yKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5wcm9kdWN0KX1pc01ldGFNYXNrSW5zdGFsbGVkKCl7cmV0dXJuIGZ1bmN0aW9uKCl7Y29uc3QgZT11Yy5nZXRQcm92aWRlcigpfHwobnVsbD09PXdpbmRvd3x8dm9pZCAwPT09d2luZG93P3ZvaWQgMDp3aW5kb3cuZXRoZXJldW0pO3JldHVybiBEYShgW1BsYXRmZm9ybU1hbmFnZXI6IGlzTWV0YU1hc2tJbnN0YWxsZWQoKV0gaXNNZXRhTWFzaz0ke251bGw9PWU/dm9pZCAwOmUuaXNNZXRhTWFza30gaXNDb25uZWN0ZWQ9JHtudWxsPT1lP3ZvaWQgMDplLmlzQ29ubmVjdGVkKCl9YCksKG51bGw9PWU/dm9pZCAwOmUuaXNNZXRhTWFzaykmJihudWxsPT1lP3ZvaWQgMDplLmlzQ29ubmVjdGVkKCkpfSgpfWlzRGVza3RvcFdlYigpe3JldHVybiB0aGlzLmlzQnJvd3NlcigpJiYhdGhpcy5pc01vYmlsZVdlYigpfWlzTW9iaWxlKCl7dmFyIGUsdDtjb25zdCBuPWRjLnBhcnNlKHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KTtyZXR1cm5cIm1vYmlsZVwiPT09KG51bGw9PT0oZT1udWxsPT1uP3ZvaWQgMDpuLnBsYXRmb3JtKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS50eXBlKXx8XCJ0YWJsZXRcIj09PShudWxsPT09KHQ9bnVsbD09bj92b2lkIDA6bi5wbGF0Zm9ybSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQudHlwZSl9aXNTZWN1cmUoKXtyZXR1cm4gdGhpcy5pc1JlYWN0TmF0aXZlKCl8fHRoaXMuaXNNb2JpbGVXZWIoKX1pc01ldGFNYXNrTW9iaWxlV2ViVmlldygpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJihCb29sZWFuKHdpbmRvdy5SZWFjdE5hdGl2ZVdlYlZpZXcpJiZCb29sZWFuKG5hdmlnYXRvci51c2VyQWdlbnQuZW5kc1dpdGgoXCJNZXRhTWFza01vYmlsZVwiKSkpfWlzTW9iaWxlV2ViKCl7cmV0dXJuIHRoaXMuc3RhdGUucGxhdGZvcm1UeXBlPT09ZXhwb3J0cy5QbGF0Zm9ybVR5cGUuTW9iaWxlV2VifXN0YXRpYyBpc05vdEJyb3dzZXIoKXt2YXIgZTtyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93fHwhKG51bGw9PT13aW5kb3d8fHZvaWQgMD09PXdpbmRvdz92b2lkIDA6d2luZG93Lm5hdmlnYXRvcil8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWwmJlwiUmVhY3ROYXRpdmVcIj09PShudWxsPT09KGU9bnVsbD09PWdsb2JhbHx8dm9pZCAwPT09Z2xvYmFsP3ZvaWQgMDpnbG9iYWwubmF2aWdhdG9yKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5wcm9kdWN0KXx8XCJSZWFjdE5hdGl2ZVwiPT09KG51bGw9PT1uYXZpZ2F0b3J8fHZvaWQgMD09PW5hdmlnYXRvcj92b2lkIDA6bmF2aWdhdG9yLnByb2R1Y3QpfWlzTm90QnJvd3Nlcigpe3JldHVybiBoYy5pc05vdEJyb3dzZXIoKX1zdGF0aWMgaXNCcm93c2VyKCl7cmV0dXJuIXRoaXMuaXNOb3RCcm93c2VyKCl9aXNCcm93c2VyKCl7cmV0dXJuIGhjLmlzQnJvd3NlcigpfWlzTm9kZUpTKCl7cmV0dXJuIHRoaXMuaXNOb3RCcm93c2VyKCkmJiF0aGlzLmlzUmVhY3ROYXRpdmUoKX1pc1VzZURlZXBMaW5rKCl7cmV0dXJuIHRoaXMuc3RhdGUudXNlRGVlcGxpbmt9Z2V0UGxhdGZvcm1UeXBlKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2NvbnN0e3N0YXRlOnR9PWU7cmV0dXJuIHQucGxhdGZvcm1UeXBlP3QucGxhdGZvcm1UeXBlOmUuaXNSZWFjdE5hdGl2ZSgpP2V4cG9ydHMuUGxhdGZvcm1UeXBlLlJlYWN0TmF0aXZlOmUuaXNOb3RCcm93c2VyKCk/ZXhwb3J0cy5QbGF0Zm9ybVR5cGUuTm9uQnJvd3NlcjplLmlzTWV0YU1hc2tNb2JpbGVXZWJWaWV3KCk/ZXhwb3J0cy5QbGF0Zm9ybVR5cGUuTWV0YU1hc2tNb2JpbGVXZWJ2aWV3OmUuaXNNb2JpbGUoKT9leHBvcnRzLlBsYXRmb3JtVHlwZS5Nb2JpbGVXZWI6ZXhwb3J0cy5QbGF0Zm9ybVR5cGUuRGVza3RvcFdlYn0odGhpcyl9fWNvbnN0IGZjPWU9PnUodm9pZCAwLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2lmKGhjLmlzQnJvd3NlcigpKXtjb25zdHtTdG9yYWdlTWFuYWdlcldlYjp0fT15aWVsZCBQcm9taXNlLnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBGZH0pKTtyZXR1cm4gbmV3IHQoZSl9Y29uc3QgdD17cGVyc2lzdENoYW5uZWxDb25maWc6KCk9PnUodm9pZCAwLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe30pKSxnZXRQZXJzaXN0ZWRDaGFubmVsQ29uZmlnOigpPT51KHZvaWQgMCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXt9KSkscGVyc2lzdEFjY291bnRzOigpPT51KHZvaWQgMCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXt9KSksZ2V0Q2FjaGVkQWNjb3VudHM6KCk9PnUodm9pZCAwLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3JldHVybltdfSkpLHBlcnNpc3RDaGFpbklkOigpPT51KHZvaWQgMCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXt9KSksZ2V0Q2FjaGVkQ2hhaW5JZDooKT0+dSh2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7fSkpLHRlcm1pbmF0ZTooKT0+dSh2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7fSkpfTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHQpfSkpO2NsYXNzIHBjIGV4dGVuZHMgTmF7Y29uc3RydWN0b3Ioe2Nvbm5lY3Rpb25TdHJlYW06ZSxzaG91bGRTZW5kTWV0YWRhdGE6dCxhdXRvUmVxdWVzdEFjY291bnRzOm49ITF9KXtzdXBlcihlLHtsb2dnZXI6Y29uc29sZSxtYXhFdmVudExpc3RlbmVyczoxMDAsc2hvdWxkU2VuZE1ldGFkYXRhOnR9KSx0aGlzLnN0YXRlPXthY2NvdW50czpudWxsLGF1dG9SZXF1ZXN0QWNjb3VudHM6ITEscHJvdmlkZXJTdGF0ZVJlcXVlc3RlZDohMSxjaGFpbklkOlwiXCIsbmV0d29ya1ZlcnNpb246XCJcIn0sRGEoYFtTREtQcm92aWRlcjogY29uc3RydWN0b3IoKV0gYXV0b1JlcXVlc3RBY2NvdW50cz0ke259YCksdGhpcy5zdGF0ZS5hdXRvUmVxdWVzdEFjY291bnRzPW59Zm9yY2VJbml0aWFsaXplU3RhdGUoKXtyZXR1cm4gdSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3JldHVybiBEYShgW1NES1Byb3ZpZGVyOiBmb3JjZUluaXRpYWxpemVTdGF0ZSgpXSBhdXRvUmVxdWVzdEFjY291bnRzPSR7dGhpcy5zdGF0ZS5hdXRvUmVxdWVzdEFjY291bnRzfWApLHRoaXMuX2luaXRpYWxpemVTdGF0ZUFzeW5jKCl9KSl9X3NldENvbm5lY3RlZCgpe0RhKFwiW1NES1Byb3ZpZGVyOiBfc2V0Q29ubmVjdGVkKCldIFNldHRpbmcgY29ubmVjdGVkIHN0YXRlXCIpLHRoaXMuX3N0YXRlLmlzQ29ubmVjdGVkPSEwfWdldFN0YXRlKCl7cmV0dXJuIHRoaXMuX3N0YXRlfWdldFNES1Byb3ZpZGVyU3RhdGUoKXtyZXR1cm4gdGhpcy5zdGF0ZX1nZXRTZWxlY3RlZEFkZHJlc3MoKXt2YXIgZTtjb25zdHthY2NvdW50czp0fT10aGlzLl9zdGF0ZTtyZXR1cm4gdCYmMCE9PXQubGVuZ3RoPyhudWxsPT09KGU9dFswXSl8fHZvaWQgMD09PWU/dm9pZCAwOmUudG9Mb3dlckNhc2UoKSl8fFwiXCI6KERhKFwiW1NES1Byb3ZpZGVyOiBnZXRTZWxlY3RlZEFkZHJlc3NdIE5vIGFjY291bnRzIGZvdW5kXCIpLG51bGwpfWdldENoYWluSWQoKXtyZXR1cm4gdGhpcy5zdGF0ZS5jaGFpbklkfWdldE5ldHdvcmtWZXJzaW9uKCl7cmV0dXJuIHRoaXMuc3RhdGUubmV0d29ya1ZlcnNpb259c2V0U0RLUHJvdmlkZXJTdGF0ZShlKXt0aGlzLnN0YXRlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0aGlzLnN0YXRlKSxlKX1oYW5kbGVBY2NvdW50c0NoYW5nZWQoZSx0KXtyZXR1cm4gdGhpcy5faGFuZGxlQWNjb3VudHNDaGFuZ2VkKGUsdCl9aGFuZGxlRGlzY29ubmVjdCh7dGVybWluYXRlOmU9ITF9KXshZnVuY3Rpb24oe3Rlcm1pbmF0ZTplPSExLGluc3RhbmNlOnR9KXtjb25zdHtzdGF0ZTpufT10O0RhKGBbU0RLUHJvdmlkZXI6IGhhbmRsZURpc2Nvbm5lY3QoKV0gY2xlYW5pbmcgdXAgcHJvdmlkZXIgc3RhdGUgdGVybWluYXRlPSR7ZX1gLHQpLGUmJih0Ll9zdGF0ZS5hY2NvdW50cz1udWxsLHQuX3N0YXRlLmlzVW5sb2NrZWQ9ITEsdC5fc3RhdGUuaXNQZXJtYW5lbnRseURpc2Nvbm5lY3RlZD0hMCx0Ll9zdGF0ZS5pbml0aWFsaXplZD0hMSksdC5faGFuZGxlQWNjb3VudHNDaGFuZ2VkKFtdKSx0Ll9zdGF0ZS5pc0Nvbm5lY3RlZD0hMSx0LmVtaXQoXCJkaXNjb25uZWN0XCIsQmEuZXRoRXJyb3JzLnByb3ZpZGVyLmRpc2Nvbm5lY3RlZCgpKSxuLnByb3ZpZGVyU3RhdGVSZXF1ZXN0ZWQ9ITF9KHt0ZXJtaW5hdGU6ZSxpbnN0YW5jZTp0aGlzfSl9X2luaXRpYWxpemVTdGF0ZUFzeW5jKCl7cmV0dXJuIHUodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQsbjtyZXR1cm4gdSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3ZvaWQgMD09PWUuc3RhdGUmJihlLnN0YXRlPXthY2NvdW50czpudWxsLGF1dG9SZXF1ZXN0QWNjb3VudHM6ITEscHJvdmlkZXJTdGF0ZVJlcXVlc3RlZDohMSxjaGFpbklkOlwiXCJ9KTtjb25zdHtzdGF0ZTpyfT1lO2xldCBpO2lmKHIucHJvdmlkZXJTdGF0ZVJlcXVlc3RlZClEYShcIltTREtQcm92aWRlcjogaW5pdGlhbGl6ZVN0YXRlQXN5bmMoKV0gaW5pdGlhbGl6YXRpb24gYWxyZWFkeSBpbiBwcm9ncmVzc1wiKTtlbHNle2xldCBvO3IucHJvdmlkZXJTdGF0ZVJlcXVlc3RlZD0hMDtsZXQgcz1udWxsLGE9ITEsYz0hMTtjb25zdCBkPXlpZWxkIGZjKHtlbmFibGVkOiEwfSk7aWYoZCl7Y29uc3QgZT15aWVsZCBkLmdldFBlcnNpc3RlZENoYW5uZWxDb25maWcoe30pO2E9bnVsbCE9PSh0PW51bGw9PWU/dm9pZCAwOmUucmVsYXlQZXJzaXN0ZW5jZSkmJnZvaWQgMCE9PXQmJnQsbz15aWVsZCBkLmdldENhY2hlZENoYWluSWQoKTtjb25zdCBuPXlpZWxkIGQuZ2V0Q2FjaGVkQWNjb3VudHMoKTtuLmxlbmd0aD4wJiYocz1uWzBdKX1pZihEYShgW1NES1Byb3ZpZGVyOiBpbml0aWFsaXplU3RhdGVBc3luYygpXSByZWxheVBlcnNpc3RlbmNlPSR7YX1gLHtyZWxheVBlcnNpc3RlbmNlOmEsY2FjaGVkQ2hhaW5JZDpvLGNhY2hlZFNlbGVjdGVkQWRkcmVzczpzfSksYSlpZihvJiZzKWk9e2FjY291bnRzOltzXSxjaGFpbklkOm8saXNVbmxvY2tlZDohMX0sYz0hMDtlbHNlIHRyeXtpPXlpZWxkIGUucmVxdWVzdCh7bWV0aG9kOlwibWV0YW1hc2tfZ2V0UHJvdmlkZXJTdGF0ZVwifSl9Y2F0Y2godCl7cmV0dXJuIGUuX2xvZy5lcnJvcihcIk1ldGFNYXNrOiBGYWlsZWQgdG8gZ2V0IGluaXRpYWwgc3RhdGUuIFBsZWFzZSByZXBvcnQgdGhpcyBidWcuXCIsdCksdm9pZChyLnByb3ZpZGVyU3RhdGVSZXF1ZXN0ZWQ9ITEpfWlmKDA9PT0obnVsbD09PShuPW51bGw9PWk/dm9pZCAwOmkuYWNjb3VudHMpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmxlbmd0aCkpaWYoZS5nZXRTZWxlY3RlZEFkZHJlc3MoKSlpLmFjY291bnRzPVtlLmdldFNlbGVjdGVkQWRkcmVzcygpXTtlbHNle0RhKFwiW1NES1Byb3ZpZGVyOiBpbml0aWFsaXplU3RhdGVBc3luYygpXSBGZXRjaCBhY2NvdW50cyByZW1vdGVseS5cIik7Y29uc3QgdD15aWVsZCBlLnJlcXVlc3Qoe21ldGhvZDpcImV0aF9yZXF1ZXN0QWNjb3VudHNcIixwYXJhbXM6W119KTtpLmFjY291bnRzPXR9ZS5faW5pdGlhbGl6ZVN0YXRlKGkpLHIucHJvdmlkZXJTdGF0ZVJlcXVlc3RlZD0hMSxjJiYoZS5fc3RhdGUuaXNDb25uZWN0ZWQ9ITAsZS5lbWl0KFwiY29ubmVjdFwiLHtjaGFpbklkOm51bGw9PWk/dm9pZCAwOmkuY2hhaW5JZH0pKX19KSl9KHRoaXMpfSkpfV9pbml0aWFsaXplU3RhdGUoZSl7cmV0dXJuIERhKFwiW1NES1Byb3ZpZGVyOiBfaW5pdGlhbGl6ZVN0YXRlKCldXCIsZSksZnVuY3Rpb24oZSx0LG4pe3JldHVybiBEYShcIltTREtQcm92aWRlcjogaW5pdGlhbGl6ZVN0YXRlKCldIHNldCBzdGF0ZS5faW5pdGlhbGl6ZWQgdG8gZmFsc2VcIiksZS5fc3RhdGUuaW5pdGlhbGl6ZWQ9ITEsdChuKX0odGhpcyxzdXBlci5faW5pdGlhbGl6ZVN0YXRlLmJpbmQodGhpcyksZSl9X2hhbmRsZUNoYWluQ2hhbmdlZCh7Y2hhaW5JZDplLG5ldHdvcmtWZXJzaW9uOnR9PXt9KXt0aGlzLnN0YXRlLmNoYWluSWQ9ZSx0aGlzLnN0YXRlLm5ldHdvcmtWZXJzaW9uPXQsZnVuY3Rpb24oe2luc3RhbmNlOmUsY2hhaW5JZDp0LG5ldHdvcmtWZXJzaW9uOm4sc3VwZXJIYW5kbGVDaGFpbkNoYW5nZWQ6cn0pe0RhKGBbU0RLUHJvdmlkZXI6IGhhbmRsZUNoYWluQ2hhbmdlZCgpXSBjaGFpbklkPSR7dH0gbmV0d29ya1ZlcnNpb249JHtufWApO2xldCBvPW47bnx8KERhKFwiW1NES1Byb3ZpZGVyOiBoYW5kbGVDaGFpbkNoYW5nZWQoKV0gZm9yY2VkIG5ldHdvcmsgdmVyc2lvbiB0byBwcmV2ZW50IHByb3ZpZGVyIGVycm9yXCIpLG89XCIxXCIpLHQhPT1MYSYmKGkuYW5hbHl0aWNzLnRyYWNrKFwic2RrX3VzZWRfY2hhaW5cIix7Y2FpcF9jaGFpbl9pZDpgZWlwMTU1OiR7cGFyc2VJbnQobnVsbCE9dD90OlwiMHgxXCIsMTYpfWB9KSxMYT10KSxlLl9zdGF0ZS5pc0Nvbm5lY3RlZD0hMCxlLmVtaXQoXCJjb25uZWN0XCIse2NoYWluSWQ6dH0pLHIoe2NoYWluSWQ6dCxuZXR3b3JrVmVyc2lvbjpvfSl9KHtpbnN0YW5jZTp0aGlzLGNoYWluSWQ6ZSxuZXR3b3JrVmVyc2lvbjp0LHN1cGVySGFuZGxlQ2hhaW5DaGFuZ2VkOnN1cGVyLl9oYW5kbGVDaGFpbkNoYW5nZWQuYmluZCh0aGlzKX0pfX12YXIgbWMsZ2M9e25hbWU6XCJAbWV0YW1hc2svc2RrXCIsdmVyc2lvbjpcIjAuMzMuMVwiLGRlc2NyaXB0aW9uOlwiXCIsaG9tZXBhZ2U6XCJodHRwczovL2dpdGh1Yi5jb20vTWV0YU1hc2svbWV0YW1hc2stc2RrI3JlYWRtZVwiLGJ1Z3M6e3VybDpcImh0dHBzOi8vZ2l0aHViLmNvbS9NZXRhTWFzay9tZXRhbWFzay1zZGsvaXNzdWVzXCJ9LHJlcG9zaXRvcnk6e3R5cGU6XCJnaXRcIix1cmw6XCJodHRwczovL2dpdGh1Yi5jb20vTWV0YU1hc2svbWV0YW1hc2stc2RrXCIsZGlyZWN0b3J5OlwicGFja2FnZXMvc2RrXCJ9LG1haW46XCJkaXN0L25vZGUvY2pzL21ldGFtYXNrLXNkay5qc1wiLG1vZHVsZTpcImRpc3QvYnJvd3Nlci9lcy9tZXRhbWFzay1zZGsuanNcIixicm93c2VyOlwiZGlzdC9icm93c2VyL2VzL21ldGFtYXNrLXNkay5qc1wiLHVucGtnOlwiZGlzdC9icm93c2VyL3VtZC9tZXRhbWFzay1zZGsuanNcIixcInJlYWN0LW5hdGl2ZVwiOlwiZGlzdC9yZWFjdC1uYXRpdmUvZXMvbWV0YW1hc2stc2RrLmpzXCIsdHlwZXM6XCJkaXN0L3R5cGVzL3NyYy9pbmRleC5kLnRzXCIsc2lkZUVmZmVjdHM6ITEsZmlsZXM6W1wiL2Rpc3RcIl0sc2NyaXB0czp7XCJidWlsZDp0eXBlc1wiOlwidHNjIC0tcHJvamVjdCB0c2NvbmZpZy5idWlsZC5qc29uIC0tZW1pdERlY2xhcmF0aW9uT25seSAtLW91dERpciBkaXN0L3R5cGVzXCIsYnVpbGQ6XCJ5YXJuIGJ1aWxkOnR5cGVzICYmIHJvbGx1cCAtYyAtLWJ1bmRsZUNvbmZpZ0FzQ2pzXCIsXCJidWlsZDpjbGVhblwiOlwieWFybiBjbGVhbiAmJiB5YXJuIGJ1aWxkXCIsXCJidWlsZDpwb3N0LXRzY1wiOlwiZWNobyAnTi9BJ1wiLFwiYnVpbGQ6cHJlLXRzY1wiOlwiZWNobyAnTi9BJ1wiLHR5cGVjaGVjazpcInRzYyAtLW5vRW1pdFwiLGNsZWFuOlwicmltcmFmIC4vZGlzdFwiLHNpemU6XCJub2RlIGJ1bmRsZS1zaXplICYmIHNpemUtbGltaXRcIixsaW50OlwieWFybiBsaW50OmVzbGludCAmJiB5YXJuIGxpbnQ6bWlzYyAtLWNoZWNrXCIsXCJsaW50OmNoYW5nZWxvZ1wiOlwiLi4vLi4vc2NyaXB0cy92YWxpZGF0ZS1jaGFuZ2Vsb2cuc2ggQG1ldGFtYXNrL3Nka1wiLFwibGludDplc2xpbnRcIjpcImVzbGludCAuIC0tY2FjaGUgLS1leHQganMsdHNcIixcImxpbnQ6Zml4XCI6XCJ5YXJuIGxpbnQ6ZXNsaW50IC0tZml4ICYmIHlhcm4gbGludDptaXNjIC0td3JpdGVcIixcImxpbnQ6bWlzY1wiOlwicHJldHRpZXIgJyoqLyouanNvbicgJyoqLyoubWQnICchQ0hBTkdFTE9HLm1kJyAtLWlnbm9yZS1wYXRoIC4uLy4uLy5naXRpZ25vcmVcIixwcmVwYWNrOlwiLi4vLi4vc2NyaXB0cy9wcmVwYWNrLnNoXCIsXCJwdWJsaXNoOnByZXZpZXdcIjpcInlhcm4gbnBtIHB1Ymxpc2ggLS10YWcgcHJldmlld1wiLHJlc2V0OlwieWFybiBjbGVhbiAmJiByaW1yYWYgLi9ub2RlX21vZHVsZXMvXCIsdGVzdDonamVzdCAtLXRlc3RQYXRoSWdub3JlUGF0dGVybnMgXCIvZTJlL1wiJyxcInRlc3Q6Y292ZXJhZ2VcIjonamVzdCAtLWNvdmVyYWdlIC0tdGVzdFBhdGhJZ25vcmVQYXR0ZXJucyBcIi9lMmUvXCInLFwidGVzdDplMmVcIjonamVzdCAtLXRlc3RQYXRoUGF0dGVybiBcIi9lMmUvXCInLFwidGVzdDpjaVwiOidqZXN0IC0tY292ZXJhZ2UgLS1wYXNzV2l0aE5vVGVzdHMgLS1zZXR1cEZpbGVzQWZ0ZXJFbnYgLi9qZXN0LXByZWxvYWQuanMgLS10ZXN0UGF0aElnbm9yZVBhdHRlcm5zIFwiL2UyZS9cIicsXCJ0ZXN0OmRldlwiOidqZXN0IC1jIC4vamVzdC5jb25maWcudHMgLS1kZXRlY3RPcGVuSGFuZGxlcyAgLS10ZXN0UGF0aElnbm9yZVBhdHRlcm5zIFwiL2UyZS9cIicsd2F0Y2g6XCJyb2xsdXAgLWMgLXdcIixkZXY6J2NvbmN1cnJlbnRseSBcInRzYyAtLXdhdGNoXCIgXCJyb2xsdXAgLWMgLXcgLS1idW5kbGVDb25maWdBc0Nqc1wiJyxcImJ1aWxkOmRldlwiOlwieWFybiBidWlsZDp0eXBlcyAmJiBOT0RFX0VOVj1kZXYgcm9sbHVwIC1jIC0tYnVuZGxlQ29uZmlnQXNDanNcIn0sZGVwZW5kZW5jaWVzOntcIkBiYWJlbC9ydW50aW1lXCI6XCJeNy4yNi4wXCIsXCJAbWV0YW1hc2svb25ib2FyZGluZ1wiOlwiXjEuMC4xXCIsXCJAbWV0YW1hc2svcHJvdmlkZXJzXCI6XCIxNi4xLjBcIixcIkBtZXRhbWFzay9zZGstYW5hbHl0aWNzXCI6XCJ3b3Jrc3BhY2U6KlwiLFwiQG1ldGFtYXNrL3Nkay1jb21tdW5pY2F0aW9uLWxheWVyXCI6XCJ3b3Jrc3BhY2U6KlwiLFwiQG1ldGFtYXNrL3Nkay1pbnN0YWxsLW1vZGFsLXdlYlwiOlwid29ya3NwYWNlOipcIixcIkBwYXVsbWlsbHIvcXJcIjpcIl4wLjIuMVwiLGJvd3NlcjpcIl4yLjkuMFwiLFwiY3Jvc3MtZmV0Y2hcIjpcIl40LjAuMFwiLGRlYnVnOlwiNC4zLjRcIixlY2llc2pzOlwiXjAuNC4xMVwiLFwiZXRoLXJwYy1lcnJvcnNcIjpcIl40LjAuM1wiLGV2ZW50ZW1pdHRlcjI6XCJeNi40LjlcIixcIm9iai1tdWx0aXBsZXhcIjpcIl4xLjAuMFwiLHB1bXA6XCJeMy4wLjBcIixcInJlYWRhYmxlLXN0cmVhbVwiOlwiXjMuNi4yXCIsXCJzb2NrZXQuaW8tY2xpZW50XCI6XCJeNC41LjFcIix0c2xpYjpcIl4yLjYuMFwiLHV0aWw6XCJeMC4xMi40XCIsdXVpZDpcIl44LjMuMlwifSxkZXZEZXBlbmRlbmNpZXM6e1wiQGplc3QvZ2xvYmFsc1wiOlwiXjI5LjMuMVwiLFwiQGxhdmFtb2F0L2FsbG93LXNjcmlwdHNcIjpcIl4yLjMuMVwiLFwiQG1ldGFtYXNrL2F1dG8tY2hhbmdlbG9nXCI6XCIzLjEuMFwiLFwiQG1ldGFtYXNrL2VzbGludC1jb25maWdcIjpcIl42LjAuMFwiLFwiQG1ldGFtYXNrL2VzbGludC1jb25maWctbm9kZWpzXCI6XCJeNi4wLjBcIixcIkBtZXRhbWFzay9lc2xpbnQtY29uZmlnLXR5cGVzY3JpcHRcIjpcIl42LjAuMFwiLFwiQHJlYWN0LW5hdGl2ZS1hc3luYy1zdG9yYWdlL2FzeW5jLXN0b3JhZ2VcIjpcIl4xLjE5LjZcIixcIkByb2xsdXAvcGx1Z2luLWFsaWFzXCI6XCJeNS4xLjFcIixcIkByb2xsdXAvcGx1Z2luLWNvbW1vbmpzXCI6XCJeMjUuMC43XCIsXCJAcm9sbHVwL3BsdWdpbi1qc29uXCI6XCJeNi4wLjBcIixcIkByb2xsdXAvcGx1Z2luLW5vZGUtcmVzb2x2ZVwiOlwiXjE1LjAuMlwiLFwiQHJvbGx1cC9wbHVnaW4tcmVwbGFjZVwiOlwiXjYuMC4xXCIsXCJAcm9sbHVwL3BsdWdpbi10ZXJzZXJcIjpcIl4wLjQuMVwiLFwiQHNpemUtbGltaXQvcHJlc2V0LWJpZy1saWJcIjpcIl4xMS4wLjJcIixcIkB0eXBlcy9kb20tc2NyZWVuLXdha2UtbG9ja1wiOlwiXjEuMC4yXCIsXCJAdHlwZXMvbm9kZVwiOlwiXjIwLjEuM1wiLFwiQHR5cGVzL3B1bXBcIjpcIl4xLjEuMVwiLFwiQHR5cGVzL3FyY29kZS10ZXJtaW5hbFwiOlwiXjAuMTIuMFwiLFwiQHR5cGVzL3V1aWRcIjpcIl4xMC4wLjBcIixcIkB0eXBlc2NyaXB0LWVzbGludC9lc2xpbnQtcGx1Z2luXCI6XCJeNC4yNi4wXCIsXCJAdHlwZXNjcmlwdC1lc2xpbnQvcGFyc2VyXCI6XCJeNC4yNi4wXCIsXCJicm93c2VyaWZ5LXpsaWJcIjpcIl4wLjIuMFwiLGJ1ZmZlcjpcIl42LjAuM1wiLGNvbmN1cnJlbnRseTpcIl45LjEuMlwiLFwiY3J5cHRvLWJyb3dzZXJpZnlcIjpcIl4zLjEyLjBcIixlc2xpbnQ6XCJeNy4zMC4wXCIsXCJlc2xpbnQtY29uZmlnLXByZXR0aWVyXCI6XCJeOC4zLjBcIixcImVzbGludC1wbHVnaW4taW1wb3J0XCI6XCJeMi4yMy40XCIsXCJlc2xpbnQtcGx1Z2luLWplc3RcIjpcIl4yNC40LjBcIixcImVzbGludC1wbHVnaW4tanNkb2NcIjpcIl4zNi4xLjBcIixcImVzbGludC1wbHVnaW4tbm9kZVwiOlwiXjExLjEuMFwiLFwiZXNsaW50LXBsdWdpbi1wcmV0dGllclwiOlwiXjMuNC4wXCIsXCJodHRwcy1icm93c2VyaWZ5XCI6XCJeMS4wLjBcIixqZXN0OlwiXjI5LjMuMVwiLFwiamVzdC1lbnZpcm9ubWVudC1qc2RvbVwiOlwiXjI5LjMuMVwiLHByZXR0aWVyOlwiXjIuMy4wXCIscHJvY2VzczpcIl4wLjExLjEwXCIscmltcmFmOlwiXjQuNC4wXCIscm9sbHVwOlwiXjQuMjYuMFwiLFwicm9sbHVwLXBsdWdpbi1hbmFseXplclwiOlwiXjQuMC4wXCIsXCJyb2xsdXAtcGx1Z2luLWpzY2NcIjpcIl4yLjAuMFwiLFwicm9sbHVwLXBsdWdpbi1uYXRpdmVzXCI6XCJeMC43LjVcIixcInJvbGx1cC1wbHVnaW4tbm9kZS1idWlsdGluc1wiOlwiXjIuMS4yXCIsXCJyb2xsdXAtcGx1Z2luLXBvbHlmaWxsLW5vZGVcIjpcIl4wLjEzLjBcIixcInJvbGx1cC1wbHVnaW4tc2l6ZXNcIjpcIl4xLjAuNlwiLFwicm9sbHVwLXBsdWdpbi10eXBlc2NyaXB0MlwiOlwiXjAuMzEuMlwiLFwicm9sbHVwLXBsdWdpbi12aXN1YWxpemVyXCI6XCJeNS4xMi4wXCIsXCJzaXplLWxpbWl0XCI6XCJeMTEuMC4yXCIsXCJzdHJlYW0tYnJvd3NlcmlmeVwiOlwiXjMuMC4wXCIsXCJzdHJlYW0taHR0cFwiOlwiXjMuMi4wXCIsXCJ0cy1qZXN0XCI6XCJeMjkuMC4zXCIsXCJ0cy1ub2RlXCI6XCJeMTAuOS4xXCIsdHlwZXNjcmlwdDpcIl40LjMuMlwiLHVybDpcIl4wLjExLjBcIix3ZWJwYWNrOlwiXjUuMC4wXCJ9LHB1Ymxpc2hDb25maWc6e2FjY2VzczpcInB1YmxpY1wiLHJlZ2lzdHJ5OlwiaHR0cHM6Ly9yZWdpc3RyeS5ucG1qcy5vcmcvXCJ9LGxhdmFtb2F0OnthbGxvd1NjcmlwdHM6e1wiZWNpZXNqcz5zZWNwMjU2azFcIjohMSxcInNvY2tldC5pby1jbGllbnQ+ZW5naW5lLmlvLWNsaWVudD53cz5idWZmZXJ1dGlsXCI6ITEsXCJzb2NrZXQuaW8tY2xpZW50PmVuZ2luZS5pby1jbGllbnQ+d3M+dXRmLTgtdmFsaWRhdGVcIjohMSxcIkBtZXRhbWFzay9zZGstY29tbXVuaWNhdGlvbi1sYXllcj5idWZmZXJ1dGlsXCI6ITEsXCJAbWV0YW1hc2svc2RrLWNvbW11bmljYXRpb24tbGF5ZXI+ZWNpZXNqcz5zZWNwMjU2azFcIjohMSxcIkBtZXRhbWFzay9zZGstY29tbXVuaWNhdGlvbi1sYXllcj51dGYtOC12YWxpZGF0ZVwiOiExfX19OyFmdW5jdGlvbihlKXtlLklOUEFHRT1cIm1ldGFtYXNrLWlucGFnZVwiLGUuQ09OVEVOVF9TQ1JJUFQ9XCJtZXRhbWFzay1jb250ZW50c2NyaXB0XCIsZS5QUk9WSURFUj1cIm1ldGFtYXNrLXByb3ZpZGVyXCJ9KG1jfHwobWM9e30pKTtjb25zdCB5Yz1cImRpcmVjdFwiLHZjPVwiaHR0cHM6Ly9tZXRhbWFzay5hcHAubGluay9jb25uZWN0XCIsRWM9XCJtZXRhbWFzazovL2Nvbm5lY3RcIixiYz17TkFNRTpcIk1ldGFNYXNrXCIsUkROUzpbXCJpby5tZXRhbWFza1wiLFwiaW8ubWV0YW1hc2suZmxhc2tcIl19LHdjPS8oPzpeW2EtZjAtOV17OH0tW2EtZjAtOV17NH0tNFthLWYwLTldezN9LVthLWYwLTldezR9LVthLWYwLTldezEyfSQpfCg/Ol4wezh9LTB7NH0tMHs0fS0wezR9LTB7MTJ9JCkvdSxTYz17TUVUQU1BU0tfR0VUUFJPVklERVJTVEFURTpcIm1ldGFtYXNrX2dldFByb3ZpZGVyU3RhdGVcIixNRVRBTUFTS19DT05ORUNUU0lHTjpcIm1ldGFtYXNrX2Nvbm5lY3RTaWduXCIsTUVUQU1BU0tfQ09OTkVDVFdJVEg6XCJtZXRhbWFza19jb25uZWN0V2l0aFwiLE1FVEFNQVNLX09QRU46XCJtZXRhbWFza19vcGVuXCIsTUVUQU1BU0tfQkFUQ0g6XCJtZXRhbWFza19iYXRjaFwiLFBFUlNPTkFMX1NJR046XCJwZXJzb25hbF9zaWduXCIsV0FMTEVUX1JFUVVFU1RQRVJNSVNTSU9OUzpcIndhbGxldF9yZXF1ZXN0UGVybWlzc2lvbnNcIixXQUxMRVRfUkVWT0tFUEVSTUlTU0lPTlM6XCJ3YWxsZXRfcmV2b2tlUGVybWlzc2lvbnNcIixXQUxMRVRfR0VUUEVSTUlTU0lPTlM6XCJ3YWxsZXRfZ2V0UGVybWlzc2lvbnNcIixXQUxMRVRfV0FUQ0hBU1NFVDpcIndhbGxldF93YXRjaEFzc2V0XCIsV0FMTEVUX0FEREVUSEVSRVVNQ0hBSU46XCJ3YWxsZXRfYWRkRXRoZXJldW1DaGFpblwiLFdBTExFVF9TV0lUQ0hFVEhFVEhFUkVVTUNIQUlOOlwid2FsbGV0X3N3aXRjaEV0aGVyZXVtQ2hhaW5cIixFVEhfUkVRVUVTVEFDQ09VTlRTOlwiZXRoX3JlcXVlc3RBY2NvdW50c1wiLEVUSF9BQ0NPVU5UUzpcImV0aF9hY2NvdW50c1wiLEVUSF9DSEFJTklEOlwiZXRoX2NoYWluSWRcIixFVEhfU0VORFRSQU5TQUNUSU9OOlwiZXRoX3NlbmRUcmFuc2FjdGlvblwiLEVUSF9TSUdOVFlQRUREQVRBOlwiZXRoX3NpZ25UeXBlZERhdGFcIixFVEhfU0lHTlRZUEVEREFUQV9WMzpcImV0aF9zaWduVHlwZWREYXRhX3YzXCIsRVRIX1NJR05UWVBFRERBVEFfVjQ6XCJldGhfc2lnblR5cGVkRGF0YV92NFwiLEVUSF9TSUdOVFJBTlNBQ1RJT046XCJldGhfc2lnblRyYW5zYWN0aW9uXCIsRVRIX1NJR046XCJldGhfc2lnblwiLFBFUlNPTkFMX0VDX1JFQ09WRVI6XCJwZXJzb25hbF9lY1JlY292ZXJcIn0sX2M9e1tTYy5FVEhfUkVRVUVTVEFDQ09VTlRTXTohMCxbU2MuRVRIX1NFTkRUUkFOU0FDVElPTl06ITAsW1NjLkVUSF9TSUdOVFJBTlNBQ1RJT05dOiEwLFtTYy5FVEhfU0lHTl06ITAsW1NjLlBFUlNPTkFMX1NJR05dOiEwLFtTYy5FVEhfQUNDT1VOVFNdOiExLFtTYy5FVEhfQ0hBSU5JRF06ITEsW1NjLlBFUlNPTkFMX1NJR05dOiEwLFtTYy5FVEhfU0lHTlRZUEVEREFUQV06ITAsW1NjLkVUSF9TSUdOVFlQRUREQVRBX1YzXTohMCxbU2MuRVRIX1NJR05UWVBFRERBVEFfVjRdOiEwLFtTYy5XQUxMRVRfUkVRVUVTVFBFUk1JU1NJT05TXTohMCxbU2MuV0FMTEVUX0dFVFBFUk1JU1NJT05TXTohMCxbU2MuV0FMTEVUX1dBVENIQVNTRVRdOiEwLFtTYy5XQUxMRVRfQURERVRIRVJFVU1DSEFJTl06ITAsW1NjLldBTExFVF9TV0lUQ0hFVEhFVEhFUkVVTUNIQUlOXTohMCxbU2MuTUVUQU1BU0tfQ09OTkVDVFNJR05dOiEwLFtTYy5NRVRBTUFTS19DT05ORUNUV0lUSF06ITAsW1NjLlBFUlNPTkFMX0VDX1JFQ09WRVJdOiEwLFtTYy5NRVRBTUFTS19CQVRDSF06ITAsW1NjLk1FVEFNQVNLX09QRU5dOiEwfSxDYz1PYmplY3Qua2V5cyhfYykuZmlsdGVyKChlPT4hMD09PV9jW2VdKSkubWFwKChlPT5lLnRvTG93ZXJDYXNlKCkpKSx4Yz1bXCJldGhfc2lnblR5cGVkRGF0YVwiLFwiZXRoX3NpZ25UeXBlZERhdGFfdjNcIixcImV0aF9zaWduVHlwZWREYXRhX3Y0XCIsXCJldGhfc2lnblwiXS5tYXAoKGU9PmUudG9Mb3dlckNhc2UoKSkpLGtjPVwiLnNkay1jb21tXCIsTWM9XCJwcm92aWRlclR5cGVcIixBYz1cIi5NTVNES19jYWNoZWRfYWRkcmVzc1wiLFRjPVwiLk1NU0RLX2NhY2hlZF9jaGFpbklkXCIsSWM9e0NIQUlOX0NIQU5HRUQ6XCJjaGFpbkNoYW5nZWRcIixBQ0NPVU5UU19DSEFOR0VEOlwiYWNjb3VudHNDaGFuZ2VkXCIsRElTQ09OTkVDVDpcImRpc2Nvbm5lY3RcIixDT05ORUNUOlwiY29ubmVjdFwiLENPTk5FQ1RFRDpcImNvbm5lY3RlZFwifSxSYz0xZTY7dmFyIFBjO2V4cG9ydHMuUFJPVklERVJfVVBEQVRFX1RZUEU9dm9pZCAwLChQYz1leHBvcnRzLlBST1ZJREVSX1VQREFURV9UWVBFfHwoZXhwb3J0cy5QUk9WSURFUl9VUERBVEVfVFlQRT17fSkpLlRFUk1JTkFURT1cInRlcm1pbmF0ZVwiLFBjLkVYVEVOU0lPTj1cImV4dGVuc2lvblwiLFBjLklOSVRJQUxJWkVEPVwiaW5pdGlhbGl6ZWRcIjtjb25zdCBPYz1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cubG9jYWxTdG9yYWdlO2Z1bmN0aW9uIE5jKHtpbnN0YW5jZTplLG1zZzp0fSl7cmV0dXJuIHUodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtpZihlLl9pbml0aWFsaXplZHx8KERhKFwiW01ldGFNYXNrU0RLOiBjb25uZWN0QW5kU2lnbigpXSBwcm92aWRlciBub3QgcmVhZHkgLS0gd2FpdCBmb3IgaW5pdCgpXCIpLHlpZWxkIGUuaW5pdCgpKSxEYShgW01ldGFNYXNrU0RLOiBjb25uZWN0QW5kU2lnbigpXSBhY3RpdmVQcm92aWRlcj0ke2UuYWN0aXZlUHJvdmlkZXJ9YCksIWUuYWN0aXZlUHJvdmlkZXIpdGhyb3cgbmV3IEVycm9yKFwiU0RLIHN0YXRlIGludmFsaWQgLS0gdW5kZWZpbmVkIHByb3ZpZGVyXCIpO2NvbnN0IG49L14weChbMC05QS1GYS1mXXsyfSkqJC91LnRlc3QodCk/dDpmdW5jdGlvbihlKXtsZXQgdDtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgQnVmZmVyKXQ9QnVmZmVyLmZyb20oZSxcInV0ZjhcIikudG9TdHJpbmcoXCJoZXhcIik7ZWxzZSBpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgVGV4dEVuY29kZXIpe2NvbnN0IG49KG5ldyBUZXh0RW5jb2RlcikuZW5jb2RlKGUpO3Q9QXJyYXkuZnJvbShuKS5tYXAoKGU9PmUudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsXCIwXCIpKSkuam9pbihcIlwiKX1lbHNle2lmKFwib2JqZWN0XCIhPXR5cGVvZiBnbG9iYWx8fCEoXCJCdWZmZXJcImluIGdsb2JhbCkpdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGNvbnZlcnQgc3RyaW5nIHRvIGhleDogTm8gYXZhaWxhYmxlIG1ldGhvZC5cIik7dD1nbG9iYWwuQnVmZmVyLmZyb20oZSxcInV0ZjhcIikudG9TdHJpbmcoXCJoZXhcIil9cmV0dXJuYDB4JHt0fWB9KHQpO3JldHVybiBlLmFjdGl2ZVByb3ZpZGVyLnJlcXVlc3Qoe21ldGhvZDpTYy5NRVRBTUFTS19DT05ORUNUV0lUSCxwYXJhbXM6W3ttZXRob2Q6U2MuUEVSU09OQUxfU0lHTixwYXJhbXM6W25dfV19KX0pKX1mdW5jdGlvbiBEYyhlKXt2YXIgdCxuO3JldHVybiB1KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7RGEoXCJbTWV0YU1hc2tTREs6IGNvbm5lY3RXaXRoRXh0ZW5zaW9uUHJvdmlkZXIoKV0gXCIsZSksZS5zZGtQcm92aWRlcj1lLmFjdGl2ZVByb3ZpZGVyLGUuYWN0aXZlUHJvdmlkZXI9d2luZG93LmV4dGVuc2lvbix3aW5kb3cuZXRoZXJldW09d2luZG93LmV4dGVuc2lvbjt0cnl7Y29uc3QgZT15aWVsZCBudWxsPT09KHQ9d2luZG93LmV4dGVuc2lvbil8fHZvaWQgMD09PXQ/dm9pZCAwOnQucmVxdWVzdCh7bWV0aG9kOlwiZXRoX3JlcXVlc3RBY2NvdW50c1wifSk7RGEoYFtNZXRhTWFza1NESzogY29ubmVjdFdpdGhFeHRlbnNpb25Qcm92aWRlcigpXSBhY2NvdW50cz0ke2V9YCl9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgY29uc29sZS53YXJuKFwiW01ldGFNYXNrU0RLOiBjb25uZWN0V2l0aEV4dGVuc2lvblByb3ZpZGVyKCldIGNhbid0IHJlcXVlc3QgYWNjb3VudHMgZXJyb3JcIixlKX1sb2NhbFN0b3JhZ2Uuc2V0SXRlbShNYyxcImV4dGVuc2lvblwiKSxlLmV4dGVuc2lvbkFjdGl2ZT0hMCxlLmVtaXQobGMuUHJvdmlkZXJVcGRhdGUsZXhwb3J0cy5QUk9WSURFUl9VUERBVEVfVFlQRS5FWFRFTlNJT04pLGUub3B0aW9ucy5lbmFibGVBbmFseXRpY3MmJihudWxsPT09KG49ZS5hbmFseXRpY3MpfHx2b2lkIDA9PT1ufHxuLnNlbmQoe2V2ZW50OmZyLlNES19VU0VfRVhURU5TSU9OfSkpfSkpfWZ1bmN0aW9uIExjKGUpe2xldCB0O2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBCdWZmZXIpdD1CdWZmZXIuZnJvbShlLFwidXRmOFwiKS50b1N0cmluZyhcImJhc2U2NFwiKTtlbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGJ0b2EpdD1idG9hKGVuY29kZVVSSUNvbXBvbmVudChlKS5yZXBsYWNlKC8lKFswLTlBLUZdezJ9KS9ndSwoKGUsdCk9PlN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQodCwxNikpKSkpO2Vsc2V7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGdsb2JhbHx8IShcIkJ1ZmZlclwiaW4gZ2xvYmFsKSl0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gYmFzZTY0IGVuY29kZTogTm8gYXZhaWxhYmxlIG1ldGhvZC5cIik7dD1nbG9iYWwuQnVmZmVyLmZyb20oZSxcInV0ZjhcIikudG9TdHJpbmcoXCJiYXNlNjRcIil9cmV0dXJuIHR9ZnVuY3Rpb24gQmMoZSx0LHIsaSl7dmFyIG8scyxhLGMsZCxsLGgsZixwLG0sZyx5LHYsRSxiLHcsUyxfLEMseDtyZXR1cm4gdSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2NvbnN0IHI9bnVsbD09PShvPWUuc3RhdGUucmVtb3RlKXx8dm9pZCAwPT09bz92b2lkIDA6by5pc1JlYWR5KCksdT1udWxsPT09KHM9ZS5zdGF0ZS5yZW1vdGUpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLmlzQ29ubmVjdGVkKCksaz1udWxsPT09KGE9ZS5zdGF0ZS5yZW1vdGUpfHx2b2lkIDA9PT1hP3ZvaWQgMDphLmlzUGF1c2VkKCksTT11Yy5nZXRQcm92aWRlcigpLEE9bnVsbD09PShjPWUuc3RhdGUucmVtb3RlKXx8dm9pZCAwPT09Yz92b2lkIDA6Yy5nZXRDaGFubmVsSWQoKSxUPW51bGw9PT0oZD1lLnN0YXRlLnJlbW90ZSl8fHZvaWQgMD09PWQ/dm9pZCAwOmQuaXNBdXRob3JpemVkKCkse2RlZXBsaW5rUHJvdG9jb2w6SX09ZS5zdGF0ZSx7bWV0aG9kOlIsZGF0YTpQLHRyaWdnZXJlZEluc3RhbGxlcjpPfT0oZT0+e3ZhciB0LHIsaSxvO2xldCBzO24uQnVmZmVyLmlzQnVmZmVyKGUpPyhzPWUudG9KU09OKCkscy5faXNCdWZmZXI9ITApOnM9ZTtjb25zdCBhPW51bGw9PT0odD1udWxsPT1zP3ZvaWQgMDpzLmRhdGEpfHx2b2lkIDA9PT10P3ZvaWQgMDp0Lm1ldGhvZDtsZXQgYz0hMTtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YobnVsbD09PShyPW51bGw9PXM/dm9pZCAwOnMuZGF0YSl8fHZvaWQgMD09PXI/dm9pZCAwOnIucGFyYW1zKSYmITA9PT0obnVsbD09PShvPW51bGw9PT0oaT1udWxsPT1zP3ZvaWQgMDpzLmRhdGEpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnBhcmFtcyl8fHZvaWQgMD09PW8/dm9pZCAwOm8uX190cmlnZ2VyZWRJbnN0YWxsZXIpJiYoYz0hMCxzLmRhdGEucGFyYW1zPXMuZGF0YS5wYXJhbXMud3JhcHBlZFBhcmFtcykse21ldGhvZDphLGRhdGE6cyx0cmlnZ2VyZWRJbnN0YWxsZXI6Y319KSh0KTtpZihEYShgW1JDUE1TOiB3cml0ZSgpXSBtZXRob2Q9JyR7Un0nIGlzUmVtb3RlUmVhZHk9JHtyfSBjaGFubmVsSWQ9JHtBfSBpc1NvY2tldENvbm5lY3RlZD0ke3V9IGlzUmVtb3RlUGF1c2VkPSR7a30gcHJvdmlkZXJDb25uZWN0ZWQ9JHtNLmlzQ29ubmVjdGVkKCl9YCx0KSwhQSlyZXR1cm4gUiE9PVNjLk1FVEFNQVNLX0dFVFBST1ZJREVSU1RBVEUmJkRhKGBbUkNQTVM6IHdyaXRlKCldICR7Un0gLS1cXHgzZSBjaGFubmVsSWQgaXMgdW5kZWZpbmVkYCksaShuZXcgRXJyb3IoXCJkaXNjb25uZWN0ZWRcIikpO0RhKGBbUkNQTVM6IHdyaXRlKCldIHJlbW90ZS5pc1BhdXNlZCgpPSR7bnVsbD09PShsPWUuc3RhdGUucmVtb3RlKXx8dm9pZCAwPT09bD92b2lkIDA6bC5pc1BhdXNlZCgpfSBhdXRob3JpemVkPSR7VH0gcmVhZHk9JHtyfSBzb2NrZXRDb25uZWN0ZWQ9JHt1fWAsdCk7Y29uc3QgTj1udWxsPT09KGg9ZS5zdGF0ZS5wbGF0Zm9ybU1hbmFnZXIpfHx2b2lkIDA9PT1oP3ZvaWQgMDpoLmlzU2VjdXJlKCksRD1udWxsIT09KHA9bnVsbD09PShmPWUuc3RhdGUucGxhdGZvcm1NYW5hZ2VyKXx8dm9pZCAwPT09Zj92b2lkIDA6Zi5pc01vYmlsZVdlYigpKSYmdm9pZCAwIT09cCYmcCxMPW51bGwhPT0oZz1udWxsPT09KG09ZS5zdGF0ZS5yZW1vdGUpfHx2b2lkIDA9PT1tP3ZvaWQgMDptLmhhc0RlZXBsaW5rUHJvdG9jb2woKSkmJnZvaWQgMCE9PWcmJmcmJkQmJlQ7dHJ5e2lmKCFPKXtjb25zdCB0PUpTT04uc3RyaW5naWZ5KG51bGw9PVA/dm9pZCAwOlAuZGF0YSk7aWYodC5sZW5ndGg+UmMpcmV0dXJuIGkobmV3IEVycm9yKGBNZXNzYWdlIHNpemUgJHt0Lmxlbmd0aH0gZXhjZWVkcyBtYXhpbXVtIGFsbG93ZWQgc2l6ZSBvZiAxMDAwMDAwIGJ5dGVzYCkpO251bGw9PT0oeT1lLnN0YXRlLnJlbW90ZSl8fHZvaWQgMD09PXl8fHkuc2VuZE1lc3NhZ2UobnVsbD09UD92b2lkIDA6UC5kYXRhKS50aGVuKCgoKT0+e0RhKGBbUkNQTVM6IF93cml0ZSgpXSAke1J9IHNlbnQgc3VjY2Vzc2Z1bGx5YCl9KSkuY2F0Y2goKGU9PntEYShcIltSQ1BNUzogX3dyaXRlKCldIGVycm9yIHNlbmRpbmcgbWVzc2FnZVwiLGUpfSkpfWlmKCFOKXJldHVybiBEYShgW1JDUE1TOiBfd3JpdGUoKV0gdW5zZWN1cmUgcGxhdGZvcm0gZm9yIG1ldGhvZCAke1J9IC0tIHJldHVybiBjYWxsYmFja2ApLGkoKTtpZihPKXJldHVybiBEYShcIltSQ1BNUzogX3dyaXRlKCldIHByZXZlbnQgZGVlcGxpbmsgLS0gaW5zdGFsbGF0aW9uIGNvbXBsZXRlZCBzZXBhcmF0ZWx5LlwiKSxpKCk7Y29uc3QgdD1udWxsIT09KGI9bnVsbD09PShFPW51bGw9PT0odj1lLnN0YXRlLnJlbW90ZSl8fHZvaWQgMD09PXY/dm9pZCAwOnYuZ2V0S2V5SW5mbygpKXx8dm9pZCAwPT09RT92b2lkIDA6RS5lY2llcy5wdWJsaWMpJiZ2b2lkIDAhPT1iP2I6XCJcIjtsZXQgbj1lbmNvZGVVUkkoYGNoYW5uZWxJZD0ke0F9JnB1YmtleT0ke3R9JmNvbW09c29ja2V0JnQ9ZCZ2PTJgKTtpZihMKXtjb25zdCB0PUpTT04uc3RyaW5naWZ5KG51bGw9PVA/dm9pZCAwOlAuZGF0YSkscj1udWxsPT09KHc9ZS5zdGF0ZS5yZW1vdGUpfHx2b2lkIDA9PT13P3ZvaWQgMDp3LmVuY3J5cHQodCk7aWYoIXIpcmV0dXJuIERhKFwiW1JDUE1TOiBfd3JpdGUoKV0gZXJyb3IgZW5jcnlwdGluZyBtZXNzYWdlXCIpLGkobmV3IEVycm9yKFwiUmVtb3RlQ29tbXVuaWNhdGlvblBvc3RNZXNzYWdlU3RyZWFtIC0gZGlzY29ubmVjdGVkXCIpKTtuKz1gJnNjaGVtZT0ke0l9JnJwYz0ke0xjKHIpfWB9aWYoIShudWxsPT09KFM9ZS5zdGF0ZS5wbGF0Zm9ybU1hbmFnZXIpfHx2b2lkIDA9PT1TP3ZvaWQgMDpTLmlzTWV0YU1hc2tJbnN0YWxsZWQoKSkpcmV0dXJuIERhKFwiW1JDUE1TOiBfd3JpdGUoKV0gcHJldmVudCBkZWVwbGluayB1bnRpbCBpbnN0YWxsYXRpb24gaXMgY29tcGxldGVkLlwiKSxpKCk7X2NbUl0/KERhKGBbUkNQTVM6IF93cml0ZSgpXSByZWRpcmVjdCBsaW5rIGZvciAnJHtSfScgc29ja2V0Q29ubmVjdGVkPSR7dX0gY29ubmVjdD8ke259YCksbnVsbD09PShfPWUuc3RhdGUucGxhdGZvcm1NYW5hZ2VyKXx8dm9pZCAwPT09X3x8Xy5vcGVuRGVlcGxpbmsoYCR7dmN9PyR7bn1gLGAke0VjfT8ke259YCxcIl9zZWxmXCIpKToobnVsbD09PShDPWUuc3RhdGUucmVtb3RlKXx8dm9pZCAwPT09Qz92b2lkIDA6Qy5pc1BhdXNlZCgpKT8oRGEoYFtSQ1BNUzogX3dyaXRlKCldIE1NIGlzIFBBVVNFRCEgZGVlcGxpbmsgd2l0aCBjb25uZWN0ISB0YXJnZXRNZXRob2Q9JHtSfWApLG51bGw9PT0oeD1lLnN0YXRlLnBsYXRmb3JtTWFuYWdlcil8fHZvaWQgMD09PXh8fHgub3BlbkRlZXBsaW5rKGAke3ZjfT9yZWRpcmVjdD10cnVlJiR7bn1gLGAke0VjfT9yZWRpcmVjdD10cnVlJiR7bn1gLFwiX3NlbGZcIikpOkRhKGBbUkNQTVM6IF93cml0ZSgpXSBtZXRob2QgJHtSfSBkb2Vzbid0IG5lZWQgcmVkaXJlY3QuYCl9Y2F0Y2goZSl7cmV0dXJuIERhKFwiW1JDUE1TOiBfd3JpdGUoKV0gZXJyb3Igc2VuZGluZyBtZXNzYWdlXCIsZSksaShuZXcgRXJyb3IoXCJSZW1vdGVDb21tdW5pY2F0aW9uUG9zdE1lc3NhZ2VTdHJlYW0gLSBkaXNjb25uZWN0ZWRcIikpfXJldHVybiBpKCl9KSl9Y2xhc3MgS2MgZXh0ZW5kcyB1YS5EdXBsZXh7Y29uc3RydWN0b3Ioe25hbWU6ZSxyZW1vdGU6dCxkZWVwbGlua1Byb3RvY29sOm4scGxhdGZvcm1NYW5hZ2VyOnJ9KXtzdXBlcih7b2JqZWN0TW9kZTohMH0pLHRoaXMuc3RhdGU9e19uYW1lOm51bGwscmVtb3RlOm51bGwsZGVlcGxpbmtQcm90b2NvbDohMSxwbGF0Zm9ybU1hbmFnZXI6bnVsbH0sdGhpcy5zdGF0ZS5fbmFtZT1lLHRoaXMuc3RhdGUucmVtb3RlPXQsdGhpcy5zdGF0ZS5kZWVwbGlua1Byb3RvY29sPW4sdGhpcy5zdGF0ZS5wbGF0Zm9ybU1hbmFnZXI9cix0aGlzLl9vbk1lc3NhZ2U9dGhpcy5fb25NZXNzYWdlLmJpbmQodGhpcyksdGhpcy5zdGF0ZS5yZW1vdGUub24oZXhwb3J0cy5FdmVudFR5cGUuTUVTU0FHRSx0aGlzLl9vbk1lc3NhZ2UpfV93cml0ZShlLHQsbil7cmV0dXJuIHUodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtyZXR1cm4gQmModGhpcyxlLDAsbil9KSl9X3JlYWQoKXt9X29uTWVzc2FnZShlKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXt0cnl7aWYoRGEoXCJbUkNQTVM6IG9uTWVzc2FnZSgpXSBtZXNzYWdlXCIsdCksIXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0KXJldHVybjtpZihcIm9iamVjdFwiIT10eXBlb2YobnVsbD09dD92b2lkIDA6dC5kYXRhKSlyZXR1cm47aWYoIShudWxsPT10P3ZvaWQgMDp0Lm5hbWUpKXJldHVybiB2b2lkIERhKFwiW1JDUE1TOiBvbk1lc3NhZ2UoKV0gaWdub3JlIG1lc3NhZ2Ugd2l0aG91dCBuYW1lXCIsdCk7aWYoKG51bGw9PXQ/dm9pZCAwOnQubmFtZSkhPT1tYy5QUk9WSURFUilyZXR1cm4gdm9pZCBEYShgW1JDUE1TOiBvbk1lc3NhZ2UoKV0gaWdub3JlIG1lc3NhZ2Ugd2l0aCB3cm9uZyBuYW1lIG1lc3NhZ2U9JHt0fWApO2lmKG4uQnVmZmVyLmlzQnVmZmVyKHQpKXtjb25zdCByPW4uQnVmZmVyLmZyb20odCk7ZS5wdXNoKHIpfWVsc2UgZS5wdXNoKHQpfWNhdGNoKGUpe0RhKGBbUkNQTVM6IG9uTWVzc2FnZSgpXSBpZ25vcmUgbWVzc2FnZSBlcnJvciBlcnI9JHtlfWApfX0odGhpcyxlKX1zdGFydCgpe319bGV0IGpjPTE7Y29uc3QgJGM9ZT0+bmV3IFByb21pc2UoKHQ9PntzZXRUaW1lb3V0KCgoKT0+e3QoITApfSksZSl9KSksSGM9KHtjaGVja0luc3RhbGxhdGlvbk9uQWxsQ2FsbHM6dD0hMSxjb21tdW5pY2F0aW9uTGF5ZXJQcmVmZXJlbmNlOm4saW5qZWN0UHJvdmlkZXI6cixzaG91bGRTaGltV2ViMzppLHBsYXRmb3JtTWFuYWdlcjpvLGluc3RhbGxlcjpzLHNkazphLHJlbW90ZUNvbm5lY3Rpb246YyxkZWJ1ZzpkfSk9PnUodm9pZCAwLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3ZhciBsLGg7Y29uc3QgZj0oKHtuYW1lOmUscmVtb3RlQ29ubmVjdGlvbjp0fSk9PntpZighdHx8IShudWxsPT10P3ZvaWQgMDp0LmdldENvbm5lY3RvcigpKSl0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHJlbW90ZSBjb25uZWN0aW9uIHBhcmFtZXRlclwiKTtyZXR1cm4gbmV3IEtjKHtuYW1lOmUscmVtb3RlOm51bGw9PXQ/dm9pZCAwOnQuZ2V0Q29ubmVjdG9yKCksZGVlcGxpbmtQcm90b2NvbDpudWxsPT10P3ZvaWQgMDp0LnN0YXRlLmRlZXBsaW5rUHJvdG9jb2wscGxhdGZvcm1NYW5hZ2VyOm51bGw9PXQ/dm9pZCAwOnQuZ2V0UGxhdGZvcm1NYW5hZ2VyKCl9KX0pKHtuYW1lOm1jLklOUEFHRSx0YXJnZXQ6bWMuQ09OVEVOVF9TQ1JJUFQscGxhdGZvcm1NYW5hZ2VyOm8sY29tbXVuaWNhdGlvbkxheWVyUHJlZmVyZW5jZTpuLHJlbW90ZUNvbm5lY3Rpb246Y30pLHA9by5nZXRQbGF0Zm9ybVR5cGUoKSxtPWEub3B0aW9ucy5kYXBwTWV0YWRhdGEsZz1gU2RrL0phdmFzY3JpcHQgU2RrVmVyc2lvbi8ke2djLnZlcnNpb259IFBsYXRmb3JtLyR7cH0gZEFwcC8ke251bGwhPT0obD1tLnVybCkmJnZvaWQgMCE9PWw/bDptLm5hbWV9IGRBcHBUaXRsZS8ke20ubmFtZX1gO2xldCB5PW51bGwsdj1udWxsO2NvbnN0IEU9bnVsbD09PShoPWEub3B0aW9ucy5zdG9yYWdlKXx8dm9pZCAwPT09aD92b2lkIDA6aC5zdG9yYWdlTWFuYWdlcjtpZihFKXt0cnl7Y29uc3QgZT15aWVsZCBFLmdldENhY2hlZEFjY291bnRzKCk7ZS5sZW5ndGg+MCYmKHk9ZVswXSl9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihgW2luaXRpYWxpemVNb2JpbGVQcm92aWRlcl0gZmFpbGVkIHRvIGdldCBjYWNoZWQgYWRkcmVzc2VzOiAke2V9YCl9dHJ5e2NvbnN0IGU9eWllbGQgRS5nZXRDYWNoZWRDaGFpbklkKCk7ZSYmKHY9ZSl9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihgW2luaXRpYWxpemVNb2JpbGVQcm92aWRlcl0gZmFpbGVkIHRvIHBhcnNlIGNhY2hlZCBjaGFpbklkOiAke2V9YCl9fURhKGBbaW5pdGlhbGl6ZU1vYmlsZVByb3ZpZGVyXSBjYWNoZWRBY2NvdW50QWRkcmVzczogJHt5fSwgY2FjaGVkQ2hhaW5JZDogJHt2fWApO2NvbnN0IGI9ISghcnx8cD09PWV4cG9ydHMuUGxhdGZvcm1UeXBlLk5vbkJyb3dzZXJ8fHA9PT1leHBvcnRzLlBsYXRmb3JtVHlwZS5SZWFjdE5hdGl2ZSksdz11Yy5pbml0KHtzaG91bGRTZXRPbldpbmRvdzpiLGNvbm5lY3Rpb25TdHJlYW06ZixzaG91bGRTaGltV2ViMzppLHNka0luc3RhbmNlOmF9KTtsZXQgUz0hMTtjb25zdCBfPWU9PntTPWV9LEM9KCk9PlMseD0obixyLGksZCk9PnUodm9pZCAwLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3ZhciBsLGgsZixwLG0sYix3LHgsaztjb25zdCBNPXVjLmdldFByb3ZpZGVyKCk7aWYoUyl7TS5lbWl0KFwiZGlzcGxheV91cmlcIiwobnVsbD09Yz92b2lkIDA6Yy5zdGF0ZS5xcmNvZGVMaW5rKXx8XCJcIiksbnVsbD09Y3x8Yy5zaG93QWN0aXZlTW9kYWwoKTtsZXQgZT1DKCk7Zm9yKDtlOyl7Y29uc3QgdD1DKCksbj1udWxsPT1jP3ZvaWQgMDpjLmlzQXV0aG9yaXplZCgpO2U9dCYmIW4sRGEoYFtpbml0aWFsaXplTW9iaWxlUHJvdmlkZXI6IHNlbmRSZXF1ZXN0KCldIHdhaXRpbmcgZm9yIGluaXRpYWxpemF0aW9uIHRvIGNvbXBsZXRlIC0gaW5pdGlhbGl6aW5nOiAke3R9IGF1dGhvcml6ZWQ6ICR7bn1gKSx5aWVsZCAkYygxZTMpfXJldHVybiBEYShcIltpbml0aWFsaXplTW9iaWxlUHJvdmlkZXI6IHNlbmRSZXF1ZXN0KCldIGluaXRpYWwgbWV0aG9kIGNvbXBsZXRlZCAtLSBwcmV2ZW50IGluc3RhbGxhdGlvbiBhbmQgY2FsbCBwcm92aWRlclwiKSxpKC4uLnIpfWNvbnN0IEE9by5pc01ldGFNYXNrSW5zdGFsbGVkKCksVD1udWxsPT1jP3ZvaWQgMDpjLmlzQ29ubmVjdGVkKCk7bGV0IEk9bnVsbCxSPW51bGwsUD1udWxsO2lmKEk9bnVsbCE9PShsPU0uZ2V0U2VsZWN0ZWRBZGRyZXNzKCkpJiZ2b2lkIDAhPT1sP2w6eSxQPU0uZ2V0Q2hhaW5JZCgpfHx2LEkmJkUmJkkhPT15JiZFLnBlcnNpc3RBY2NvdW50cyhbSV0pLmNhdGNoKChlPT57Y29uc29sZS5lcnJvcihgW2luaXRpYWxpemVNb2JpbGVQcm92aWRlcl0gZmFpbGVkIHRvIHBlcnNpc3QgYWNjb3VudDogJHtlfWApfSkpLFAmJih2PVAsRSYmRS5wZXJzaXN0Q2hhaW5JZChQKS5jYXRjaCgoZT0+e2NvbnNvbGUuZXJyb3IoYFtpbml0aWFsaXplTW9iaWxlUHJvdmlkZXJdIGZhaWxlZCB0byBwZXJzaXN0IGNoYWluSWQ6ICR7ZX1gKX0pKSksRGEoXCJbaW5pdGlhbGl6ZU1vYmlsZVByb3ZpZGVyOiBzZW5kUmVxdWVzdCgpXVwiLHtzZWxlY3RlZEFkZHJlc3M6SSxjaGFpbklkOlB9KSxkJiZEYShgW2luaXRpYWxpemVNb2JpbGVQcm92aWRlcjogc2VuZFJlcXVlc3QoKV0gbWV0aG9kPSR7bn0gb25nb2luZz0ke1N9IHNlbGVjdGVkQWRkcmVzcz0ke0l9IGlzSW5zdGFsbGVkPSR7QX0gY2hlY2tJbnN0YWxsYXRpb25PbkFsbENhbGxzPSR7dH0gc29ja2V0Q29ubmVjdGVkPSR7VH1gKSxJJiZuLnRvTG93ZXJDYXNlKCk9PT1TYy5FVEhfQUNDT1VOVFMudG9Mb3dlckNhc2UoKSlyZXR1cm5bSV07aWYoUCYmbi50b0xvd2VyQ2FzZSgpPT09U2MuRVRIX0NIQUlOSUQudG9Mb3dlckNhc2UoKSlyZXR1cm4gUDtjb25zdCBPPVtTYy5FVEhfUkVRVUVTVEFDQ09VTlRTLFNjLldBTExFVF9SRVFVRVNUUEVSTUlTU0lPTlMsU2MuTUVUQU1BU0tfQ09OTkVDVFNJR04sU2MuTUVUQU1BU0tfQ09OTkVDVFdJVEhdLE49IV9jW25dLEQ9bnVsbD09PShoPWEub3B0aW9ucy5yZWFkb25seVJQQ01hcCl8fHZvaWQgMD09PWg/dm9pZCAwOmhbUF07aWYoRCYmTil0cnl7Y29uc3QgdD1udWxsPT09KGY9bnVsbD09cj92b2lkIDA6clswXSl8fHZvaWQgMD09PWY/dm9pZCAwOmYucGFyYW1zLGk9eWllbGQoKHtycGNFbmRwb2ludDp0LG1ldGhvZDpuLHNka0luZm86cixwYXJhbXM6aX0pPT51KHZvaWQgMCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtjb25zdCBvPUpTT04uc3RyaW5naWZ5KHtqc29ucnBjOlwiMi4wXCIsbWV0aG9kOm4scGFyYW1zOmksaWQ6KGpjKz0xLGpjKX0pLHM9e0FjY2VwdDpcImFwcGxpY2F0aW9uL2pzb25cIixcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifTtsZXQgYTt0LmluY2x1ZGVzKFwiaW5mdXJhXCIpJiYoc1tcIk1ldGFtYXNrLVNkay1JbmZvXCJdPXIpO3RyeXthPXlpZWxkIGUodCx7bWV0aG9kOlwiUE9TVFwiLGhlYWRlcnM6cyxib2R5Om99KX1jYXRjaChlKXt0aHJvdyBlIGluc3RhbmNlb2YgRXJyb3I/bmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggZnJvbSBSUEM6ICR7ZS5tZXNzYWdlfWApOm5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIGZyb20gUlBDOiAke2V9YCl9aWYoIWEub2spdGhyb3cgbmV3IEVycm9yKGBTZXJ2ZXIgcmVzcG9uZGVkIHdpdGggYSBzdGF0dXMgb2YgJHthLnN0YXR1c31gKTtyZXR1cm4oeWllbGQgYS5qc29uKCkpLnJlc3VsdH0pKSkoe3JwY0VuZHBvaW50OkQsc2RrSW5mbzpnLG1ldGhvZDpuLHBhcmFtczp0fHxbXX0pO3JldHVybiBkJiZEYShgaW5pdGlhbGl6ZVByb3ZpZGVyOjpSZWFkT25seVJQQ1Jlc3BvbnNlICR7aX1gKSxpfWNhdGNoKGUpe2NvbnNvbGUud2FybihgW2luaXRpYWxpemVNb2JpbGVQcm92aWRlcjogc2VuZFJlcXVlc3QoKV0gbWV0aG9kPSR7bn0gcmVhZE9ubHlSUENSZXF1ZXN0IGZhaWxlZDpgLGUpfWlmKCghQXx8QSYmIVQpJiZuIT09U2MuTUVUQU1BU0tfR0VUUFJPVklERVJTVEFURSl7Y29uc3QgZT0obnVsbD09PShwPW51bGw9PXI/dm9pZCAwOnJbMF0pfHx2b2lkIDA9PT1wP3ZvaWQgMDpwLnBhcmFtcyl8fFtdO2lmKC0xIT09Ty5pbmRleE9mKG4pfHx0KXtfKCEwKTtjb25zdCB0PW49PT1TYy5NRVRBTUFTS19DT05ORUNUV0lUSCxvPWAke0RhdGUubm93KCl9YDt0cnl7eWllbGQgcy5zdGFydCh7d2FpdDohMSxjb25uZWN0V2l0aDp0P3ttZXRob2Q6bixpZDpvLHBhcmFtczplfTp2b2lkIDB9KSx5aWVsZCBuZXcgUHJvbWlzZSgoKGUsdCk9PnsobnVsbD09Yz92b2lkIDA6Yy5pc0F1dGhvcml6ZWQoKSkmJihEYShcIltpbml0aWFsaXplTW9iaWxlUHJvdmlkZXI6IHNlbmRSZXF1ZXN0KCldIGFscmVhZHkgYXV0aG9yaXplZFwiKSxlKCEwKSksbnVsbD09Y3x8Yy5nZXRDb25uZWN0b3IoKS5vbmNlKGV4cG9ydHMuRXZlbnRUeXBlLkFVVEhPUklaRUQsKCgpPT57ZSghMCl9KSksYS5vbmNlKGV4cG9ydHMuRXZlbnRUeXBlLlBST1ZJREVSX1VQREFURSwoZT0+e0RhKGBbaW5pdGlhbGl6ZU1vYmlsZVByb3ZpZGVyOiBzZW5kUmVxdWVzdCgpXSBQUk9WSURFUl9VUERBVEUgLS0tIHJlbW90ZSBwcm92aWRlciByZXF1ZXN0IGludGVydXB0ZWQgdHlwZT0ke2V9YCksZT09PWV4cG9ydHMuUFJPVklERVJfVVBEQVRFX1RZUEUuRVhURU5TSU9OP3QoZXhwb3J0cy5FdmVudFR5cGUuUFJPVklERVJfVVBEQVRFKTp0KG5ldyBFcnJvcihcIkNvbm5lY3Rpb24gVGVybWluYXRlZFwiKSl9KSl9KSl9Y2F0Y2godCl7aWYoZXhwb3J0cy5QUk9WSURFUl9VUERBVEVfVFlQRS5FWFRFTlNJT049PT10KXtpZihEYShgW2luaXRpYWxpemVNb2JpbGVQcm92aWRlcjogc2VuZFJlcXVlc3QoKV0gZXh0ZW5zaW9uIHByb3ZpZGVyIGRldGVjdDogcmUtY3JlYXRlICR7bn0gb24gdGhlIGFjdGl2ZSBwcm92aWRlcmApLG4udG9Mb3dlckNhc2UoKT09PVNjLk1FVEFNQVNLX0NPTk5FQ1RTSUdOLnRvTG93ZXJDYXNlKCkpe2NvbnN0IHQ9eWllbGQgbnVsbD09PShtPWEuZ2V0UHJvdmlkZXIoKSl8fHZvaWQgMD09PW0/dm9pZCAwOm0ucmVxdWVzdCh7bWV0aG9kOlNjLkVUSF9SRVFVRVNUQUNDT1VOVFMscGFyYW1zOltdfSk7aWYoIXQubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIlNESyBzdGF0ZSBpbnZhbGlkIC0tIHVuZGVmaW5lZCBhY2NvdW50c1wiKTtjb25zdCBuPXlpZWxkIG51bGw9PT0oYj1hLmdldFByb3ZpZGVyKCkpfHx2b2lkIDA9PT1iP3ZvaWQgMDpiLnJlcXVlc3Qoe21ldGhvZDpTYy5QRVJTT05BTF9TSUdOLHBhcmFtczpbZVswXSx0WzBdXX0pO3JldHVybiBhLmVtaXQobGMuQ29ubmVjdFdpdGhSZXNwb25zZSxuKSxufWlmKG4udG9Mb3dlckNhc2UoKT09PVNjLk1FVEFNQVNLX0NPTk5FQ1RXSVRILnRvTG93ZXJDYXNlKCkpe2NvbnN0W3RdPWUsbj15aWVsZCgoe21ldGhvZDplLHNkazp0LHBhcmFtczpufSk9PnUodm9pZCAwLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3ZhciByLGksbyxzO2lmKCF0LmlzRXh0ZW5zaW9uQWN0aXZlKCkpdGhyb3cgbmV3IEVycm9yKFwiU0RLIHN0YXRlIGludmFsaWQgLS0gZXh0ZW5zaW9uIGlzIG5vdCBhY3RpdmVcIik7RGEoXCJbTWV0YU1hc2tQcm92aWRlcjogZXh0ZW5zaW9uQ29ubmVjdFdpdGhPdmVyd3JpdGUoKV0gT3ZlcndyaXRpbmcgcmVxdWVzdCBtZXRob2RcIixlLG4pO2NvbnN0IGE9eWllbGQgbnVsbD09PShyPXQuZ2V0UHJvdmlkZXIoKSl8fHZvaWQgMD09PXI/dm9pZCAwOnIucmVxdWVzdCh7bWV0aG9kOlNjLkVUSF9SRVFVRVNUQUNDT1VOVFMscGFyYW1zOltdfSk7aWYoIWEubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIlNESyBzdGF0ZSBpbnZhbGlkIC0tIHVuZGVmaW5lZCBhY2NvdW50c1wiKTtpZigobnVsbD09ZT92b2lkIDA6ZS50b0xvd2VyQ2FzZSgpKT09PVNjLlBFUlNPTkFMX1NJR04udG9Mb3dlckNhc2UoKSl7Y29uc3Qgcj17bWV0aG9kOmUscGFyYW1zOltuWzBdLGFbMF1dfTtyZXR1cm4geWllbGQgbnVsbD09PShpPXQuZ2V0UHJvdmlkZXIoKSl8fHZvaWQgMD09PWk/dm9pZCAwOmkucmVxdWVzdChyKX1pZigobnVsbD09ZT92b2lkIDA6ZS50b0xvd2VyQ2FzZSgpKT09PVNjLkVUSF9TRU5EVFJBTlNBQ1RJT04udG9Mb3dlckNhc2UoKSl7Y29uc3Qgcj17bWV0aG9kOmUscGFyYW1zOltPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sblswXSkse2Zyb206YVswXX0pXX07cmV0dXJuIHlpZWxkIG51bGw9PT0obz10LmdldFByb3ZpZGVyKCkpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLnJlcXVlc3Qocil9cmV0dXJuIHhjLmluY2x1ZGVzKGUudG9Mb3dlckNhc2UoKSk/KGNvbnNvbGUud2FybihgTWV0YU1hc2tTREsgY29ubmVjdFdpdGggbWV0aG9kPSR7ZX0gLS0gbm90IGhhbmRsZWQgYnkgdGhlIGV4dGVuc2lvbiAtLSBjYWxsIHNlcGFyYXRlbHlgKSxhKTp5aWVsZCBudWxsPT09KHM9dC5nZXRQcm92aWRlcigpKXx8dm9pZCAwPT09cz92b2lkIDA6cy5yZXF1ZXN0KHttZXRob2Q6ZSxwYXJhbXM6bn0pfSkpKSh7bWV0aG9kOnQubWV0aG9kLHNkazphLHBhcmFtczp0LnBhcmFtc30pO3JldHVybiBhLmVtaXQobGMuQ29ubmVjdFdpdGhSZXNwb25zZSxuKSxufXJldHVybiBEYShgW2luaXRpYWxpemVNb2JpbGVQcm92aWRlcjogc2VuZFJlcXVlc3QoKV0gc2VuZGluZyAnJHtufScgb24gYWN0aXZlIHByb3ZpZGVyYCxlKSx5aWVsZCBudWxsPT09KHc9YS5nZXRQcm92aWRlcigpKXx8dm9pZCAwPT09dz92b2lkIDA6dy5yZXF1ZXN0KHttZXRob2Q6bixwYXJhbXM6ZX0pfWlmKHQ9PT1leHBvcnRzLkV2ZW50VHlwZS5SRUpFQ1RFRCl0aHJvdyBudWxsPT1jfHxjLmNsb3NlTW9kYWwoKSxudWxsPT09KHg9YS5nZXRQcm92aWRlcigpKXx8dm9pZCAwPT09eHx8eC5oYW5kbGVEaXNjb25uZWN0KHt0ZXJtaW5hdGU6ITF9KSxPYmplY3QuYXNzaWduKG5ldyBFcnJvcihcIlVzZXIgcmVqZWN0ZWQgY29ubmVjdGlvblwiKSx7Y29kZTo0MDAxfSk7dGhyb3cgRGEoYFtpbml0aWFsaXplTW9iaWxlUHJvdmlkZXI6IHNlbmRSZXF1ZXN0KCldIGZhaWxlZCB0byBzdGFydCBpbnN0YWxsZXI6ICR7dH1gKSx0fWZpbmFsbHl7XyghMSl9aWYobj09PVNjLkVUSF9SRVFVRVNUQUNDT1VOVFMpcmV0dXJuIFI9eWllbGQgbmV3IFByb21pc2UoKGU9Pntjb25zdCB0PXNldEludGVydmFsKCgoKT0+e2NvbnN0e2FjY291bnRzOm59PU0uZ2V0U3RhdGUoKTtuJiYoY2xlYXJJbnRlcnZhbCh0KSxlKG4pKX0pLDEwMCl9KSksRGEoYFtpbml0aWFsaXplTW9iaWxlUHJvdmlkZXI6IHNlbmRSZXF1ZXN0KCldIHNlbGVjdGVkQWRkcmVzczogJHtJfSAtLS0gU0tJUCBycGMgY2FsbGApLFI7aWYobj09PVNjLk1FVEFNQVNLX0NPTk5FQ1RXSVRIKXRyeXtsZXQgZT0wO2NvbnN0IHQ9NSxuPSh7cmVzb2x2ZTpuLHJlamVjdDpyfSk9PntlKz0xO2NvbnN0IGk9bnVsbD09Yz92b2lkIDA6Yy5nZXRDb25uZWN0b3IoKS5nZXRSUENNZXRob2RUcmFja2VyKCkscz1udWxsPT1pP3ZvaWQgMDppW29dO3JldHVybiBEYShgVFJBQ0tFUjogdXBkYXRlIG1ldGhvZCAke299YCxzKSwobnVsbD09cz92b2lkIDA6cy5yZXN1bHQpPyhEYShcIltpbml0aWFsaXplTW9iaWxlUHJvdmlkZXI6IHNlbmRSZXF1ZXN0KCldIGZvdW5kIHJlc3VsdFwiLHMucmVzdWx0KSxhLmVtaXQobGMuQ29ubmVjdFdpdGhSZXNwb25zZSxzLnJlc3VsdCksdm9pZCBuKHMucmVzdWx0KSk6KG51bGw9PXM/dm9pZCAwOnMuZXJyb3IpPyhEYShcIltpbml0aWFsaXplTW9iaWxlUHJvdmlkZXI6IHNlbmRSZXF1ZXN0KCldIGZvdW5kIGVycm9yXCIscy5lcnJvciksdm9pZCByKHMuZXJyb3IpKTplPj10PyhEYShcIltpbml0aWFsaXplTW9iaWxlUHJvdmlkZXI6IHNlbmRSZXF1ZXN0KCldIG1heCBtZXNzYWdlIGNvdW50IHJlYWNoZWQgd2l0aG91dCByZXN1bHRcIiksdm9pZCByKG5ldyBFcnJvcihcIk1heCBtZXNzYWdlIGNvdW50IHJlYWNoZWQgd2l0aG91dCByZXN1bHRcIikpKTp2b2lkIERhKFwiW2luaXRpYWxpemVNb2JpbGVQcm92aWRlcjogc2VuZFJlcXVlc3QoKV0gbm90IGZvdW5kIHlldCwgbmVlZCB0byB3YWl0IGZvciBuZXh0IHVwZGF0ZVwiKX07bGV0IHIsaTtjb25zdCBzPXlpZWxkIG5ldyBQcm9taXNlKCgoZSx0KT0+e2NvbnN0IHM9bnVsbD09Yz92b2lkIDA6Yy5nZXRDb25uZWN0b3IoKS5nZXRSUENNZXRob2RUcmFja2VyKCk7RGEoYFRSQUNLRVI6IG1ldGhvZCAke299YCxzKSwobnVsbD09cz92b2lkIDA6c1tvXS5yZXN1bHQpPyhEYShcIltpbml0aWFsaXplTW9iaWxlUHJvdmlkZXI6IHNlbmRSZXF1ZXN0KCldIGZvdW5kIHJlc3VsdFwiLG51bGw9PXM/dm9pZCAwOnNbb10ucmVzdWx0KSxlKG51bGw9PXM/dm9pZCAwOnNbb10ucmVzdWx0KSk6KG51bGw9PXM/dm9pZCAwOnNbb10uZXJyb3IpJiYoRGEoXCJbaW5pdGlhbGl6ZU1vYmlsZVByb3ZpZGVyOiBzZW5kUmVxdWVzdCgpXSBmb3VuZCBlcnJvclwiLG51bGw9PXM/dm9pZCAwOnNbb10uZXJyb3IpLHQobnVsbD09cz92b2lkIDA6c1tvXS5lcnJvcikpLGk9KCk9Pm4oe3Jlc29sdmU6ZSxyZWplY3Q6dH0pLHI9bnVsbD09Yz92b2lkIDA6Yy5nZXRDb25uZWN0b3IoKS5vbihleHBvcnRzLkV2ZW50VHlwZS5SUENfVVBEQVRFLGkpfSkpO3JldHVybiBpJiYobnVsbD09cnx8ci5vZmYoZXhwb3J0cy5FdmVudFR5cGUuUlBDX1VQREFURSxpKSksRGEoXCJUUkFDS0VSOiByZXN1bHRcIixzKSxzfWNhdGNoKGUpe3Rocm93IERhKFwiW2luaXRpYWxpemVNb2JpbGVQcm92aWRlcjogc2VuZFJlcXVlc3QoKV0gZXJyb3I6XCIsZSksZX1yWzBdJiZcIm9iamVjdFwiPT10eXBlb2YgclswXSYmKHJbMF0ucGFyYW1zPXtfX3RyaWdnZXJlZEluc3RhbGxlcjohMCx3cmFwcGVkUGFyYW1zOnJbMF0ucGFyYW1zfSk7cmV0dXJuIGkoLi4ucil9aWYoby5pc1NlY3VyZSgpJiZfY1tuXSlyZXR1cm4gaSguLi5yKTtpZihhLmlzRXh0ZW5zaW9uQWN0aXZlKCkpcmV0dXJuIERhKGBbaW5pdGlhbGl6ZU1vYmlsZVByb3ZpZGVyOiBzZW5kUmVxdWVzdCgpXSBFWFRFTlNJT04gYWN0aXZlIC0gcmVkaXJlY3QgcmVxdWVzdCAnJHtufScgdG8gaXRgLHIsZSkseWllbGQgbnVsbD09PShrPWEuZ2V0UHJvdmlkZXIoKSl8fHZvaWQgMD09PWs/dm9pZCAwOmsucmVxdWVzdCh7bWV0aG9kOm4scGFyYW1zOmV9KTt0aHJvdyBEYShgW2luaXRpYWxpemVNb2JpbGVQcm92aWRlcjogc2VuZFJlcXVlc3QoKV0gbWV0aG9kPSR7bn0gLS0tIHNraXAgLS0tIG5vdCBjb25uZWN0ZWQvaW5zdGFsbGVkYCksbmV3IEVycm9yKFwiTWV0YU1hc2sgaXMgbm90IGNvbm5lY3RlZC9pbnN0YWxsZWQsIHBsZWFzZSBjYWxsIGV0aF9yZXF1ZXN0QWNjb3VudHMgdG8gY29ubmVjdCBmaXJzdC5cIil9dHJ5e2NvbnN0IGU9eWllbGQgaSguLi5yKTtpZihEYShgW2luaXRpYWxpemVNb2JpbGVQcm92aWRlcjogc2VuZFJlcXVlc3QoKV0gbWV0aG9kPSR7bn0gcnBjUmVzcG9uc2VgLGUpLG49PT1TYy5XQUxMRVRfUkVRVUVTVFBFUk1JU1NJT05TKXtjb25zdCB0PWUucmVkdWNlKCgoZSx0KT0+e3ZhciBuO2lmKFwiZXRoX2FjY291bnRzXCI9PT10LnBhcmVudENhcGFiaWxpdHkpe2NvbnN0IHI9bnVsbD09PShuPXQuY2F2ZWF0cy5maW5kKChlPT5cInJlc3RyaWN0UmV0dXJuZWRBY2NvdW50c1wiPT09ZS50eXBlKSkpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnZhbHVlO3ImJmUucHVzaCguLi5yKX1yZXR1cm4gZX0pLFtdKTtEYShcIltpbml0aWFsaXplTW9iaWxlUHJvdmlkZXI6IHNlbmRSZXF1ZXN0KCldIGFjY291bnRzVG9QZXJzaXN0OlwiLHQpLHQubGVuZ3RoPjAmJihNLmhhbmRsZUFjY291bnRzQ2hhbmdlZCh0LCExKSxudWxsPT1FfHxFLnBlcnNpc3RBY2NvdW50cyh0KSl9cmV0dXJuIGV9Y2F0Y2goZSl7dGhyb3cgY29uc29sZS5lcnJvcihcIltpbml0aWFsaXplTW9iaWxlUHJvdmlkZXI6IHNlbmRSZXF1ZXN0KCldIGVycm9yOlwiLGUpLGV9fSkpLHtyZXF1ZXN0Omt9PXc7dy5yZXF1ZXN0PSguLi5lKT0+dSh2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7cmV0dXJuIHgobnVsbD09ZT92b2lkIDA6ZVswXS5tZXRob2QsZSxrLGQpfSkpO2NvbnN0e3NlbmQ6TX09dztyZXR1cm4gdy5zZW5kPSguLi5lKT0+dSh2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7cmV0dXJuIHgobnVsbD09ZT92b2lkIDA6ZVswXSxlLE0sZCl9KSksRGEoXCJbaW5pdGlhbGl6ZU1vYmlsZVByb3ZpZGVyOiBzZW5kUmVxdWVzdCgpXSBtZXRhbWFza1N0cmVhbS5zdGFydCgpXCIpLGYuc3RhcnQoKSx3fSkpO2Z1bmN0aW9uIFVjKGUpe3ZhciB0LG4scixpO3JldHVybiB1KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7Y29uc3R7b3B0aW9uczpvfT1lLHM9e2NvbW11bmljYXRpb25MYXllclByZWZlcmVuY2U6bnVsbCE9PSh0PW8uY29tbXVuaWNhdGlvbkxheWVyUHJlZmVyZW5jZSkmJnZvaWQgMCE9PXQ/dDpleHBvcnRzLkNvbW11bmljYXRpb25MYXllclByZWZlcmVuY2UuU09DS0VULHBsYXRmb3JtTWFuYWdlcjplLnBsYXRmb3JtTWFuYWdlcixzZGs6ZSxjaGVja0luc3RhbGxhdGlvbk9uQWxsQ2FsbHM6by5jaGVja0luc3RhbGxhdGlvbk9uQWxsQ2FsbHMsaW5qZWN0UHJvdmlkZXI6bnVsbD09PShuPW8uaW5qZWN0UHJvdmlkZXIpfHx2b2lkIDA9PT1ufHxuLHNob3VsZFNoaW1XZWIzOm51bGw9PT0ocj1vLnNob3VsZFNoaW1XZWIzKXx8dm9pZCAwPT09cnx8cixleHRlbnNpb25Pbmx5Om51bGw9PT0oaT1vLmV4dGVuc2lvbk9ubHkpfHx2b2lkIDA9PT1pfHxpLGluc3RhbGxlcjplLmluc3RhbGxlcixyZW1vdGVDb25uZWN0aW9uOmUucmVtb3RlQ29ubmVjdGlvbixkZWJ1ZzplLmRlYnVnfSxhPXlpZWxkIEhjKHMpO2UuYWN0aXZlUHJvdmlkZXI9YSxmdW5jdGlvbihlKXt2YXIgdCxuLHIsaTtudWxsPT09KG49bnVsbD09PSh0PWUucmVtb3RlQ29ubmVjdGlvbil8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZ2V0Q29ubmVjdG9yKCkpfHx2b2lkIDA9PT1ufHxuLm9uKGxjLkNvbm5lY3Rpb25TdGF0dXMsKHQ9PntlLmVtaXQobGMuQ29ubmVjdGlvblN0YXR1cyx0KX0pKSxudWxsPT09KGk9bnVsbD09PShyPWUucmVtb3RlQ29ubmVjdGlvbil8fHZvaWQgMD09PXI/dm9pZCAwOnIuZ2V0Q29ubmVjdG9yKCkpfHx2b2lkIDA9PT1pfHxpLm9uKGxjLlNlcnZpY2VTdGF0dXMsKHQ9PntlLmVtaXQobGMuU2VydmljZVN0YXR1cyx0KX0pKX0oZSl9KSl9Y29uc3QgRmM9XCJzZGtcIjtjbGFzcyBxY3tjb25zdHJ1Y3Rvcih7c2VydmVyVXJsOmUsZW5hYmxlZDp0LG9yaWdpbmF0b3JJbmZvOm59KXt0aGlzLnNlcnZlclVSTD1ycix0aGlzLnNlcnZlclVSTD1lLHRoaXMub3JpZ2luYXRvckluZm89bix0aGlzLmVuYWJsZWQ9bnVsbD09dHx8dH1zZW5kKHtldmVudDplLHBhcmFtczp0fSl7aWYoIXRoaXMuZW5hYmxlZClyZXR1cm47Y29uc3Qgbj1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe2lkOkZjLGV2ZW50OmUsc2RrVmVyc2lvbjpnYy52ZXJzaW9ufSx0aGlzLm9yaWdpbmF0b3JJbmZvKSx7cGFyYW1zOnR9KTtEYShgW0FuYWx5dGljczogc2VuZCgpXSBldmVudDogJHtlfWAsbiksZXIobix0aGlzLnNlcnZlclVSTCkuY2F0Y2goKGU9PntEYShgW0FuYWx5dGljczogc2VuZCgpXSBlcnJvcjogJHtlfWApfSkpfX1jb25zdCB6Yz0oKT0+e2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBkb2N1bWVudClyZXR1cm47bGV0IGU7Y29uc3QgdD1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImxpbmtcIik7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspXCJpY29uXCIhPT10W25dLmdldEF0dHJpYnV0ZShcInJlbFwiKSYmXCJzaG9ydGN1dCBpY29uXCIhPT10W25dLmdldEF0dHJpYnV0ZShcInJlbFwiKXx8KGU9dFtuXS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpKTtyZXR1cm4gZX0sV2M9MTYzNDAwO2Z1bmN0aW9uIFZjKGUpe3ZhciB0LG4scjtjb25zdHtkYXBwTWV0YWRhdGE6aX09ZSxvPWZ1bmN0aW9uKHt1cmw6ZSxuYW1lOnR9KXt2YXIgbjtjb25zdCByPWUrdCxpPUxjKHIpO2lmKCFsb2NhbFN0b3JhZ2UpcmV0dXJuXCJcIjtsZXQgbz1udWxsIT09KG49bG9jYWxTdG9yYWdlLmdldEl0ZW0oaSkpJiZ2b2lkIDAhPT1uP246XCJcIjtpZighbyl7bz1zLnY0KCk7dHJ5e2xvY2FsU3RvcmFnZS5zZXRJdGVtKGksbyl9Y2F0Y2goZSl7cmV0dXJuXCJcIn19cmV0dXJuIG99KHt1cmw6bnVsbCE9PSh0PW51bGw9PWk/dm9pZCAwOmkudXJsKSYmdm9pZCAwIT09dD90Olwibm9fdXJsXCIsbmFtZTpudWxsIT09KG49bnVsbD09aT92b2lkIDA6aS5uYW1lKSYmdm9pZCAwIT09bj9uOlwibm9fbmFtZVwifSksYT1udWxsPT09KHI9ZS5wbGF0Zm9ybU1hbmFnZXIpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmdldFBsYXRmb3JtVHlwZSgpLGM9YT09PWV4cG9ydHMuUGxhdGZvcm1UeXBlLkRlc2t0b3BXZWIsZD1hPT09ZXhwb3J0cy5QbGF0Zm9ybVR5cGUuTWV0YU1hc2tNb2JpbGVXZWJ2aWV3O2xldCBsPVwiTi9BXCI7cmV0dXJuIGM/bD1cImV4dGVuc2lvblwiOmQmJihsPVwibW9iaWxlXCIpLHtpZDpvLGZyb206bH19Y29uc3QgR2M9KGUsdCxuKT0+e2lmKGRyKGUpKXtpZihufHx0JiZcIm9iamVjdFwiPT10eXBlb2YgdCYmbnVsbCE9PXQmJlwiZXJyb3JcImluIHQpe2NvbnN0IHI9bnx8KG51bGw9PXQ/dm9pZCAwOnQuZXJyb3IpO3ImJjQwMDE9PT1yLmNvZGU/aS5hbmFseXRpY3MudHJhY2soXCJzZGtfYWN0aW9uX3JlamVjdGVkXCIse2FjdGlvbjplfSk6aS5hbmFseXRpY3MudHJhY2soXCJzZGtfYWN0aW9uX2ZhaWxlZFwiLHthY3Rpb246ZX0pfWVsc2UgaS5hbmFseXRpY3MudHJhY2soXCJzZGtfYWN0aW9uX3N1Y2NlZWRlZFwiLHthY3Rpb246ZX0pfX0sWWM9KHtwcm92aWRlcjplLHNka0luc3RhbmNlOnR9KT0+e2lmKFwic3RhdGVcImluIGUpdGhyb3cgbmV3IEVycm9yKFwiSU5WQUxJRCBFWFRFTlNJT04gUFJPVklERVJcIik7cmV0dXJuIG5ldyBQcm94eShlLHtnZXQ6KG4scik9PlwicmVxdWVzdFwiPT09cj9mdW5jdGlvbihlKXt2YXIgcixvO3JldHVybiB1KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7RGEoXCJbd3JhcEV4dGVuc2lvblByb3ZpZGVyKCldIE92ZXJ3cml0aW5nIHJlcXVlc3QgbWV0aG9kXCIsZSk7Y29uc3R7bWV0aG9kOnMscGFyYW1zOmF9PWUsYz1DYy5pbmNsdWRlcyhzLnRvTG93ZXJDYXNlKCkpLHtpZDpkLGZyb206bH09VmModCk7aWYoYyYmKG51bGw9PT0ocj10LmFuYWx5dGljcyl8fHZvaWQgMD09PXJ8fHIuc2VuZCh7ZXZlbnQ6ZnIuU0RLX1JQQ19SRVFVRVNULHBhcmFtczp7bWV0aG9kOnMsZnJvbTpsLGlkOmR9fSkpLGRyKHMpJiZpLmFuYWx5dGljcy50cmFjayhcInNka19hY3Rpb25fcmVxdWVzdGVkXCIse2FjdGlvbjpzfSkscz09PVNjLk1FVEFNQVNLX0JBVENIJiZBcnJheS5pc0FycmF5KGEpKXJldHVybigoe3RhcmdldDplLGFyZ3M6dCx0cmFja0V2ZW50Om4sc2RrSW5zdGFuY2U6cn0pPT51KHZvaWQgMCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXt2YXIgaSxvO2lmKFwibWV0YW1hc2tfYmF0Y2hcIiE9PXQubWV0aG9kKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdXNhZ2VcIik7Y29uc3Qgcz1bXSxhPW51bGwhPT0oaT1udWxsPT10P3ZvaWQgMDp0LnBhcmFtcykmJnZvaWQgMCE9PWk/aTpbXTtmb3IoY29uc3QgdCBvZiBhKXtjb25zdCBuPXlpZWxkIG51bGw9PWU/dm9pZCAwOmUucmVxdWVzdCh7bWV0aG9kOnQubWV0aG9kLHBhcmFtczp0LnBhcmFtc30pO3MucHVzaChuKX1jb25zdHtpZDpjLGZyb206ZH09VmMocik7biYmKG51bGw9PT0obz1yLmFuYWx5dGljcyl8fHZvaWQgMD09PW98fG8uc2VuZCh7ZXZlbnQ6ZnIuU0RLX1JQQ19SRVFVRVNUX0RPTkUscGFyYW1zOnttZXRob2Q6dC5tZXRob2QsZnJvbTpkLGlkOmN9fSkpO2Zvcihjb25zdCBlIG9mIHMpR2ModC5tZXRob2QsZSxudWxsKTtyZXR1cm4gc30pKSkoe3RhcmdldDpuLGFyZ3M6ZSx0cmFja0V2ZW50OmMsc2RrSW5zdGFuY2U6dH0pO2lmKHMudG9Mb3dlckNhc2UoKT09PVNjLk1FVEFNQVNLX0NPTk5FQ1RTSUdOLnRvTG93ZXJDYXNlKCkmJkFycmF5LmlzQXJyYXkoYSkpcmV0dXJuKCh7dGFyZ2V0OmUscGFyYW1zOnR9KT0+dSh2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7bGV0IG4scj1udWxsO3RyeXtjb25zdCByPXlpZWxkIGUucmVxdWVzdCh7bWV0aG9kOlNjLkVUSF9SRVFVRVNUQUNDT1VOVFMscGFyYW1zOltdfSk7aWYoIXIubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIlNESyBzdGF0ZSBpbnZhbGlkIC0tIHVuZGVmaW5lZCBhY2NvdW50c1wiKTtyZXR1cm4gbj15aWVsZCBlLnJlcXVlc3Qoe21ldGhvZDpTYy5QRVJTT05BTF9TSUdOLHBhcmFtczpbdFswXSxyWzBdXX0pLG59Y2F0Y2goZSl7dGhyb3cgcj1lLGV9ZmluYWxseXtHYyhTYy5QRVJTT05BTF9TSUdOLG4scil9fSkpKSh7dGFyZ2V0Om4scGFyYW1zOmF9KTtpZihzLnRvTG93ZXJDYXNlKCk9PT1TYy5NRVRBTUFTS19DT05ORUNUV0lUSC50b0xvd2VyQ2FzZSgpJiZBcnJheS5pc0FycmF5KGEpKXJldHVybigoe3RhcmdldDplLHBhcmFtczp0fSk9PnUodm9pZCAwLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2NvbnN0W25dPXQscj1uLm1ldGhvZCxpPW4ucGFyYW1zO2xldCBvLHM9bnVsbDt0cnl7Y29uc3QgdD15aWVsZCBlLnJlcXVlc3Qoe21ldGhvZDpTYy5FVEhfUkVRVUVTVEFDQ09VTlRTLHBhcmFtczpbXX0pO2lmKCFBcnJheS5pc0FycmF5KHQpfHwhdC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiU0RLIHN0YXRlIGludmFsaWQgLS0gdW5kZWZpbmVkIGFjY291bnRzXCIpO3JldHVybihudWxsPT1yP3ZvaWQgMDpyLnRvTG93ZXJDYXNlKCkpPT09U2MuUEVSU09OQUxfU0lHTi50b0xvd2VyQ2FzZSgpPyhvPXlpZWxkIGUucmVxdWVzdCh7bWV0aG9kOnIscGFyYW1zOltpWzBdLHRbMF1dfSksbyk6KG51bGw9PXI/dm9pZCAwOnIudG9Mb3dlckNhc2UoKSk9PT1TYy5FVEhfU0VORFRSQU5TQUNUSU9OLnRvTG93ZXJDYXNlKCk/KG89eWllbGQgZS5yZXF1ZXN0KHttZXRob2Q6cixwYXJhbXM6W09iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxpWzBdKSx7ZnJvbTp0WzBdfSldfSksbyk6eGMuaW5jbHVkZXMoci50b0xvd2VyQ2FzZSgpKT8oY29uc29sZS53YXJuKGBNZXRhTWFza1NESyBjb25uZWN0V2l0aCBtZXRob2Q9JHtyfSAtLSBub3QgaGFuZGxlZCBieSB0aGUgZXh0ZW5zaW9uIC0tIGNhbGwgc2VwYXJhdGVseWApLG89dCxvKToobz15aWVsZCBlLnJlcXVlc3Qoe21ldGhvZDpyLHBhcmFtczppfSksbyl9Y2F0Y2goZSl7dGhyb3cgcz1lLGV9ZmluYWxseXtHYyhyLG8scyl9fSkpKSh7dGFyZ2V0Om4scGFyYW1zOmF9KTtsZXQgaCxmPW51bGw7dHJ5e3JldHVybiBoPXlpZWxkIG4ucmVxdWVzdChlKSxofWNhdGNoKGUpe3Rocm93IGY9ZSxlfWZpbmFsbHl7YyYmKG51bGw9PT0obz10LmFuYWx5dGljcyl8fHZvaWQgMD09PW98fG8uc2VuZCh7ZXZlbnQ6ZnIuU0RLX1JQQ19SRVFVRVNUX0RPTkUscGFyYW1zOnttZXRob2Q6cyxmcm9tOmwsaWQ6ZH19KSksR2MocyxoLGYpfX0pKX06XCJnZXRDaGFpbklkXCI9PT1yP2Z1bmN0aW9uKCl7cmV0dXJuIGUuY2hhaW5JZH06XCJnZXROZXR3b3JrVmVyc2lvblwiPT09cj9mdW5jdGlvbigpe3JldHVybiBlLm5ldHdvcmtWZXJzaW9ufTpcImdldFNlbGVjdGVkQWRkcmVzc1wiPT09cj9mdW5jdGlvbigpe3JldHVybiBlLnNlbGVjdGVkQWRkcmVzc306XCJpc0Nvbm5lY3RlZFwiPT09cj9mdW5jdGlvbigpe3JldHVybiBlLl9zdGF0ZS5pc0Nvbm5lY3RlZH06bltyXX0pfTt2YXIgWmM7ZnVuY3Rpb24gSmMoe211c3RCZU1ldGFNYXNrOmUsc2RrSW5zdGFuY2U6dH0pe3JldHVybiB1KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvdyl0aHJvdyBuZXcgRXJyb3IoXCJ3aW5kb3cgbm90IGF2YWlsYWJsZVwiKTt0cnl7Y29uc3QgZT15aWVsZCBuZXcgUHJvbWlzZSgoKGUsdCk9Pntjb25zdCBuPXNldFRpbWVvdXQoKCgpPT57dChuZXcgRXJyb3IoXCJlaXA2OTYzUmVxdWVzdFByb3ZpZGVyIHRpbWVkIG91dFwiKSl9KSw1MDApO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFpjLkFubm91bmNlLCh0PT57Y29uc3Qgcj10LHtkZXRhaWw6e2luZm86aSxwcm92aWRlcjpvfT17fX09cix7bmFtZTpzLHJkbnM6YSx1dWlkOmN9PW51bGwhPWk/aTp7fTt3Yy50ZXN0KGMpJiZzLnN0YXJ0c1dpdGgoYmMuTkFNRSkmJmJjLlJETlMuaW5jbHVkZXMoYSkmJihjbGVhclRpbWVvdXQobiksZShvKSl9KSksd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFpjLlJlcXVlc3QpKX0pKTtyZXR1cm4gWWMoe3Byb3ZpZGVyOmUsc2RrSW5zdGFuY2U6dH0pfWNhdGNoKG4pe2lmKCFlJiZ3aW5kb3cuZXRoZXJldW0pcmV0dXJuIFljKHtwcm92aWRlcjp3aW5kb3cuZXRoZXJldW0sc2RrSW5zdGFuY2U6dH0pO3Rocm93IG5ldyBFcnJvcihcIlByb3ZpZGVyIG5vdCBmb3VuZFwiKX19KSl9IWZ1bmN0aW9uKGUpe2UuQW5ub3VuY2U9XCJlaXA2OTYzOmFubm91bmNlUHJvdmlkZXJcIixlLlJlcXVlc3Q9XCJlaXA2OTYzOnJlcXVlc3RQcm92aWRlclwifShaY3x8KFpjPXt9KSk7Y29uc3QgUWM9ZT0+dSh2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7Y29uc3R7b3B0aW9uczp0fT1lLHtpbmZ1cmFBUElLZXk6bn09dDtpZighbilyZXR1cm47Y29uc3Qgcj17XCIweDFcIjpgaHR0cHM6Ly9tYWlubmV0LmluZnVyYS5pby92My8ke259YCxcIjB4NVwiOmBodHRwczovL2dvZXJsaS5pbmZ1cmEuaW8vdjMvJHtufWAsXCIweGFhMzZhN1wiOmBodHRwczovL3NlcG9saWEuaW5mdXJhLmlvL3YzLyR7bn1gLFwiMHhlNzA4XCI6YGh0dHBzOi8vbGluZWEtbWFpbm5ldC5pbmZ1cmEuaW8vdjMvJHtufWAsXCIweGU3MDRcIjpgaHR0cHM6Ly9saW5lYS1nb2VybGkuaW5mdXJhLmlvL3YzLyR7bn1gLFwiMHg4OVwiOmBodHRwczovL3BvbHlnb24tbWFpbm5ldC5pbmZ1cmEuaW8vdjMvJHtufWAsXCIweDEzODgxXCI6YGh0dHBzOi8vcG9seWdvbi1tdW1iYWkuaW5mdXJhLmlvL3YzLyR7bn1gLFwiMHg0NVwiOmBodHRwczovL29wdGltaXNtLW1haW5uZXQuaW5mdXJhLmlvL3YzLyR7bn1gLFwiMHgxYTRcIjpgaHR0cHM6Ly9vcHRpbWlzbS1nb2VybGkuaW5mdXJhLmlvL3YzLyR7bn1gLFwiMHhhNGIxXCI6YGh0dHBzOi8vYXJiaXRydW0tbWFpbm5ldC5pbmZ1cmEuaW8vdjMvJHtufWAsXCIweDY2ZWVkXCI6YGh0dHBzOi8vYXJiaXRydW0tZ29lcmxpLmluZnVyYS5pby92My8ke259YCxcIjB4MmExNWMzMDhkXCI6YGh0dHBzOi8vcGFsbS1tYWlubmV0LmluZnVyYS5pby92My8ke259YCxcIjB4MmExNWMzMDgzXCI6YGh0dHBzOi8vcGFsbS10ZXN0bmV0LmluZnVyYS5pby92My8ke259YCxcIjB4YTg2YVwiOmBodHRwczovL2F2YWxhbmNoZS1tYWlubmV0LmluZnVyYS5pby92My8ke259YCxcIjB4YTg2OVwiOmBodHRwczovL2F2YWxhbmNoZS1mdWppLmluZnVyYS5pby92My8ke259YCxcIjB4NGU0NTQxNTJcIjpgaHR0cHM6Ly9hdXJvcmEtbWFpbm5ldC5pbmZ1cmEuaW8vdjMvJHtufWAsXCIweDRlNDU0MTUzXCI6YGh0dHBzOi8vYXVyb3JhLXRlc3RuZXQuaW5mdXJhLmlvL3YzLyR7bn1gLFwiMHg1MzRlNWY0ZDQxNDk0ZVwiOmBodHRwczovL3N0YXJrbmV0LW1haW5uZXQuaW5mdXJhLmlvL3YzLyR7bn1gLFwiMHg1MzRlNWY0NzRmNDU1MjRjNDlcIjpgaHR0cHM6Ly9zdGFya25ldC1nb2VybGkuaW5mdXJhLmlvL3YzLyR7bn1gLFwiMHg1MzRlNWY0NzRmNDU1MjRjNDkzMlwiOmBodHRwczovL3N0YXJrbmV0LWdvZXJsaTIuaW5mdXJhLmlvL3YzLyR7bn1gLFwiMHhhNGVjXCI6YGh0dHBzOi8vY2Vsby1tYWlubmV0LmluZnVyYS5pby92My8ke259YCxcIjB4YWVmM1wiOmBodHRwczovL2NlbG8tYWxmYWpvcmVzLmluZnVyYS5pby92My8ke259YH07ZS5vcHRpb25zLnJlYWRvbmx5UlBDTWFwP2Uub3B0aW9ucy5yZWFkb25seVJQQ01hcD1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZS5vcHRpb25zLnJlYWRvbmx5UlBDTWFwKSxyKTplLm9wdGlvbnMucmVhZG9ubHlSUENNYXA9cn0pKTtjb25zdCBYYz1lPT51KHZvaWQgMCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtjb25zdHtvcHRpb25zOnR9PWUse3JlYWRvbmx5UlBDTWFwOm59PXQ7aWYobil0cnl7RGEoXCJbTWV0YU1hc2tTREs6IHNldHVwUmVhZE9ubHlSUENQcm92aWRlcnMoKV0gU2V0dGluZyB1cCBSZWFkb25seSBSUEMgUHJvdmlkZXJzXCIsbiksZS5zZXRSZWFkT25seVJQQ0NhbGxzKCEwKX1jYXRjaChlKXt0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIEluZnVyYSBTZXR0aW5nc1wiKX19KSk7ZnVuY3Rpb24gZWQoZSx0LG4scil7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoKGZ1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gbyhlKXt0cnl7YShyLm5leHQoZSkpfWNhdGNoKGUpe2koZSl9fWZ1bmN0aW9uIHMoZSl7dHJ5e2Eoci50aHJvdyhlKSl9Y2F0Y2goZSl7aShlKX19ZnVuY3Rpb24gYShlKXt2YXIgcjtlLmRvbmU/dChlLnZhbHVlKToocj1lLnZhbHVlLHIgaW5zdGFuY2VvZiBuP3I6bmV3IG4oKGZ1bmN0aW9uKGUpe2Uocil9KSkpLnRoZW4obyxzKX1hKChyPXIuYXBwbHkoZSxbXSkpLm5leHQoKSl9KSl9ZnVuY3Rpb24gdGQoZSx0KXt2YXIgbixyLGksbyxzPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJmlbMF0pdGhyb3cgaVsxXTtyZXR1cm4gaVsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBvPXtuZXh0OmEoMCksdGhyb3c6YSgxKSxyZXR1cm46YSgyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYob1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxvO2Z1bmN0aW9uIGEobyl7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihvKXtpZihuKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7czspdHJ5e2lmKG49MSxyJiYoaT0yJm9bMF0/ci5yZXR1cm46b1swXT9yLnRocm93fHwoKGk9ci5yZXR1cm4pJiZpLmNhbGwociksMCk6ci5uZXh0KSYmIShpPWkuY2FsbChyLG9bMV0pKS5kb25lKXJldHVybiBpO3N3aXRjaChyPTAsaSYmKG89WzImb1swXSxpLnZhbHVlXSksb1swXSl7Y2FzZSAwOmNhc2UgMTppPW87YnJlYWs7Y2FzZSA0OnJldHVybiBzLmxhYmVsKysse3ZhbHVlOm9bMV0sZG9uZTohMX07Y2FzZSA1OnMubGFiZWwrKyxyPW9bMV0sbz1bMF07Y29udGludWU7Y2FzZSA3Om89cy5vcHMucG9wKCkscy50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoIShpPXMudHJ5cywoaT1pLmxlbmd0aD4wJiZpW2kubGVuZ3RoLTFdKXx8NiE9PW9bMF0mJjIhPT1vWzBdKSl7cz0wO2NvbnRpbnVlfWlmKDM9PT1vWzBdJiYoIWl8fG9bMV0+aVswXSYmb1sxXTxpWzNdKSl7cy5sYWJlbD1vWzFdO2JyZWFrfWlmKDY9PT1vWzBdJiZzLmxhYmVsPGlbMV0pe3MubGFiZWw9aVsxXSxpPW87YnJlYWt9aWYoaSYmcy5sYWJlbDxpWzJdKXtzLmxhYmVsPWlbMl0scy5vcHMucHVzaChvKTticmVha31pWzJdJiZzLm9wcy5wb3AoKSxzLnRyeXMucG9wKCk7Y29udGludWV9bz10LmNhbGwoZSxzKX1jYXRjaChlKXtvPVs2LGVdLHI9MH1maW5hbGx5e249aT0wfWlmKDUmb1swXSl0aHJvdyBvWzFdO3JldHVybnt2YWx1ZTpvWzBdP29bMV06dm9pZCAwLGRvbmU6ITB9fShbbyxhXSl9fX12YXIgbmQ9XCJJTlNUQUxMRURcIixyZD1cIk5PVF9JTlNUQUxMRURcIixpZD1cIlJFR0lTVEVSRURcIixvZD1cIlJFR0lTVEVSSU5HXCIsc2Q9XCJSRUxPQURJTkdcIixhZD17Q0hST01FOlwiaHR0cHM6Ly9jaHJvbWUuZ29vZ2xlLmNvbS93ZWJzdG9yZS9kZXRhaWwvbWV0YW1hc2svbmtiaWhmYmVvZ2FlYW9laGxlZm5rb2RiZWZncGdrbm5cIixGSVJFRk9YOlwiaHR0cHM6Ly9hZGRvbnMubW96aWxsYS5vcmcvZmlyZWZveC9hZGRvbi9ldGhlci1tZXRhbWFzay9cIixERUZBVUxUOlwiaHR0cHM6Ly9tZXRhbWFzay5pb1wifSxjZD1cIlJFR0lTVFJBVElPTl9JTl9QUk9HUkVTU1wiLGRkPVwiRk9SV0FSREVSX0lEXCIsbGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ZhciBuPXZvaWQgMD09PXQ/e306dCxyPW4uZm9yd2FyZGVyT3JpZ2luLGk9dm9pZCAwPT09cj9cImh0dHBzOi8vZndkLm1ldGFtYXNrLmlvXCI6cixvPW4uZm9yd2FyZGVyTW9kZSxzPXZvaWQgMD09PW8/ZS5GT1JXQVJERVJfTU9ERS5JTkpFQ1Q6bzt0aGlzLmZvcndhcmRlck9yaWdpbj1pLHRoaXMuZm9yd2FyZGVyTW9kZT1zLHRoaXMuc3RhdGU9ZS5pc01ldGFNYXNrSW5zdGFsbGVkKCk/bmQ6cmQ7dmFyIGE9ZS5fZGV0ZWN0QnJvd3NlcigpO3RoaXMuZG93bmxvYWRVcmw9YT9hZFthXTphZC5ERUZBVUxULHRoaXMuX29uTWVzc2FnZT10aGlzLl9vbk1lc3NhZ2UuYmluZCh0aGlzKSx0aGlzLl9vbk1lc3NhZ2VGcm9tRm9yd2FyZGVyPXRoaXMuX29uTWVzc2FnZUZyb21Gb3J3YXJkZXIuYmluZCh0aGlzKSx0aGlzLl9vcGVuRm9yd2FyZGVyPXRoaXMuX29wZW5Gb3J3YXJkZXIuYmluZCh0aGlzKSx0aGlzLl9vcGVuRG93bmxvYWRQYWdlPXRoaXMuX29wZW5Eb3dubG9hZFBhZ2UuYmluZCh0aGlzKSx0aGlzLnN0YXJ0T25ib2FyZGluZz10aGlzLnN0YXJ0T25ib2FyZGluZy5iaW5kKHRoaXMpLHRoaXMuc3RvcE9uYm9hcmRpbmc9dGhpcy5zdG9wT25ib2FyZGluZy5iaW5kKHRoaXMpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHRoaXMuX29uTWVzc2FnZSkscz09PWUuRk9SV0FSREVSX01PREUuSU5KRUNUJiZcInRydWVcIj09PXNlc3Npb25TdG9yYWdlLmdldEl0ZW0oY2QpJiZlLl9pbmplY3RGb3J3YXJkZXIodGhpcy5mb3J3YXJkZXJPcmlnaW4pfXJldHVybiBlLnByb3RvdHlwZS5fb25NZXNzYWdlPWZ1bmN0aW9uKGUpe2lmKGUub3JpZ2luPT09dGhpcy5mb3J3YXJkZXJPcmlnaW4pcmV0dXJuXCJtZXRhbWFzazpyZWxvYWRcIj09PWUuZGF0YS50eXBlP3RoaXMuX29uTWVzc2FnZUZyb21Gb3J3YXJkZXIoZSk6dm9pZCBjb25zb2xlLmRlYnVnKFwiVW5rbm93biBtZXNzYWdlIGZyb20gJ1wiK2Uub3JpZ2luK1wiJyB3aXRoIGRhdGEgXCIrSlNPTi5zdHJpbmdpZnkoZS5kYXRhKSl9LGUucHJvdG90eXBlLl9vbk1lc3NhZ2VVbmtub3duU3RhdGVFcnJvcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIHN0YXRlOiAnXCIrZStcIidcIil9LGUucHJvdG90eXBlLl9vbk1lc3NhZ2VGcm9tRm9yd2FyZGVyPWZ1bmN0aW9uKHQpe3JldHVybiBlZCh0aGlzLDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiB0ZCh0aGlzLChmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOnN3aXRjaCh0aGlzLnN0YXRlKXtjYXNlIHNkOnJldHVyblszLDFdO2Nhc2UgcmQ6cmV0dXJuWzMsMl07Y2FzZSBuZDpyZXR1cm5bMywzXTtjYXNlIG9kOnJldHVyblszLDVdO2Nhc2UgaWQ6cmV0dXJuWzMsNl19cmV0dXJuWzMsN107Y2FzZSAxOnJldHVybiBjb25zb2xlLmRlYnVnKFwiSWdub3JpbmcgbWVzc2FnZSB3aGlsZSByZWxvYWRpbmdcIiksWzMsOF07Y2FzZSAyOnJldHVybiBjb25zb2xlLmRlYnVnKFwiUmVsb2FkaW5nIG5vdyB0byByZWdpc3RlciB3aXRoIE1ldGFNYXNrXCIpLHRoaXMuc3RhdGU9c2QsbG9jYXRpb24ucmVsb2FkKCksWzMsOF07Y2FzZSAzOnJldHVybiBjb25zb2xlLmRlYnVnKFwiUmVnaXN0ZXJpbmcgd2l0aCBNZXRhTWFza1wiKSx0aGlzLnN0YXRlPW9kLFs0LGUuX3JlZ2lzdGVyKCldO2Nhc2UgNDpyZXR1cm4gbi5zZW50KCksdGhpcy5zdGF0ZT1pZCx0LnNvdXJjZS5wb3N0TWVzc2FnZSh7dHlwZTpcIm1ldGFtYXNrOnJlZ2lzdHJhdGlvbkNvbXBsZXRlZFwifSx0Lm9yaWdpbiksdGhpcy5zdG9wT25ib2FyZGluZygpLFszLDhdO2Nhc2UgNTpyZXR1cm4gY29uc29sZS5kZWJ1ZyhcIkFscmVhZHkgcmVnaXN0ZXJpbmcgLSBpZ25vcmluZyByZWxvYWQgbWVzc2FnZVwiKSxbMyw4XTtjYXNlIDY6cmV0dXJuIGNvbnNvbGUuZGVidWcoXCJBbHJlYWR5IHJlZ2lzdGVyZWQgLSBpZ25vcmluZyByZWxvYWQgbWVzc2FnZVwiKSxbMyw4XTtjYXNlIDc6dGhpcy5fb25NZXNzYWdlVW5rbm93blN0YXRlRXJyb3IodGhpcy5zdGF0ZSksbi5sYWJlbD04O2Nhc2UgODpyZXR1cm5bMl19fSkpfSkpfSxlLnByb3RvdHlwZS5zdGFydE9uYm9hcmRpbmc9ZnVuY3Rpb24oKXtzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKGNkLFwidHJ1ZVwiKSx0aGlzLl9vcGVuRG93bmxvYWRQYWdlKCksdGhpcy5fb3BlbkZvcndhcmRlcigpfSxlLnByb3RvdHlwZS5zdG9wT25ib2FyZGluZz1mdW5jdGlvbigpe1widHJ1ZVwiPT09c2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShjZCkmJih0aGlzLmZvcndhcmRlck1vZGU9PT1lLkZPUldBUkRFUl9NT0RFLklOSkVDVCYmKGNvbnNvbGUuZGVidWcoXCJSZW1vdmluZyBmb3J3YXJkZXJcIiksZS5fcmVtb3ZlRm9yd2FyZGVyKCkpLHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oY2QsXCJmYWxzZVwiKSl9LGUucHJvdG90eXBlLl9vcGVuRm9yd2FyZGVyPWZ1bmN0aW9uKCl7dGhpcy5mb3J3YXJkZXJNb2RlPT09ZS5GT1JXQVJERVJfTU9ERS5PUEVOX1RBQj93aW5kb3cub3Blbih0aGlzLmZvcndhcmRlck9yaWdpbixcIl9ibGFua1wiKTplLl9pbmplY3RGb3J3YXJkZXIodGhpcy5mb3J3YXJkZXJPcmlnaW4pfSxlLnByb3RvdHlwZS5fb3BlbkRvd25sb2FkUGFnZT1mdW5jdGlvbigpe3dpbmRvdy5vcGVuKHRoaXMuZG93bmxvYWRVcmwsXCJfYmxhbmtcIil9LGUuaXNNZXRhTWFza0luc3RhbGxlZD1mdW5jdGlvbigpe3JldHVybiBCb29sZWFuKHdpbmRvdy5ldGhlcmV1bSYmd2luZG93LmV0aGVyZXVtLmlzTWV0YU1hc2spfSxlLl9yZWdpc3Rlcj1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cuZXRoZXJldW0ucmVxdWVzdCh7bWV0aG9kOlwid2FsbGV0X3JlZ2lzdGVyT25ib2FyZGluZ1wifSl9LGUuX2luamVjdEZvcndhcmRlcj1mdW5jdGlvbihlKXt2YXIgdD1kb2N1bWVudC5ib2R5LG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTtuLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLFwiMFwiKSxuLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsXCIwXCIpLG4uc2V0QXR0cmlidXRlKFwic3R5bGVcIixcImRpc3BsYXk6IG5vbmU7XCIpLG4uc2V0QXR0cmlidXRlKFwic3JjXCIsZSksbi5zZXRBdHRyaWJ1dGUoXCJpZFwiLGRkKSx0Lmluc2VydEJlZm9yZShuLHQuY2hpbGRyZW5bMF0pfSxlLl9yZW1vdmVGb3J3YXJkZXI9ZnVuY3Rpb24oKXt2YXIgZTtudWxsPT09KGU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGQpKXx8dm9pZCAwPT09ZXx8ZS5yZW1vdmUoKX0sZS5fZGV0ZWN0QnJvd3Nlcj1mdW5jdGlvbigpe3ZhciBlPWRjLnBhcnNlKHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KTtyZXR1cm5cIkZpcmVmb3hcIj09PWUuYnJvd3Nlci5uYW1lP1wiRklSRUZPWFwiOltcIkNocm9tZVwiLFwiQ2hyb21pdW1cIl0uaW5jbHVkZXMoZS5icm93c2VyLm5hbWV8fFwiXCIpP1wiQ0hST01FXCI6bnVsbH0sZS5GT1JXQVJERVJfTU9ERT17SU5KRUNUOlwiSU5KRUNUXCIsT1BFTl9UQUI6XCJPUEVOX1RBQlwifSxlfSgpO2Z1bmN0aW9uIHVkKGUse3dhaXQ6dD0hMX0pe3JldHVybiB1KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7cmV0dXJuIERhKGBbTWV0YW1hc2tJbnN0YWxsZXI6IHN0YXJ0SW5zdGFsbGVyKCldIHdhaXQ9JHt0fWApLHQmJih5aWVsZCAkYygxZTMpKSx5aWVsZCBlLmNoZWNrSW5zdGFsbGF0aW9uKCl9KSl9Y2xhc3MgaGR7Y29uc3RydWN0b3Ioe3JlbW90ZTplLHByZWZlckRlc2t0b3A6dCxwbGF0Zm9ybU1hbmFnZXI6bixkZWJ1ZzpyPSExfSl7dGhpcy5zdGF0ZT17aXNJbnN0YWxsaW5nOiExLGhhc0luc3RhbGxlZDohMSxyZXNlbmRSZXF1ZXN0Om51bGwscHJlZmVyRGVza3RvcDohMSxwbGF0Zm9ybU1hbmFnZXI6bnVsbCxyZW1vdGU6bnVsbCxkZWJ1ZzohMSxjb25uZWN0V2l0aDp2b2lkIDB9LHRoaXMuc3RhdGUucmVtb3RlPWUsdGhpcy5zdGF0ZS5wcmVmZXJEZXNrdG9wPXQsdGhpcy5zdGF0ZS5wbGF0Zm9ybU1hbmFnZXI9bix0aGlzLnN0YXRlLmRlYnVnPXJ9c3RhcnREZXNrdG9wT25ib2FyZGluZygpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB1KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7RGEoXCJbTWV0YW1hc2tJbnN0YWxsZXI6IHN0YXJ0RGVza3RvcE9uYm9hcmRpbmcoKSBzdGFydGluZyBkZXNrdG9wIG9uYm9hcmRpbmdcIiksd2luZG93LmV0aGVyZXVtJiYod2luZG93LmV0aGVyZXVtPXZvaWQgMCksKG5ldyBsZCkuc3RhcnRPbmJvYXJkaW5nKCl9KSl9KCl9cmVkaXJlY3RUb1Byb3Blckluc3RhbGwoKXtyZXR1cm4gdSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdCxuO3JldHVybiB1KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7Y29uc3R7c3RhdGU6cn09ZSxpPW51bGw9PT0odD1yLnBsYXRmb3JtTWFuYWdlcil8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZ2V0UGxhdGZvcm1UeXBlKCk7aWYoRGEoYFtNZXRhbWFza0luc3RhbGxlcjogcmVkaXJlY3RUb1Byb3Blckluc3RhbGwoKV0gcGxhdGZvcm09JHtpfWApLGk9PT1leHBvcnRzLlBsYXRmb3JtVHlwZS5NZXRhTWFza01vYmlsZVdlYnZpZXcpcmV0dXJuITE7ci5pc0luc3RhbGxpbmc9ITA7dHJ5e3lpZWxkIG51bGw9PT0obj1yLnJlbW90ZSl8fHZvaWQgMD09PW4/dm9pZCAwOm4uc3RhcnRDb25uZWN0aW9uKHtjb25uZWN0V2l0aDpyLmNvbm5lY3RXaXRofSksci5pc0luc3RhbGxpbmc9ITEsci5oYXNJbnN0YWxsZWQ9ITB9Y2F0Y2goZSl7dGhyb3cgci5pc0luc3RhbGxpbmc9ITEsZX1yZXR1cm4hMH0pKX0odGhpcyl9KSl9Y2hlY2tJbnN0YWxsYXRpb24oKXtyZXR1cm4gdSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gdSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2NvbnN0e3N0YXRlOm59PWUscj1udWxsPT09KHQ9bi5wbGF0Zm9ybU1hbmFnZXIpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmlzTWV0YU1hc2tJbnN0YWxsZWQoKTtyZXR1cm4gRGEoYFtNZXRhbWFza0luc3RhbGxlcjogY2hlY2tJbnN0YWxsYXRpb24oKV0gaXNJbnN0YWxsZWQ9JHtyfWApLCEhcnx8KHlpZWxkIGUucmVkaXJlY3RUb1Byb3Blckluc3RhbGwoKSl9KSl9KHRoaXMpfSkpfXN0YXJ0KHt3YWl0OmU9ITEsY29ubmVjdFdpdGg6dH0pe3JldHVybiB1KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7dGhpcy5zdGF0ZS5jb25uZWN0V2l0aD10LERhKGBbTWV0YU1hc2tJbnN0YWxsZXI6IHN0YXJ0KCldIHdhaXQ9JHtlfWAsdCkseWllbGQgdWQodGhpcyx7d2FpdDplfSl9KSl9fWZ1bmN0aW9uIGZkKGUsdCl7cmV0dXJuIGUudG9TdHJpbmcoMikucGFkU3RhcnQodCxcIjBcIil9ZnVuY3Rpb24gcGQoZSx0KXtjb25zdCBuPWUldDtyZXR1cm4gbj49MD9uOnQrbn1mdW5jdGlvbiBtZChlLHQpe3JldHVybiBuZXcgQXJyYXkoZSkuZmlsbCh0KX1mdW5jdGlvbiBnZCguLi5lKXtsZXQgdD0wO2Zvcihjb25zdCBuIG9mIGUpdD1NYXRoLm1heCh0LG4ubGVuZ3RoKTtjb25zdCBuPVtdO2ZvcihsZXQgcj0wO3I8dDtyKyspZm9yKGNvbnN0IHQgb2YgZSlyPj10Lmxlbmd0aHx8bi5wdXNoKHRbcl0pO3JldHVybiBuZXcgVWludDhBcnJheShuKX1mdW5jdGlvbiB5ZChlLHQsbil7aWYobjwwfHxuK3QubGVuZ3RoPmUubGVuZ3RoKXJldHVybiExO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKWlmKHRbcl0hPT1lW24rcl0pcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gdmQoZSl7cmV0dXJue2hhczp0PT5lLmluY2x1ZGVzKHQpLGRlY29kZTp0PT57aWYoIUFycmF5LmlzQXJyYXkodCl8fHQubGVuZ3RoJiZcInN0cmluZ1wiIT10eXBlb2YgdFswXSl0aHJvdyBuZXcgRXJyb3IoXCJhbHBoYWJldC5kZWNvZGUgaW5wdXQgc2hvdWxkIGJlIGFycmF5IG9mIHN0cmluZ3NcIik7cmV0dXJuIHQubWFwKCh0PT57aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IEVycm9yKGBhbHBoYWJldC5kZWNvZGU6IG5vdCBzdHJpbmcgZWxlbWVudD0ke3R9YCk7Y29uc3Qgbj1lLmluZGV4T2YodCk7aWYoLTE9PT1uKXRocm93IG5ldyBFcnJvcihgVW5rbm93biBsZXR0ZXI6IFwiJHt0fVwiLiBBbGxvd2VkOiAke2V9YCk7cmV0dXJuIG59KSl9LGVuY29kZTp0PT57aWYoIUFycmF5LmlzQXJyYXkodCl8fHQubGVuZ3RoJiZcIm51bWJlclwiIT10eXBlb2YgdFswXSl0aHJvdyBuZXcgRXJyb3IoXCJhbHBoYWJldC5lbmNvZGUgaW5wdXQgc2hvdWxkIGJlIGFuIGFycmF5IG9mIG51bWJlcnNcIik7cmV0dXJuIHQubWFwKCh0PT57aWYoZnVuY3Rpb24oZSl7aWYoIU51bWJlci5pc1NhZmVJbnRlZ2VyKGUpKXRocm93IG5ldyBFcnJvcihgV3JvbmcgaW50ZWdlcjogJHtlfWApfSh0KSx0PDB8fHQ+PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihgRGlnaXQgaW5kZXggb3V0c2lkZSBhbHBoYWJldDogJHt0fSAoYWxwaGFiZXQ6ICR7ZS5sZW5ndGh9KWApO3JldHVybiBlW3RdfSkpfX19Y2xhc3MgRWR7c3RhdGljIHNpemUoZSx0KXtpZihcIm51bWJlclwiPT10eXBlb2YgZSYmKGU9e2hlaWdodDplLHdpZHRoOmV9KSwhTnVtYmVyLmlzU2FmZUludGVnZXIoZS5oZWlnaHQpJiZlLmhlaWdodCE9PTEvMCl0aHJvdyBuZXcgRXJyb3IoYEJpdG1hcDogd3JvbmcgaGVpZ2h0PSR7ZS5oZWlnaHR9ICgke3R5cGVvZiBlLmhlaWdodH0pYCk7aWYoIU51bWJlci5pc1NhZmVJbnRlZ2VyKGUud2lkdGgpJiZlLndpZHRoIT09MS8wKXRocm93IG5ldyBFcnJvcihgQml0bWFwOiB3cm9uZyB3aWR0aD0ke2Uud2lkdGh9ICgke3R5cGVvZiBlLndpZHRofSlgKTtyZXR1cm4gdm9pZCAwIT09dCYmKGU9e3dpZHRoOk1hdGgubWluKGUud2lkdGgsdC53aWR0aCksaGVpZ2h0Ok1hdGgubWluKGUuaGVpZ2h0LHQuaGVpZ2h0KX0pLGV9c3RhdGljIGZyb21TdHJpbmcoZSl7Y29uc3QgdD0oZT1lLnJlcGxhY2UoL15cXG4rL2csXCJcIikucmVwbGFjZSgvXFxuKyQvZyxcIlwiKSkuc3BsaXQoXCJcXG5cIiksbj10Lmxlbmd0aCxyPW5ldyBBcnJheShuKTtsZXQgaTtmb3IoY29uc3QgZSBvZiB0KXtjb25zdCB0PWUuc3BsaXQoXCJcIikubWFwKChlPT57aWYoXCJYXCI9PT1lKXJldHVybiEwO2lmKFwiIFwiPT09ZSlyZXR1cm4hMTtpZihcIj9cIiE9PWUpdGhyb3cgbmV3IEVycm9yKGBCaXRtYXAuZnJvbVN0cmluZzogdW5rbm93biBzeW1ib2w9JHtlfWApfSkpO2lmKGkmJnQubGVuZ3RoIT09aSl0aHJvdyBuZXcgRXJyb3IoYEJpdG1hcC5mcm9tU3RyaW5nIGRpZmZlcmVudCByb3cgc2l6ZXM6IHdpZHRoPSR7aX0gY3VyPSR7dC5sZW5ndGh9YCk7aT10Lmxlbmd0aCxyLnB1c2godCl9cmV0dXJuIGl8fChpPTApLG5ldyBFZCh7aGVpZ2h0Om4sd2lkdGg6aX0scil9Y29uc3RydWN0b3IoZSx0KXtjb25zdHtoZWlnaHQ6bix3aWR0aDpyfT1FZC5zaXplKGUpO3RoaXMuZGF0YT10fHxBcnJheS5mcm9tKHtsZW5ndGg6bn0sKCgpPT5tZChyLHZvaWQgMCkpKSx0aGlzLmhlaWdodD1uLHRoaXMud2lkdGg9cn1wb2ludChlKXtyZXR1cm4gdGhpcy5kYXRhW2UueV1bZS54XX1pc0luc2lkZShlKXtyZXR1cm4gMDw9ZS54JiZlLng8dGhpcy53aWR0aCYmMDw9ZS55JiZlLnk8dGhpcy5oZWlnaHR9c2l6ZShlKXtpZighZSlyZXR1cm57aGVpZ2h0OnRoaXMuaGVpZ2h0LHdpZHRoOnRoaXMud2lkdGh9O2NvbnN0e3g6dCx5Om59PXRoaXMueHkoZSk7cmV0dXJue2hlaWdodDp0aGlzLmhlaWdodC1uLHdpZHRoOnRoaXMud2lkdGgtdH19eHkoZSl7aWYoXCJudW1iZXJcIj09dHlwZW9mIGUmJihlPXt4OmUseTplfSksIU51bWJlci5pc1NhZmVJbnRlZ2VyKGUueCkpdGhyb3cgbmV3IEVycm9yKGBCaXRtYXA6IHdyb25nIHg9JHtlLnh9YCk7aWYoIU51bWJlci5pc1NhZmVJbnRlZ2VyKGUueSkpdGhyb3cgbmV3IEVycm9yKGBCaXRtYXA6IHdyb25nIHk9JHtlLnl9YCk7cmV0dXJuIGUueD1wZChlLngsdGhpcy53aWR0aCksZS55PXBkKGUueSx0aGlzLmhlaWdodCksZX1yZWN0KGUsdCxuKXtjb25zdHt4OnIseTppfT10aGlzLnh5KGUpLHtoZWlnaHQ6byx3aWR0aDpzfT1FZC5zaXplKHQsdGhpcy5zaXplKHt4OnIseTppfSkpO2ZvcihsZXQgZT0wO2U8bztlKyspZm9yKGxldCB0PTA7dDxzO3QrKyl0aGlzLmRhdGFbaStlXVtyK3RdPVwiZnVuY3Rpb25cIj09dHlwZW9mIG4/bih7eDp0LHk6ZX0sdGhpcy5kYXRhW2krZV1bcit0XSk6bjtyZXR1cm4gdGhpc31yZWN0UmVhZChlLHQsbil7cmV0dXJuIHRoaXMucmVjdChlLHQsKChlLHQpPT4obihlLHQpLHQpKSl9aExpbmUoZSx0LG4pe3JldHVybiB0aGlzLnJlY3QoZSx7d2lkdGg6dCxoZWlnaHQ6MX0sbil9dkxpbmUoZSx0LG4pe3JldHVybiB0aGlzLnJlY3QoZSx7d2lkdGg6MSxoZWlnaHQ6dH0sbil9Ym9yZGVyKGU9Mix0KXtjb25zdCBuPXRoaXMuaGVpZ2h0KzIqZSxyPXRoaXMud2lkdGgrMiplLGk9bWQoZSx0KSxvPUFycmF5LmZyb20oe2xlbmd0aDplfSwoKCk9Pm1kKHIsdCkpKTtyZXR1cm4gbmV3IEVkKHtoZWlnaHQ6bix3aWR0aDpyfSxbLi4ubywuLi50aGlzLmRhdGEubWFwKChlPT5bLi4uaSwuLi5lLC4uLmldKSksLi4ub10pfWVtYmVkKGUsdCl7cmV0dXJuIHRoaXMucmVjdChlLHQuc2l6ZSgpLCgoe3g6ZSx5Om59KT0+dC5kYXRhW25dW2VdKSl9cmVjdFNsaWNlKGUsdD10aGlzLnNpemUoKSl7Y29uc3Qgbj1uZXcgRWQoRWQuc2l6ZSh0LHRoaXMuc2l6ZSh0aGlzLnh5KGUpKSkpO3JldHVybiB0aGlzLnJlY3QoZSx0LCgoe3g6ZSx5OnR9LHIpPT5uLmRhdGFbdF1bZV09cikpLG59aW52ZXJzZSgpe2NvbnN0e2hlaWdodDplLHdpZHRoOnR9PXRoaXM7cmV0dXJuIG5ldyBFZCh7aGVpZ2h0OnQsd2lkdGg6ZX0pLnJlY3Qoe3g6MCx5OjB9LDEvMCwoKHt4OmUseTp0fSk9PnRoaXMuZGF0YVtlXVt0XSkpfXNjYWxlKGUpe2lmKCFOdW1iZXIuaXNTYWZlSW50ZWdlcihlKXx8ZT4xMDI0KXRocm93IG5ldyBFcnJvcihgV3Jvbmcgc2NhbGUgZmFjdG9yOiAke2V9YCk7Y29uc3R7aGVpZ2h0OnQsd2lkdGg6bn09dGhpcztyZXR1cm4gbmV3IEVkKHtoZWlnaHQ6ZSp0LHdpZHRoOmUqbn0pLnJlY3Qoe3g6MCx5OjB9LDEvMCwoKHt4OnQseTpufSk9PnRoaXMuZGF0YVtNYXRoLmZsb29yKG4vZSldW01hdGguZmxvb3IodC9lKV0pKX1jbG9uZSgpe3JldHVybiBuZXcgRWQodGhpcy5zaXplKCkpLnJlY3Qoe3g6MCx5OjB9LHRoaXMuc2l6ZSgpLCgoe3g6ZSx5OnR9KT0+dGhpcy5kYXRhW3RdW2VdKSl9YXNzZXJ0RHJhd24oKXt0aGlzLnJlY3RSZWFkKDAsMS8wLCgoZSx0KT0+e2lmKFwiYm9vbGVhblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNvbG9yIHR5cGU9XCIrdHlwZW9mIHQpfSkpfXRvU3RyaW5nKCl7cmV0dXJuIHRoaXMuZGF0YS5tYXAoKGU9PmUubWFwKChlPT52b2lkIDA9PT1lP1wiP1wiOmU/XCJYXCI6XCIgXCIpKS5qb2luKFwiXCIpKSkuam9pbihcIlxcblwiKX10b0FTQ0lJKCl7Y29uc3R7aGVpZ2h0OmUsd2lkdGg6dCxkYXRhOm59PXRoaXM7bGV0IHI9XCJcIjtmb3IobGV0IGk9MDtpPGU7aSs9Mil7Zm9yKGxldCBvPTA7bzx0O28rKyl7Y29uc3QgdD1uW2ldW29dLHM9aSsxPj1lfHxuW2krMV1bb107dHx8cz8hdCYmcz9yKz1cIuKWgFwiOnQmJiFzP3IrPVwi4paEXCI6dCYmcyYmKHIrPVwiIFwiKTpyKz1cIuKWiFwifXIrPVwiXFxuXCJ9cmV0dXJuIHJ9dG9UZXJtKCl7Y29uc3QgZT1cIlx1MDAxYlswbVwiLHQ9YFx1MDAxYlsxOzQ3bSAgJHtlfWAsbj1gXHUwMDFiWzQwbSAgJHtlfWA7cmV0dXJuIHRoaXMuZGF0YS5tYXAoKGU9PmUubWFwKChlPT5lP246dCkpLmpvaW4oXCJcIikpKS5qb2luKFwiXFxuXCIpfXRvU1ZHKCl7bGV0IGU9YDxzdmcgeG1sbnM6c3ZnPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwICR7dGhpcy53aWR0aH0gJHt0aGlzLmhlaWdodH1cIiB2ZXJzaW9uPVwiMS4xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPmA7cmV0dXJuIHRoaXMucmVjdFJlYWQoMCwxLzAsKCh7eDp0LHk6bn0scik9PntyJiYoZSs9YDxyZWN0IHg9XCIke3R9XCIgeT1cIiR7bn1cIiB3aWR0aD1cIjFcIiBoZWlnaHQ9XCIxXCIgLz5gKX0pKSxlKz1cIjwvc3ZnPlwiLGV9dG9HSUYoKXtjb25zdCBlPWU9PlsyNTUmZSxlPj4+OCYyNTVdLHQ9Wy4uLmUodGhpcy53aWR0aCksLi4uZSh0aGlzLmhlaWdodCldLG49W107dGhpcy5yZWN0UmVhZCgwLDEvMCwoKGUsdCk9Pm4ucHVzaCgrKCEwPT09dCkpKSk7Y29uc3Qgcj0xMjYsaT1bNzEsNzMsNzAsNTYsNTUsOTcsLi4udCwyNDYsMCwwLDI1NSwyNTUsMjU1LC4uLm1kKDM4MSwwKSw0NCwwLDAsMCwwLC4uLnQsMCw3XSxvPU1hdGguZmxvb3Iobi5sZW5ndGgvcik7Zm9yKGxldCBlPTA7ZTxvO2UrKylpLnB1c2goMTI3LDEyOCwuLi5uLnNsaWNlKHIqZSxyKihlKzEpKS5tYXAoKGU9PitlKSkpO3JldHVybiBpLnB1c2gobi5sZW5ndGglcisxLDEyOCwuLi5uLnNsaWNlKG8qcikubWFwKChlPT4rZSkpKSxpLnB1c2goMSwxMjksMCw1OSksbmV3IFVpbnQ4QXJyYXkoaSl9dG9JbWFnZShlPSExKXtjb25zdHtoZWlnaHQ6dCx3aWR0aDpufT10aGlzLnNpemUoKSxyPW5ldyBVaW50OEFycmF5KHQqbiooZT8zOjQpKTtsZXQgaT0wO2ZvcihsZXQgbz0wO288dDtvKyspZm9yKGxldCB0PTA7dDxuO3QrKyl7Y29uc3Qgbj10aGlzLmRhdGFbb11bdF0/MDoyNTU7cltpKytdPW4scltpKytdPW4scltpKytdPW4sZXx8KHJbaSsrXT0yNTUpfXJldHVybntoZWlnaHQ6dCx3aWR0aDpuLGRhdGE6cn19fWNvbnN0IGJkPVtcImxvd1wiLFwibWVkaXVtXCIsXCJxdWFydGlsZVwiLFwiaGlnaFwiXSx3ZD1bXCJudW1lcmljXCIsXCJhbHBoYW51bWVyaWNcIixcImJ5dGVcIixcImthbmppXCIsXCJlY2lcIl0sU2Q9WzI2LDQ0LDcwLDEwMCwxMzQsMTcyLDE5NiwyNDIsMjkyLDM0Niw0MDQsNDY2LDUzMiw1ODEsNjU1LDczMyw4MTUsOTAxLDk5MSwxMDg1LDExNTYsMTI1OCwxMzY0LDE0NzQsMTU4OCwxNzA2LDE4MjgsMTkyMSwyMDUxLDIxODUsMjMyMywyNDY1LDI2MTEsMjc2MSwyODc2LDMwMzQsMzE5NiwzMzYyLDM1MzIsMzcwNl0sX2Q9e2xvdzpbNywxMCwxNSwyMCwyNiwxOCwyMCwyNCwzMCwxOCwyMCwyNCwyNiwzMCwyMiwyNCwyOCwzMCwyOCwyOCwyOCwyOCwzMCwzMCwyNiwyOCwzMCwzMCwzMCwzMCwzMCwzMCwzMCwzMCwzMCwzMCwzMCwzMCwzMCwzMF0sbWVkaXVtOlsxMCwxNiwyNiwxOCwyNCwxNiwxOCwyMiwyMiwyNiwzMCwyMiwyMiwyNCwyNCwyOCwyOCwyNiwyNiwyNiwyNiwyOCwyOCwyOCwyOCwyOCwyOCwyOCwyOCwyOCwyOCwyOCwyOCwyOCwyOCwyOCwyOCwyOCwyOCwyOF0scXVhcnRpbGU6WzEzLDIyLDE4LDI2LDE4LDI0LDE4LDIyLDIwLDI0LDI4LDI2LDI0LDIwLDMwLDI0LDI4LDI4LDI2LDMwLDI4LDMwLDMwLDMwLDMwLDI4LDMwLDMwLDMwLDMwLDMwLDMwLDMwLDMwLDMwLDMwLDMwLDMwLDMwLDMwXSxoaWdoOlsxNywyOCwyMiwxNiwyMiwyOCwyNiwyNiwyNCwyOCwyNCwyOCwyMiwyNCwyNCwzMCwyOCwyOCwyNiwyOCwzMCwyNCwzMCwzMCwzMCwzMCwzMCwzMCwzMCwzMCwzMCwzMCwzMCwzMCwzMCwzMCwzMCwzMCwzMCwzMF19LENkPXtsb3c6WzEsMSwxLDEsMSwyLDIsMiwyLDQsNCw0LDQsNCw2LDYsNiw2LDcsOCw4LDksOSwxMCwxMiwxMiwxMiwxMywxNCwxNSwxNiwxNywxOCwxOSwxOSwyMCwyMSwyMiwyNCwyNV0sbWVkaXVtOlsxLDEsMSwyLDIsNCw0LDQsNSw1LDUsOCw5LDksMTAsMTAsMTEsMTMsMTQsMTYsMTcsMTcsMTgsMjAsMjEsMjMsMjUsMjYsMjgsMjksMzEsMzMsMzUsMzcsMzgsNDAsNDMsNDUsNDcsNDldLHF1YXJ0aWxlOlsxLDEsMiwyLDQsNCw2LDYsOCw4LDgsMTAsMTIsMTYsMTIsMTcsMTYsMTgsMjEsMjAsMjMsMjMsMjUsMjcsMjksMzQsMzQsMzUsMzgsNDAsNDMsNDUsNDgsNTEsNTMsNTYsNTksNjIsNjUsNjhdLGhpZ2g6WzEsMSwyLDQsNCw0LDUsNiw4LDgsMTEsMTEsMTYsMTYsMTgsMTYsMTksMjEsMjUsMjUsMjUsMzQsMzAsMzIsMzUsMzcsNDAsNDIsNDUsNDgsNTEsNTQsNTcsNjAsNjMsNjYsNzAsNzQsNzcsODFdfSx4ZD17c2l6ZTp7ZW5jb2RlOmU9PjIxKzQqKGUtMSksZGVjb2RlOmU9PihlLTE3KS80fSxzaXplVHlwZTplPT5NYXRoLmZsb29yKChlKzcpLzE3KSxhbGlnbm1lbnRQYXR0ZXJucyhlKXtpZigxPT09ZSlyZXR1cm5bXTtjb25zdCB0PXhkLnNpemUuZW5jb2RlKGUpLTYtMSxuPXQtNixyPU1hdGguY2VpbChuLzI4KTtsZXQgaT1NYXRoLmZsb29yKG4vcik7aSUyP2krPTE6biVyKjI+PXImJihpKz0yKTtjb25zdCBvPVs2XTtmb3IobGV0IGU9MTtlPHI7ZSsrKW8ucHVzaCh0LShyLWUpKmkpO3JldHVybiBvLnB1c2godCksb30sRUNDb2RlOntsb3c6MSxtZWRpdW06MCxxdWFydGlsZTozLGhpZ2g6Mn0sZm9ybWF0TWFzazoyMTUyMixmb3JtYXRCaXRzKGUsdCl7Y29uc3Qgbj14ZC5FQ0NvZGVbZV08PDN8dDtsZXQgcj1uO2ZvcihsZXQgZT0wO2U8MTA7ZSsrKXI9cjw8MV4xMzM1KihyPj45KTtyZXR1cm4objw8MTB8cileeGQuZm9ybWF0TWFza30sdmVyc2lvbkJpdHMoZSl7bGV0IHQ9ZTtmb3IobGV0IGU9MDtlPDEyO2UrKyl0PXQ8PDFeNzk3MyoodD4+MTEpO3JldHVybiBlPDwxMnx0fSxhbHBoYWJldDp7bnVtZXJpYzp2ZChcIjAxMjM0NTY3ODlcIiksYWxwaGFudW1lcmM6dmQoXCIwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVogJCUqKy0uLzpcIil9LGxlbmd0aEJpdHM6KGUsdCk9Pih7bnVtZXJpYzpbMTAsMTIsMTRdLGFscGhhbnVtZXJpYzpbOSwxMSwxM10sYnl0ZTpbOCwxNiwxNl0sa2Fuamk6WzgsMTAsMTJdLGVjaTpbMCwwLDBdfVt0XVt4ZC5zaXplVHlwZShlKV0pLG1vZGVCaXRzOntudW1lcmljOlwiMDAwMVwiLGFscGhhbnVtZXJpYzpcIjAwMTBcIixieXRlOlwiMDEwMFwiLGthbmppOlwiMTAwMFwiLGVjaTpcIjAxMTFcIn0sY2FwYWNpdHkoZSx0KXtjb25zdCBuPVNkW2UtMV0scj1fZFt0XVtlLTFdLGk9Q2RbdF1bZS0xXSxvPU1hdGguZmxvb3Iobi9pKS1yLHM9aS1uJWk7cmV0dXJue3dvcmRzOnIsbnVtQmxvY2tzOmksc2hvcnRCbG9ja3M6cyxibG9ja0xlbjpvLGNhcGFjaXR5OjgqKG4tcippKSx0b3RhbDoocitvKSppK2ktc319fSxrZD1bKGUsdCk9PihlK3QpJTI9PTAsKGUsdCk9PnQlMj09MCwoZSx0KT0+ZSUzPT0wLChlLHQpPT4oZSt0KSUzPT0wLChlLHQpPT4oTWF0aC5mbG9vcih0LzIpK01hdGguZmxvb3IoZS8zKSklMj09MCwoZSx0KT0+ZSp0JTIrZSp0JTM9PTAsKGUsdCk9PihlKnQlMitlKnQlMyklMj09MCwoZSx0KT0+KChlK3QpJTIrZSp0JTMpJTI9PTBdLE1kPXt0YWJsZXM6KGU9Pntjb25zdCB0PW1kKDI1NiwwKSxuPW1kKDI1NiwwKTtmb3IobGV0IGU9MCxyPTE7ZTwyNTY7ZSsrKXRbZV09cixuW3JdPWUscjw8PTEsMjU2JnImJihyXj0yODUpO3JldHVybntleHA6dCxsb2c6bn19KSgpLGV4cDplPT5NZC50YWJsZXMuZXhwW2VdLGxvZyhlKXtpZigwPT09ZSl0aHJvdyBuZXcgRXJyb3IoYEdGLmxvZzogd3JvbmcgYXJnPSR7ZX1gKTtyZXR1cm4gTWQudGFibGVzLmxvZ1tlXSUyNTV9LG11bDooZSx0KT0+MD09PWV8fDA9PT10PzA6TWQudGFibGVzLmV4cFsoTWQudGFibGVzLmxvZ1tlXStNZC50YWJsZXMubG9nW3RdKSUyNTVdLGFkZDooZSx0KT0+ZV50LHBvdzooZSx0KT0+TWQudGFibGVzLmV4cFtNZC50YWJsZXMubG9nW2VdKnQlMjU1XSxpbnYoZSl7aWYoMD09PWUpdGhyb3cgbmV3IEVycm9yKGBHRi5pbnZlcnNlOiB3cm9uZyBhcmc9JHtlfWApO3JldHVybiBNZC50YWJsZXMuZXhwWzI1NS1NZC50YWJsZXMubG9nW2VdXX0scG9seW5vbWlhbChlKXtpZigwPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJHRi5wb2x5bW9taWFsOiB3cm9uZyBsZW5ndGhcIik7aWYoMCE9PWVbMF0pcmV0dXJuIGU7bGV0IHQ9MDtmb3IoO3Q8ZS5sZW5ndGgtMSYmMD09ZVt0XTt0KyspO3JldHVybiBlLnNsaWNlKHQpfSxtb25vbWlhbChlLHQpe2lmKGU8MCl0aHJvdyBuZXcgRXJyb3IoYEdGLm1vbm9taWFsOiB3cm9uZyBkZWdyZWU9JHtlfWApO2lmKDA9PXQpcmV0dXJuWzBdO2xldCBuPW1kKGUrMSwwKTtyZXR1cm4gblswXT10LE1kLnBvbHlub21pYWwobil9LGRlZ3JlZTplPT5lLmxlbmd0aC0xLGNvZWZmaWNpZW50OihlLHQpPT5lW01kLmRlZ3JlZShlKS10XSxtdWxQb2x5KGUsdCl7aWYoMD09PWVbMF18fDA9PT10WzBdKXJldHVyblswXTtjb25zdCBuPW1kKGUubGVuZ3RoK3QubGVuZ3RoLTEsMCk7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspZm9yKGxldCBpPTA7aTx0Lmxlbmd0aDtpKyspbltyK2ldPU1kLmFkZChuW3IraV0sTWQubXVsKGVbcl0sdFtpXSkpO3JldHVybiBNZC5wb2x5bm9taWFsKG4pfSxtdWxQb2x5U2NhbGFyKGUsdCl7aWYoMD09dClyZXR1cm5bMF07aWYoMT09dClyZXR1cm4gZTtjb25zdCBuPW1kKGUubGVuZ3RoLDApO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKW5bcl09TWQubXVsKGVbcl0sdCk7cmV0dXJuIE1kLnBvbHlub21pYWwobil9LG11bFBvbHlNb25vbWlhbChlLHQsbil7aWYodDwwKXRocm93IG5ldyBFcnJvcihcIkdGLm11bFBvbHlNb25vbWlhbDogd3JvbmcgZGVncmVlXCIpO2lmKDA9PW4pcmV0dXJuWzBdO2NvbnN0IHI9bWQoZS5sZW5ndGgrdCwwKTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKylyW3RdPU1kLm11bChlW3RdLG4pO3JldHVybiBNZC5wb2x5bm9taWFsKHIpfSxhZGRQb2x5KGUsdCl7aWYoMD09PWVbMF0pcmV0dXJuIHQ7aWYoMD09PXRbMF0pcmV0dXJuIGU7bGV0IG49ZSxyPXQ7bi5sZW5ndGg+ci5sZW5ndGgmJihbbixyXT1bcixuXSk7bGV0IGk9bWQoci5sZW5ndGgsMCksbz1yLmxlbmd0aC1uLmxlbmd0aCxzPXIuc2xpY2UoMCxvKTtmb3IobGV0IGU9MDtlPHMubGVuZ3RoO2UrKylpW2VdPXNbZV07Zm9yKGxldCBlPW87ZTxyLmxlbmd0aDtlKyspaVtlXT1NZC5hZGQobltlLW9dLHJbZV0pO3JldHVybiBNZC5wb2x5bm9taWFsKGkpfSxyZW1haW5kZXJQb2x5KGUsdCl7Y29uc3Qgbj1BcnJheS5mcm9tKGUpO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGgtdC5sZW5ndGgrMTtyKyspe2NvbnN0IGU9bltyXTtpZigwIT09ZSlmb3IobGV0IGk9MTtpPHQubGVuZ3RoO2krKykwIT09dFtpXSYmKG5bcitpXT1NZC5hZGQobltyK2ldLE1kLm11bCh0W2ldLGUpKSl9cmV0dXJuIG4uc2xpY2UoZS5sZW5ndGgtdC5sZW5ndGgrMSxuLmxlbmd0aCl9LGRpdmlzb3JQb2x5KGUpe2xldCB0PVsxXTtmb3IobGV0IG49MDtuPGU7bisrKXQ9TWQubXVsUG9seSh0LFsxLE1kLnBvdygyLG4pXSk7cmV0dXJuIHR9LGV2YWxQb2x5KGUsdCl7aWYoMD09dClyZXR1cm4gTWQuY29lZmZpY2llbnQoZSwwKTtsZXQgbj1lWzBdO2ZvcihsZXQgcj0xO3I8ZS5sZW5ndGg7cisrKW49TWQuYWRkKE1kLm11bCh0LG4pLGVbcl0pO3JldHVybiBufSxldWNsaWRpYW4oZSx0LG4pe01kLmRlZ3JlZShlKTxNZC5kZWdyZWUodCkmJihbZSx0XT1bdCxlXSk7bGV0IHI9ZSxpPXQsbz1bMF0scz1bMV07Zm9yKDsyKk1kLmRlZ3JlZShpKT49bjspe2xldCBlPXIsdD1vO2lmKHI9aSxvPXMsMD09PXJbMF0pdGhyb3cgbmV3IEVycm9yKFwickxhc3RbMF0gPT09IDBcIik7aT1lO2xldCBuPVswXTtjb25zdCBhPU1kLmludihyWzBdKTtmb3IoO01kLmRlZ3JlZShpKT49TWQuZGVncmVlKHIpJiYwIT09aVswXTspe2NvbnN0IGU9TWQuZGVncmVlKGkpLU1kLmRlZ3JlZShyKSx0PU1kLm11bChpWzBdLGEpO249TWQuYWRkUG9seShuLE1kLm1vbm9taWFsKGUsdCkpLGk9TWQuYWRkUG9seShpLE1kLm11bFBvbHlNb25vbWlhbChyLGUsdCkpfWlmKG49TWQubXVsUG9seShuLG8pLHM9TWQuYWRkUG9seShuLHQpLE1kLmRlZ3JlZShpKT49TWQuZGVncmVlKHIpKXRocm93IG5ldyBFcnJvcihgRGl2aXNpb24gZmFpbGVkIHI6ICR7aX0sIHJMYXN0OiAke3J9YCl9Y29uc3QgYT1NZC5jb2VmZmljaWVudChzLDApO2lmKDA9PWEpdGhyb3cgbmV3IEVycm9yKFwic2lnbWFUaWxkZSgwKSB3YXMgemVyb1wiKTtjb25zdCBjPU1kLmludihhKTtyZXR1cm5bTWQubXVsUG9seVNjYWxhcihzLGMpLE1kLm11bFBvbHlTY2FsYXIoaSxjKV19fTtmdW5jdGlvbiBBZChlLHQpe2NvbnN0e3dvcmRzOm4sc2hvcnRCbG9ja3M6cixudW1CbG9ja3M6aSxibG9ja0xlbjpvLHRvdGFsOnN9PXhkLmNhcGFjaXR5KGUsdCksYT0oYz1uLHtlbmNvZGUoZSl7Y29uc3QgdD1NZC5kaXZpc29yUG9seShjKSxuPUFycmF5LmZyb20oZSk7cmV0dXJuIG4ucHVzaCguLi50LnNsaWNlKDAsLTEpLmZpbGwoMCkpLFVpbnQ4QXJyYXkuZnJvbShNZC5yZW1haW5kZXJQb2x5KG4sdCkpfSxkZWNvZGUoZSl7Y29uc3QgdD1lLnNsaWNlKCksbj1NZC5wb2x5bm9taWFsKEFycmF5LmZyb20oZSkpO2xldCByPW1kKGMsMCksaT0hMTtmb3IobGV0IGU9MDtlPGM7ZSsrKXtjb25zdCB0PU1kLmV2YWxQb2x5KG4sTWQuZXhwKGUpKTtyW3IubGVuZ3RoLTEtZV09dCwwIT09dCYmKGk9ITApfWlmKCFpKXJldHVybiB0O3I9TWQucG9seW5vbWlhbChyKTtjb25zdCBvPU1kLm1vbm9taWFsKGMsMSksW3MsYV09TWQuZXVjbGlkaWFuKG8scixjKSxkPW1kKE1kLmRlZ3JlZShzKSwwKTtsZXQgbD0wO2ZvcihsZXQgZT0xO2U8MjU2JiZsPGQubGVuZ3RoO2UrKykwPT09TWQuZXZhbFBvbHkocyxlKSYmKGRbbCsrXT1NZC5pbnYoZSkpO2lmKGwhPT1kLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJSUy5kZWNvZGU6IHdyb25nIGVycm9ycyBudW1iZXJcIik7Zm9yKGxldCBlPTA7ZTxkLmxlbmd0aDtlKyspe2NvbnN0IG49dC5sZW5ndGgtMS1NZC5sb2coZFtlXSk7aWYobjwwKXRocm93IG5ldyBFcnJvcihcIlJTLmRlY29kZTogd3JvbmcgZXJyb3IgbG9jYXRpb25cIik7Y29uc3Qgcj1NZC5pbnYoZFtlXSk7bGV0IGk9MTtmb3IobGV0IHQ9MDt0PGQubGVuZ3RoO3QrKyllIT09dCYmKGk9TWQubXVsKGksTWQuYWRkKDEsTWQubXVsKGRbdF0scikpKSk7dFtuXT1NZC5hZGQodFtuXSxNZC5tdWwoTWQuZXZhbFBvbHkoYSxyKSxNZC5pbnYoaSkpKX1yZXR1cm4gdH19KTt2YXIgYztyZXR1cm57ZW5jb2RlKGUpe2NvbnN0IHQ9W10sbj1bXTtmb3IobGV0IHM9MDtzPGk7cysrKXtjb25zdCBpPW8rKHM8cj8wOjEpO3QucHVzaChlLnN1YmFycmF5KDAsaSkpLG4ucHVzaChhLmVuY29kZShlLnN1YmFycmF5KDAsaSkpKSxlPWUuc3ViYXJyYXkoaSl9Y29uc3Qgcz1nZCguLi50KSxjPWdkKC4uLm4pLGQ9bmV3IFVpbnQ4QXJyYXkocy5sZW5ndGgrYy5sZW5ndGgpO3JldHVybiBkLnNldChzKSxkLnNldChjLHMubGVuZ3RoKSxkfSxkZWNvZGUoZSl7aWYoZS5sZW5ndGghPT1zKXRocm93IG5ldyBFcnJvcihgaW50ZXJsZWF2ZS5kZWNvZGU6IGxlbihkYXRhKT0ke2UubGVuZ3RofSwgdG90YWw9JHtzfWApO2NvbnN0IHQ9W107Zm9yKGxldCBlPTA7ZTxpO2UrKyl7Y29uc3QgaT1lPHI7dC5wdXNoKG5ldyBVaW50OEFycmF5KG4rbysoaT8wOjEpKSl9bGV0IGM9MDtmb3IobGV0IG49MDtuPG87bisrKWZvcihsZXQgcj0wO3I8aTtyKyspdFtyXVtuXT1lW2MrK107Zm9yKGxldCBuPXI7bjxpO24rKyl0W25dW29dPWVbYysrXTtmb3IobGV0IHM9bztzPG8rbjtzKyspZm9yKGxldCBuPTA7bjxpO24rKyl7Y29uc3QgaT1uPHI7dFtuXVtzKyhpPzA6MSldPWVbYysrXX1jb25zdCBkPVtdO2Zvcihjb25zdCBlIG9mIHQpZC5wdXNoKC4uLkFycmF5LmZyb20oYS5kZWNvZGUoZSkpLnNsaWNlKDAsLW4pKTtyZXR1cm4gVWludDhBcnJheS5mcm9tKGQpfX19ZnVuY3Rpb24gVGQoZSx0LG4scil7bGV0IGk9XCJcIixvPW4ubGVuZ3RoO2lmKFwibnVtZXJpY1wiPT09cil7Y29uc3QgZT14ZC5hbHBoYWJldC5udW1lcmljLmRlY29kZShuLnNwbGl0KFwiXCIpKSx0PWUubGVuZ3RoO2ZvcihsZXQgbj0wO248dC0yO24rPTMpaSs9ZmQoMTAwKmVbbl0rMTAqZVtuKzFdK2VbbisyXSwxMCk7dCUzPT0xP2krPWZkKGVbdC0xXSw0KTp0JTM9PTImJihpKz1mZCgxMCplW3QtMl0rZVt0LTFdLDcpKX1lbHNlIGlmKFwiYWxwaGFudW1lcmljXCI9PT1yKXtjb25zdCBlPXhkLmFscGhhYmV0LmFscGhhbnVtZXJjLmRlY29kZShuLnNwbGl0KFwiXCIpKSx0PWUubGVuZ3RoO2ZvcihsZXQgbj0wO248dC0xO24rPTIpaSs9ZmQoNDUqZVtuXStlW24rMV0sMTEpO3QlMj09MSYmKGkrPWZkKGVbdC0xXSw2KSl9ZWxzZXtpZihcImJ5dGVcIiE9PXIpdGhyb3cgbmV3IEVycm9yKFwiZW5jb2RlOiB1bnN1cHBvcnRlZCB0eXBlXCIpO3tjb25zdCBlPWZ1bmN0aW9uKGUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihcInV0ZjhUb0J5dGVzIGV4cGVjdGVkIHN0cmluZywgZ290IFwiK3R5cGVvZiBlKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoKG5ldyBUZXh0RW5jb2RlcikuZW5jb2RlKGUpKX0obik7bz1lLmxlbmd0aCxpPUFycmF5LmZyb20oZSkubWFwKChlPT5mZChlLDgpKSkuam9pbihcIlwiKX19Y29uc3R7Y2FwYWNpdHk6c309eGQuY2FwYWNpdHkoZSx0KSxhPWZkKG8seGQubGVuZ3RoQml0cyhlLHIpKTtsZXQgYz14ZC5tb2RlQml0c1tyXSthK2k7aWYoYy5sZW5ndGg+cyl0aHJvdyBuZXcgRXJyb3IoXCJDYXBhY2l0eSBvdmVyZmxvd1wiKTtjKz1cIjBcIi5yZXBlYXQoTWF0aC5taW4oNCxNYXRoLm1heCgwLHMtYy5sZW5ndGgpKSksYy5sZW5ndGglOCYmKGMrPVwiMFwiLnJlcGVhdCg4LWMubGVuZ3RoJTgpKTtjb25zdCBkPVwiMTExMDExMDAwMDAxMDAwMVwiO2ZvcihsZXQgZT0wO2MubGVuZ3RoIT09cztlKyspYys9ZFtlJTE2XTtjb25zdCBsPVVpbnQ4QXJyYXkuZnJvbShjLm1hdGNoKC8oLns4fSkvZykubWFwKChlPT5OdW1iZXIoYDBiJHtlfWApKSkpO3JldHVybiBBZChlLHQpLmVuY29kZShsKX1mdW5jdGlvbiBJZChlLHQsbixyLGk9ITEpe2NvbnN0IG89ZnVuY3Rpb24oZSx0LG4scj0hMSl7Y29uc3QgaT14ZC5zaXplLmVuY29kZShlKTtsZXQgbz1uZXcgRWQoaSsyKTtjb25zdCBzPW5ldyBFZCgzKS5yZWN0KDAsMywhMCkuYm9yZGVyKDEsITEpLmJvcmRlcigxLCEwKS5ib3JkZXIoMSwhMSk7bz1vLmVtYmVkKDAscykuZW1iZWQoe3g6LXMud2lkdGgseTowfSxzKS5lbWJlZCh7eDowLHk6LXMuaGVpZ2h0fSxzKSxvPW8ucmVjdFNsaWNlKDEsaSk7Y29uc3QgYT1uZXcgRWQoMSkucmVjdCgwLDEsITApLmJvcmRlcigxLCExKS5ib3JkZXIoMSwhMCksYz14ZC5hbGlnbm1lbnRQYXR0ZXJucyhlKTtmb3IoY29uc3QgZSBvZiBjKWZvcihjb25zdCB0IG9mIGMpdm9pZCAwPT09by5kYXRhW2VdW3RdJiZvLmVtYmVkKHt4OnQtMix5OmUtMn0sYSk7bz1vLmhMaW5lKHt4OjAseTo2fSwxLzAsKCh7eDplfSx0KT0+dm9pZCAwPT09dD9lJTI9PTA6dCkpLnZMaW5lKHt4OjYseTowfSwxLzAsKCh7eTplfSx0KT0+dm9pZCAwPT09dD9lJTI9PTA6dCkpO3tjb25zdCBlPXhkLmZvcm1hdEJpdHModCxuKSxzPXQ9PiFyJiYxPT0oZT4+dCYxKTtmb3IobGV0IGU9MDtlPDY7ZSsrKW8uZGF0YVtlXVs4XT1zKGUpO2ZvcihsZXQgZT02O2U8ODtlKyspby5kYXRhW2UrMV1bOF09cyhlKTtmb3IobGV0IGU9ODtlPDE1O2UrKylvLmRhdGFbaS0xNStlXVs4XT1zKGUpO2ZvcihsZXQgZT0wO2U8ODtlKyspby5kYXRhWzhdW2ktZS0xXT1zKGUpO2ZvcihsZXQgZT04O2U8OTtlKyspby5kYXRhWzhdWzE1LWUtMSsxXT1zKGUpO2ZvcihsZXQgZT05O2U8MTU7ZSsrKW8uZGF0YVs4XVsxNS1lLTFdPXMoZSk7by5kYXRhW2ktOF1bOF09IXJ9aWYoZT49Nyl7Y29uc3QgdD14ZC52ZXJzaW9uQml0cyhlKTtmb3IobGV0IGU9MDtlPDE4O2UrPTEpe2NvbnN0IG49IXImJjE9PSh0Pj5lJjEpLHM9TWF0aC5mbG9vcihlLzMpLGE9ZSUzK2ktOC0zO28uZGF0YVtzXVthXT1uLG8uZGF0YVthXVtzXT1ufX1yZXR1cm4gb30oZSx0LHIsaSk7bGV0IHM9MDtjb25zdCBhPTgqbi5sZW5ndGg7aWYoZnVuY3Rpb24oZSx0LG4pe2NvbnN0IHI9ZS5oZWlnaHQsaT1rZFt0XTtsZXQgbz0tMSxzPXItMTtmb3IobGV0IHQ9ci0xO3Q+MDt0LT0yKXtmb3IoNj09dCYmKHQ9NSk7O3MrPW8pe2ZvcihsZXQgcj0wO3I8MjtyKz0xKXtjb25zdCBvPXQtcjt2b2lkIDA9PT1lLmRhdGFbc11bb10mJm4obyxzLGkobyxzKSl9aWYocytvPDB8fHMrbz49cilicmVha31vPS1vfX0obyxyLCgoZSx0LHIpPT57bGV0IGk9ITE7czxhJiYoaT0wIT0obltzPj4+M10+Pig3LXMmNykmMSkscysrKSxvLmRhdGFbdF1bZV09aSE9PXJ9KSkscyE9PWEpdGhyb3cgbmV3IEVycm9yKFwiUVI6IGJ5dGVzIGxlZnQgYWZ0ZXIgZHJhd1wiKTtyZXR1cm4gb31mdW5jdGlvbiBSZChlKXtjb25zdCB0PWUuaW52ZXJzZSgpLG49ZT0+e2xldCB0PTA7Zm9yKGxldCBuLHI9MCxpPTE7cjxlLmxlbmd0aDtyKyspbj09PWVbcl0mJihpKyssciE9PWUubGVuZ3RoLTEpfHwoaT49NSYmKHQrPWktNSszKSxuPWVbcl0saT0xKTtyZXR1cm4gdH07bGV0IHI9MDtlLmRhdGEuZm9yRWFjaCgoZT0+cis9bihlKSkpLHQuZGF0YS5mb3JFYWNoKChlPT5yKz1uKGUpKSk7bGV0IGk9MCxvPWUuZGF0YTtjb25zdCBzPWUud2lkdGgtMSxhPWUuaGVpZ2h0LTE7Zm9yKGxldCBlPTA7ZTxzO2UrKylmb3IobGV0IHQ9MDt0PGE7dCsrKXtjb25zdCBuPWUrMSxyPXQrMTtvW2VdW3RdPT09b1tuXVt0XSYmb1tuXVt0XT09PW9bZV1bcl0mJm9bbl1bdF09PT1vW25dW3JdJiYoaSs9Myl9Y29uc3QgYz1lPT57Y29uc3QgdD1bITAsITEsITAsITAsITAsITEsITBdLG49WyExLCExLCExLCExXSxyPVsuLi50LC4uLm5dLGk9Wy4uLm4sLi4udF07bGV0IG89MDtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl5ZChlLHIsdCkmJihvKz00MCkseWQoZSxpLHQpJiYobys9NDApO3JldHVybiBvfTtsZXQgZD0wO2Zvcihjb25zdCB0IG9mIGUuZGF0YSlkKz1jKHQpO2Zvcihjb25zdCBlIG9mIHQuZGF0YSlkKz1jKGUpO2xldCBsPTA7ZS5yZWN0UmVhZCgwLDEvMCwoKGUsdCk9PmwrPXQ/MTowKSk7Y29uc3QgdT1sLyhlLmhlaWdodCplLndpZHRoKSoxMDAsaD0xMCpNYXRoLmZsb29yKE1hdGguYWJzKHUtNTApLzUpO3JldHVybiByK2krZCtofWZ1bmN0aW9uIFBkKGUsdD1cInJhd1wiLG49e30pe2NvbnN0IHI9dm9pZCAwIT09bi5lY2M/bi5lY2M6XCJtZWRpdW1cIjshZnVuY3Rpb24oZSl7aWYoIWJkLmluY2x1ZGVzKGUpKXRocm93IG5ldyBFcnJvcihgSW52YWxpZCBlcnJvciBjb3JyZWN0aW9uIG1vZGU9JHtlfS4gRXhwZWN0ZWQ6ICR7YmR9YCl9KHIpO2NvbnN0IGk9dm9pZCAwIT09bi5lbmNvZGluZz9uLmVuY29kaW5nOmZ1bmN0aW9uKGUpe2xldCB0PVwibnVtZXJpY1wiO2ZvcihsZXQgbiBvZiBlKWlmKCF4ZC5hbHBoYWJldC5udW1lcmljLmhhcyhuKSYmKHQ9XCJhbHBoYW51bWVyaWNcIiwheGQuYWxwaGFiZXQuYWxwaGFudW1lcmMuaGFzKG4pKSlyZXR1cm5cImJ5dGVcIjtyZXR1cm4gdH0oZSk7IWZ1bmN0aW9uKGUpe2lmKCF3ZC5pbmNsdWRlcyhlKSl0aHJvdyBuZXcgRXJyb3IoYEVuY29kaW5nOiBpbnZhbGlkIG1vZGU9JHtlfS4gRXhwZWN0ZWQ6ICR7d2R9YCk7aWYoXCJrYW5qaVwiPT09ZXx8XCJlY2lcIj09PWUpdGhyb3cgbmV3IEVycm9yKGBFbmNvZGluZzogJHtlfSBpcyBub3Qgc3VwcG9ydGVkICh5ZXQ/KS5gKX0oaSksdm9pZCAwIT09bi5tYXNrJiZmdW5jdGlvbihlKXtpZighWzAsMSwyLDMsNCw1LDYsN10uaW5jbHVkZXMoZSl8fCFrZFtlXSl0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgbWFzaz0ke2V9LiBFeHBlY3RlZCBudW1iZXIgWzAuLjddYCl9KG4ubWFzayk7bGV0IG8scz1uLnZlcnNpb24sYT1uZXcgRXJyb3IoXCJVbmtub3duIGVycm9yXCIpO2lmKHZvaWQgMCE9PXMpIWZ1bmN0aW9uKGUpe2lmKCFOdW1iZXIuaXNTYWZlSW50ZWdlcihlKXx8ZTwxfHxlPjQwKXRocm93IG5ldyBFcnJvcihgSW52YWxpZCB2ZXJzaW9uPSR7ZX0uIEV4cGVjdGVkIG51bWJlciBbMS4uNDBdYCl9KHMpLG89VGQocyxyLGUsaSk7ZWxzZSBmb3IobGV0IHQ9MTt0PD00MDt0KyspdHJ5e289VGQodCxyLGUsaSkscz10O2JyZWFrfWNhdGNoKGUpe2E9ZX1pZighc3x8IW8pdGhyb3cgYTtsZXQgYz1mdW5jdGlvbihlLHQsbixyKXtpZih2b2lkIDA9PT1yKXtjb25zdCBpPWZ1bmN0aW9uKCl7bGV0IGUsdD0xLzA7cmV0dXJue2FkZChuLHIpe24+PXR8fChlPXIsdD1uKX0sZ2V0OigpPT5lLHNjb3JlOigpPT50fX0oKTtmb3IobGV0IHI9MDtyPGtkLmxlbmd0aDtyKyspaS5hZGQoUmQoSWQoZSx0LG4sciwhMCkpLHIpO3I9aS5nZXQoKX1pZih2b2lkIDA9PT1yKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1hc2tcIik7cmV0dXJuIElkKGUsdCxuLHIpfShzLHIsbyxuLm1hc2spO2MuYXNzZXJ0RHJhd24oKTtjb25zdCBkPXZvaWQgMD09PW4uYm9yZGVyPzI6bi5ib3JkZXI7aWYoIU51bWJlci5pc1NhZmVJbnRlZ2VyKGQpKXRocm93IG5ldyBFcnJvcihcIldyb25nIGJvcmRlciB0eXBlPVwiK3R5cGVvZiBkKTtpZihjPWMuYm9yZGVyKGQsITEpLHZvaWQgMCE9PW4uc2NhbGUmJihjPWMuc2NhbGUobi5zY2FsZSkpLFwicmF3XCI9PT10KXJldHVybiBjLmRhdGE7aWYoXCJhc2NpaVwiPT09dClyZXR1cm4gYy50b0FTQ0lJKCk7aWYoXCJzdmdcIj09PXQpcmV0dXJuIGMudG9TVkcoKTtpZihcImdpZlwiPT09dClyZXR1cm4gYy50b0dJRigpO2lmKFwidGVybVwiPT09dClyZXR1cm4gYy50b1Rlcm0oKTt0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gb3V0cHV0OiAke3R9YCl9Y29uc3QgT2Q9KHtsaW5rOmV9KT0+e2NvbnN0IHQ9UGQoZSxcImFzY2lpXCIpO3JldHVybiBjb25zb2xlLmxvZyh0KSxEYShgW1VJOiBJbnN0YWxsTW9kYWwtbm9kZWpzKCldIHFyY29kZSB1cmw6ICR7ZX1gKSx7dW5tb3VudDooKT0+e319fSxOZD0oKT0+KERhKFwiW1VJOiBwZW5kaW5nTW9kYWwtbm9kZWpzOiBQZW5kaW5nTW9kYWwoKV0gUGxlYXNlIG9wZW4gdGhlIE1ldGFNYXNrIHdhbGxldCBhcHAgYW5kIGNvbmZpcm0gdGhlIGNvbm5lY3Rpb24uIFRoYW5rIHlvdSFcIikse3VubW91bnQ6KCk9PiExLHVwZGF0ZU9UUFZhbHVlOmU9PntcIlwiIT09ZSYmRGEoYFtVSTogcGVuZGluZ01vZGFsLW5vZGVqczogUGVuZGluZ01vZGFsKCldIENob29zZSB0aGUgZm9sbG93aW5nIHZhbHVlIG9uIHlvdXIgbWV0YW1hc2sgbW9iaWxlIHdhbGxldDogJHtlfWApfSxtb3VudDooKT0+ITF9KTtmdW5jdGlvbiBEZChlLHQpe3ZhciBuLHIsaSxvO2UuY29ubmVjdG9yfHwoRGEoXCJbUmVtb3RlQ29ubmVjdGlvbjogaW5pdGlhbGl6ZUNvbm5lY3RvcigpXSBpbml0aWFsaXplIGNvbm5lY3RvclwiKSxlLmNvbm5lY3Rvcj1uZXcgJHIoe2Fub25JZDp0LmFub25JZCxwbGF0Zm9ybVR5cGU6dC5wbGF0Zm9ybU1hbmFnZXIuZ2V0UGxhdGZvcm1UeXBlKCksY29tbXVuaWNhdGlvbkxheWVyUHJlZmVyZW5jZTp0LmNvbW11bmljYXRpb25MYXllclByZWZlcmVuY2UsdHJhbnNwb3J0czp0LnRyYW5zcG9ydHMsZGFwcE1ldGFkYXRhOk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0LmRhcHBNZXRhZGF0YSkse3NvdXJjZTp0Ll9zb3VyY2V9KSxhbmFseXRpY3M6dC5lbmFibGVBbmFseXRpY3MsY29tbXVuaWNhdGlvblNlcnZlclVybDp0LmNvbW11bmljYXRpb25TZXJ2ZXJVcmwsc2RrVmVyc2lvbjpnYy52ZXJzaW9uLGNvbnRleHQ6XCJkYXBwXCIsZWNpZXM6dC5lY2llcyxzdG9yYWdlOnQuc3RvcmFnZSxsb2dnaW5nOnQubG9nZ2luZ30pLHQudGltZXImJihEYShcIltSZW1vdGVDb25uZWN0aW9uOiBpbml0aWFsaXplQ29ubmVjdG9yKCldIHJlc2V0IGJhY2tncm91bmQgdGltZXJcIix0LnRpbWVyKSxudWxsPT09KHI9bnVsbD09PShuPXQudGltZXIpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnN0b3BCYWNrZ3JvdW5kVGltZXIpfHx2b2lkIDA9PT1yfHxyLmNhbGwobiksbnVsbD09PShvPW51bGw9PT0oaT10LnRpbWVyKXx8dm9pZCAwPT09aT92b2lkIDA6aS5ydW5CYWNrZ3JvdW5kVGltZXIpfHx2b2lkIDA9PT1vfHxvLmNhbGwoaSwoKCk9PiExKSwxZTQpKSl9ZnVuY3Rpb24gTGQoZSl7ZS5saXN0ZW5lcnMuZm9yRWFjaCgoKHtldmVudDp0LGhhbmRsZXI6bn0pPT57dmFyIHI7bnVsbD09PShyPWUuY29ubmVjdG9yKXx8dm9pZCAwPT09cnx8ci5vZmYodCxuKX0pKSxlLmxpc3RlbmVycz1bXX1mdW5jdGlvbiBCZChlLHQsbil7cmV0dXJuIHUodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtjb25zdCByPXNldFRpbWVvdXQoKCgpPT57aS5hbmFseXRpY3MudHJhY2soXCJzZGtfY29ubmVjdGlvbl9mYWlsZWRcIix7dHJhbnNwb3J0X3R5cGU6XCJ3ZWJzb2NrZXRcIn0pfSksNmU0KTtyZXR1cm4gbmV3IFByb21pc2UoKChpLG8pPT57aWYoIWUuY29ubmVjdG9yKXJldHVybiB2b2lkIG8obmV3IEVycm9yKFwiTm8gY29ubmVjdG9yIGF2YWlsYWJsZVwiKSk7RGEoXCJbUmVtb3RlQ29ubmVjdGlvbjogY29ubmVjdFdpdGhNb2RhbEluc3RhbGxlcigpXVwiLHtzdGF0ZTplLG9wdGlvbnM6dCxsaW5rUGFyYW1zOm59KTtjb25zdCBzPWAke2UudXNlRGVlcGxpbms/RWM6dmN9PyR7bn1gOyFmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLHM7ZS5pbnN0YWxsTW9kYWw9bnVsbD09PShpPShyPXQubW9kYWxzKS5pbnN0YWxsKXx8dm9pZCAwPT09aT92b2lkIDA6aS5jYWxsKHIse2xpbms6bixwcmVmZXJEZXNrdG9wOmUucHJlZmVyRGVza3RvcCxpbnN0YWxsZXI6dC5nZXRNZXRhTWFza0luc3RhbGxlcigpLHRlcm1pbmF0ZTooKT0+e0RhKFwiW1JlbW90ZUNvbm5lY3Rpb246IHNob3dJbnN0YWxsTW9kYWwoKSA9PiB0ZXJtaW5hdGUoKV0gdGVybWluYXRlIGNvbm5lY3Rpb25cIiksdC5zZGsudGVybWluYXRlKCkuY2F0Y2goKGU9Pntjb25zb2xlLndhcm4oXCJbTU1TREtdIGZhaWxlZCB0byB0ZXJtaW5hdGUgY29ubmVjdGlvblwiLGUpfSkpfSxkZWJ1ZzplLmRldmVsb3Blck1vZGUsY29ubmVjdFdpdGhFeHRlbnNpb246KCk9Pnt2YXIgZTtyZXR1cm4gbnVsbD09PShlPXQuY29ubmVjdFdpdGhFeHRlbnNpb25Qcm92aWRlcil8fHZvaWQgMD09PWV8fGUuY2FsbCh0KSwhMX0sb25BbmFseXRpY3NFdmVudDooe2V2ZW50Om4scGFyYW1zOnJ9KT0+e3ZhciBpLG8scztjb25zdCBhPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyKSx7c2RrVmVyc2lvbjp0LnNkay5nZXRWZXJzaW9uKCksZGFwcElkOm51bGw9PT0oaT10LmRhcHBNZXRhZGF0YSl8fHZvaWQgMD09PWk/dm9pZCAwOmkubmFtZSxzb3VyY2U6dC5fc291cmNlLHVybDpudWxsPT09KG89dC5kYXBwTWV0YWRhdGEpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLnVybH0pO251bGw9PT0ocz1lLmFuYWx5dGljcyl8fHZvaWQgMD09PXN8fHMuc2VuZCh7ZXZlbnQ6bixwYXJhbXM6YX0pfX0pLG51bGw9PT0ocz1udWxsPT09KG89ZS5pbnN0YWxsTW9kYWwpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLm1vdW50KXx8dm9pZCAwPT09c3x8cy5jYWxsKG8sbil9KGUsdCxzKSx0LnNkay5vbmNlKGV4cG9ydHMuRXZlbnRUeXBlLlBST1ZJREVSX1VQREFURSwoZT0+dSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2lmKERhKFwiW1JlbW90ZUNvbm5lY3Rpb246IGNvbm5lY3RXaXRoTW9kYWxJbnN0YWxsZXIoKV0gb25jZSBwcm92aWRlcl91cGRhdGUgLS0gcmVzb2x2aW5nIHN0YXJ0Q29ubmVjdGlvbiBwcm9taXNlXCIpLGU9PT1leHBvcnRzLlBST1ZJREVSX1VQREFURV9UWVBFLlRFUk1JTkFURSl7Y29uc3QgZT17Y29kZTo0MDAxLG1lc3NhZ2U6XCJVc2VyIHJlamVjdGVkIHRoZSByZXF1ZXN0LlwifTtyZXR1cm4gY2xlYXJUaW1lb3V0KHIpLHZvaWQgbyhlKX1vKGUpfSkpKSksZS5jb25uZWN0b3Iub25jZShleHBvcnRzLkV2ZW50VHlwZS5BVVRIT1JJWkVELCgoKT0+e2NsZWFyVGltZW91dChyKSxpKCl9KSksZS5jb25uZWN0b3Iub25jZShleHBvcnRzLkV2ZW50VHlwZS5SRUpFQ1RFRCwoKCk9PntjbGVhclRpbWVvdXQociksbyhleHBvcnRzLkV2ZW50VHlwZS5SRUpFQ1RFRCl9KSksZS5jb25uZWN0b3Iub25jZShleHBvcnRzLkV2ZW50VHlwZS5DTElFTlRTX1JFQURZLCgoKT0+dSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe0RhKFwiW1JlbW90ZUNvbm5lY3Rpb246IGNvbm5lY3RXaXRoTW9kYWxJbnN0YWxsZXIoKV0gb25jZSBjbGllbnRzX3JlYWR5IC0tIHJlc29sdmluZyBzdGFydENvbm5lY3Rpb24gcHJvbWlzZVwiKSxjbGVhclRpbWVvdXQociksaSgpfSkpKSl9KSl9KSl9ZnVuY3Rpb24gS2QoZSx0KXtmdW5jdGlvbiBuKHQsbil7dmFyIHI7bnVsbD09PShyPWUuY29ubmVjdG9yKXx8dm9pZCAwPT09cnx8ci5vbih0LG4pLGUubGlzdGVuZXJzLnB1c2goe2V2ZW50OnQsaGFuZGxlcjpufSl9ZS5jb25uZWN0b3ImJihMZChlKSxuKGV4cG9ydHMuRXZlbnRUeXBlLldBTExFVF9JTklULCgoe2FjY291bnRzOmUsY2hhaW5JZDp0fSk9PnUodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtEYShgW1JlbW90ZUNvbm5lY3Rpb246IHNldHVwTGlzdGVuZXJzKCkgPT4gRXZlbnRUeXBlLldBTExFVF9JTklUXSAnd2FsbGV0X2luaXQnIGFjY291bnRzPSR7ZX0gY2hhaW5JZD0ke3R9YCk7Y29uc3Qgbj11Yy5nZXRQcm92aWRlcigpO24uX3NldENvbm5lY3RlZCgpO2NvbnN0IHI9e2FjY291bnRzOmUsY2hhaW5JZDp0LGlzVW5sb2NrZWQ6ITF9O24uX2luaXRpYWxpemVTdGF0ZShyKSxuLmVtaXQoXCJjaGFpbkNoYW5nZWRcIix0KSxuLmVtaXQoXCJhY2NvdW50c0NoYW5nZWRcIixlKX0pKSkpLG4oZXhwb3J0cy5FdmVudFR5cGUuQVVUSE9SSVpFRCwoKCk9PnUodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXt2YXIgdCxuLHIsaTt0cnl7RGEoXCJbUmVtb3RlQ29ubmVjdGlvbjogc2V0dXBMaXN0ZW5lcnMoKSA9PiBFdmVudFR5cGUuQVVUSE9SSVpFRF0gJ2F1dGhvcml6ZWQnIGNsb3NpbmcgbW9kYWxzXCIsZS5wZW5kaW5nTW9kYWwsZS5pbnN0YWxsTW9kYWwpO2NvbnN0IG89dWMuZ2V0UHJvdmlkZXIoKTtvLl9zZXRDb25uZWN0ZWQoKSxudWxsPT09KG49bnVsbD09PSh0PWUucGVuZGluZ01vZGFsKXx8dm9pZCAwPT09dD92b2lkIDA6dC51bm1vdW50KXx8dm9pZCAwPT09bnx8bi5jYWxsKHQpLG51bGw9PT0oaT1udWxsPT09KHI9ZS5pbnN0YWxsTW9kYWwpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnVubW91bnQpfHx2b2lkIDA9PT1pfHxpLmNhbGwociwhMSksZS5vdHBBbnN3ZXI9dm9pZCAwLGUuYXV0aG9yaXplZD0hMCxEYShcIltSZW1vdGVDb25uZWN0aW9uOiBzZXR1cExpc3RlbmVycygpID0+IEV2ZW50VHlwZS5BVVRIT1JJWkVEXSAnYXV0aG9yaXplZCcgcHJvdmlkZXIuc3RhdGVcIixvLmdldFN0YXRlKCkpLHlpZWxkIG8uZm9yY2VJbml0aWFsaXplU3RhdGUoKX1jYXRjaChlKXt9fSkpKSksbihleHBvcnRzLkV2ZW50VHlwZS5URVJNSU5BVEUsKCgpPT57dmFyIHQsbixyLGksbztudWxsPT09KG49bnVsbD09PSh0PWUucGVuZGluZ01vZGFsKXx8dm9pZCAwPT09dD92b2lkIDA6dC51bm1vdW50KXx8dm9pZCAwPT09bnx8bi5jYWxsKHQpLG51bGw9PT0oaT1udWxsPT09KHI9ZS5pbnN0YWxsTW9kYWwpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnVubW91bnQpfHx2b2lkIDA9PT1pfHxpLmNhbGwociwhMCksZS5wZW5kaW5nTW9kYWw9dm9pZCAwLGUuaW5zdGFsbE1vZGFsPXZvaWQgMCxlLm90cEFuc3dlcj12b2lkIDAsbnVsbD09PShvPWUuY29ubmVjdG9yKXx8dm9pZCAwPT09b3x8by5kaXNjb25uZWN0KHt0ZXJtaW5hdGU6ITB9KSxlLmF1dGhvcml6ZWQ9ITE7dWMuZ2V0UHJvdmlkZXIoKS5oYW5kbGVEaXNjb25uZWN0KHt0ZXJtaW5hdGU6ITB9KSxMZChlKSxEYShcIltSZW1vdGVDb25uZWN0aW9uOiBzZXR1cExpc3RlbmVycygpXSBBbGwgbGlzdGVuZXJzIGNsZWFuZWQgdXBcIil9KSkpfWZ1bmN0aW9uIGpkKGUsdCx7aW5pdGlhbENoZWNrOm4sY29ubmVjdFdpdGg6cn09e30pe3ZhciBvLHMsYSxjLGQsbCxoLGYscCxtLGcseSx2LEUsYix3LFMsXyxDO3JldHVybiB1KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7dHJ5e2lmKERkKGUsdCksIWUuY29ubmVjdG9yKXRocm93IG5ldyBFcnJvcihcIm5vIGNvbm5lY3RvciBkZWZpbmVkXCIpO0tkKGUpO2NvbnN0IHg9dWMuZ2V0UHJvdmlkZXIoKTtlLmF1dGhvcml6ZWQ9ITEseC5lbWl0KFwiY29ubmVjdGluZ1wiKTtjb25zdCBrPXlpZWxkIG51bGw9PT0obz1lLmNvbm5lY3Rvcil8fHZvaWQgMD09PW8/dm9pZCAwOm8ub3JpZ2luYXRvclNlc3Npb25Db25uZWN0KCk7RGEoYFtSZW1vdGVDb25uZWN0aW9uOiBzdGFydENvbm5lY3Rpb24oKV0gYWZ0ZXIgb3JpZ2luYXRvclNlc3Npb25Db25uZWN0IGluaXRpYWxDaGVjaz0ke259YCxrKTtsZXQgTT1udWxsIT09KHM9bnVsbD09az92b2lkIDA6ay5jaGFubmVsSWQpJiZ2b2lkIDAhPT1zP3M6XCJcIixBPW51bGwhPT0oYz1udWxsPT09KGE9ZS5jb25uZWN0b3IuZ2V0S2V5SW5mbygpKXx8dm9pZCAwPT09YT92b2lkIDA6YS5lY2llcy5wdWJsaWMpJiZ2b2lkIDAhPT1jP2M6XCJcIixUPW51bGwhPT0obD1udWxsPT09KGQ9ZS5jb25uZWN0b3IuZ2V0S2V5SW5mbygpKXx8dm9pZCAwPT09ZD92b2lkIDA6ZC5lY2llcy5wcml2YXRlKSYmdm9pZCAwIT09bD9sOlwiXCI7aWYobiYmIWspcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO2lmKCFrJiYhbil7Y29uc3QgdD15aWVsZCBlLmNvbm5lY3Rvci5nZW5lcmF0ZUNoYW5uZWxJZENvbm5lY3QoKTtNPW51bGwhPT0oaD10LmNoYW5uZWxJZCkmJnZvaWQgMCE9PWg/aDpcIlwiLEE9bnVsbCE9PShmPXQucHViS2V5KSYmdm9pZCAwIT09Zj9mOlwiXCIsVD1udWxsIT09KHA9dC5wcml2S2V5KSYmdm9pZCAwIT09cD9wOlwiXCI7Y29uc3Qgbj1EYXRlLm5vdygpO251bGw9PT0obT1lLmNvbm5lY3Rvci5zdGF0ZS5zdG9yYWdlTWFuYWdlcil8fHZvaWQgMD09PW18fG0ucGVyc2lzdENoYW5uZWxDb25maWcoe2NoYW5uZWxJZDpNLGxvY2FsS2V5OlQsbGFzdEFjdGl2ZTpuLHZhbGlkVW50aWw6bitvcn0pfWlmKG4mJihudWxsPT1rP3ZvaWQgMDprLmNoYW5uZWxJZCkpcmV0dXJuKG51bGw9PT0oZz1lLmNvbm5lY3Rvcil8fHZvaWQgMD09PWc/dm9pZCAwOmcuaXNDb25uZWN0ZWQoKSl8fChEYShgW1JlbW90ZUNvbm5lY3Rpb246IHN0YXJ0Q29ubmVjdGlvbigpXSByZWNvbm5lY3RpbmcgdG8gY2hhbm5lbCBpbml0aWFsQ2hlY2s9JHtufWAsaykseWllbGQgbnVsbD09PSh5PWUuY29ubmVjdG9yKXx8dm9pZCAwPT09eT92b2lkIDA6eS5jb25uZWN0VG9DaGFubmVsKHtjaGFubmVsSWQ6TX0pKSxQcm9taXNlLnJlc29sdmUoKTtrJiYhKG51bGw9PT0odj1lLmNvbm5lY3Rvcil8fHZvaWQgMD09PXY/dm9pZCAwOnYuaXNDb25uZWN0ZWQoKSkmJihEYShcIltSZW1vdGVDb25uZWN0aW9uOiBzdGFydENvbm5lY3Rpb24oKV0gcmVjb25uZWN0aW5nIHRvIGNoYW5uZWxcIixrKSx5aWVsZCBudWxsPT09KEU9ZS5jb25uZWN0b3IpfHx2b2lkIDA9PT1FP3ZvaWQgMDpFLmNvbm5lY3RUb0NoYW5uZWwoe2NoYW5uZWxJZDpNfSkpO2NvbnN0IEk9KG51bGw9PT0oYj1lLnBsYXRmb3JtTWFuYWdlcil8fHZvaWQgMD09PWI/dm9pZCAwOmIuaXNTZWN1cmUoKSk/XCJcIjpcIiZ0PXFcIixSPWdjLnZlcnNpb24se2ljb25Vcmw6UCxuYW1lOk8sdXJsOk4sc2NoZW1lOkR9PXQuZGFwcE1ldGFkYXRhfHx7fSxMPW51bGw9PT0odz1lLnBsYXRmb3JtTWFuYWdlcil8fHZvaWQgMD09PXc/dm9pZCAwOncuZ2V0UGxhdGZvcm1UeXBlKCk7bGV0IEI9XCJOL0FcIjtcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cubG9jYXRpb24mJndpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZT9CPXdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZTp2b2lkIDAhPT1PP0I9Tzp2b2lkIDAhPT1OJiYoQj1OKTtjb25zdCBLPXt1cmw6bnVsbCE9Tj9OOlwiXCIsdGl0bGU6bnVsbCE9Tz9POlwiXCIsaWNvbjpQLHNjaGVtZTpudWxsIT1EP0Q6XCJcIixhcGlWZXJzaW9uOlIsZGFwcElkOkJ8fE58fFwiTi9BXCIsYW5vbklkOnQuYW5vbklkLHBsYXRmb3JtOm51bGwhPUw/TDpcIlwiLHNvdXJjZTpudWxsIT09KFM9dC5fc291cmNlKSYmdm9pZCAwIT09Uz9TOlwiXCJ9LGo9TGMoSlNPTi5zdHJpbmdpZnkoSykpO2xldCAkPWBjaGFubmVsSWQ9JHtNfSZ2PTImY29tbT0ke251bGwhPT0oXz1lLmNvbW11bmljYXRpb25MYXllclByZWZlcmVuY2UpJiZ2b2lkIDAhPT1fP186XCJcIn0mcHVia2V5PSR7QX0ke0l9Jm9yaWdpbmF0b3JJbmZvPSR7an1gO2lmKHIpeyQrPWAmcnBjPSR7TGMoSlNPTi5zdHJpbmdpZnkocikpfWA7Y29uc3QgdD1lLmNvbm5lY3Rvci5nZXRSUENNZXRob2RUcmFja2VyKCk7dCYmKHRbYCR7ci5pZH1gXT1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse2lkOmAke3IuaWR9YCx0aW1lc3RhbXA6RGF0ZS5ub3coKX0pKX1jb25zdCBIPWVuY29kZVVSSSgkKSxVPWAke2UudXNlRGVlcGxpbms/RWM6dmN9PyR7JH1gO2lmKGUucXJjb2RlTGluaz1VLGUuZGV2ZWxvcGVyTW9kZSYmRGEoYFtSZW1vdGVDb25uZWN0aW9uOiBzdGFydENvbm5lY3Rpb24oKV0gcXJjb2RlTGluaz0ke0h9YCkseC5lbWl0KFwiZGlzcGxheV91cmlcIixVKSxpLmFuYWx5dGljcy50cmFjayhcInNka19jb25uZWN0aW9uX2luaXRpYXRlZFwiLHt0cmFuc3BvcnRfdHlwZTpcIndlYnNvY2tldFwifSksbnVsbD09PShDPWUucGxhdGZvcm1NYW5hZ2VyKXx8dm9pZCAwPT09Qz92b2lkIDA6Qy5pc1NlY3VyZSgpKXtjb25zdCB0PXNldFRpbWVvdXQoKCgpPT57aS5hbmFseXRpY3MudHJhY2soXCJzZGtfY29ubmVjdGlvbl9mYWlsZWRcIix7dHJhbnNwb3J0X3R5cGU6XCJ3ZWJzb2NrZXRcIn0pfSksNmU0KTtyZXR1cm4geWllbGQgZnVuY3Rpb24oZSx0KXt2YXIgbixyO3JldHVybiB1KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7Y29uc3QgaT1gJHt2Y30/JHt0fWAsbz1gJHtFY30/JHt0fWA7bnVsbD09PShyPW51bGw9PT0obj1lLnBsYXRmb3JtTWFuYWdlcil8fHZvaWQgMD09PW4/dm9pZCAwOm4ub3BlbkRlZXBsaW5rKXx8dm9pZCAwPT09cnx8ci5jYWxsKG4saSxvLFwiX3NlbGZcIil9KSl9KGUsSCksbmV3IFByb21pc2UoKChuLHIpPT57dmFyIGksbyxzO2lmKG51bGw9PT0oaT1lLmNvbm5lY3Rvcil8fHZvaWQgMD09PWk/dm9pZCAwOmkuaXNBdXRob3JpemVkKCkpcmV0dXJuIGNsZWFyVGltZW91dCh0KSx2b2lkIG4oKTtudWxsPT09KG89ZS5jb25uZWN0b3IpfHx2b2lkIDA9PT1vfHxvLm9uY2UoZXhwb3J0cy5FdmVudFR5cGUuQVVUSE9SSVpFRCwoKCk9PntjbGVhclRpbWVvdXQodCksbigpfSkpLG51bGw9PT0ocz1lLmNvbm5lY3Rvcil8fHZvaWQgMD09PXN8fHMub25jZShleHBvcnRzLkV2ZW50VHlwZS5SRUpFQ1RFRCwoKCk9PntjbGVhclRpbWVvdXQodCkscihleHBvcnRzLkV2ZW50VHlwZS5SRUpFQ1RFRCl9KSl9KSl9cmV0dXJuIEJkKGUsdCxIKX1jYXRjaChlKXt0aHJvdyBjb25zb2xlLmVycm9yKFwiW3N0YXJ0Q29ubmVjdGlvbl0gZXJyb3JcIixlKSxlfX0pKX1jbGFzcyAkZHtjb25zdHJ1Y3RvcihlKXt2YXIgdCxuLHI7dGhpcy5zdGF0ZT17Y29ubmVjdG9yOnZvaWQgMCxxcmNvZGVMaW5rOnZvaWQgMCxhbmFseXRpY3M6dm9pZCAwLGRldmVsb3Blck1vZGU6ITEsYXV0aG9yaXplZDohMSxyZWNvbm5lY3Rpb246ITEscHJlZmVyRGVza3RvcDohMSxkZWVwbGlua1Byb3RvY29sOiExLGxpc3RlbmVyczpbXSxjb21tdW5pY2F0aW9uTGF5ZXJQcmVmZXJlbmNlOnZvaWQgMCxwbGF0Zm9ybU1hbmFnZXI6dm9pZCAwLHBlbmRpbmdNb2RhbDp2b2lkIDAsaW5zdGFsbE1vZGFsOnZvaWQgMCxvdHBBbnN3ZXI6dm9pZCAwfSx0aGlzLm9wdGlvbnM9ZTtjb25zdCBpPSEwPT09KG51bGw9PT0odD1lLmxvZ2dpbmcpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmRldmVsb3Blck1vZGUpfHwhMD09PShudWxsPT09KG49ZS5sb2dnaW5nKXx8dm9pZCAwPT09bj92b2lkIDA6bi5zZGspO3RoaXMuc3RhdGUuZGV2ZWxvcGVyTW9kZT1pLHRoaXMuc3RhdGUuYW5hbHl0aWNzPWUuYW5hbHl0aWNzLHRoaXMuc3RhdGUucHJlZmVyRGVza3RvcD1udWxsIT09KHI9ZS5wcmVmZXJEZXNrdG9wKSYmdm9pZCAwIT09ciYmcix0aGlzLnN0YXRlLnVzZURlZXBsaW5rPWUuc2RrLm9wdGlvbnMudXNlRGVlcGxpbmssdGhpcy5zdGF0ZS5jb21tdW5pY2F0aW9uTGF5ZXJQcmVmZXJlbmNlPWUuY29tbXVuaWNhdGlvbkxheWVyUHJlZmVyZW5jZSx0aGlzLnN0YXRlLnBsYXRmb3JtTWFuYWdlcj1lLnBsYXRmb3JtTWFuYWdlcixlLm1vZGFscy5pbnN0YWxsfHwoZS5tb2RhbHMuaW5zdGFsbD1PZCksZS5tb2RhbHMub3RwfHwoZS5tb2RhbHMub3RwPU5kKX1zdGFydENvbm5lY3Rpb24oZSl7cmV0dXJuIHUodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtyZXR1cm4gamQodGhpcy5zdGF0ZSx0aGlzLm9wdGlvbnMsZSl9KSl9aW5pdFJlbW90ZUNvbW11bmljYXRpb24oe3Nka0luc3RhbmNlOmV9KXt2YXIgdCxuLHI7cmV0dXJuIHUodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtjb25zdCBpPXlpZWxkIG51bGw9PT0obj1udWxsPT09KHQ9ZS5vcHRpb25zLnN0b3JhZ2UpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnN0b3JhZ2VNYW5hZ2VyKXx8dm9pZCAwPT09bj92b2lkIDA6bi5nZXRQZXJzaXN0ZWRDaGFubmVsQ29uZmlnKCk7aWYoIXRoaXMub3B0aW9ucy5lY2llcyl7Y29uc3QgZT17cHJpdmF0ZUtleTpudWxsPT1pP3ZvaWQgMDppLmxvY2FsS2V5fTt0aGlzLm9wdGlvbnMuZWNpZXM9ZX1EZCh0aGlzLnN0YXRlLHRoaXMub3B0aW9ucykseWllbGQgbnVsbD09PShyPXRoaXMuZ2V0Q29ubmVjdG9yKCkpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmluaXRGcm9tRGFwcFN0b3JhZ2UoKSxLZCh0aGlzLnN0YXRlLHRoaXMub3B0aW9ucyl9KSl9c2hvd0FjdGl2ZU1vZGFsKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0LG4scixpO2UuYXV0aG9yaXplZD9EYShcIltSZW1vdGVDb25uZWN0aW9uOiBzaG93QWN0aXZlTW9kYWwoKV0gYWxyZWFkeSBhdXRob3JpemVkXCIpOmUucGVuZGluZ01vZGFsP251bGw9PT0obj0odD1lLnBlbmRpbmdNb2RhbCkubW91bnQpfHx2b2lkIDA9PT1ufHxuLmNhbGwodCk6ZS5pbnN0YWxsTW9kYWwmJihudWxsPT09KGk9KHI9ZS5pbnN0YWxsTW9kYWwpLm1vdW50KXx8dm9pZCAwPT09aXx8aS5jYWxsKHIsZS5xcmNvZGVMaW5rfHxcIlwiKSl9KHRoaXMuc3RhdGUpfWNsb3NlTW9kYWwoKXt2YXIgZSx0LG4scjtudWxsPT09KHQ9bnVsbD09PShlPXRoaXMuc3RhdGUucGVuZGluZ01vZGFsKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS51bm1vdW50KXx8dm9pZCAwPT09dHx8dC5jYWxsKGUpLG51bGw9PT0ocj1udWxsPT09KG49dGhpcy5zdGF0ZS5pbnN0YWxsTW9kYWwpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnVubW91bnQpfHx2b2lkIDA9PT1yfHxyLmNhbGwobiwhMSl9Z2V0VW5pdmVyc2FsTGluaygpe2lmKCF0aGlzLnN0YXRlLnFyY29kZUxpbmspdGhyb3cgbmV3IEVycm9yKFwiY29ubmVjdGlvbiBub3Qgc3RhcnRlZC4gcnVuIHN0YXJ0Q29ubmVjdGlvbigpIGZpcnN0LlwiKTtyZXR1cm4gdGhpcy5zdGF0ZS5xcmNvZGVMaW5rfWdldENoYW5uZWxDb25maWcoKXt2YXIgZTtyZXR1cm4gbnVsbD09PShlPXRoaXMuc3RhdGUuY29ubmVjdG9yKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5nZXRDaGFubmVsQ29uZmlnKCl9Z2V0S2V5SW5mbygpe3ZhciBlO3JldHVybiBudWxsPT09KGU9dGhpcy5zdGF0ZS5jb25uZWN0b3IpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmdldEtleUluZm8oKX1nZXRDb25uZWN0b3IoKXtpZighdGhpcy5zdGF0ZS5jb25uZWN0b3IpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCByZW1vdGUgY29ubmVjdG9yXCIpO3JldHVybiB0aGlzLnN0YXRlLmNvbm5lY3Rvcn1nZXRQbGF0Zm9ybU1hbmFnZXIoKXtpZighdGhpcy5zdGF0ZS5wbGF0Zm9ybU1hbmFnZXIpdGhyb3cgbmV3IEVycm9yKFwiUGxhdGZvcm1NYW5hZ2VyIG5vdCBhdmFpbGFibGVcIik7cmV0dXJuIHRoaXMuc3RhdGUucGxhdGZvcm1NYW5hZ2VyfWlzQ29ubmVjdGVkKCl7dmFyIGU7cmV0dXJuKG51bGw9PT0oZT10aGlzLnN0YXRlLmNvbm5lY3Rvcil8fHZvaWQgMD09PWU/dm9pZCAwOmUuaXNSZWFkeSgpKXx8ITF9aXNBdXRob3JpemVkKCl7dmFyIGU7cmV0dXJuKG51bGw9PT0oZT10aGlzLnN0YXRlLmNvbm5lY3Rvcil8fHZvaWQgMD09PWU/dm9pZCAwOmUuaXNBdXRob3JpemVkKCkpfHwhMX1pc1BhdXNlZCgpe3ZhciBlO3JldHVybiBudWxsPT09KGU9dGhpcy5zdGF0ZS5jb25uZWN0b3IpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmlzUGF1c2VkKCl9ZGlzY29ubmVjdChlKXt2YXIgdCxuLHI7RGEoXCJbUmVtb3RlQ29ubmVjdGlvbjogZGlzY29ubmVjdCgpXVwiLGUpLChudWxsPT1lP3ZvaWQgMDplLnRlcm1pbmF0ZSkmJih1Yy5nZXRQcm92aWRlcigpLmhhbmRsZURpc2Nvbm5lY3Qoe3Rlcm1pbmF0ZTohMH0pLG51bGw9PT0obj1udWxsPT09KHQ9dGhpcy5zdGF0ZS5wZW5kaW5nTW9kYWwpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnVubW91bnQpfHx2b2lkIDA9PT1ufHxuLmNhbGwodCksdGhpcy5zdGF0ZS5vdHBBbnN3ZXI9dm9pZCAwKSxudWxsPT09KHI9dGhpcy5zdGF0ZS5jb25uZWN0b3IpfHx2b2lkIDA9PT1yfHxyLmRpc2Nvbm5lY3QoZSksZnVuY3Rpb24oZSl7RGEoXCJbUmVtb3RlQ29ubmVjdGlvbjogY2xlYW51cENvbm5lY3RvcigpXSBjbGVhbmluZyB1cCBjb25uZWN0b3JcIiksZS5jb25uZWN0b3ImJihMZChlKSxlLmNvbm5lY3Rvci5kaXNjb25uZWN0KHt0ZXJtaW5hdGU6ITB9KS5jYXRjaCgoZT0+e0RhKFwiW1JlbW90ZUNvbm5lY3Rpb246IGNsZWFudXBDb25uZWN0b3IoKV0gZXJyb3IgZGlzY29ubmVjdGluZyBjb25uZWN0b3JcIixlKX0pKSl9KHRoaXMuc3RhdGUpfX1mdW5jdGlvbiBIZChlKXt2YXIgbixyLG8scyxhLGMsZCxsLGgsZixwO3JldHVybiB1KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7Y29uc3R7b3B0aW9uczptfT1lO2lmKG0ubG9nZ2luZz1udWxsIT09KG49bS5sb2dnaW5nKSYmdm9pZCAwIT09bj9uOnt9LG0uY29tbXVuaWNhdGlvbkxheWVyUHJlZmVyZW5jZT1udWxsIT09KHI9bS5jb21tdW5pY2F0aW9uTGF5ZXJQcmVmZXJlbmNlKSYmdm9pZCAwIT09cj9yOmV4cG9ydHMuQ29tbXVuaWNhdGlvbkxheWVyUHJlZmVyZW5jZS5TT0NLRVQsdm9pZCAwIT09bS5lbmFibGVEZWJ1ZyYmKHQuZW5hYmxlKFwiTU1fU0RLXCIpLGNvbnNvbGUud2FybihcImVuYWJsZURlYnVnIGlzIHJlbW92ZWQuIFBsZWFzZSB1c2UgZW5hYmxlQW5hbHl0aWNzIGluc3RlYWQuXCIpKSxtLmVuYWJsZUFuYWx5dGljcz1udWxsPT09KG89bS5lbmFibGVBbmFseXRpY3MpfHx2b2lkIDA9PT1vfHxvLG0uaW5qZWN0UHJvdmlkZXI9bnVsbD09PShzPW0uaW5qZWN0UHJvdmlkZXIpfHx2b2lkIDA9PT1zfHxzLG0uc2hvdWxkU2hpbVdlYjM9bnVsbD09PShhPW0uc2hvdWxkU2hpbVdlYjMpfHx2b2lkIDA9PT1hfHxhLG0uZXh0ZW5zaW9uT25seT1udWxsPT09KGM9bS5leHRlbnNpb25Pbmx5KXx8dm9pZCAwPT09Y3x8YyxtLnVzZURlZXBsaW5rPW51bGw9PT0oZD1tLnVzZURlZXBsaW5rKXx8dm9pZCAwPT09ZHx8ZCxtLnN0b3JhZ2U9bnVsbCE9PShsPW0uc3RvcmFnZSkmJnZvaWQgMCE9PWw/bDp7ZW5hYmxlZDohMH0sbS5oZWFkbGVzcyl7dChcIltNZXRhTWFza1NESzogcGVyZm9ybVNES0luaXRpYWxpemF0aW9uKCldIGhlYWRsZXNzIG1vZGUgZW5hYmxlZFwiKTtjb25zdCBlPSgpPT57fSxuPXtpbnN0YWxsOigpPT4oe21vdW50OmUsdW5tb3VudDplfSl9LHI9e2luc3RhbGxlcjplfTttLm1vZGFscz1uLG0udWk9cn1jb25zdCBnPSEwPT09KG51bGw9PT0oaD1tLmxvZ2dpbmcpfHx2b2lkIDA9PT1oP3ZvaWQgMDpoLmRldmVsb3Blck1vZGUpO2UuZGVidWc9KG51bGw9PT0oZj1tLmxvZ2dpbmcpfHx2b2lkIDA9PT1mP3ZvaWQgMDpmLnNkayl8fGcsRGEoXCJbTWV0YU1hc2tTREs6IHBlcmZvcm1TREtJbml0aWFsaXphdGlvbigpXSBvcHRpb25zXCIsZS5vcHRpb25zKTtjb25zdCB5PU9iamVjdC5hc3NpZ24oe30sbS5sb2dnaW5nKTtnJiYoeS5zZGs9ITAseS5lY2llc0xheWVyPSEwLHkua2V5RXhjaGFuZ2VMYXllcj0hMCx5LnJlbW90ZUxheWVyPSEwLHkuc2VydmljZUxheWVyPSEwLHkucGxhaW50ZXh0PSEwKSx5aWVsZCBmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gdSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2NvbnN0e29wdGlvbnM6bn09ZTtlLnBsYXRmb3JtTWFuYWdlcj1uZXcgaGMoe3VzZURlZXBMaW5rOm51bGwhPT0odD1uLnVzZURlZXBsaW5rKSYmdm9pZCAwIT09dCYmdCxwcmVmZXJyZWRPcGVuTGluazpuLm9wZW5EZWVwbGluayxkZWJ1ZzplLmRlYnVnfSl9KSl9KGUpLHlpZWxkIGZ1bmN0aW9uKGUpe3ZhciB0LG4scixpLG87cmV0dXJuIHUodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtjb25zdHtvcHRpb25zOnN9PWUsYT1udWxsPT09KHQ9ZS5wbGF0Zm9ybU1hbmFnZXIpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmdldFBsYXRmb3JtVHlwZSgpO2UuYW5hbHl0aWNzPW5ldyBxYyh7c2VydmVyVXJsOm51bGwhPT0obj1zLmNvbW11bmljYXRpb25TZXJ2ZXJVcmwpJiZ2b2lkIDAhPT1uP246cnIsZW5hYmxlZDpzLmVuYWJsZUFuYWx5dGljcyxvcmlnaW5hdG9ySW5mbzp7dXJsOm51bGwhPT0ocj1zLmRhcHBNZXRhZGF0YS51cmwpJiZ2b2lkIDAhPT1yP3I6XCJcIix0aXRsZTpudWxsIT09KGk9cy5kYXBwTWV0YWRhdGEubmFtZSkmJnZvaWQgMCE9PWk/aTpcIlwiLGRhcHBJZDplLmdldERhcHBJZCgpLHBsYXRmb3JtOm51bGwhPWE/YTpcIlwiLHNvdXJjZTpudWxsIT09KG89cy5fc291cmNlKSYmdm9pZCAwIT09bz9vOlwiXCIsYW5vbklkOlwiXCJ9fSl9KSl9KGUpLHlpZWxkIGZ1bmN0aW9uKGUpe3ZhciB0LG4scjtyZXR1cm4gdSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2lmKCFlLm9wdGlvbnMuZW5hYmxlQW5hbHl0aWNzKXJldHVybjtpZighKG51bGw9PT0odD1lLnBsYXRmb3JtTWFuYWdlcil8fHZvaWQgMD09PXQ/dm9pZCAwOnQuaXNCcm93c2VyKCkpJiYhKG51bGw9PT0obj1lLnBsYXRmb3JtTWFuYWdlcil8fHZvaWQgMD09PW4/dm9pZCAwOm4uaXNSZWFjdE5hdGl2ZSgpKSlyZXR1cm47Y29uc3Qgbz1lLmdldFZlcnNpb24oKSxzPWUuZ2V0RGFwcElkKCksYT15aWVsZCBlLmdldEFub25JZCgpLGM9bnVsbD09PShyPWUucGxhdGZvcm1NYW5hZ2VyKXx8dm9pZCAwPT09cj92b2lkIDA6ci5nZXRQbGF0Zm9ybVR5cGUoKSxkPWUub3B0aW9ucy5fc291cmNlO2kuYW5hbHl0aWNzLnNldEdsb2JhbFByb3BlcnR5KFwic2RrX3ZlcnNpb25cIixvKSxpLmFuYWx5dGljcy5zZXRHbG9iYWxQcm9wZXJ0eShcImRhcHBfaWRcIixzKSxpLmFuYWx5dGljcy5zZXRHbG9iYWxQcm9wZXJ0eShcImFub25faWRcIixhKSxpLmFuYWx5dGljcy5zZXRHbG9iYWxQcm9wZXJ0eShcInBsYXRmb3JtXCIsYyksaS5hbmFseXRpY3Muc2V0R2xvYmFsUHJvcGVydHkoXCJpbnRlZ3JhdGlvbl90eXBlXCIsZCksaS5hbmFseXRpY3MuZW5hYmxlKCksaS5hbmFseXRpY3MudHJhY2soXCJzZGtfaW5pdGlhbGl6ZWRcIix7fSl9KSl9KGUpLHlpZWxkIGZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiB1KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7Y29uc3R7b3B0aW9uczpufT1lOyEwIT09KG51bGw9PT0odD1uLnN0b3JhZ2UpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmVuYWJsZWQpfHxuLnN0b3JhZ2Uuc3RvcmFnZU1hbmFnZXJ8fChuLnN0b3JhZ2Uuc3RvcmFnZU1hbmFnZXI9eWllbGQgZmMobi5zdG9yYWdlKSl9KSl9KGUpLHlpZWxkIGZ1bmN0aW9uKGUpe3JldHVybiB1KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7Y29uc3R7b3B0aW9uczp0fT1lLG49L14oaHR0cHxodHRwcyk6XFwvXFwvW15cXHNdKiQvO2lmKHQuZGFwcE1ldGFkYXRhKXt0LmRhcHBNZXRhZGF0YS5pY29uVXJsJiYhbi50ZXN0KHQuZGFwcE1ldGFkYXRhLmljb25VcmwpJiYoY29uc29sZS53YXJuKFwiSW52YWxpZCBkYXBwTWV0YWRhdGEuaWNvblVybDogVVJMIG11c3Qgc3RhcnQgd2l0aCBodHRwOi8vIG9yIGh0dHBzOi8vXCIpLHQuZGFwcE1ldGFkYXRhLmljb25Vcmw9dm9pZCAwKSx0LmRhcHBNZXRhZGF0YS5iYXNlNjRJY29uJiZ0LmRhcHBNZXRhZGF0YS5iYXNlNjRJY29uLmxlbmd0aD5XYyYmKGNvbnNvbGUud2FybihcIkludmFsaWQgZGFwcE1ldGFkYXRhLmJhc2U2NEljb246IEJhc2U2NC1lbmNvZGVkIGljb24gc3RyaW5nIGxlbmd0aCBtdXN0IGJlIGxlc3MgdGhhbiAxNjM0MDAgY2hhcmFjdGVyc1wiKSx0LmRhcHBNZXRhZGF0YS5iYXNlNjRJY29uPXZvaWQgMCksdC5kYXBwTWV0YWRhdGEudXJsJiYhbi50ZXN0KHQuZGFwcE1ldGFkYXRhLnVybCkmJmNvbnNvbGUud2FybihcIkludmFsaWQgZGFwcE1ldGFkYXRhLnVybDogVVJMIG11c3Qgc3RhcnQgd2l0aCBodHRwOi8vIG9yIGh0dHBzOi8vXCIpO2NvbnN0IGU9emMoKTtpZihlJiYhdC5kYXBwTWV0YWRhdGEuaWNvblVybCYmIXQuZGFwcE1ldGFkYXRhLmJhc2U2NEljb24pe2NvbnN0IG49YCR7d2luZG93LmxvY2F0aW9uLnByb3RvY29sfS8vJHt3aW5kb3cubG9jYXRpb24uaG9zdH0ke2V9YDt0LmRhcHBNZXRhZGF0YS5pY29uVXJsPW59fWUuZGFwcE1ldGFkYXRhPXQuZGFwcE1ldGFkYXRhfSkpfShlKSx5aWVsZCBRYyhlKSx5aWVsZCBYYyhlKTtjb25zdHttZXRhbWFza0Jyb3dzZXJFeHRlbnNpb246dixwcmVmZXJFeHRlbnNpb246RSxzaG91bGRSZXR1cm46Yn09eWllbGQgZnVuY3Rpb24oZSl7dmFyIHQsbixyLGk7cmV0dXJuIHUodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtjb25zdHtvcHRpb25zOm99PWU7bGV0IHMsYT0hMSxjPSExO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5ldGhlcmV1bSYmIShudWxsPT09KHQ9ZS5wbGF0Zm9ybU1hbmFnZXIpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmlzTWV0YU1hc2tNb2JpbGVXZWJWaWV3KCkpKXthPVwiZXh0ZW5zaW9uXCI9PT1sb2NhbFN0b3JhZ2UuZ2V0SXRlbShNYyk7dHJ5e3M9eWllbGQgSmMoe211c3RCZU1ldGFNYXNrOiEwLHNka0luc3RhbmNlOmV9KSx3aW5kb3cuZXh0ZW5zaW9uPXMscy5vbihJYy5DSEFJTl9DSEFOR0VELCh0PT57RGEoYFtNZXRhTWFza1NESzogc2V0dXBFeHRlbnNpb25QcmVmZXJlbmNlcygpXSBQUk9QQUdBVEUgY2hhaW5DaGFuZ2VkIGNoYWluSWQ9JHt0fWApLEJvb2xlYW4oZS5zZGtQcm92aWRlcikmJmUuZ2V0TW9iaWxlUHJvdmlkZXIoKS5lbWl0KEljLkNIQUlOX0NIQU5HRUQsdCl9KSkscy5vbihJYy5BQ0NPVU5UU19DSEFOR0VELCh0PT51KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7dmFyIG47RGEoYFtNZXRhTWFza1NESzogc2V0dXBFeHRlbnNpb25QcmVmZXJlbmNlcygpXSBQUk9QQUdBVEUgYWNjb3VudHNDaGFuZ2VkIGFjY291bnRzPSR7dH1gKTtjb25zdCByPUJvb2xlYW4oZS5zZGtQcm92aWRlciksaT1Cb29sZWFuKGUuZXh0ZW5zaW9uQWN0aXZlKTtpZihyJiZlLmdldE1vYmlsZVByb3ZpZGVyKCkuZW1pdChJYy5BQ0NPVU5UU19DSEFOR0VELHQpLGkmJjA9PT0obnVsbD09dD92b2lkIDA6dC5sZW5ndGgpJiYwPT09KHlpZWxkIG51bGw9PT0obj1lLmdldFByb3ZpZGVyKCkpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnJlcXVlc3Qoe21ldGhvZDpTYy5XQUxMRVRfR0VUUEVSTUlTU0lPTlMscGFyYW1zOltdfSkpLmxlbmd0aCl0cnl7eWllbGQgZS50ZXJtaW5hdGUoKX1jYXRjaChlKXtEYShcIltNZXRhTWFza1NESzogc2V0dXBFeHRlbnNpb25QcmVmZXJlbmNlcygpXSBlcnJvciB0ZXJtaW5hdGluZyBvbiBwZXJtaXNzaW9ucyByZXZva2VkXCIsZSl9fSkpKSkscy5vbihJYy5ESVNDT05ORUNULCh0PT57RGEoYFtNZXRhTWFza1NESzogc2V0dXBFeHRlbnNpb25QcmVmZXJlbmNlcygpXSBQUk9QQUdBVEUgZGlzY29ubmVjdCBlcnJvcj0ke3R9YCksQm9vbGVhbihlLnNka1Byb3ZpZGVyKSYmZS5nZXRNb2JpbGVQcm92aWRlcigpLmVtaXQoSWMuRElTQ09OTkVDVCx0KX0pKSxzLm9uKEljLkNPTk5FQ1QsKHQ9PntEYShgW01ldGFNYXNrU0RLOiBzZXR1cEV4dGVuc2lvblByZWZlcmVuY2VzKCldIFBST1BBR0FURSBjb25uZWN0IGFyZ3M9JHt0fWApLEJvb2xlYW4oZS5zZGtQcm92aWRlcikmJmUuZ2V0TW9iaWxlUHJvdmlkZXIoKS5lbWl0KEljLkNPTk5FQ1QsdCl9KSkscy5vbihJYy5DT05ORUNURUQsKHQ9PntEYShcIltNZXRhTWFza1NESzogc2V0dXBFeHRlbnNpb25QcmVmZXJlbmNlcygpXSBQUk9QQUdBVEUgY29ubmVjdGVkXCIsdCksQm9vbGVhbihlLnNka1Byb3ZpZGVyKSYmZS5nZXRNb2JpbGVQcm92aWRlcigpLmVtaXQoSWMuQ09OTkVDVEVELHQpfSkpfWNhdGNoKGUpe3dpbmRvdy5leHRlbnNpb249dm9pZCAwfX1lbHNlKG51bGw9PT0obj1lLnBsYXRmb3JtTWFuYWdlcil8fHZvaWQgMD09PW4/dm9pZCAwOm4uaXNNZXRhTWFza01vYmlsZVdlYlZpZXcoKSkmJihudWxsPT09KHI9ZS5hbmFseXRpY3MpfHx2b2lkIDA9PT1yfHxyLnNlbmQoe2V2ZW50OmZyLlNES19VU0VfSU5BUFBfQlJPV1NFUn0pLGUuYWN0aXZlUHJvdmlkZXI9WWMoe3Byb3ZpZGVyOndpbmRvdy5ldGhlcmV1bSxzZGtJbnN0YW5jZTplfSksZS5faW5pdGlhbGl6ZWQ9ITAsYz0hMCk7cmV0dXJuIHMmJm8uZXh0ZW5zaW9uT25seSYmKERhKFwiW01ldGFNYXNrU0RLOiBzZXR1cEV4dGVuc2lvblByZWZlcmVuY2VzKCldIEVYVEVOU0lPTiBPTkxZIC0tLSBwcmV2ZW50IHNkayBpbml0aWFsaXphdGlvblwiKSxudWxsPT09KGk9ZS5hbmFseXRpY3MpfHx2b2lkIDA9PT1pfHxpLnNlbmQoe2V2ZW50OmZyLlNES19VU0VfRVhURU5TSU9OfSksZS5hY3RpdmVQcm92aWRlcj1zLGUuZXh0ZW5zaW9uQWN0aXZlPSEwLGUuZXh0ZW5zaW9uPXMsZS5faW5pdGlhbGl6ZWQ9ITAsYz0hMCkse3ByZWZlckV4dGVuc2lvbjphLHNob3VsZFJldHVybjpjLG1ldGFtYXNrQnJvd3NlckV4dGVuc2lvbjpzfX0pKX0oZSk7aWYoYilEYShcIltNZXRhTWFza1NESzogcGVyZm9ybVNES0luaXRpYWxpemF0aW9uKCldIHNob3VsZFJldHVybj10cnVlIC0tLSBwcmV2ZW50IHNkayBpbml0aWFsaXphdGlvblwiKTtlbHNle3lpZWxkIGZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8scztyZXR1cm4gdSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2NvbnN0e29wdGlvbnM6YX09ZSxjPU9iamVjdC5hc3NpZ24oe30sYS5sb2dnaW5nKTtlLnJlbW90ZUNvbm5lY3Rpb249bmV3ICRkKHthbm9uSWQ6eWllbGQgZS5nZXRBbm9uSWQoKSxwcmVmZXJEZXNrdG9wOm51bGwhPT0obj1hLnByZWZlckRlc2t0b3ApJiZ2b2lkIDAhPT1uJiZuLGNvbW11bmljYXRpb25MYXllclByZWZlcmVuY2U6bnVsbCE9PShyPWEuY29tbXVuaWNhdGlvbkxheWVyUHJlZmVyZW5jZSkmJnZvaWQgMCE9PXI/cjpleHBvcnRzLkNvbW11bmljYXRpb25MYXllclByZWZlcmVuY2UuU09DS0VULGFuYWx5dGljczplLmFuYWx5dGljcyxkYXBwTWV0YWRhdGE6YS5kYXBwTWV0YWRhdGEsX3NvdXJjZTphLl9zb3VyY2UsZW5hYmxlQW5hbHl0aWNzOm51bGw9PT0oaT1hLmVuYWJsZUFuYWx5dGljcyl8fHZvaWQgMD09PWl8fGksdGltZXI6YS50aW1lcixzZGs6ZSxwbGF0Zm9ybU1hbmFnZXI6ZS5wbGF0Zm9ybU1hbmFnZXIsdHJhbnNwb3J0czphLnRyYW5zcG9ydHMsY29tbXVuaWNhdGlvblNlcnZlclVybDphLmNvbW11bmljYXRpb25TZXJ2ZXJVcmwsc3RvcmFnZTpudWxsIT09KG89YS5zdG9yYWdlKSYmdm9pZCAwIT09bz9vOntlbmFibGVkOiEwfSxnZXRNZXRhTWFza0luc3RhbGxlcjooKT0+e2lmKCFlLmluc3RhbGxlcil0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFNESyBzdGF0dXMgLS0gaW5zdGFsbGVyIG5vdCBpbml0aWFsaXplZFwiKTtyZXR1cm4gZS5pbnN0YWxsZXJ9LGxvZ2dpbmc6Yyxjb25uZWN0V2l0aEV4dGVuc2lvblByb3ZpZGVyOnZvaWQgMD09PXQ/dm9pZCAwOigpPT5EYyhlKSxtb2RhbHM6T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGEubW9kYWxzKSx7b25QZW5kaW5nTW9kYWxEaXNjb25uZWN0OmUudGVybWluYXRlLmJpbmQoZSl9KX0pLHlpZWxkIGUucmVtb3RlQ29ubmVjdGlvbi5pbml0UmVtb3RlQ29tbXVuaWNhdGlvbih7c2RrSW5zdGFuY2U6ZX0pLGUuaW5zdGFsbGVyPW5ldyBoZCh7cmVtb3RlOmUucmVtb3RlQ29ubmVjdGlvbixwcmVmZXJEZXNrdG9wOm51bGwhPT0ocz1hLnByZWZlckRlc2t0b3ApJiZ2b2lkIDAhPT1zJiZzLHBsYXRmb3JtTWFuYWdlcjplLnBsYXRmb3JtTWFuYWdlcixkZWJ1ZzplLmRlYnVnfSl9KSl9KGUsdikseWllbGQgVWMoZSkseWllbGQgZnVuY3Rpb24oZSx0KXt2YXIgbixyO3JldHVybiB1KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7Y29uc3R7b3B0aW9uczppfT1lO3Q/KERhKFwiW01ldGFNYXNrU0RLOiBoYW5kbGVBdXRvQW5kRXh0ZW5zaW9uQ29ubmVjdGlvbnMoKV0gcHJlZmVyRXh0ZW5zaW9uIGlzIGRldGVjdGVkIC0tIGNvbm5lY3Qgd2l0aCBpdC5cIiksbnVsbD09PShuPWUuYW5hbHl0aWNzKXx8dm9pZCAwPT09bnx8bi5zZW5kKHtldmVudDpmci5TREtfRVhURU5TSU9OX1VUSUxJWkVEfSksRGMoZSkuY2F0Y2goKGU9Pntjb25zb2xlLndhcm4oXCJDYW4ndCBjb25uZWN0IHdpdGggTWV0YU1hc2sgZXh0ZW5zaW9uLi4uXCIsZSksbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oTWMpfSkpKTppLmNoZWNrSW5zdGFsbGF0aW9uSW1tZWRpYXRlbHkmJigobnVsbD09PShyPWUucGxhdGZvcm1NYW5hZ2VyKXx8dm9pZCAwPT09cj92b2lkIDA6ci5pc0Rlc2t0b3BXZWIoKSk/KERhKFwiW01ldGFNYXNrU0RLOiBoYW5kbGVBdXRvQW5kRXh0ZW5zaW9uQ29ubmVjdGlvbnMoKV0gY2hlY2tJbnN0YWxsYXRpb25JbW1lZGlhdGVseVwiKSxlLmNvbm5lY3QoKS5jYXRjaCgoZT0+e0RhKGBbTWV0YU1hc2tTREs6IGhhbmRsZUF1dG9BbmRFeHRlbnNpb25Db25uZWN0aW9ucygpXSBjaGVja0luc3RhbGxhdGlvbkltbWVkaWF0ZWx5IC0tLSBJR05PUkVEIC0tLSBlcnJvciBvbiBhdXRvY29ubmVjdCBfZXJyPSR7ZX1gKX0pKSk6Y29uc29sZS53YXJuKFwiW2hhbmRsZUF1dG9BbmRFeHRlbnNpb25Db25uZWN0aW9ucygpXSBjaGVja0luc3RhbGxhdGlvbkltbWVkaWF0ZWx5IC0tLSBJR05PUkVEIC0tLSBvbmx5IGZvciB3ZWIgZGVza3RvcFwiKSksZS5faW5pdGlhbGl6ZWQ9ITB9KSl9KGUsRSk7dHJ5e3lpZWxkIG51bGw9PT0ocD1lLnJlbW90ZUNvbm5lY3Rpb24pfHx2b2lkIDA9PT1wP3ZvaWQgMDpwLnN0YXJ0Q29ubmVjdGlvbih7aW5pdGlhbENoZWNrOiEwfSl9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihcIltNZXRhTWFza1NESzogc2V0dXBSZW1vdGVDb25uZWN0aW9uQW5kSW5zdGFsbGVyKCldIEVycm9yIHdoaWxlIGNoZWNraW5nIGluc3RhbGxhdGlvblwiLGUpfWUuZW1pdChsYy5Qcm92aWRlclVwZGF0ZSxleHBvcnRzLlBST1ZJREVSX1VQREFURV9UWVBFLklOSVRJQUxJWkVEKX19KSl9Y2xhc3MgVWQgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKGU9e3N0b3JhZ2U6e2VuYWJsZWQ6ITB9LGluamVjdFByb3ZpZGVyOiEwLGZvcmNlSW5qZWN0UHJvdmlkZXI6ITEsZW5hYmxlQW5hbHl0aWNzOiEwLHNob3VsZFNoaW1XZWIzOiEwLHVzZURlZXBsaW5rOiEwLGV4dGVuc2lvbk9ubHk6ITAsaGVhZGxlc3M6ITEsZGFwcE1ldGFkYXRhOntuYW1lOlwiXCIsdXJsOlwiXCIsaWNvblVybDpcIlwifSxfc291cmNlOnljLGkxOG5PcHRpb25zOntlbmFibGVkOiExfX0pe3ZhciBuLHIsaTtzdXBlcigpLHRoaXMuZXh0ZW5zaW9uQWN0aXZlPSExLHRoaXMuX2luaXRpYWxpemVkPSExLHRoaXMuc2RrSW5pdFByb21pc2U9dm9pZCAwLHRoaXMuZGVidWc9ITEsdGhpcy5yZWFkb25seVJQQ0NhbGxzPSExLHRoaXMuYXZhaWxhYmxlTGFuZ3VhZ2VzPVtcImVuXCJdLHRoaXMuQU5PTl9JRF9TVE9SQUdFX0tFWT1cIm1tLXNkay1hbm9uLWlkXCIsdC5kaXNhYmxlKCk7Y29uc3Qgbz0hMD09PShudWxsPT09KG49ZS5sb2dnaW5nKXx8dm9pZCAwPT09bj92b2lkIDA6bi5kZXZlbG9wZXJNb2RlKTtpZigoKG51bGw9PT0ocj1lLmxvZ2dpbmcpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnNkayl8fG8pJiZ0LmVuYWJsZShcIk1NX1NES1wiKSxEYShcIltNZXRhTWFza1NESzogY29uc3RydWN0b3IoKV06IGJlZ2luLlwiKSx0aGlzLnNldE1heExpc3RlbmVycyg1MCksIShudWxsPT09KGk9ZS5kYXBwTWV0YWRhdGEpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnVybCkpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3d8fFwidW5kZWZpbmVkXCI9PXR5cGVvZiBkb2N1bWVudCl0aHJvdyBuZXcgRXJyb3IoXCJZb3UgbXVzdCBwcm92aWRlIGRBcHBNZXRhZGF0YSB1cmxcIik7ZS5kYXBwTWV0YWRhdGE9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUuZGFwcE1ldGFkYXRhKSx7dXJsOmAke3dpbmRvdy5sb2NhdGlvbi5wcm90b2NvbH0vLyR7d2luZG93LmxvY2F0aW9uLmhvc3R9YH0pfXRoaXMub3B0aW9ucz1lLHRoaXMub3B0aW9ucy5fc291cmNlfHwoZS5fc291cmNlPXljKSx0aGlzLmluaXQoKS50aGVuKCgoKT0+e0RhKFwiW01ldGFNYXNrU0RLOiBjb25zdHJ1Y3RvcigpXTogaW5pdGlhbGl6ZWQgc3VjY2Vzc2Z1bGx5LlwiKSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiYod2luZG93Lm1tc2RrPXRoaXMpfSkpLmNhdGNoKChlPT57Y29uc29sZS5lcnJvcihcIltNZXRhTWFza1NESzogY29uc3RydWN0b3IoKV0gZXJyb3IgZHVyaW5nIGluaXRpYWxpemF0aW9uXCIsZSl9KSl9aW5pdCgpe3JldHVybiB1KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiB1KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmKG51bGw9PT0odD13aW5kb3cubW1zZGspfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmlzSW5pdGlhbGl6ZWQoKSkpcmV0dXJuIERhKFwiW01ldGFNYXNrU0RLOiBpbml0aWFsaXplTWV0YU1hc2tTREsoKV0gYWxyZWFkeSBpbml0aWFsaXplZFwiKSxQcm9taXNlLnJlc29sdmUod2luZG93Lm1tc2RrKTtpZihlLl9pbml0aWFsaXplZClyZXR1cm4gRGEoXCJbTWV0YU1hc2tTREs6IGluaXRpYWxpemVNZXRhTWFza1NESygpXSBhbHJlYWR5IGluaXRpYWxpemVkXCIpLGUuc2RrSW5pdFByb21pc2U7aWYoZS5zZGtJbml0UHJvbWlzZSlyZXR1cm4gRGEoXCJbTWV0YU1hc2tTREs6IGluaXRpYWxpemVNZXRhTWFza1NESygpXSBhbHJlYWR5IGluaXRpYWxpemluZ1wiKSxlLnNka0luaXRQcm9taXNlO3RyeXtlLnNka0luaXRQcm9taXNlPUhkKGUpLHlpZWxkIGUuc2RrSW5pdFByb21pc2V9Y2F0Y2goZSl7dGhyb3cgY29uc29sZS5lcnJvcihlKSxlfXJldHVybiBlLnNka0luaXRQcm9taXNlfSkpfSh0aGlzKX0pKX1pc0V4dGVuc2lvbkFjdGl2ZSgpe3JldHVybiB0aGlzLmV4dGVuc2lvbkFjdGl2ZX1jaGVja0V4dGVuc2lvbkF2YWlsYWJpbGl0eSgpe3ZhciBlO3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJkJvb2xlYW4obnVsbD09PShlPXdpbmRvdy5ldGhlcmV1bSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuaXNNZXRhTWFzayl9Y29ubmVjdCgpe3JldHVybiB1KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB1KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7aWYoZS5faW5pdGlhbGl6ZWR8fChEYShcIltNZXRhTWFza1NESzogY29ubmVjdCgpXSBwcm92aWRlciBub3QgcmVhZHkgLS0gd2FpdCBmb3IgaW5pdCgpXCIpLHlpZWxkIGUuaW5pdCgpKSxEYShgW01ldGFNYXNrU0RLOiBjb25uZWN0KCldIGlzRXh0ZW5zaW9uQWN0aXZlPSR7ZS5pc0V4dGVuc2lvbkFjdGl2ZSgpfSBhY3RpdmVQcm92aWRlcmAsZS5hY3RpdmVQcm92aWRlciksIWUuYWN0aXZlUHJvdmlkZXIpdGhyb3cgbmV3IEVycm9yKFwiU0RLIHN0YXRlIGludmFsaWQgLS0gdW5kZWZpbmVkIHByb3ZpZGVyXCIpO2NvbnN0IHQ9ZS5hY3RpdmVQcm92aWRlci5nZXRTZWxlY3RlZEFkZHJlc3MoKTtyZXR1cm4gdD9bdF06ZS5hY3RpdmVQcm92aWRlci5yZXF1ZXN0KHttZXRob2Q6U2MuRVRIX1JFUVVFU1RBQ0NPVU5UUyxwYXJhbXM6W119KX0pKX0odGhpcyl9KSl9Y29ubmVjdEFuZFNpZ24oe21zZzplfSl7cmV0dXJuIHUodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtyZXR1cm4gTmMoe2luc3RhbmNlOnRoaXMsbXNnOmV9KX0pKX1jb25uZWN0V2l0aChlKXtyZXR1cm4gdSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3JldHVybiBmdW5jdGlvbih7aW5zdGFuY2U6ZSxycGM6dH0pe3JldHVybiB1KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7aWYoZS5faW5pdGlhbGl6ZWR8fChEYShcIltNZXRhTWFza1NESzogY29ubmVjdFdpdGgoKV0gcHJvdmlkZXIgbm90IHJlYWR5IC0tIHdhaXQgZm9yIGluaXQoKVwiKSx5aWVsZCBlLmluaXQoKSksRGEoYFtNZXRhTWFza1NESzogY29ubmVjdFdpdGgoKV0gbWV0aG9kOiAke3QubWV0aG9kfSBycGM9JHt0fWApLCFlLmFjdGl2ZVByb3ZpZGVyKXRocm93IG5ldyBFcnJvcihcIlNESyBzdGF0ZSBpbnZhbGlkIC0tIHVuZGVmaW5lZCBwcm92aWRlclwiKTtyZXR1cm4gZS5hY3RpdmVQcm92aWRlci5yZXF1ZXN0KHttZXRob2Q6U2MuTUVUQU1BU0tfQ09OTkVDVFdJVEgscGFyYW1zOlt0XX0pfSkpfSh7aW5zdGFuY2U6dGhpcyxycGM6ZX0pfSkpfXJlc3VtZSgpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdCxuLHI7cmV0dXJuIHUodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtpZighKG51bGw9PT0obj1udWxsPT09KHQ9ZS5yZW1vdGVDb25uZWN0aW9uKXx8dm9pZCAwPT09dD92b2lkIDA6dC5nZXRDb25uZWN0b3IoKSl8fHZvaWQgMD09PW4/dm9pZCAwOm4uaXNSZWFkeSgpKSlyZXR1cm4gRGEoXCJbTWV0YU1hc2tTREs6IHJlc3VtZSgpXSBjaGFubmVsIGlzIG5vdCByZWFkeSAtLSBzdGFydGluZyBjb25uZWN0aW9uXCIpLHZvaWQobnVsbD09PShyPWUucmVtb3RlQ29ubmVjdGlvbil8fHZvaWQgMD09PXJ8fHIuc3RhcnRDb25uZWN0aW9uKCkpO0RhKFwiW01ldGFNYXNrU0RLOiByZXN1bWUoKV0gY2hhbm5lbCBpcyByZWFkeVwiKX0pKX0odGhpcyl9ZGlzY29ubmVjdCgpe3JldHVybiBjb25zb2xlLndhcm4oXCJNZXRhTWFza1NESy5kaXNjb25uZWN0KCkgaXMgZGVwcmVjYXRlZCwgdXNlIHRlcm1pbmF0ZSgpXCIpLHRoaXMudGVybWluYXRlKCl9aXNBdXRob3JpemVkKCl7dmFyIGU7bnVsbD09PShlPXRoaXMucmVtb3RlQ29ubmVjdGlvbil8fHZvaWQgMD09PWV8fGUuaXNBdXRob3JpemVkKCl9dGVybWluYXRlKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0LG4scjtyZXR1cm4gdSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2lmKCEobnVsbD09PSh0PWUucGxhdGZvcm1NYW5hZ2VyKXx8dm9pZCAwPT09dD92b2lkIDA6dC5pc01ldGFNYXNrTW9iaWxlV2ViVmlldygpKSl7aWYoT2MmJih3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oTWMpLHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShUYyksd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKEFjKSksZS5leHRlbnNpb25BY3RpdmUpe3RyeXt5aWVsZCBudWxsPT09KG49ZS5hY3RpdmVQcm92aWRlcil8fHZvaWQgMD09PW4/dm9pZCAwOm4ucmVxdWVzdCh7bWV0aG9kOlNjLldBTExFVF9SRVZPS0VQRVJNSVNTSU9OUyxwYXJhbXM6W3tldGhfYWNjb3VudHM6e319XX0pfWNhdGNoKGUpe0RhKFwiW01ldGFNYXNrU0RLOiB0ZXJtaW5hdGUoKV0gZXJyb3IgcmV2b2tpbmcgcGVybWlzc2lvbnNcIixlKX1yZXR1cm4gZS5vcHRpb25zLmV4dGVuc2lvbk9ubHk/KGUuZW1pdChsYy5Qcm92aWRlclVwZGF0ZSxleHBvcnRzLlBST1ZJREVSX1VQREFURV9UWVBFLlRFUk1JTkFURSksdm9pZCBEYShcIltNZXRhTWFza1NESzogdGVybWluYXRlKCldIGV4dGVuc2lvbk9ubHkgLS0tIHByZXZlbnQgc3dpdGNoaW5nIHByb3ZpZGVyc1wiKSk6KGUuYWN0aXZlUHJvdmlkZXI9ZS5zZGtQcm92aWRlcix3aW5kb3cuZXRoZXJldW09ZS5hY3RpdmVQcm92aWRlcixlLmV4dGVuc2lvbkFjdGl2ZT0hMSx2b2lkIGUuZW1pdChsYy5Qcm92aWRlclVwZGF0ZSxleHBvcnRzLlBST1ZJREVSX1VQREFURV9UWVBFLlRFUk1JTkFURSkpfWUuZW1pdChsYy5Qcm92aWRlclVwZGF0ZSxleHBvcnRzLlBST1ZJREVSX1VQREFURV9UWVBFLlRFUk1JTkFURSksRGEoYFtNZXRhTWFza1NESzogdGVybWluYXRlKCldIHJlbW90ZUNvbm5lY3Rpb249JHtlLnJlbW90ZUNvbm5lY3Rpb259YCksbnVsbD09PShyPWUucmVtb3RlQ29ubmVjdGlvbil8fHZvaWQgMD09PXJ8fHIuZGlzY29ubmVjdCh7dGVybWluYXRlOiEwLHNlbmRNZXNzYWdlOiEwfSl9fSkpfSh0aGlzKX1pc0luaXRpYWxpemVkKCl7cmV0dXJuIHRoaXMuX2luaXRpYWxpemVkfXNldFJlYWRPbmx5UlBDQ2FsbHMoZSl7dGhpcy5yZWFkb25seVJQQ0NhbGxzPWV9aGFzUmVhZE9ubHlSUENDYWxscygpe3JldHVybiB0aGlzLnJlYWRvbmx5UlBDQ2FsbHN9Z2V0UHJvdmlkZXIoKXtpZih0aGlzLmFjdGl2ZVByb3ZpZGVyKXJldHVybiB0aGlzLmFjdGl2ZVByb3ZpZGVyO2NvbnNvbGUud2FybihcIk1ldGFNYXNrU0RLOiBObyBhY3RpdmUgcHJvdmlkZXIgZm91bmRcIil9Z2V0TW9iaWxlUHJvdmlkZXIoKXtpZighdGhpcy5zZGtQcm92aWRlcil0aHJvdyBuZXcgRXJyb3IoXCJTREsgc3RhdGUgaW52YWxpZCAtLSB1bmRlZmluZWQgbW9iaWxlIHByb3ZpZGVyXCIpO3JldHVybiB0aGlzLnNka1Byb3ZpZGVyfWdldFVuaXZlcnNhbExpbmsoKXt2YXIgZTtjb25zdCB0PW51bGw9PT0oZT10aGlzLnJlbW90ZUNvbm5lY3Rpb24pfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmdldFVuaXZlcnNhbExpbmsoKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJObyBVbml2ZXJzYWwgTGluayBhdmFpbGFibGUsIHBsZWFzZSBjYWxsIGV0aF9yZXF1ZXN0QWNjb3VudHMgZmlyc3QuXCIpO3JldHVybiB0fWdldENoYW5uZWxJZCgpe3ZhciBlLHQ7cmV0dXJuIG51bGw9PT0odD1udWxsPT09KGU9dGhpcy5yZW1vdGVDb25uZWN0aW9uKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5nZXRDaGFubmVsQ29uZmlnKCkpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmNoYW5uZWxJZH1nZXRSUENIaXN0b3J5KCl7dmFyIGUsdDtyZXR1cm4gbnVsbD09PSh0PW51bGw9PT0oZT10aGlzLnJlbW90ZUNvbm5lY3Rpb24pfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmdldENvbm5lY3RvcigpKXx8dm9pZCAwPT09dD92b2lkIDA6dC5nZXRSUENNZXRob2RUcmFja2VyKCl9Z2V0VmVyc2lvbigpe3JldHVybiBnYy52ZXJzaW9ufWdldERhcHBJZCgpe3ZhciBlLHQsbixyO3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3d8fHZvaWQgMD09PXdpbmRvdy5sb2NhdGlvbj9udWxsIT09KHI9bnVsbCE9PSh0PW51bGw9PT0oZT10aGlzLm9wdGlvbnMuZGFwcE1ldGFkYXRhKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5uYW1lKSYmdm9pZCAwIT09dD90Om51bGw9PT0obj10aGlzLm9wdGlvbnMuZGFwcE1ldGFkYXRhKXx8dm9pZCAwPT09bj92b2lkIDA6bi51cmwpJiZ2b2lkIDAhPT1yP3I6XCJOL0FcIjp3aW5kb3cubG9jYXRpb24uaG9zdG5hbWV9Z2V0QW5vbklkKCl7dmFyIGUsdDtyZXR1cm4gdSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2lmKHRoaXMuX2Fub25JZClyZXR1cm4gdGhpcy5fYW5vbklkO2xldCBuO3JldHVybiBuPShudWxsPT09KGU9dGhpcy5wbGF0Zm9ybU1hbmFnZXIpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmlzQnJvd3NlcigpKT90aGlzLmdldEJyb3dzZXJBbm9uSWQoKToobnVsbD09PSh0PXRoaXMucGxhdGZvcm1NYW5hZ2VyKXx8dm9pZCAwPT09dD92b2lkIDA6dC5pc1JlYWN0TmF0aXZlKCkpP3lpZWxkIHRoaXMuZ2V0UmVhY3ROYXRpdmVBbm9uSWQoKTpzLnY0KCksdGhpcy5fYW5vbklkPW4sbn0pKX1nZXRCcm93c2VyQW5vbklkKCl7Y29uc3QgZT10aGlzLkFOT05fSURfU1RPUkFHRV9LRVk7dHJ5e2NvbnN0IHQ9bG9jYWxTdG9yYWdlLmdldEl0ZW0oZSk7aWYodClyZXR1cm4gdDtjb25zdCBuPXMudjQoKTtyZXR1cm4gbG9jYWxTdG9yYWdlLnNldEl0ZW0oZSxuKSxufWNhdGNoKGUpe3JldHVybiBjb25zb2xlLmVycm9yKFwiW01ldGFNYXNrU0RLOiBnZXRCcm93c2VyQW5vbklkKCldIExvY2FsU3RvcmFnZSBhY2Nlc3MgZXJyb3I6XCIsZSkscy52NCgpfX1nZXRSZWFjdE5hdGl2ZUFub25JZCgpe3JldHVybiB1KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7Y29uc3QgZT10aGlzLkFOT05fSURfU1RPUkFHRV9LRVk7dHJ5e2NvbnN0IHQ9cmVxdWlyZShcIkByZWFjdC1uYXRpdmUtYXN5bmMtc3RvcmFnZS9hc3luYy1zdG9yYWdlXCIpLmRlZmF1bHQsbj15aWVsZCB0LmdldEl0ZW0oZSk7aWYobilyZXR1cm4gbjtjb25zdCByPXMudjQoKTtyZXR1cm4geWllbGQgdC5zZXRJdGVtKGUscikscn1jYXRjaChlKXtyZXR1cm4gY29uc29sZS5lcnJvcihcIltNZXRhTWFza1NESzogZ2V0UmVhY3ROYXRpdmVBbm9uSWQoKV0gRXJyb3IgYWNjZXNzaW5nIEFzeW5jU3RvcmFnZTpcIixlKSxzLnY0KCl9fSkpfWdldFdhbGxldFN0YXR1cygpe3ZhciBlLHQ7cmV0dXJuIG51bGw9PT0odD1udWxsPT09KGU9dGhpcy5yZW1vdGVDb25uZWN0aW9uKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5nZXRDb25uZWN0b3IoKSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZ2V0Q29ubmVjdGlvblN0YXR1cygpfV9nZXRDaGFubmVsQ29uZmlnKCl7dmFyIGU7cmV0dXJuIG51bGw9PT0oZT10aGlzLnJlbW90ZUNvbm5lY3Rpb24pfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmdldENoYW5uZWxDb25maWcoKX1fcGluZygpe3ZhciBlLHQ7bnVsbD09PSh0PW51bGw9PT0oZT10aGlzLnJlbW90ZUNvbm5lY3Rpb24pfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmdldENvbm5lY3RvcigpKXx8dm9pZCAwPT09dHx8dC5waW5nKCl9X2tleUNoZWNrKCl7dmFyIGUsdDtudWxsPT09KHQ9bnVsbD09PShlPXRoaXMucmVtb3RlQ29ubmVjdGlvbil8fHZvaWQgMD09PWU/dm9pZCAwOmUuZ2V0Q29ubmVjdG9yKCkpfHx2b2lkIDA9PT10fHx0LmtleUNoZWNrKCl9X2dldFNlcnZpY2VTdGF0dXMoKXt2YXIgZSx0O3JldHVybiBudWxsPT09KHQ9bnVsbD09PShlPXRoaXMucmVtb3RlQ29ubmVjdGlvbil8fHZvaWQgMD09PWU/dm9pZCAwOmUuZ2V0Q29ubmVjdG9yKCkpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmdldFNlcnZpY2VTdGF0dXMoKX1fZ2V0UmVtb3RlQ29ubmVjdGlvbigpe3JldHVybiB0aGlzLnJlbW90ZUNvbm5lY3Rpb259X2dldERhcHBNZXRhZGF0YSgpe3JldHVybiB0aGlzLmRhcHBNZXRhZGF0YX1fZ2V0S2V5SW5mbygpe3ZhciBlO3JldHVybiBudWxsPT09KGU9dGhpcy5yZW1vdGVDb25uZWN0aW9uKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5nZXRLZXlJbmZvKCl9X3Jlc2V0S2V5cygpe3ZhciBlLHQ7bnVsbD09PSh0PW51bGw9PT0oZT10aGlzLnJlbW90ZUNvbm5lY3Rpb24pfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmdldENvbm5lY3RvcigpKXx8dm9pZCAwPT09dHx8dC5yZXNldEtleXMoKX1fZ2V0Q29ubmVjdGlvbigpe3JldHVybiB0aGlzLnJlbW90ZUNvbm5lY3Rpb259ZW1pdChlLHQpe3JldHVybiBzdXBlci5lbWl0KGUsdCl9b24oZSx0KXtyZXR1cm4gc3VwZXIub24oZSx0KX19dmFyIEZkPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLFN0b3JhZ2VNYW5hZ2VyV2ViOmNsYXNze2NvbnN0cnVjdG9yKHtlbmFibGVkOmV9PXtlbmFibGVkOiExfSl7dGhpcy5lbmFibGVkPSExLHRoaXMuZW5hYmxlZD1lfXBlcnNpc3RDaGFubmVsQ29uZmlnKGUpe3JldHVybiB1KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7Y29uc3QgdD1KU09OLnN0cmluZ2lmeShlKTtEYShgW1N0b3JhZ2VNYW5hZ2VyV2ViOiBwZXJzaXN0Q2hhbm5lbENvbmZpZygpXSBlbmFibGVkPSR7dGhpcy5lbmFibGVkfWAsZSksbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2MsdCl9KSl9Z2V0UGVyc2lzdGVkQ2hhbm5lbENvbmZpZygpe3JldHVybiB1KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7bGV0IGU7dHJ5e2lmKERhKGBbU3RvcmFnZU1hbmFnZXJXZWI6IGdldFBlcnNpc3RlZENoYW5uZWxDb25maWcoKV0gZW5hYmxlZD0ke3RoaXMuZW5hYmxlZH1gKSxlPWxvY2FsU3RvcmFnZS5nZXRJdGVtKGtjKSxEYShcIltTdG9yYWdlTWFuYWdlcldlYjogZ2V0UGVyc2lzdGVkQ2hhbm5lbENvbmZpZygpXVwiLGUpLCFlKXJldHVybjtjb25zdCB0PUpTT04ucGFyc2UoZSk7cmV0dXJuIERhKFwiW1N0b3JhZ2VNYW5hZ2VyV2ViOiBnZXRQZXJzaXN0ZWRDaGFubmVsQ29uZmlnKCldIGNoYW5uZWxDb25maWdcIix0KSx0fWNhdGNoKGUpe3JldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoXCJbU3RvcmFnZU1hbmFnZXJXZWI6IGdldFBlcnNpc3RlZENoYW5uZWxDb25maWcoKV0gQ2FuJ3QgZmluZCBleGlzdGluZyBjaGFubmVsIGNvbmZpZ1wiLGUpfX0pKX1wZXJzaXN0QWNjb3VudHMoZSl7cmV0dXJuIHUodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtEYShgW1N0b3JhZ2VNYW5hZ2VyV2ViOiBwZXJzaXN0QWNjb3VudHMoKV0gZW5hYmxlZD0ke3RoaXMuZW5hYmxlZH1gLGUpO2NvbnN0IHQ9SlNPTi5zdHJpbmdpZnkoZSk7bG9jYWxTdG9yYWdlLnNldEl0ZW0oQWMsdCl9KSl9Z2V0Q2FjaGVkQWNjb3VudHMoKXtyZXR1cm4gdSh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3RyeXtjb25zdCBlPWxvY2FsU3RvcmFnZS5nZXRJdGVtKEFjKTtyZXR1cm4gZT9KU09OLnBhcnNlKGUpOltdfWNhdGNoKGUpe3Rocm93IGNvbnNvbGUuZXJyb3IoXCJbU3RvcmFnZU1hbmFnZXJXZWI6IGdldENhY2hlZEFjY291bnRzKCldIEVycm9yIHJlYWRpbmcgY2FjaGVkIGFjY291bnRzXCIsZSksZX19KSl9cGVyc2lzdENoYWluSWQoZSl7cmV0dXJuIHUodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtEYShgW1N0b3JhZ2VNYW5hZ2VyV2ViOiBwZXJzaXN0Q2hhaW5JZCgpXSBlbmFibGVkPSR7dGhpcy5lbmFibGVkfWAsZSksbG9jYWxTdG9yYWdlLnNldEl0ZW0oVGMsZSl9KSl9Z2V0Q2FjaGVkQ2hhaW5JZCgpe3JldHVybiB1KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7dHJ5e2NvbnN0IGU9bG9jYWxTdG9yYWdlLmdldEl0ZW0oVGMpO3JldHVybiBudWxsIT1lP2U6dm9pZCAwfWNhdGNoKGUpe3Rocm93IGNvbnNvbGUuZXJyb3IoXCJbU3RvcmFnZU1hbmFnZXJXZWI6IGdldENhY2hlZENoYWluSWQoKV0gRXJyb3IgcmVhZGluZyBjYWNoZWQgY2hhaW5JZFwiLGUpLGV9fSkpfXRlcm1pbmF0ZSgpe3JldHVybiB1KHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7RGEoYFtTdG9yYWdlTWFuYWdlcldlYjogdGVybWluYXRlKCldIGVuYWJsZWQ9JHt0aGlzLmVuYWJsZWR9YCksbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2MpfSkpfX19KTtleHBvcnRzLkRFRkFVTFRfU0VSVkVSX1VSTD1ycixleHBvcnRzLk1ldGFNYXNrU0RLPVVkLGV4cG9ydHMuTWV0YU1hc2tTREtFdmVudD1sYyxleHBvcnRzLlNES1Byb3ZpZGVyPXBjLGV4cG9ydHMuZGVmYXVsdD1VZDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1ldGFtYXNrLXNkay5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@metamask/sdk/dist/node/cjs/metamask-sdk.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@metamask/rpc-errors/dist/classes.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@metamask/rpc-errors/dist/classes.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EthereumProviderError: () => (/* binding */ EthereumProviderError),\n/* harmony export */   JsonRpcError: () => (/* binding */ JsonRpcError)\n/* harmony export */ });\n/* harmony import */ var _metamask_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @metamask/utils */ \"(ssr)/./node_modules/@metamask/utils/dist/misc.mjs\");\n/* harmony import */ var fast_safe_stringify__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fast-safe-stringify */ \"(ssr)/./node_modules/fast-safe-stringify/index.js\");\n/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.mjs */ \"(ssr)/./node_modules/@metamask/rpc-errors/dist/utils.mjs\");\nfunction $importDefault(module) {\n    if (module?.__esModule) {\n        return module.default;\n    }\n    return module;\n}\n\n\nconst safeStringify = $importDefault(fast_safe_stringify__WEBPACK_IMPORTED_MODULE_0__);\n\n/**\n * Error subclass implementing JSON RPC 2.0 errors and Ethereum RPC errors\n * per EIP-1474.\n *\n * Permits any integer error code.\n */\nclass JsonRpcError extends Error {\n    constructor(code, message, data) {\n        if (!Number.isInteger(code)) {\n            throw new Error('\"code\" must be an integer.');\n        }\n        if (!message || typeof message !== 'string') {\n            throw new Error('\"message\" must be a non-empty string.');\n        }\n        if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.dataHasCause)(data)) {\n            // @ts-expect-error - Error class does accept options argument depending on runtime, but types are mapping to oldest supported\n            super(message, { cause: data.cause });\n            // Browser backwards-compatibility fallback\n            if (!(0,_metamask_utils__WEBPACK_IMPORTED_MODULE_2__.hasProperty)(this, 'cause')) {\n                Object.assign(this, { cause: data.cause });\n            }\n        }\n        else {\n            super(message);\n        }\n        if (data !== undefined) {\n            this.data = data;\n        }\n        this.code = code;\n    }\n    /**\n     * Get the error as JSON-serializable object.\n     *\n     * @returns A plain object with all public class properties.\n     */\n    serialize() {\n        const serialized = {\n            code: this.code,\n            message: this.message,\n        };\n        if (this.data !== undefined) {\n            // `this.data` is not guaranteed to be a plain object, but this simplifies\n            // the type guard below. We can safely cast it because we know it's a\n            // JSON-serializable value.\n            serialized.data = this.data;\n            if ((0,_metamask_utils__WEBPACK_IMPORTED_MODULE_2__.isPlainObject)(this.data)) {\n                serialized.data.cause = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.serializeCause)(this.data.cause);\n            }\n        }\n        if (this.stack) {\n            serialized.stack = this.stack;\n        }\n        return serialized;\n    }\n    /**\n     * Get a string representation of the serialized error, omitting any circular\n     * references.\n     *\n     * @returns A string representation of the serialized error.\n     */\n    toString() {\n        return safeStringify(this.serialize(), stringifyReplacer, 2);\n    }\n}\n/**\n * Error subclass implementing Ethereum Provider errors per EIP-1193.\n * Permits integer error codes in the [ 1000 <= 4999 ] range.\n */\nclass EthereumProviderError extends JsonRpcError {\n    /**\n     * Create an Ethereum Provider JSON-RPC error.\n     *\n     * @param code - The JSON-RPC error code. Must be an integer in the\n     * `1000 <= n <= 4999` range.\n     * @param message - The JSON-RPC error message.\n     * @param data - Optional data to include in the error.\n     */\n    constructor(code, message, data) {\n        if (!isValidEthProviderCode(code)) {\n            throw new Error('\"code\" must be an integer such that: 1000 <= code <= 4999');\n        }\n        super(code, message, data);\n    }\n}\n/**\n * Check if the given code is a valid JSON-RPC error code.\n *\n * @param code - The code to check.\n * @returns Whether the code is valid.\n */\nfunction isValidEthProviderCode(code) {\n    return Number.isInteger(code) && code >= 1000 && code <= 4999;\n}\n/**\n * A JSON replacer function that omits circular references.\n *\n * @param _ - The key being replaced.\n * @param value - The value being replaced.\n * @returns The value to use in place of the original value.\n */\nfunction stringifyReplacer(_, value) {\n    if (value === '[Circular]') {\n        return undefined;\n    }\n    return value;\n}\n//# sourceMappingURL=classes.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1ldGFtYXNrL3JwYy1lcnJvcnMvZGlzdC9jbGFzc2VzLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUM2RDtBQUNaO0FBQ2pELHFDQUFxQyxnREFBYztBQUNRO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHdEQUFZO0FBQ3hCO0FBQ0EsNkJBQTZCLG1CQUFtQjtBQUNoRDtBQUNBLGlCQUFpQiw0REFBVztBQUM1QixzQ0FBc0MsbUJBQW1CO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDhEQUFhO0FBQzdCLHdDQUF3QywwREFBYztBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9xdWVzdC1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9AbWV0YW1hc2svcnBjLWVycm9ycy9kaXN0L2NsYXNzZXMubWpzP2QzYmMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gJGltcG9ydERlZmF1bHQobW9kdWxlKSB7XG4gICAgaWYgKG1vZHVsZT8uX19lc01vZHVsZSkge1xuICAgICAgICByZXR1cm4gbW9kdWxlLmRlZmF1bHQ7XG4gICAgfVxuICAgIHJldHVybiBtb2R1bGU7XG59XG5pbXBvcnQgeyBoYXNQcm9wZXJ0eSwgaXNQbGFpbk9iamVjdCB9IGZyb20gXCJAbWV0YW1hc2svdXRpbHNcIjtcbmltcG9ydCAkc2FmZVN0cmluZ2lmeSBmcm9tIFwiZmFzdC1zYWZlLXN0cmluZ2lmeVwiO1xuY29uc3Qgc2FmZVN0cmluZ2lmeSA9ICRpbXBvcnREZWZhdWx0KCRzYWZlU3RyaW5naWZ5KTtcbmltcG9ydCB7IGRhdGFIYXNDYXVzZSwgc2VyaWFsaXplQ2F1c2UgfSBmcm9tIFwiLi91dGlscy5tanNcIjtcbi8qKlxuICogRXJyb3Igc3ViY2xhc3MgaW1wbGVtZW50aW5nIEpTT04gUlBDIDIuMCBlcnJvcnMgYW5kIEV0aGVyZXVtIFJQQyBlcnJvcnNcbiAqIHBlciBFSVAtMTQ3NC5cbiAqXG4gKiBQZXJtaXRzIGFueSBpbnRlZ2VyIGVycm9yIGNvZGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBKc29uUnBjRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IoY29kZSwgbWVzc2FnZSwgZGF0YSkge1xuICAgICAgICBpZiAoIU51bWJlci5pc0ludGVnZXIoY29kZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignXCJjb2RlXCIgbXVzdCBiZSBhbiBpbnRlZ2VyLicpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbWVzc2FnZSB8fCB0eXBlb2YgbWVzc2FnZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignXCJtZXNzYWdlXCIgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmcuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGFIYXNDYXVzZShkYXRhKSkge1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIEVycm9yIGNsYXNzIGRvZXMgYWNjZXB0IG9wdGlvbnMgYXJndW1lbnQgZGVwZW5kaW5nIG9uIHJ1bnRpbWUsIGJ1dCB0eXBlcyBhcmUgbWFwcGluZyB0byBvbGRlc3Qgc3VwcG9ydGVkXG4gICAgICAgICAgICBzdXBlcihtZXNzYWdlLCB7IGNhdXNlOiBkYXRhLmNhdXNlIH0pO1xuICAgICAgICAgICAgLy8gQnJvd3NlciBiYWNrd2FyZHMtY29tcGF0aWJpbGl0eSBmYWxsYmFja1xuICAgICAgICAgICAgaWYgKCFoYXNQcm9wZXJ0eSh0aGlzLCAnY2F1c2UnKSkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgeyBjYXVzZTogZGF0YS5jYXVzZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb2RlID0gY29kZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBlcnJvciBhcyBKU09OLXNlcmlhbGl6YWJsZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIHBsYWluIG9iamVjdCB3aXRoIGFsbCBwdWJsaWMgY2xhc3MgcHJvcGVydGllcy5cbiAgICAgKi9cbiAgICBzZXJpYWxpemUoKSB7XG4gICAgICAgIGNvbnN0IHNlcmlhbGl6ZWQgPSB7XG4gICAgICAgICAgICBjb2RlOiB0aGlzLmNvZGUsXG4gICAgICAgICAgICBtZXNzYWdlOiB0aGlzLm1lc3NhZ2UsXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLmRhdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gYHRoaXMuZGF0YWAgaXMgbm90IGd1YXJhbnRlZWQgdG8gYmUgYSBwbGFpbiBvYmplY3QsIGJ1dCB0aGlzIHNpbXBsaWZpZXNcbiAgICAgICAgICAgIC8vIHRoZSB0eXBlIGd1YXJkIGJlbG93LiBXZSBjYW4gc2FmZWx5IGNhc3QgaXQgYmVjYXVzZSB3ZSBrbm93IGl0J3MgYVxuICAgICAgICAgICAgLy8gSlNPTi1zZXJpYWxpemFibGUgdmFsdWUuXG4gICAgICAgICAgICBzZXJpYWxpemVkLmRhdGEgPSB0aGlzLmRhdGE7XG4gICAgICAgICAgICBpZiAoaXNQbGFpbk9iamVjdCh0aGlzLmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgc2VyaWFsaXplZC5kYXRhLmNhdXNlID0gc2VyaWFsaXplQ2F1c2UodGhpcy5kYXRhLmNhdXNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zdGFjaykge1xuICAgICAgICAgICAgc2VyaWFsaXplZC5zdGFjayA9IHRoaXMuc3RhY2s7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgc2VyaWFsaXplZCBlcnJvciwgb21pdHRpbmcgYW55IGNpcmN1bGFyXG4gICAgICogcmVmZXJlbmNlcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBzZXJpYWxpemVkIGVycm9yLlxuICAgICAqL1xuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gc2FmZVN0cmluZ2lmeSh0aGlzLnNlcmlhbGl6ZSgpLCBzdHJpbmdpZnlSZXBsYWNlciwgMik7XG4gICAgfVxufVxuLyoqXG4gKiBFcnJvciBzdWJjbGFzcyBpbXBsZW1lbnRpbmcgRXRoZXJldW0gUHJvdmlkZXIgZXJyb3JzIHBlciBFSVAtMTE5My5cbiAqIFBlcm1pdHMgaW50ZWdlciBlcnJvciBjb2RlcyBpbiB0aGUgWyAxMDAwIDw9IDQ5OTkgXSByYW5nZS5cbiAqL1xuZXhwb3J0IGNsYXNzIEV0aGVyZXVtUHJvdmlkZXJFcnJvciBleHRlbmRzIEpzb25ScGNFcnJvciB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIEV0aGVyZXVtIFByb3ZpZGVyIEpTT04tUlBDIGVycm9yLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvZGUgLSBUaGUgSlNPTi1SUEMgZXJyb3IgY29kZS4gTXVzdCBiZSBhbiBpbnRlZ2VyIGluIHRoZVxuICAgICAqIGAxMDAwIDw9IG4gPD0gNDk5OWAgcmFuZ2UuXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgLSBUaGUgSlNPTi1SUEMgZXJyb3IgbWVzc2FnZS5cbiAgICAgKiBAcGFyYW0gZGF0YSAtIE9wdGlvbmFsIGRhdGEgdG8gaW5jbHVkZSBpbiB0aGUgZXJyb3IuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY29kZSwgbWVzc2FnZSwgZGF0YSkge1xuICAgICAgICBpZiAoIWlzVmFsaWRFdGhQcm92aWRlckNvZGUoY29kZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignXCJjb2RlXCIgbXVzdCBiZSBhbiBpbnRlZ2VyIHN1Y2ggdGhhdDogMTAwMCA8PSBjb2RlIDw9IDQ5OTknKTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlcihjb2RlLCBtZXNzYWdlLCBkYXRhKTtcbiAgICB9XG59XG4vKipcbiAqIENoZWNrIGlmIHRoZSBnaXZlbiBjb2RlIGlzIGEgdmFsaWQgSlNPTi1SUEMgZXJyb3IgY29kZS5cbiAqXG4gKiBAcGFyYW0gY29kZSAtIFRoZSBjb2RlIHRvIGNoZWNrLlxuICogQHJldHVybnMgV2hldGhlciB0aGUgY29kZSBpcyB2YWxpZC5cbiAqL1xuZnVuY3Rpb24gaXNWYWxpZEV0aFByb3ZpZGVyQ29kZShjb2RlKSB7XG4gICAgcmV0dXJuIE51bWJlci5pc0ludGVnZXIoY29kZSkgJiYgY29kZSA+PSAxMDAwICYmIGNvZGUgPD0gNDk5OTtcbn1cbi8qKlxuICogQSBKU09OIHJlcGxhY2VyIGZ1bmN0aW9uIHRoYXQgb21pdHMgY2lyY3VsYXIgcmVmZXJlbmNlcy5cbiAqXG4gKiBAcGFyYW0gXyAtIFRoZSBrZXkgYmVpbmcgcmVwbGFjZWQuXG4gKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgYmVpbmcgcmVwbGFjZWQuXG4gKiBAcmV0dXJucyBUaGUgdmFsdWUgdG8gdXNlIGluIHBsYWNlIG9mIHRoZSBvcmlnaW5hbCB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gc3RyaW5naWZ5UmVwbGFjZXIoXywgdmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09ICdbQ2lyY3VsYXJdJykge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jbGFzc2VzLm1qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@metamask/rpc-errors/dist/classes.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@metamask/rpc-errors/dist/error-constants.mjs":
/*!********************************************************************!*\
  !*** ./node_modules/@metamask/rpc-errors/dist/error-constants.mjs ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   errorCodes: () => (/* binding */ errorCodes),\n/* harmony export */   errorValues: () => (/* binding */ errorValues)\n/* harmony export */ });\nconst errorCodes = {\n    rpc: {\n        invalidInput: -32000,\n        resourceNotFound: -32001,\n        resourceUnavailable: -32002,\n        transactionRejected: -32003,\n        methodNotSupported: -32004,\n        limitExceeded: -32005,\n        parse: -32700,\n        invalidRequest: -32600,\n        methodNotFound: -32601,\n        invalidParams: -32602,\n        internal: -32603,\n    },\n    provider: {\n        userRejectedRequest: 4001,\n        unauthorized: 4100,\n        unsupportedMethod: 4200,\n        disconnected: 4900,\n        chainDisconnected: 4901,\n    },\n};\n/* eslint-disable @typescript-eslint/naming-convention */\nconst errorValues = {\n    '-32700': {\n        standard: 'JSON RPC 2.0',\n        message: 'Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text.',\n    },\n    '-32600': {\n        standard: 'JSON RPC 2.0',\n        message: 'The JSON sent is not a valid Request object.',\n    },\n    '-32601': {\n        standard: 'JSON RPC 2.0',\n        message: 'The method does not exist / is not available.',\n    },\n    '-32602': {\n        standard: 'JSON RPC 2.0',\n        message: 'Invalid method parameter(s).',\n    },\n    '-32603': {\n        standard: 'JSON RPC 2.0',\n        message: 'Internal JSON-RPC error.',\n    },\n    '-32000': {\n        standard: 'EIP-1474',\n        message: 'Invalid input.',\n    },\n    '-32001': {\n        standard: 'EIP-1474',\n        message: 'Resource not found.',\n    },\n    '-32002': {\n        standard: 'EIP-1474',\n        message: 'Resource unavailable.',\n    },\n    '-32003': {\n        standard: 'EIP-1474',\n        message: 'Transaction rejected.',\n    },\n    '-32004': {\n        standard: 'EIP-1474',\n        message: 'Method not supported.',\n    },\n    '-32005': {\n        standard: 'EIP-1474',\n        message: 'Request limit exceeded.',\n    },\n    '4001': {\n        standard: 'EIP-1193',\n        message: 'User rejected the request.',\n    },\n    '4100': {\n        standard: 'EIP-1193',\n        message: 'The requested account and/or method has not been authorized by the user.',\n    },\n    '4200': {\n        standard: 'EIP-1193',\n        message: 'The requested method is not supported by this Ethereum provider.',\n    },\n    '4900': {\n        standard: 'EIP-1193',\n        message: 'The provider is disconnected from all chains.',\n    },\n    '4901': {\n        standard: 'EIP-1193',\n        message: 'The provider is disconnected from the specified chain.',\n    },\n};\n/* eslint-enable @typescript-eslint/naming-convention */\n//# sourceMappingURL=error-constants.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1ldGFtYXNrL3JwYy1lcnJvcnMvZGlzdC9lcnJvci1jb25zdGFudHMubWpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9xdWVzdC1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9AbWV0YW1hc2svcnBjLWVycm9ycy9kaXN0L2Vycm9yLWNvbnN0YW50cy5tanM/ZWQ3YyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgZXJyb3JDb2RlcyA9IHtcbiAgICBycGM6IHtcbiAgICAgICAgaW52YWxpZElucHV0OiAtMzIwMDAsXG4gICAgICAgIHJlc291cmNlTm90Rm91bmQ6IC0zMjAwMSxcbiAgICAgICAgcmVzb3VyY2VVbmF2YWlsYWJsZTogLTMyMDAyLFxuICAgICAgICB0cmFuc2FjdGlvblJlamVjdGVkOiAtMzIwMDMsXG4gICAgICAgIG1ldGhvZE5vdFN1cHBvcnRlZDogLTMyMDA0LFxuICAgICAgICBsaW1pdEV4Y2VlZGVkOiAtMzIwMDUsXG4gICAgICAgIHBhcnNlOiAtMzI3MDAsXG4gICAgICAgIGludmFsaWRSZXF1ZXN0OiAtMzI2MDAsXG4gICAgICAgIG1ldGhvZE5vdEZvdW5kOiAtMzI2MDEsXG4gICAgICAgIGludmFsaWRQYXJhbXM6IC0zMjYwMixcbiAgICAgICAgaW50ZXJuYWw6IC0zMjYwMyxcbiAgICB9LFxuICAgIHByb3ZpZGVyOiB7XG4gICAgICAgIHVzZXJSZWplY3RlZFJlcXVlc3Q6IDQwMDEsXG4gICAgICAgIHVuYXV0aG9yaXplZDogNDEwMCxcbiAgICAgICAgdW5zdXBwb3J0ZWRNZXRob2Q6IDQyMDAsXG4gICAgICAgIGRpc2Nvbm5lY3RlZDogNDkwMCxcbiAgICAgICAgY2hhaW5EaXNjb25uZWN0ZWQ6IDQ5MDEsXG4gICAgfSxcbn07XG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbmFtaW5nLWNvbnZlbnRpb24gKi9cbmV4cG9ydCBjb25zdCBlcnJvclZhbHVlcyA9IHtcbiAgICAnLTMyNzAwJzoge1xuICAgICAgICBzdGFuZGFyZDogJ0pTT04gUlBDIDIuMCcsXG4gICAgICAgIG1lc3NhZ2U6ICdJbnZhbGlkIEpTT04gd2FzIHJlY2VpdmVkIGJ5IHRoZSBzZXJ2ZXIuIEFuIGVycm9yIG9jY3VycmVkIG9uIHRoZSBzZXJ2ZXIgd2hpbGUgcGFyc2luZyB0aGUgSlNPTiB0ZXh0LicsXG4gICAgfSxcbiAgICAnLTMyNjAwJzoge1xuICAgICAgICBzdGFuZGFyZDogJ0pTT04gUlBDIDIuMCcsXG4gICAgICAgIG1lc3NhZ2U6ICdUaGUgSlNPTiBzZW50IGlzIG5vdCBhIHZhbGlkIFJlcXVlc3Qgb2JqZWN0LicsXG4gICAgfSxcbiAgICAnLTMyNjAxJzoge1xuICAgICAgICBzdGFuZGFyZDogJ0pTT04gUlBDIDIuMCcsXG4gICAgICAgIG1lc3NhZ2U6ICdUaGUgbWV0aG9kIGRvZXMgbm90IGV4aXN0IC8gaXMgbm90IGF2YWlsYWJsZS4nLFxuICAgIH0sXG4gICAgJy0zMjYwMic6IHtcbiAgICAgICAgc3RhbmRhcmQ6ICdKU09OIFJQQyAyLjAnLFxuICAgICAgICBtZXNzYWdlOiAnSW52YWxpZCBtZXRob2QgcGFyYW1ldGVyKHMpLicsXG4gICAgfSxcbiAgICAnLTMyNjAzJzoge1xuICAgICAgICBzdGFuZGFyZDogJ0pTT04gUlBDIDIuMCcsXG4gICAgICAgIG1lc3NhZ2U6ICdJbnRlcm5hbCBKU09OLVJQQyBlcnJvci4nLFxuICAgIH0sXG4gICAgJy0zMjAwMCc6IHtcbiAgICAgICAgc3RhbmRhcmQ6ICdFSVAtMTQ3NCcsXG4gICAgICAgIG1lc3NhZ2U6ICdJbnZhbGlkIGlucHV0LicsXG4gICAgfSxcbiAgICAnLTMyMDAxJzoge1xuICAgICAgICBzdGFuZGFyZDogJ0VJUC0xNDc0JyxcbiAgICAgICAgbWVzc2FnZTogJ1Jlc291cmNlIG5vdCBmb3VuZC4nLFxuICAgIH0sXG4gICAgJy0zMjAwMic6IHtcbiAgICAgICAgc3RhbmRhcmQ6ICdFSVAtMTQ3NCcsXG4gICAgICAgIG1lc3NhZ2U6ICdSZXNvdXJjZSB1bmF2YWlsYWJsZS4nLFxuICAgIH0sXG4gICAgJy0zMjAwMyc6IHtcbiAgICAgICAgc3RhbmRhcmQ6ICdFSVAtMTQ3NCcsXG4gICAgICAgIG1lc3NhZ2U6ICdUcmFuc2FjdGlvbiByZWplY3RlZC4nLFxuICAgIH0sXG4gICAgJy0zMjAwNCc6IHtcbiAgICAgICAgc3RhbmRhcmQ6ICdFSVAtMTQ3NCcsXG4gICAgICAgIG1lc3NhZ2U6ICdNZXRob2Qgbm90IHN1cHBvcnRlZC4nLFxuICAgIH0sXG4gICAgJy0zMjAwNSc6IHtcbiAgICAgICAgc3RhbmRhcmQ6ICdFSVAtMTQ3NCcsXG4gICAgICAgIG1lc3NhZ2U6ICdSZXF1ZXN0IGxpbWl0IGV4Y2VlZGVkLicsXG4gICAgfSxcbiAgICAnNDAwMSc6IHtcbiAgICAgICAgc3RhbmRhcmQ6ICdFSVAtMTE5MycsXG4gICAgICAgIG1lc3NhZ2U6ICdVc2VyIHJlamVjdGVkIHRoZSByZXF1ZXN0LicsXG4gICAgfSxcbiAgICAnNDEwMCc6IHtcbiAgICAgICAgc3RhbmRhcmQ6ICdFSVAtMTE5MycsXG4gICAgICAgIG1lc3NhZ2U6ICdUaGUgcmVxdWVzdGVkIGFjY291bnQgYW5kL29yIG1ldGhvZCBoYXMgbm90IGJlZW4gYXV0aG9yaXplZCBieSB0aGUgdXNlci4nLFxuICAgIH0sXG4gICAgJzQyMDAnOiB7XG4gICAgICAgIHN0YW5kYXJkOiAnRUlQLTExOTMnLFxuICAgICAgICBtZXNzYWdlOiAnVGhlIHJlcXVlc3RlZCBtZXRob2QgaXMgbm90IHN1cHBvcnRlZCBieSB0aGlzIEV0aGVyZXVtIHByb3ZpZGVyLicsXG4gICAgfSxcbiAgICAnNDkwMCc6IHtcbiAgICAgICAgc3RhbmRhcmQ6ICdFSVAtMTE5MycsXG4gICAgICAgIG1lc3NhZ2U6ICdUaGUgcHJvdmlkZXIgaXMgZGlzY29ubmVjdGVkIGZyb20gYWxsIGNoYWlucy4nLFxuICAgIH0sXG4gICAgJzQ5MDEnOiB7XG4gICAgICAgIHN0YW5kYXJkOiAnRUlQLTExOTMnLFxuICAgICAgICBtZXNzYWdlOiAnVGhlIHByb3ZpZGVyIGlzIGRpc2Nvbm5lY3RlZCBmcm9tIHRoZSBzcGVjaWZpZWQgY2hhaW4uJyxcbiAgICB9LFxufTtcbi8qIGVzbGludC1lbmFibGUgQHR5cGVzY3JpcHQtZXNsaW50L25hbWluZy1jb252ZW50aW9uICovXG4vLyMgc291cmNlTWFwcGluZ1VSTD1lcnJvci1jb25zdGFudHMubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@metamask/rpc-errors/dist/error-constants.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@metamask/rpc-errors/dist/errors.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@metamask/rpc-errors/dist/errors.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   providerErrors: () => (/* binding */ providerErrors),\n/* harmony export */   rpcErrors: () => (/* binding */ rpcErrors)\n/* harmony export */ });\n/* harmony import */ var _classes_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./classes.mjs */ \"(ssr)/./node_modules/@metamask/rpc-errors/dist/classes.mjs\");\n/* harmony import */ var _error_constants_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./error-constants.mjs */ \"(ssr)/./node_modules/@metamask/rpc-errors/dist/error-constants.mjs\");\n/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.mjs */ \"(ssr)/./node_modules/@metamask/rpc-errors/dist/utils.mjs\");\n\n\n\nconst rpcErrors = {\n    /**\n     * Get a JSON RPC 2.0 Parse (-32700) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link JsonRpcError} class.\n     */\n    parse: (arg) => getJsonRpcError(_error_constants_mjs__WEBPACK_IMPORTED_MODULE_0__.errorCodes.rpc.parse, arg),\n    /**\n     * Get a JSON RPC 2.0 Invalid Request (-32600) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link JsonRpcError} class.\n     */\n    invalidRequest: (arg) => getJsonRpcError(_error_constants_mjs__WEBPACK_IMPORTED_MODULE_0__.errorCodes.rpc.invalidRequest, arg),\n    /**\n     * Get a JSON RPC 2.0 Invalid Params (-32602) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link JsonRpcError} class.\n     */\n    invalidParams: (arg) => getJsonRpcError(_error_constants_mjs__WEBPACK_IMPORTED_MODULE_0__.errorCodes.rpc.invalidParams, arg),\n    /**\n     * Get a JSON RPC 2.0 Method Not Found (-32601) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link JsonRpcError} class.\n     */\n    methodNotFound: (arg) => getJsonRpcError(_error_constants_mjs__WEBPACK_IMPORTED_MODULE_0__.errorCodes.rpc.methodNotFound, arg),\n    /**\n     * Get a JSON RPC 2.0 Internal (-32603) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link JsonRpcError} class.\n     */\n    internal: (arg) => getJsonRpcError(_error_constants_mjs__WEBPACK_IMPORTED_MODULE_0__.errorCodes.rpc.internal, arg),\n    /**\n     * Get a JSON RPC 2.0 Server error.\n     * Permits integer error codes in the [ -32099 <= -32005 ] range.\n     * Codes -32000 through -32004 are reserved by EIP-1474.\n     *\n     * @param opts - The error options bag.\n     * @returns An instance of the {@link JsonRpcError} class.\n     */\n    server: (opts) => {\n        if (!opts || typeof opts !== 'object' || Array.isArray(opts)) {\n            throw new Error('Ethereum RPC Server errors must provide single object argument.');\n        }\n        const { code } = opts;\n        if (!Number.isInteger(code) || code > -32005 || code < -32099) {\n            throw new Error('\"code\" must be an integer such that: -32099 <= code <= -32005');\n        }\n        return getJsonRpcError(code, opts);\n    },\n    /**\n     * Get an Ethereum JSON RPC Invalid Input (-32000) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link JsonRpcError} class.\n     */\n    invalidInput: (arg) => getJsonRpcError(_error_constants_mjs__WEBPACK_IMPORTED_MODULE_0__.errorCodes.rpc.invalidInput, arg),\n    /**\n     * Get an Ethereum JSON RPC Resource Not Found (-32001) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link JsonRpcError} class.\n     */\n    resourceNotFound: (arg) => getJsonRpcError(_error_constants_mjs__WEBPACK_IMPORTED_MODULE_0__.errorCodes.rpc.resourceNotFound, arg),\n    /**\n     * Get an Ethereum JSON RPC Resource Unavailable (-32002) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link JsonRpcError} class.\n     */\n    resourceUnavailable: (arg) => getJsonRpcError(_error_constants_mjs__WEBPACK_IMPORTED_MODULE_0__.errorCodes.rpc.resourceUnavailable, arg),\n    /**\n     * Get an Ethereum JSON RPC Transaction Rejected (-32003) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link JsonRpcError} class.\n     */\n    transactionRejected: (arg) => getJsonRpcError(_error_constants_mjs__WEBPACK_IMPORTED_MODULE_0__.errorCodes.rpc.transactionRejected, arg),\n    /**\n     * Get an Ethereum JSON RPC Method Not Supported (-32004) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link JsonRpcError} class.\n     */\n    methodNotSupported: (arg) => getJsonRpcError(_error_constants_mjs__WEBPACK_IMPORTED_MODULE_0__.errorCodes.rpc.methodNotSupported, arg),\n    /**\n     * Get an Ethereum JSON RPC Limit Exceeded (-32005) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link JsonRpcError} class.\n     */\n    limitExceeded: (arg) => getJsonRpcError(_error_constants_mjs__WEBPACK_IMPORTED_MODULE_0__.errorCodes.rpc.limitExceeded, arg),\n};\nconst providerErrors = {\n    /**\n     * Get an Ethereum Provider User Rejected Request (4001) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link EthereumProviderError} class.\n     */\n    userRejectedRequest: (arg) => {\n        return getEthProviderError(_error_constants_mjs__WEBPACK_IMPORTED_MODULE_0__.errorCodes.provider.userRejectedRequest, arg);\n    },\n    /**\n     * Get an Ethereum Provider Unauthorized (4100) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link EthereumProviderError} class.\n     */\n    unauthorized: (arg) => {\n        return getEthProviderError(_error_constants_mjs__WEBPACK_IMPORTED_MODULE_0__.errorCodes.provider.unauthorized, arg);\n    },\n    /**\n     * Get an Ethereum Provider Unsupported Method (4200) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link EthereumProviderError} class.\n     */\n    unsupportedMethod: (arg) => {\n        return getEthProviderError(_error_constants_mjs__WEBPACK_IMPORTED_MODULE_0__.errorCodes.provider.unsupportedMethod, arg);\n    },\n    /**\n     * Get an Ethereum Provider Not Connected (4900) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link EthereumProviderError} class.\n     */\n    disconnected: (arg) => {\n        return getEthProviderError(_error_constants_mjs__WEBPACK_IMPORTED_MODULE_0__.errorCodes.provider.disconnected, arg);\n    },\n    /**\n     * Get an Ethereum Provider Chain Not Connected (4901) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link EthereumProviderError} class.\n     */\n    chainDisconnected: (arg) => {\n        return getEthProviderError(_error_constants_mjs__WEBPACK_IMPORTED_MODULE_0__.errorCodes.provider.chainDisconnected, arg);\n    },\n    /**\n     * Get a custom Ethereum Provider error.\n     *\n     * @param opts - The error options bag.\n     * @returns An instance of the {@link EthereumProviderError} class.\n     */\n    custom: (opts) => {\n        if (!opts || typeof opts !== 'object' || Array.isArray(opts)) {\n            throw new Error('Ethereum Provider custom errors must provide single object argument.');\n        }\n        const { code, message, data } = opts;\n        if (!message || typeof message !== 'string') {\n            throw new Error('\"message\" must be a nonempty string');\n        }\n        return new _classes_mjs__WEBPACK_IMPORTED_MODULE_1__.EthereumProviderError(code, message, data);\n    },\n};\n/**\n * Get a generic JSON-RPC error class instance.\n *\n * @param code - The error code.\n * @param arg - The error message or options bag.\n * @returns An instance of the {@link JsonRpcError} class.\n */\nfunction getJsonRpcError(code, arg) {\n    const [message, data] = parseOpts(arg);\n    return new _classes_mjs__WEBPACK_IMPORTED_MODULE_1__.JsonRpcError(code, message ?? (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.getMessageFromCode)(code), data);\n}\n/**\n * Get an Ethereum Provider error class instance.\n *\n * @param code - The error code.\n * @param arg - The error message or options bag.\n * @returns An instance of the {@link EthereumProviderError} class.\n */\nfunction getEthProviderError(code, arg) {\n    const [message, data] = parseOpts(arg);\n    return new _classes_mjs__WEBPACK_IMPORTED_MODULE_1__.EthereumProviderError(code, message ?? (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.getMessageFromCode)(code), data);\n}\n/**\n * Get an error message and optional data from an options bag.\n *\n * @param arg - The error message or options bag.\n * @returns A tuple containing the error message and optional data.\n */\nfunction parseOpts(arg) {\n    if (arg) {\n        if (typeof arg === 'string') {\n            return [arg];\n        }\n        else if (typeof arg === 'object' && !Array.isArray(arg)) {\n            const { message, data } = arg;\n            if (message && typeof message !== 'string') {\n                throw new Error('Must specify string message.');\n            }\n            return [message ?? undefined, data];\n        }\n    }\n    return [];\n}\n//# sourceMappingURL=errors.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1ldGFtYXNrL3JwYy1lcnJvcnMvZGlzdC9lcnJvcnMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQW9FO0FBQ2pCO0FBQ0Y7QUFDMUM7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxvQkFBb0I7QUFDeEQ7QUFDQSxvQ0FBb0MsNERBQVU7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0Msb0JBQW9CO0FBQ3hEO0FBQ0EsNkNBQTZDLDREQUFVO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLG9CQUFvQjtBQUN4RDtBQUNBLDRDQUE0Qyw0REFBVTtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxvQkFBb0I7QUFDeEQ7QUFDQSw2Q0FBNkMsNERBQVU7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0Msb0JBQW9CO0FBQ3hEO0FBQ0EsdUNBQXVDLDREQUFVO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxvQkFBb0I7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixPQUFPO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLG9CQUFvQjtBQUN4RDtBQUNBLDJDQUEyQyw0REFBVTtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxvQkFBb0I7QUFDeEQ7QUFDQSwrQ0FBK0MsNERBQVU7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0Msb0JBQW9CO0FBQ3hEO0FBQ0Esa0RBQWtELDREQUFVO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLG9CQUFvQjtBQUN4RDtBQUNBLGtEQUFrRCw0REFBVTtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxvQkFBb0I7QUFDeEQ7QUFDQSxpREFBaUQsNERBQVU7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0Msb0JBQW9CO0FBQ3hEO0FBQ0EsNENBQTRDLDREQUFVO0FBQ3REO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyw2QkFBNkI7QUFDakU7QUFDQTtBQUNBLG1DQUFtQyw0REFBVTtBQUM3QyxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsNkJBQTZCO0FBQ2pFO0FBQ0E7QUFDQSxtQ0FBbUMsNERBQVU7QUFDN0MsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLDZCQUE2QjtBQUNqRTtBQUNBO0FBQ0EsbUNBQW1DLDREQUFVO0FBQzdDLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyw2QkFBNkI7QUFDakU7QUFDQTtBQUNBLG1DQUFtQyw0REFBVTtBQUM3QyxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsNkJBQTZCO0FBQ2pFO0FBQ0E7QUFDQSxtQ0FBbUMsNERBQVU7QUFDN0MsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLDZCQUE2QjtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHNCQUFzQjtBQUN0QztBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsK0RBQXFCO0FBQ3hDLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msb0JBQW9CO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBLGVBQWUsc0RBQVksa0JBQWtCLDhEQUFrQjtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsNkJBQTZCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBLGVBQWUsK0RBQXFCLGtCQUFrQiw4REFBa0I7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsZ0JBQWdCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2dlb3F1ZXN0LWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL0BtZXRhbWFzay9ycGMtZXJyb3JzL2Rpc3QvZXJyb3JzLm1qcz9mZjMwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEpzb25ScGNFcnJvciwgRXRoZXJldW1Qcm92aWRlckVycm9yIH0gZnJvbSBcIi4vY2xhc3Nlcy5tanNcIjtcbmltcG9ydCB7IGVycm9yQ29kZXMgfSBmcm9tIFwiLi9lcnJvci1jb25zdGFudHMubWpzXCI7XG5pbXBvcnQgeyBnZXRNZXNzYWdlRnJvbUNvZGUgfSBmcm9tIFwiLi91dGlscy5tanNcIjtcbmV4cG9ydCBjb25zdCBycGNFcnJvcnMgPSB7XG4gICAgLyoqXG4gICAgICogR2V0IGEgSlNPTiBSUEMgMi4wIFBhcnNlICgtMzI3MDApIGVycm9yLlxuICAgICAqXG4gICAgICogQHBhcmFtIGFyZyAtIFRoZSBlcnJvciBtZXNzYWdlIG9yIG9wdGlvbnMgYmFnLlxuICAgICAqIEByZXR1cm5zIEFuIGluc3RhbmNlIG9mIHRoZSB7QGxpbmsgSnNvblJwY0Vycm9yfSBjbGFzcy5cbiAgICAgKi9cbiAgICBwYXJzZTogKGFyZykgPT4gZ2V0SnNvblJwY0Vycm9yKGVycm9yQ29kZXMucnBjLnBhcnNlLCBhcmcpLFxuICAgIC8qKlxuICAgICAqIEdldCBhIEpTT04gUlBDIDIuMCBJbnZhbGlkIFJlcXVlc3QgKC0zMjYwMCkgZXJyb3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXJnIC0gVGhlIGVycm9yIG1lc3NhZ2Ugb3Igb3B0aW9ucyBiYWcuXG4gICAgICogQHJldHVybnMgQW4gaW5zdGFuY2Ugb2YgdGhlIHtAbGluayBKc29uUnBjRXJyb3J9IGNsYXNzLlxuICAgICAqL1xuICAgIGludmFsaWRSZXF1ZXN0OiAoYXJnKSA9PiBnZXRKc29uUnBjRXJyb3IoZXJyb3JDb2Rlcy5ycGMuaW52YWxpZFJlcXVlc3QsIGFyZyksXG4gICAgLyoqXG4gICAgICogR2V0IGEgSlNPTiBSUEMgMi4wIEludmFsaWQgUGFyYW1zICgtMzI2MDIpIGVycm9yLlxuICAgICAqXG4gICAgICogQHBhcmFtIGFyZyAtIFRoZSBlcnJvciBtZXNzYWdlIG9yIG9wdGlvbnMgYmFnLlxuICAgICAqIEByZXR1cm5zIEFuIGluc3RhbmNlIG9mIHRoZSB7QGxpbmsgSnNvblJwY0Vycm9yfSBjbGFzcy5cbiAgICAgKi9cbiAgICBpbnZhbGlkUGFyYW1zOiAoYXJnKSA9PiBnZXRKc29uUnBjRXJyb3IoZXJyb3JDb2Rlcy5ycGMuaW52YWxpZFBhcmFtcywgYXJnKSxcbiAgICAvKipcbiAgICAgKiBHZXQgYSBKU09OIFJQQyAyLjAgTWV0aG9kIE5vdCBGb3VuZCAoLTMyNjAxKSBlcnJvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhcmcgLSBUaGUgZXJyb3IgbWVzc2FnZSBvciBvcHRpb25zIGJhZy5cbiAgICAgKiBAcmV0dXJucyBBbiBpbnN0YW5jZSBvZiB0aGUge0BsaW5rIEpzb25ScGNFcnJvcn0gY2xhc3MuXG4gICAgICovXG4gICAgbWV0aG9kTm90Rm91bmQ6IChhcmcpID0+IGdldEpzb25ScGNFcnJvcihlcnJvckNvZGVzLnJwYy5tZXRob2ROb3RGb3VuZCwgYXJnKSxcbiAgICAvKipcbiAgICAgKiBHZXQgYSBKU09OIFJQQyAyLjAgSW50ZXJuYWwgKC0zMjYwMykgZXJyb3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXJnIC0gVGhlIGVycm9yIG1lc3NhZ2Ugb3Igb3B0aW9ucyBiYWcuXG4gICAgICogQHJldHVybnMgQW4gaW5zdGFuY2Ugb2YgdGhlIHtAbGluayBKc29uUnBjRXJyb3J9IGNsYXNzLlxuICAgICAqL1xuICAgIGludGVybmFsOiAoYXJnKSA9PiBnZXRKc29uUnBjRXJyb3IoZXJyb3JDb2Rlcy5ycGMuaW50ZXJuYWwsIGFyZyksXG4gICAgLyoqXG4gICAgICogR2V0IGEgSlNPTiBSUEMgMi4wIFNlcnZlciBlcnJvci5cbiAgICAgKiBQZXJtaXRzIGludGVnZXIgZXJyb3IgY29kZXMgaW4gdGhlIFsgLTMyMDk5IDw9IC0zMjAwNSBdIHJhbmdlLlxuICAgICAqIENvZGVzIC0zMjAwMCB0aHJvdWdoIC0zMjAwNCBhcmUgcmVzZXJ2ZWQgYnkgRUlQLTE0NzQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0cyAtIFRoZSBlcnJvciBvcHRpb25zIGJhZy5cbiAgICAgKiBAcmV0dXJucyBBbiBpbnN0YW5jZSBvZiB0aGUge0BsaW5rIEpzb25ScGNFcnJvcn0gY2xhc3MuXG4gICAgICovXG4gICAgc2VydmVyOiAob3B0cykgPT4ge1xuICAgICAgICBpZiAoIW9wdHMgfHwgdHlwZW9mIG9wdHMgIT09ICdvYmplY3QnIHx8IEFycmF5LmlzQXJyYXkob3B0cykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXRoZXJldW0gUlBDIFNlcnZlciBlcnJvcnMgbXVzdCBwcm92aWRlIHNpbmdsZSBvYmplY3QgYXJndW1lbnQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBjb2RlIH0gPSBvcHRzO1xuICAgICAgICBpZiAoIU51bWJlci5pc0ludGVnZXIoY29kZSkgfHwgY29kZSA+IC0zMjAwNSB8fCBjb2RlIDwgLTMyMDk5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1wiY29kZVwiIG11c3QgYmUgYW4gaW50ZWdlciBzdWNoIHRoYXQ6IC0zMjA5OSA8PSBjb2RlIDw9IC0zMjAwNScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnZXRKc29uUnBjRXJyb3IoY29kZSwgb3B0cyk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBHZXQgYW4gRXRoZXJldW0gSlNPTiBSUEMgSW52YWxpZCBJbnB1dCAoLTMyMDAwKSBlcnJvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhcmcgLSBUaGUgZXJyb3IgbWVzc2FnZSBvciBvcHRpb25zIGJhZy5cbiAgICAgKiBAcmV0dXJucyBBbiBpbnN0YW5jZSBvZiB0aGUge0BsaW5rIEpzb25ScGNFcnJvcn0gY2xhc3MuXG4gICAgICovXG4gICAgaW52YWxpZElucHV0OiAoYXJnKSA9PiBnZXRKc29uUnBjRXJyb3IoZXJyb3JDb2Rlcy5ycGMuaW52YWxpZElucHV0LCBhcmcpLFxuICAgIC8qKlxuICAgICAqIEdldCBhbiBFdGhlcmV1bSBKU09OIFJQQyBSZXNvdXJjZSBOb3QgRm91bmQgKC0zMjAwMSkgZXJyb3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXJnIC0gVGhlIGVycm9yIG1lc3NhZ2Ugb3Igb3B0aW9ucyBiYWcuXG4gICAgICogQHJldHVybnMgQW4gaW5zdGFuY2Ugb2YgdGhlIHtAbGluayBKc29uUnBjRXJyb3J9IGNsYXNzLlxuICAgICAqL1xuICAgIHJlc291cmNlTm90Rm91bmQ6IChhcmcpID0+IGdldEpzb25ScGNFcnJvcihlcnJvckNvZGVzLnJwYy5yZXNvdXJjZU5vdEZvdW5kLCBhcmcpLFxuICAgIC8qKlxuICAgICAqIEdldCBhbiBFdGhlcmV1bSBKU09OIFJQQyBSZXNvdXJjZSBVbmF2YWlsYWJsZSAoLTMyMDAyKSBlcnJvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhcmcgLSBUaGUgZXJyb3IgbWVzc2FnZSBvciBvcHRpb25zIGJhZy5cbiAgICAgKiBAcmV0dXJucyBBbiBpbnN0YW5jZSBvZiB0aGUge0BsaW5rIEpzb25ScGNFcnJvcn0gY2xhc3MuXG4gICAgICovXG4gICAgcmVzb3VyY2VVbmF2YWlsYWJsZTogKGFyZykgPT4gZ2V0SnNvblJwY0Vycm9yKGVycm9yQ29kZXMucnBjLnJlc291cmNlVW5hdmFpbGFibGUsIGFyZyksXG4gICAgLyoqXG4gICAgICogR2V0IGFuIEV0aGVyZXVtIEpTT04gUlBDIFRyYW5zYWN0aW9uIFJlamVjdGVkICgtMzIwMDMpIGVycm9yLlxuICAgICAqXG4gICAgICogQHBhcmFtIGFyZyAtIFRoZSBlcnJvciBtZXNzYWdlIG9yIG9wdGlvbnMgYmFnLlxuICAgICAqIEByZXR1cm5zIEFuIGluc3RhbmNlIG9mIHRoZSB7QGxpbmsgSnNvblJwY0Vycm9yfSBjbGFzcy5cbiAgICAgKi9cbiAgICB0cmFuc2FjdGlvblJlamVjdGVkOiAoYXJnKSA9PiBnZXRKc29uUnBjRXJyb3IoZXJyb3JDb2Rlcy5ycGMudHJhbnNhY3Rpb25SZWplY3RlZCwgYXJnKSxcbiAgICAvKipcbiAgICAgKiBHZXQgYW4gRXRoZXJldW0gSlNPTiBSUEMgTWV0aG9kIE5vdCBTdXBwb3J0ZWQgKC0zMjAwNCkgZXJyb3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXJnIC0gVGhlIGVycm9yIG1lc3NhZ2Ugb3Igb3B0aW9ucyBiYWcuXG4gICAgICogQHJldHVybnMgQW4gaW5zdGFuY2Ugb2YgdGhlIHtAbGluayBKc29uUnBjRXJyb3J9IGNsYXNzLlxuICAgICAqL1xuICAgIG1ldGhvZE5vdFN1cHBvcnRlZDogKGFyZykgPT4gZ2V0SnNvblJwY0Vycm9yKGVycm9yQ29kZXMucnBjLm1ldGhvZE5vdFN1cHBvcnRlZCwgYXJnKSxcbiAgICAvKipcbiAgICAgKiBHZXQgYW4gRXRoZXJldW0gSlNPTiBSUEMgTGltaXQgRXhjZWVkZWQgKC0zMjAwNSkgZXJyb3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXJnIC0gVGhlIGVycm9yIG1lc3NhZ2Ugb3Igb3B0aW9ucyBiYWcuXG4gICAgICogQHJldHVybnMgQW4gaW5zdGFuY2Ugb2YgdGhlIHtAbGluayBKc29uUnBjRXJyb3J9IGNsYXNzLlxuICAgICAqL1xuICAgIGxpbWl0RXhjZWVkZWQ6IChhcmcpID0+IGdldEpzb25ScGNFcnJvcihlcnJvckNvZGVzLnJwYy5saW1pdEV4Y2VlZGVkLCBhcmcpLFxufTtcbmV4cG9ydCBjb25zdCBwcm92aWRlckVycm9ycyA9IHtcbiAgICAvKipcbiAgICAgKiBHZXQgYW4gRXRoZXJldW0gUHJvdmlkZXIgVXNlciBSZWplY3RlZCBSZXF1ZXN0ICg0MDAxKSBlcnJvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhcmcgLSBUaGUgZXJyb3IgbWVzc2FnZSBvciBvcHRpb25zIGJhZy5cbiAgICAgKiBAcmV0dXJucyBBbiBpbnN0YW5jZSBvZiB0aGUge0BsaW5rIEV0aGVyZXVtUHJvdmlkZXJFcnJvcn0gY2xhc3MuXG4gICAgICovXG4gICAgdXNlclJlamVjdGVkUmVxdWVzdDogKGFyZykgPT4ge1xuICAgICAgICByZXR1cm4gZ2V0RXRoUHJvdmlkZXJFcnJvcihlcnJvckNvZGVzLnByb3ZpZGVyLnVzZXJSZWplY3RlZFJlcXVlc3QsIGFyZyk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBHZXQgYW4gRXRoZXJldW0gUHJvdmlkZXIgVW5hdXRob3JpemVkICg0MTAwKSBlcnJvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhcmcgLSBUaGUgZXJyb3IgbWVzc2FnZSBvciBvcHRpb25zIGJhZy5cbiAgICAgKiBAcmV0dXJucyBBbiBpbnN0YW5jZSBvZiB0aGUge0BsaW5rIEV0aGVyZXVtUHJvdmlkZXJFcnJvcn0gY2xhc3MuXG4gICAgICovXG4gICAgdW5hdXRob3JpemVkOiAoYXJnKSA9PiB7XG4gICAgICAgIHJldHVybiBnZXRFdGhQcm92aWRlckVycm9yKGVycm9yQ29kZXMucHJvdmlkZXIudW5hdXRob3JpemVkLCBhcmcpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogR2V0IGFuIEV0aGVyZXVtIFByb3ZpZGVyIFVuc3VwcG9ydGVkIE1ldGhvZCAoNDIwMCkgZXJyb3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXJnIC0gVGhlIGVycm9yIG1lc3NhZ2Ugb3Igb3B0aW9ucyBiYWcuXG4gICAgICogQHJldHVybnMgQW4gaW5zdGFuY2Ugb2YgdGhlIHtAbGluayBFdGhlcmV1bVByb3ZpZGVyRXJyb3J9IGNsYXNzLlxuICAgICAqL1xuICAgIHVuc3VwcG9ydGVkTWV0aG9kOiAoYXJnKSA9PiB7XG4gICAgICAgIHJldHVybiBnZXRFdGhQcm92aWRlckVycm9yKGVycm9yQ29kZXMucHJvdmlkZXIudW5zdXBwb3J0ZWRNZXRob2QsIGFyZyk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBHZXQgYW4gRXRoZXJldW0gUHJvdmlkZXIgTm90IENvbm5lY3RlZCAoNDkwMCkgZXJyb3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXJnIC0gVGhlIGVycm9yIG1lc3NhZ2Ugb3Igb3B0aW9ucyBiYWcuXG4gICAgICogQHJldHVybnMgQW4gaW5zdGFuY2Ugb2YgdGhlIHtAbGluayBFdGhlcmV1bVByb3ZpZGVyRXJyb3J9IGNsYXNzLlxuICAgICAqL1xuICAgIGRpc2Nvbm5lY3RlZDogKGFyZykgPT4ge1xuICAgICAgICByZXR1cm4gZ2V0RXRoUHJvdmlkZXJFcnJvcihlcnJvckNvZGVzLnByb3ZpZGVyLmRpc2Nvbm5lY3RlZCwgYXJnKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEdldCBhbiBFdGhlcmV1bSBQcm92aWRlciBDaGFpbiBOb3QgQ29ubmVjdGVkICg0OTAxKSBlcnJvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhcmcgLSBUaGUgZXJyb3IgbWVzc2FnZSBvciBvcHRpb25zIGJhZy5cbiAgICAgKiBAcmV0dXJucyBBbiBpbnN0YW5jZSBvZiB0aGUge0BsaW5rIEV0aGVyZXVtUHJvdmlkZXJFcnJvcn0gY2xhc3MuXG4gICAgICovXG4gICAgY2hhaW5EaXNjb25uZWN0ZWQ6IChhcmcpID0+IHtcbiAgICAgICAgcmV0dXJuIGdldEV0aFByb3ZpZGVyRXJyb3IoZXJyb3JDb2Rlcy5wcm92aWRlci5jaGFpbkRpc2Nvbm5lY3RlZCwgYXJnKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEdldCBhIGN1c3RvbSBFdGhlcmV1bSBQcm92aWRlciBlcnJvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRzIC0gVGhlIGVycm9yIG9wdGlvbnMgYmFnLlxuICAgICAqIEByZXR1cm5zIEFuIGluc3RhbmNlIG9mIHRoZSB7QGxpbmsgRXRoZXJldW1Qcm92aWRlckVycm9yfSBjbGFzcy5cbiAgICAgKi9cbiAgICBjdXN0b206IChvcHRzKSA9PiB7XG4gICAgICAgIGlmICghb3B0cyB8fCB0eXBlb2Ygb3B0cyAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheShvcHRzKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFdGhlcmV1bSBQcm92aWRlciBjdXN0b20gZXJyb3JzIG11c3QgcHJvdmlkZSBzaW5nbGUgb2JqZWN0IGFyZ3VtZW50LicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgY29kZSwgbWVzc2FnZSwgZGF0YSB9ID0gb3B0cztcbiAgICAgICAgaWYgKCFtZXNzYWdlIHx8IHR5cGVvZiBtZXNzYWdlICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdcIm1lc3NhZ2VcIiBtdXN0IGJlIGEgbm9uZW1wdHkgc3RyaW5nJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBFdGhlcmV1bVByb3ZpZGVyRXJyb3IoY29kZSwgbWVzc2FnZSwgZGF0YSk7XG4gICAgfSxcbn07XG4vKipcbiAqIEdldCBhIGdlbmVyaWMgSlNPTi1SUEMgZXJyb3IgY2xhc3MgaW5zdGFuY2UuXG4gKlxuICogQHBhcmFtIGNvZGUgLSBUaGUgZXJyb3IgY29kZS5cbiAqIEBwYXJhbSBhcmcgLSBUaGUgZXJyb3IgbWVzc2FnZSBvciBvcHRpb25zIGJhZy5cbiAqIEByZXR1cm5zIEFuIGluc3RhbmNlIG9mIHRoZSB7QGxpbmsgSnNvblJwY0Vycm9yfSBjbGFzcy5cbiAqL1xuZnVuY3Rpb24gZ2V0SnNvblJwY0Vycm9yKGNvZGUsIGFyZykge1xuICAgIGNvbnN0IFttZXNzYWdlLCBkYXRhXSA9IHBhcnNlT3B0cyhhcmcpO1xuICAgIHJldHVybiBuZXcgSnNvblJwY0Vycm9yKGNvZGUsIG1lc3NhZ2UgPz8gZ2V0TWVzc2FnZUZyb21Db2RlKGNvZGUpLCBkYXRhKTtcbn1cbi8qKlxuICogR2V0IGFuIEV0aGVyZXVtIFByb3ZpZGVyIGVycm9yIGNsYXNzIGluc3RhbmNlLlxuICpcbiAqIEBwYXJhbSBjb2RlIC0gVGhlIGVycm9yIGNvZGUuXG4gKiBAcGFyYW0gYXJnIC0gVGhlIGVycm9yIG1lc3NhZ2Ugb3Igb3B0aW9ucyBiYWcuXG4gKiBAcmV0dXJucyBBbiBpbnN0YW5jZSBvZiB0aGUge0BsaW5rIEV0aGVyZXVtUHJvdmlkZXJFcnJvcn0gY2xhc3MuXG4gKi9cbmZ1bmN0aW9uIGdldEV0aFByb3ZpZGVyRXJyb3IoY29kZSwgYXJnKSB7XG4gICAgY29uc3QgW21lc3NhZ2UsIGRhdGFdID0gcGFyc2VPcHRzKGFyZyk7XG4gICAgcmV0dXJuIG5ldyBFdGhlcmV1bVByb3ZpZGVyRXJyb3IoY29kZSwgbWVzc2FnZSA/PyBnZXRNZXNzYWdlRnJvbUNvZGUoY29kZSksIGRhdGEpO1xufVxuLyoqXG4gKiBHZXQgYW4gZXJyb3IgbWVzc2FnZSBhbmQgb3B0aW9uYWwgZGF0YSBmcm9tIGFuIG9wdGlvbnMgYmFnLlxuICpcbiAqIEBwYXJhbSBhcmcgLSBUaGUgZXJyb3IgbWVzc2FnZSBvciBvcHRpb25zIGJhZy5cbiAqIEByZXR1cm5zIEEgdHVwbGUgY29udGFpbmluZyB0aGUgZXJyb3IgbWVzc2FnZSBhbmQgb3B0aW9uYWwgZGF0YS5cbiAqL1xuZnVuY3Rpb24gcGFyc2VPcHRzKGFyZykge1xuICAgIGlmIChhcmcpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gW2FyZ107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkoYXJnKSkge1xuICAgICAgICAgICAgY29uc3QgeyBtZXNzYWdlLCBkYXRhIH0gPSBhcmc7XG4gICAgICAgICAgICBpZiAobWVzc2FnZSAmJiB0eXBlb2YgbWVzc2FnZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ011c3Qgc3BlY2lmeSBzdHJpbmcgbWVzc2FnZS4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBbbWVzc2FnZSA/PyB1bmRlZmluZWQsIGRhdGFdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBbXTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVycm9ycy5tanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@metamask/rpc-errors/dist/errors.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@metamask/rpc-errors/dist/utils.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/@metamask/rpc-errors/dist/utils.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JSON_RPC_SERVER_ERROR_MESSAGE: () => (/* binding */ JSON_RPC_SERVER_ERROR_MESSAGE),\n/* harmony export */   dataHasCause: () => (/* binding */ dataHasCause),\n/* harmony export */   getMessageFromCode: () => (/* binding */ getMessageFromCode),\n/* harmony export */   isValidCode: () => (/* binding */ isValidCode),\n/* harmony export */   serializeCause: () => (/* binding */ serializeCause),\n/* harmony export */   serializeError: () => (/* binding */ serializeError)\n/* harmony export */ });\n/* harmony import */ var _metamask_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @metamask/utils */ \"(ssr)/./node_modules/@metamask/utils/dist/misc.mjs\");\n/* harmony import */ var _metamask_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @metamask/utils */ \"(ssr)/./node_modules/@metamask/utils/dist/json.mjs\");\n/* harmony import */ var _error_constants_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./error-constants.mjs */ \"(ssr)/./node_modules/@metamask/rpc-errors/dist/error-constants.mjs\");\n\n\nconst FALLBACK_ERROR_CODE = _error_constants_mjs__WEBPACK_IMPORTED_MODULE_0__.errorCodes.rpc.internal;\nconst FALLBACK_MESSAGE = 'Unspecified error message. This is a bug, please report it.';\nconst FALLBACK_ERROR = {\n    code: FALLBACK_ERROR_CODE,\n    message: getMessageFromCode(FALLBACK_ERROR_CODE),\n};\nconst JSON_RPC_SERVER_ERROR_MESSAGE = 'Unspecified server error.';\n/**\n * Gets the message for a given code, or a fallback message if the code has\n * no corresponding message.\n *\n * @param code - The error code.\n * @param fallbackMessage - The fallback message to use if the code has no\n * corresponding message.\n * @returns The message for the given code, or the fallback message if the code\n * has no corresponding message.\n */\nfunction getMessageFromCode(code, fallbackMessage = FALLBACK_MESSAGE) {\n    if (isValidCode(code)) {\n        const codeString = code.toString();\n        if ((0,_metamask_utils__WEBPACK_IMPORTED_MODULE_1__.hasProperty)(_error_constants_mjs__WEBPACK_IMPORTED_MODULE_0__.errorValues, codeString)) {\n            return _error_constants_mjs__WEBPACK_IMPORTED_MODULE_0__.errorValues[codeString].message;\n        }\n        if (isJsonRpcServerError(code)) {\n            return JSON_RPC_SERVER_ERROR_MESSAGE;\n        }\n    }\n    return fallbackMessage;\n}\n/**\n * Returns whether the given code is valid.\n * A code is valid if it is an integer.\n *\n * @param code - The error code.\n * @returns Whether the given code is valid.\n */\nfunction isValidCode(code) {\n    return Number.isInteger(code);\n}\n/**\n * Serializes the given error to an Ethereum JSON RPC-compatible error object.\n * If the given error is not fully compatible, it will be preserved on the\n * returned object's data.cause property.\n *\n * @param error - The error to serialize.\n * @param options - Options bag.\n * @param options.fallbackError - The error to return if the given error is\n * not compatible. Should be a JSON-serializable value.\n * @param options.shouldIncludeStack - Whether to include the error's stack\n * on the returned object.\n * @param options.shouldPreserveMessage - Whether to preserve the error's\n * message if the fallback error is used.\n * @returns The serialized error.\n */\nfunction serializeError(error, { fallbackError = FALLBACK_ERROR, shouldIncludeStack = true, shouldPreserveMessage = true, } = {}) {\n    if (!(0,_metamask_utils__WEBPACK_IMPORTED_MODULE_2__.isJsonRpcError)(fallbackError)) {\n        throw new Error('Must provide fallback error with integer number code and string message.');\n    }\n    const serialized = buildError(error, fallbackError, shouldPreserveMessage);\n    if (!shouldIncludeStack) {\n        delete serialized.stack;\n    }\n    return serialized;\n}\n/**\n * Construct a JSON-serializable object given an error and a JSON-serializable `fallbackError`\n *\n * @param error - The error in question.\n * @param fallbackError - A JSON-serializable fallback error.\n * @param shouldPreserveMessage - Whether to preserve the error's message if the fallback\n * error is used.\n * @returns A JSON-serializable error object.\n */\nfunction buildError(error, fallbackError, shouldPreserveMessage) {\n    // If an error specifies a `serialize` function, we call it and return the result.\n    if (error &&\n        typeof error === 'object' &&\n        'serialize' in error &&\n        typeof error.serialize === 'function') {\n        return error.serialize();\n    }\n    if ((0,_metamask_utils__WEBPACK_IMPORTED_MODULE_2__.isJsonRpcError)(error)) {\n        return error;\n    }\n    const originalMessage = getOriginalMessage(error);\n    // If the error does not match the JsonRpcError type, use the fallback error, but try to include the original error as `cause`.\n    const cause = serializeCause(error);\n    const fallbackWithCause = {\n        ...fallbackError,\n        ...(shouldPreserveMessage &&\n            originalMessage && { message: originalMessage }),\n        data: { cause },\n    };\n    return fallbackWithCause;\n}\n/**\n * Attempts to extract the original `message` property from an error value of uncertain shape.\n *\n * @param error - The error in question.\n * @returns The original message, if it exists and is a non-empty string.\n */\nfunction getOriginalMessage(error) {\n    if ((0,_metamask_utils__WEBPACK_IMPORTED_MODULE_1__.isObject)(error) &&\n        (0,_metamask_utils__WEBPACK_IMPORTED_MODULE_1__.hasProperty)(error, 'message') &&\n        typeof error.message === 'string' &&\n        error.message.length > 0) {\n        return error.message;\n    }\n    return undefined;\n}\n/**\n * Check if the given code is a valid JSON-RPC server error code.\n *\n * @param code - The error code.\n * @returns Whether the given code is a valid JSON-RPC server error code.\n */\nfunction isJsonRpcServerError(code) {\n    return code >= -32099 && code <= -32000;\n}\n/**\n * Serializes an unknown error to be used as the `cause` in a fallback error.\n *\n * @param error - The unknown error.\n * @returns A JSON-serializable object containing as much information about the original error as possible.\n */\nfunction serializeCause(error) {\n    if (Array.isArray(error)) {\n        return error.map((entry) => {\n            if ((0,_metamask_utils__WEBPACK_IMPORTED_MODULE_2__.isValidJson)(entry)) {\n                return entry;\n            }\n            else if ((0,_metamask_utils__WEBPACK_IMPORTED_MODULE_1__.isObject)(entry)) {\n                return serializeObject(entry);\n            }\n            return null;\n        });\n    }\n    else if ((0,_metamask_utils__WEBPACK_IMPORTED_MODULE_1__.isObject)(error)) {\n        return serializeObject(error);\n    }\n    if ((0,_metamask_utils__WEBPACK_IMPORTED_MODULE_2__.isValidJson)(error)) {\n        return error;\n    }\n    return null;\n}\n/**\n * Extracts all JSON-serializable properties from an object.\n *\n * @param object - The object in question.\n * @returns An object containing all the JSON-serializable properties.\n */\nfunction serializeObject(object) {\n    return Object.getOwnPropertyNames(object).reduce((acc, key) => {\n        const value = object[key];\n        if ((0,_metamask_utils__WEBPACK_IMPORTED_MODULE_2__.isValidJson)(value)) {\n            acc[key] = value;\n        }\n        return acc;\n    }, {});\n}\n/**\n * Returns true if supplied error data has a usable `cause` property; false otherwise.\n *\n * @param data - Optional data to validate.\n * @returns Whether cause property is present and an object.\n */\nfunction dataHasCause(data) {\n    return (0,_metamask_utils__WEBPACK_IMPORTED_MODULE_1__.isObject)(data) && (0,_metamask_utils__WEBPACK_IMPORTED_MODULE_1__.hasProperty)(data, 'cause') && (0,_metamask_utils__WEBPACK_IMPORTED_MODULE_1__.isObject)(data.cause);\n}\n//# sourceMappingURL=utils.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1ldGFtYXNrL3JwYy1lcnJvcnMvZGlzdC91dGlscy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQXFGO0FBQ3JCO0FBQ2hFLDRCQUE0Qiw0REFBVTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLFlBQVksNERBQVcsQ0FBQyw2REFBVztBQUNuQyxtQkFBbUIsNkRBQVc7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLGlDQUFpQywyRkFBMkYsSUFBSTtBQUN2SSxTQUFTLCtEQUFjO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwrREFBYztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLDBCQUEwQjtBQUMzRCxnQkFBZ0IsT0FBTztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEseURBQVE7QUFDaEIsUUFBUSw0REFBVztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxnQkFBZ0IsNERBQVc7QUFDM0I7QUFDQTtBQUNBLHFCQUFxQix5REFBUTtBQUM3QjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxhQUFhLHlEQUFRO0FBQ3JCO0FBQ0E7QUFDQSxRQUFRLDREQUFXO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw0REFBVztBQUN2QjtBQUNBO0FBQ0E7QUFDQSxLQUFLLElBQUk7QUFDVDtBQUNBO0FBQ0Esc0VBQXNFO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxXQUFXLHlEQUFRLFVBQVUsNERBQVcsbUJBQW1CLHlEQUFRO0FBQ25FO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9xdWVzdC1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9AbWV0YW1hc2svcnBjLWVycm9ycy9kaXN0L3V0aWxzLm1qcz9jM2JmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGhhc1Byb3BlcnR5LCBpc1ZhbGlkSnNvbiwgaXNPYmplY3QsIGlzSnNvblJwY0Vycm9yIH0gZnJvbSBcIkBtZXRhbWFzay91dGlsc1wiO1xuaW1wb3J0IHsgZXJyb3JDb2RlcywgZXJyb3JWYWx1ZXMgfSBmcm9tIFwiLi9lcnJvci1jb25zdGFudHMubWpzXCI7XG5jb25zdCBGQUxMQkFDS19FUlJPUl9DT0RFID0gZXJyb3JDb2Rlcy5ycGMuaW50ZXJuYWw7XG5jb25zdCBGQUxMQkFDS19NRVNTQUdFID0gJ1Vuc3BlY2lmaWVkIGVycm9yIG1lc3NhZ2UuIFRoaXMgaXMgYSBidWcsIHBsZWFzZSByZXBvcnQgaXQuJztcbmNvbnN0IEZBTExCQUNLX0VSUk9SID0ge1xuICAgIGNvZGU6IEZBTExCQUNLX0VSUk9SX0NPREUsXG4gICAgbWVzc2FnZTogZ2V0TWVzc2FnZUZyb21Db2RlKEZBTExCQUNLX0VSUk9SX0NPREUpLFxufTtcbmV4cG9ydCBjb25zdCBKU09OX1JQQ19TRVJWRVJfRVJST1JfTUVTU0FHRSA9ICdVbnNwZWNpZmllZCBzZXJ2ZXIgZXJyb3IuJztcbi8qKlxuICogR2V0cyB0aGUgbWVzc2FnZSBmb3IgYSBnaXZlbiBjb2RlLCBvciBhIGZhbGxiYWNrIG1lc3NhZ2UgaWYgdGhlIGNvZGUgaGFzXG4gKiBubyBjb3JyZXNwb25kaW5nIG1lc3NhZ2UuXG4gKlxuICogQHBhcmFtIGNvZGUgLSBUaGUgZXJyb3IgY29kZS5cbiAqIEBwYXJhbSBmYWxsYmFja01lc3NhZ2UgLSBUaGUgZmFsbGJhY2sgbWVzc2FnZSB0byB1c2UgaWYgdGhlIGNvZGUgaGFzIG5vXG4gKiBjb3JyZXNwb25kaW5nIG1lc3NhZ2UuXG4gKiBAcmV0dXJucyBUaGUgbWVzc2FnZSBmb3IgdGhlIGdpdmVuIGNvZGUsIG9yIHRoZSBmYWxsYmFjayBtZXNzYWdlIGlmIHRoZSBjb2RlXG4gKiBoYXMgbm8gY29ycmVzcG9uZGluZyBtZXNzYWdlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWVzc2FnZUZyb21Db2RlKGNvZGUsIGZhbGxiYWNrTWVzc2FnZSA9IEZBTExCQUNLX01FU1NBR0UpIHtcbiAgICBpZiAoaXNWYWxpZENvZGUoY29kZSkpIHtcbiAgICAgICAgY29uc3QgY29kZVN0cmluZyA9IGNvZGUudG9TdHJpbmcoKTtcbiAgICAgICAgaWYgKGhhc1Byb3BlcnR5KGVycm9yVmFsdWVzLCBjb2RlU3RyaW5nKSkge1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yVmFsdWVzW2NvZGVTdHJpbmddLm1lc3NhZ2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzSnNvblJwY1NlcnZlckVycm9yKGNvZGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gSlNPTl9SUENfU0VSVkVSX0VSUk9SX01FU1NBR0U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbGxiYWNrTWVzc2FnZTtcbn1cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIHRoZSBnaXZlbiBjb2RlIGlzIHZhbGlkLlxuICogQSBjb2RlIGlzIHZhbGlkIGlmIGl0IGlzIGFuIGludGVnZXIuXG4gKlxuICogQHBhcmFtIGNvZGUgLSBUaGUgZXJyb3IgY29kZS5cbiAqIEByZXR1cm5zIFdoZXRoZXIgdGhlIGdpdmVuIGNvZGUgaXMgdmFsaWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkQ29kZShjb2RlKSB7XG4gICAgcmV0dXJuIE51bWJlci5pc0ludGVnZXIoY29kZSk7XG59XG4vKipcbiAqIFNlcmlhbGl6ZXMgdGhlIGdpdmVuIGVycm9yIHRvIGFuIEV0aGVyZXVtIEpTT04gUlBDLWNvbXBhdGlibGUgZXJyb3Igb2JqZWN0LlxuICogSWYgdGhlIGdpdmVuIGVycm9yIGlzIG5vdCBmdWxseSBjb21wYXRpYmxlLCBpdCB3aWxsIGJlIHByZXNlcnZlZCBvbiB0aGVcbiAqIHJldHVybmVkIG9iamVjdCdzIGRhdGEuY2F1c2UgcHJvcGVydHkuXG4gKlxuICogQHBhcmFtIGVycm9yIC0gVGhlIGVycm9yIHRvIHNlcmlhbGl6ZS5cbiAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyBiYWcuXG4gKiBAcGFyYW0gb3B0aW9ucy5mYWxsYmFja0Vycm9yIC0gVGhlIGVycm9yIHRvIHJldHVybiBpZiB0aGUgZ2l2ZW4gZXJyb3IgaXNcbiAqIG5vdCBjb21wYXRpYmxlLiBTaG91bGQgYmUgYSBKU09OLXNlcmlhbGl6YWJsZSB2YWx1ZS5cbiAqIEBwYXJhbSBvcHRpb25zLnNob3VsZEluY2x1ZGVTdGFjayAtIFdoZXRoZXIgdG8gaW5jbHVkZSB0aGUgZXJyb3IncyBzdGFja1xuICogb24gdGhlIHJldHVybmVkIG9iamVjdC5cbiAqIEBwYXJhbSBvcHRpb25zLnNob3VsZFByZXNlcnZlTWVzc2FnZSAtIFdoZXRoZXIgdG8gcHJlc2VydmUgdGhlIGVycm9yJ3NcbiAqIG1lc3NhZ2UgaWYgdGhlIGZhbGxiYWNrIGVycm9yIGlzIHVzZWQuXG4gKiBAcmV0dXJucyBUaGUgc2VyaWFsaXplZCBlcnJvci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZUVycm9yKGVycm9yLCB7IGZhbGxiYWNrRXJyb3IgPSBGQUxMQkFDS19FUlJPUiwgc2hvdWxkSW5jbHVkZVN0YWNrID0gdHJ1ZSwgc2hvdWxkUHJlc2VydmVNZXNzYWdlID0gdHJ1ZSwgfSA9IHt9KSB7XG4gICAgaWYgKCFpc0pzb25ScGNFcnJvcihmYWxsYmFja0Vycm9yKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ011c3QgcHJvdmlkZSBmYWxsYmFjayBlcnJvciB3aXRoIGludGVnZXIgbnVtYmVyIGNvZGUgYW5kIHN0cmluZyBtZXNzYWdlLicpO1xuICAgIH1cbiAgICBjb25zdCBzZXJpYWxpemVkID0gYnVpbGRFcnJvcihlcnJvciwgZmFsbGJhY2tFcnJvciwgc2hvdWxkUHJlc2VydmVNZXNzYWdlKTtcbiAgICBpZiAoIXNob3VsZEluY2x1ZGVTdGFjaykge1xuICAgICAgICBkZWxldGUgc2VyaWFsaXplZC5zdGFjaztcbiAgICB9XG4gICAgcmV0dXJuIHNlcmlhbGl6ZWQ7XG59XG4vKipcbiAqIENvbnN0cnVjdCBhIEpTT04tc2VyaWFsaXphYmxlIG9iamVjdCBnaXZlbiBhbiBlcnJvciBhbmQgYSBKU09OLXNlcmlhbGl6YWJsZSBgZmFsbGJhY2tFcnJvcmBcbiAqXG4gKiBAcGFyYW0gZXJyb3IgLSBUaGUgZXJyb3IgaW4gcXVlc3Rpb24uXG4gKiBAcGFyYW0gZmFsbGJhY2tFcnJvciAtIEEgSlNPTi1zZXJpYWxpemFibGUgZmFsbGJhY2sgZXJyb3IuXG4gKiBAcGFyYW0gc2hvdWxkUHJlc2VydmVNZXNzYWdlIC0gV2hldGhlciB0byBwcmVzZXJ2ZSB0aGUgZXJyb3IncyBtZXNzYWdlIGlmIHRoZSBmYWxsYmFja1xuICogZXJyb3IgaXMgdXNlZC5cbiAqIEByZXR1cm5zIEEgSlNPTi1zZXJpYWxpemFibGUgZXJyb3Igb2JqZWN0LlxuICovXG5mdW5jdGlvbiBidWlsZEVycm9yKGVycm9yLCBmYWxsYmFja0Vycm9yLCBzaG91bGRQcmVzZXJ2ZU1lc3NhZ2UpIHtcbiAgICAvLyBJZiBhbiBlcnJvciBzcGVjaWZpZXMgYSBgc2VyaWFsaXplYCBmdW5jdGlvbiwgd2UgY2FsbCBpdCBhbmQgcmV0dXJuIHRoZSByZXN1bHQuXG4gICAgaWYgKGVycm9yICYmXG4gICAgICAgIHR5cGVvZiBlcnJvciA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgJ3NlcmlhbGl6ZScgaW4gZXJyb3IgJiZcbiAgICAgICAgdHlwZW9mIGVycm9yLnNlcmlhbGl6ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gZXJyb3Iuc2VyaWFsaXplKCk7XG4gICAgfVxuICAgIGlmIChpc0pzb25ScGNFcnJvcihlcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgIH1cbiAgICBjb25zdCBvcmlnaW5hbE1lc3NhZ2UgPSBnZXRPcmlnaW5hbE1lc3NhZ2UoZXJyb3IpO1xuICAgIC8vIElmIHRoZSBlcnJvciBkb2VzIG5vdCBtYXRjaCB0aGUgSnNvblJwY0Vycm9yIHR5cGUsIHVzZSB0aGUgZmFsbGJhY2sgZXJyb3IsIGJ1dCB0cnkgdG8gaW5jbHVkZSB0aGUgb3JpZ2luYWwgZXJyb3IgYXMgYGNhdXNlYC5cbiAgICBjb25zdCBjYXVzZSA9IHNlcmlhbGl6ZUNhdXNlKGVycm9yKTtcbiAgICBjb25zdCBmYWxsYmFja1dpdGhDYXVzZSA9IHtcbiAgICAgICAgLi4uZmFsbGJhY2tFcnJvcixcbiAgICAgICAgLi4uKHNob3VsZFByZXNlcnZlTWVzc2FnZSAmJlxuICAgICAgICAgICAgb3JpZ2luYWxNZXNzYWdlICYmIHsgbWVzc2FnZTogb3JpZ2luYWxNZXNzYWdlIH0pLFxuICAgICAgICBkYXRhOiB7IGNhdXNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZmFsbGJhY2tXaXRoQ2F1c2U7XG59XG4vKipcbiAqIEF0dGVtcHRzIHRvIGV4dHJhY3QgdGhlIG9yaWdpbmFsIGBtZXNzYWdlYCBwcm9wZXJ0eSBmcm9tIGFuIGVycm9yIHZhbHVlIG9mIHVuY2VydGFpbiBzaGFwZS5cbiAqXG4gKiBAcGFyYW0gZXJyb3IgLSBUaGUgZXJyb3IgaW4gcXVlc3Rpb24uXG4gKiBAcmV0dXJucyBUaGUgb3JpZ2luYWwgbWVzc2FnZSwgaWYgaXQgZXhpc3RzIGFuZCBpcyBhIG5vbi1lbXB0eSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGdldE9yaWdpbmFsTWVzc2FnZShlcnJvcikge1xuICAgIGlmIChpc09iamVjdChlcnJvcikgJiZcbiAgICAgICAgaGFzUHJvcGVydHkoZXJyb3IsICdtZXNzYWdlJykgJiZcbiAgICAgICAgdHlwZW9mIGVycm9yLm1lc3NhZ2UgPT09ICdzdHJpbmcnICYmXG4gICAgICAgIGVycm9yLm1lc3NhZ2UubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gZXJyb3IubWVzc2FnZTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbi8qKlxuICogQ2hlY2sgaWYgdGhlIGdpdmVuIGNvZGUgaXMgYSB2YWxpZCBKU09OLVJQQyBzZXJ2ZXIgZXJyb3IgY29kZS5cbiAqXG4gKiBAcGFyYW0gY29kZSAtIFRoZSBlcnJvciBjb2RlLlxuICogQHJldHVybnMgV2hldGhlciB0aGUgZ2l2ZW4gY29kZSBpcyBhIHZhbGlkIEpTT04tUlBDIHNlcnZlciBlcnJvciBjb2RlLlxuICovXG5mdW5jdGlvbiBpc0pzb25ScGNTZXJ2ZXJFcnJvcihjb2RlKSB7XG4gICAgcmV0dXJuIGNvZGUgPj0gLTMyMDk5ICYmIGNvZGUgPD0gLTMyMDAwO1xufVxuLyoqXG4gKiBTZXJpYWxpemVzIGFuIHVua25vd24gZXJyb3IgdG8gYmUgdXNlZCBhcyB0aGUgYGNhdXNlYCBpbiBhIGZhbGxiYWNrIGVycm9yLlxuICpcbiAqIEBwYXJhbSBlcnJvciAtIFRoZSB1bmtub3duIGVycm9yLlxuICogQHJldHVybnMgQSBKU09OLXNlcmlhbGl6YWJsZSBvYmplY3QgY29udGFpbmluZyBhcyBtdWNoIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvcmlnaW5hbCBlcnJvciBhcyBwb3NzaWJsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZUNhdXNlKGVycm9yKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZXJyb3IpKSB7XG4gICAgICAgIHJldHVybiBlcnJvci5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNWYWxpZEpzb24oZW50cnkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVudHJ5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNPYmplY3QoZW50cnkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZU9iamVjdChlbnRyeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzT2JqZWN0KGVycm9yKSkge1xuICAgICAgICByZXR1cm4gc2VyaWFsaXplT2JqZWN0KGVycm9yKTtcbiAgICB9XG4gICAgaWYgKGlzVmFsaWRKc29uKGVycm9yKSkge1xuICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBFeHRyYWN0cyBhbGwgSlNPTi1zZXJpYWxpemFibGUgcHJvcGVydGllcyBmcm9tIGFuIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0gb2JqZWN0IC0gVGhlIG9iamVjdCBpbiBxdWVzdGlvbi5cbiAqIEByZXR1cm5zIEFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgSlNPTi1zZXJpYWxpemFibGUgcHJvcGVydGllcy5cbiAqL1xuZnVuY3Rpb24gc2VyaWFsaXplT2JqZWN0KG9iamVjdCkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmplY3QpLnJlZHVjZSgoYWNjLCBrZXkpID0+IHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBvYmplY3Rba2V5XTtcbiAgICAgICAgaWYgKGlzVmFsaWRKc29uKHZhbHVlKSkge1xuICAgICAgICAgICAgYWNjW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbn1cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHN1cHBsaWVkIGVycm9yIGRhdGEgaGFzIGEgdXNhYmxlIGBjYXVzZWAgcHJvcGVydHk7IGZhbHNlIG90aGVyd2lzZS5cbiAqXG4gKiBAcGFyYW0gZGF0YSAtIE9wdGlvbmFsIGRhdGEgdG8gdmFsaWRhdGUuXG4gKiBAcmV0dXJucyBXaGV0aGVyIGNhdXNlIHByb3BlcnR5IGlzIHByZXNlbnQgYW5kIGFuIG9iamVjdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRhdGFIYXNDYXVzZShkYXRhKSB7XG4gICAgcmV0dXJuIGlzT2JqZWN0KGRhdGEpICYmIGhhc1Byb3BlcnR5KGRhdGEsICdjYXVzZScpICYmIGlzT2JqZWN0KGRhdGEuY2F1c2UpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@metamask/rpc-errors/dist/utils.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@metamask/superstruct/dist/error.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@metamask/superstruct/dist/error.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StructError: () => (/* binding */ StructError)\n/* harmony export */ });\n/**\n * A `StructFailure` represents a single specific failure in validation.\n */\n/**\n * `StructError` objects are thrown (or returned) when validation fails.\n *\n * Validation logic is design to exit early for maximum performance. The error\n * represents the first error encountered during validation. For more detail,\n * the `error.failures` property is a generator function that can be run to\n * continue validation and receive all the failures in the data.\n */\nclass StructError extends TypeError {\n    constructor(failure, failures) {\n        let cached;\n        const { message, explanation, ...rest } = failure;\n        const { path } = failure;\n        const cause = path.length === 0 ? message : `At path: ${path.join('.')} -- ${message}`;\n        super(explanation ?? cause);\n        if (explanation !== null && explanation !== undefined) {\n            this.cause = cause;\n        }\n        Object.assign(this, rest);\n        this.name = this.constructor.name;\n        this.failures = () => {\n            return (cached ?? (cached = [failure, ...failures()]));\n        };\n    }\n}\n//# sourceMappingURL=error.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1ldGFtYXNrL3N1cGVyc3RydWN0L2Rpc3QvZXJyb3IubWpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsZ0JBQWdCLGdDQUFnQztBQUNoRCxnQkFBZ0IsT0FBTztBQUN2QixnRUFBZ0UsZ0JBQWdCLEtBQUssUUFBUTtBQUM3RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9xdWVzdC1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9AbWV0YW1hc2svc3VwZXJzdHJ1Y3QvZGlzdC9lcnJvci5tanM/NDhmYSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEEgYFN0cnVjdEZhaWx1cmVgIHJlcHJlc2VudHMgYSBzaW5nbGUgc3BlY2lmaWMgZmFpbHVyZSBpbiB2YWxpZGF0aW9uLlxuICovXG4vKipcbiAqIGBTdHJ1Y3RFcnJvcmAgb2JqZWN0cyBhcmUgdGhyb3duIChvciByZXR1cm5lZCkgd2hlbiB2YWxpZGF0aW9uIGZhaWxzLlxuICpcbiAqIFZhbGlkYXRpb24gbG9naWMgaXMgZGVzaWduIHRvIGV4aXQgZWFybHkgZm9yIG1heGltdW0gcGVyZm9ybWFuY2UuIFRoZSBlcnJvclxuICogcmVwcmVzZW50cyB0aGUgZmlyc3QgZXJyb3IgZW5jb3VudGVyZWQgZHVyaW5nIHZhbGlkYXRpb24uIEZvciBtb3JlIGRldGFpbCxcbiAqIHRoZSBgZXJyb3IuZmFpbHVyZXNgIHByb3BlcnR5IGlzIGEgZ2VuZXJhdG9yIGZ1bmN0aW9uIHRoYXQgY2FuIGJlIHJ1biB0b1xuICogY29udGludWUgdmFsaWRhdGlvbiBhbmQgcmVjZWl2ZSBhbGwgdGhlIGZhaWx1cmVzIGluIHRoZSBkYXRhLlxuICovXG5leHBvcnQgY2xhc3MgU3RydWN0RXJyb3IgZXh0ZW5kcyBUeXBlRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKGZhaWx1cmUsIGZhaWx1cmVzKSB7XG4gICAgICAgIGxldCBjYWNoZWQ7XG4gICAgICAgIGNvbnN0IHsgbWVzc2FnZSwgZXhwbGFuYXRpb24sIC4uLnJlc3QgfSA9IGZhaWx1cmU7XG4gICAgICAgIGNvbnN0IHsgcGF0aCB9ID0gZmFpbHVyZTtcbiAgICAgICAgY29uc3QgY2F1c2UgPSBwYXRoLmxlbmd0aCA9PT0gMCA/IG1lc3NhZ2UgOiBgQXQgcGF0aDogJHtwYXRoLmpvaW4oJy4nKX0gLS0gJHttZXNzYWdlfWA7XG4gICAgICAgIHN1cGVyKGV4cGxhbmF0aW9uID8/IGNhdXNlKTtcbiAgICAgICAgaWYgKGV4cGxhbmF0aW9uICE9PSBudWxsICYmIGV4cGxhbmF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY2F1c2UgPSBjYXVzZTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMsIHJlc3QpO1xuICAgICAgICB0aGlzLm5hbWUgPSB0aGlzLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgIHRoaXMuZmFpbHVyZXMgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKGNhY2hlZCA/PyAoY2FjaGVkID0gW2ZhaWx1cmUsIC4uLmZhaWx1cmVzKCldKSk7XG4gICAgICAgIH07XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3IubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@metamask/superstruct/dist/error.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@metamask/superstruct/dist/struct.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@metamask/superstruct/dist/struct.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ExactOptionalStruct: () => (/* binding */ ExactOptionalStruct),\n/* harmony export */   Struct: () => (/* binding */ Struct),\n/* harmony export */   assert: () => (/* binding */ assert),\n/* harmony export */   create: () => (/* binding */ create),\n/* harmony export */   is: () => (/* binding */ is),\n/* harmony export */   mask: () => (/* binding */ mask),\n/* harmony export */   validate: () => (/* binding */ validate)\n/* harmony export */ });\n/* harmony import */ var _error_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./error.mjs */ \"(ssr)/./node_modules/@metamask/superstruct/dist/error.mjs\");\n/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.mjs */ \"(ssr)/./node_modules/@metamask/superstruct/dist/utils.mjs\");\n\n\n/**\n * `Struct` objects encapsulate the validation logic for a specific type of\n * values. Once constructed, you use the `assert`, `is` or `validate` helpers to\n * validate unknown input data against the struct.\n */\nclass Struct {\n    constructor(props) {\n        const { type, schema, validator, refiner, coercer = (value) => value, entries = function* () {\n            /* noop */\n        }, } = props;\n        this.type = type;\n        this.schema = schema;\n        this.entries = entries;\n        this.coercer = coercer;\n        if (validator) {\n            this.validator = (value, context) => {\n                const result = validator(value, context);\n                return (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.toFailures)(result, context, this, value);\n            };\n        }\n        else {\n            this.validator = () => [];\n        }\n        if (refiner) {\n            this.refiner = (value, context) => {\n                const result = refiner(value, context);\n                return (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.toFailures)(result, context, this, value);\n            };\n        }\n        else {\n            this.refiner = () => [];\n        }\n    }\n    /**\n     * Assert that a value passes the struct's validation, throwing if it doesn't.\n     */\n    assert(value, message) {\n        return assert(value, this, message);\n    }\n    /**\n     * Create a value with the struct's coercion logic, then validate it.\n     */\n    create(value, message) {\n        return create(value, this, message);\n    }\n    /**\n     * Check if a value passes the struct's validation.\n     */\n    is(value) {\n        return is(value, this);\n    }\n    /**\n     * Mask a value, coercing and validating it, but returning only the subset of\n     * properties defined by the struct's schema.\n     */\n    mask(value, message) {\n        return mask(value, this, message);\n    }\n    /**\n     * Validate a value with the struct's validation logic, returning a tuple\n     * representing the result.\n     *\n     * You may optionally pass `true` for the `withCoercion` argument to coerce\n     * the value before attempting to validate it. If you do, the result will\n     * contain the coerced result when successful.\n     */\n    validate(value, options = {}) {\n        return validate(value, this, options);\n    }\n}\n// String instead of a Symbol in case of multiple different versions of this library.\nconst ExactOptionalBrand = 'EXACT_OPTIONAL';\n/**\n * An `ExactOptionalStruct` is a `Struct` that is used to create exactly optional\n * properties of `object()` structs.\n */\nclass ExactOptionalStruct extends Struct {\n    constructor(props) {\n        super({\n            ...props,\n            type: `exact optional ${props.type}`,\n        });\n        this.brand = ExactOptionalBrand;\n    }\n    static isExactOptional(value) {\n        return ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.isObject)(value) && 'brand' in value && value.brand === ExactOptionalBrand);\n    }\n}\n/**\n * Assert that a value passes a struct, throwing if it doesn't.\n *\n * @param value - The value to validate.\n * @param struct - The struct to validate against.\n * @param message - An optional message to include in the error.\n */\nfunction assert(value, struct, message) {\n    const result = validate(value, struct, { message });\n    if (result[0]) {\n        throw result[0];\n    }\n}\n/**\n * Create a value with the coercion logic of struct and validate it.\n *\n * @param value - The value to coerce and validate.\n * @param struct - The struct to validate against.\n * @param message - An optional message to include in the error.\n * @returns The coerced and validated value.\n */\nfunction create(value, struct, message) {\n    const result = validate(value, struct, { coerce: true, message });\n    if (result[0]) {\n        throw result[0];\n    }\n    else {\n        return result[1];\n    }\n}\n/**\n * Mask a value, returning only the subset of properties defined by a struct.\n *\n * @param value - The value to mask.\n * @param struct - The struct to mask against.\n * @param message - An optional message to include in the error.\n * @returns The masked value.\n */\nfunction mask(value, struct, message) {\n    const result = validate(value, struct, { coerce: true, mask: true, message });\n    if (result[0]) {\n        throw result[0];\n    }\n    else {\n        return result[1];\n    }\n}\n/**\n * Check if a value passes a struct.\n *\n * @param value - The value to validate.\n * @param struct - The struct to validate against.\n * @returns `true` if the value passes the struct, `false` otherwise.\n */\nfunction is(value, struct) {\n    const result = validate(value, struct);\n    return !result[0];\n}\n/**\n * Validate a value against a struct, returning an error if invalid, or the\n * value (with potential coercion) if valid.\n *\n * @param value - The value to validate.\n * @param struct - The struct to validate against.\n * @param options - Optional settings.\n * @param options.coerce - Whether to coerce the value before validating it.\n * @param options.mask - Whether to mask the value before validating it.\n * @param options.message - An optional message to include in the error.\n * @returns A tuple containing the error (if invalid) and the validated value.\n */\nfunction validate(value, struct, options = {}) {\n    const tuples = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.run)(value, struct, options);\n    const tuple = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.shiftIterator)(tuples);\n    if (tuple[0]) {\n        const error = new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.StructError(tuple[0], function* () {\n            for (const innerTuple of tuples) {\n                if (innerTuple[0]) {\n                    yield innerTuple[0];\n                }\n            }\n        });\n        return [error, undefined];\n    }\n    const validatedValue = tuple[1];\n    return [undefined, validatedValue];\n}\n//# sourceMappingURL=struct.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1ldGFtYXNrL3N1cGVyc3RydWN0L2Rpc3Qvc3RydWN0Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBMEM7QUFDNkI7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQSxTQUFTLElBQUk7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixzREFBVTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHNEQUFVO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxXQUFXO0FBQy9DLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isb0RBQVE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCw2Q0FBNkMsU0FBUztBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLDZDQUE2Qyx1QkFBdUI7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCw2Q0FBNkMsbUNBQW1DO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLDZDQUE2QztBQUNwRCxtQkFBbUIsK0NBQUc7QUFDdEIsa0JBQWtCLHlEQUFhO0FBQy9CO0FBQ0EsMEJBQTBCLG1EQUFXO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ2VvcXVlc3QtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvQG1ldGFtYXNrL3N1cGVyc3RydWN0L2Rpc3Qvc3RydWN0Lm1qcz84NzIwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFN0cnVjdEVycm9yIH0gZnJvbSBcIi4vZXJyb3IubWpzXCI7XG5pbXBvcnQgeyBpc09iamVjdCwgdG9GYWlsdXJlcywgc2hpZnRJdGVyYXRvciwgcnVuIH0gZnJvbSBcIi4vdXRpbHMubWpzXCI7XG4vKipcbiAqIGBTdHJ1Y3RgIG9iamVjdHMgZW5jYXBzdWxhdGUgdGhlIHZhbGlkYXRpb24gbG9naWMgZm9yIGEgc3BlY2lmaWMgdHlwZSBvZlxuICogdmFsdWVzLiBPbmNlIGNvbnN0cnVjdGVkLCB5b3UgdXNlIHRoZSBgYXNzZXJ0YCwgYGlzYCBvciBgdmFsaWRhdGVgIGhlbHBlcnMgdG9cbiAqIHZhbGlkYXRlIHVua25vd24gaW5wdXQgZGF0YSBhZ2FpbnN0IHRoZSBzdHJ1Y3QuXG4gKi9cbmV4cG9ydCBjbGFzcyBTdHJ1Y3Qge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIGNvbnN0IHsgdHlwZSwgc2NoZW1hLCB2YWxpZGF0b3IsIHJlZmluZXIsIGNvZXJjZXIgPSAodmFsdWUpID0+IHZhbHVlLCBlbnRyaWVzID0gZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8qIG5vb3AgKi9cbiAgICAgICAgfSwgfSA9IHByb3BzO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLnNjaGVtYSA9IHNjaGVtYTtcbiAgICAgICAgdGhpcy5lbnRyaWVzID0gZW50cmllcztcbiAgICAgICAgdGhpcy5jb2VyY2VyID0gY29lcmNlcjtcbiAgICAgICAgaWYgKHZhbGlkYXRvcikge1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0b3IgPSAodmFsdWUsIGNvbnRleHQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0b3IodmFsdWUsIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0b0ZhaWx1cmVzKHJlc3VsdCwgY29udGV4dCwgdGhpcywgdmFsdWUpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudmFsaWRhdG9yID0gKCkgPT4gW107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlZmluZXIpIHtcbiAgICAgICAgICAgIHRoaXMucmVmaW5lciA9ICh2YWx1ZSwgY29udGV4dCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlZmluZXIodmFsdWUsIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0b0ZhaWx1cmVzKHJlc3VsdCwgY29udGV4dCwgdGhpcywgdmFsdWUpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVmaW5lciA9ICgpID0+IFtdO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFzc2VydCB0aGF0IGEgdmFsdWUgcGFzc2VzIHRoZSBzdHJ1Y3QncyB2YWxpZGF0aW9uLCB0aHJvd2luZyBpZiBpdCBkb2Vzbid0LlxuICAgICAqL1xuICAgIGFzc2VydCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gYXNzZXJ0KHZhbHVlLCB0aGlzLCBtZXNzYWdlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgdmFsdWUgd2l0aCB0aGUgc3RydWN0J3MgY29lcmNpb24gbG9naWMsIHRoZW4gdmFsaWRhdGUgaXQuXG4gICAgICovXG4gICAgY3JlYXRlKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUodmFsdWUsIHRoaXMsIG1lc3NhZ2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBhIHZhbHVlIHBhc3NlcyB0aGUgc3RydWN0J3MgdmFsaWRhdGlvbi5cbiAgICAgKi9cbiAgICBpcyh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaXModmFsdWUsIHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYXNrIGEgdmFsdWUsIGNvZXJjaW5nIGFuZCB2YWxpZGF0aW5nIGl0LCBidXQgcmV0dXJuaW5nIG9ubHkgdGhlIHN1YnNldCBvZlxuICAgICAqIHByb3BlcnRpZXMgZGVmaW5lZCBieSB0aGUgc3RydWN0J3Mgc2NoZW1hLlxuICAgICAqL1xuICAgIG1hc2sodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG1hc2sodmFsdWUsIHRoaXMsIG1lc3NhZ2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZSBhIHZhbHVlIHdpdGggdGhlIHN0cnVjdCdzIHZhbGlkYXRpb24gbG9naWMsIHJldHVybmluZyBhIHR1cGxlXG4gICAgICogcmVwcmVzZW50aW5nIHRoZSByZXN1bHQuXG4gICAgICpcbiAgICAgKiBZb3UgbWF5IG9wdGlvbmFsbHkgcGFzcyBgdHJ1ZWAgZm9yIHRoZSBgd2l0aENvZXJjaW9uYCBhcmd1bWVudCB0byBjb2VyY2VcbiAgICAgKiB0aGUgdmFsdWUgYmVmb3JlIGF0dGVtcHRpbmcgdG8gdmFsaWRhdGUgaXQuIElmIHlvdSBkbywgdGhlIHJlc3VsdCB3aWxsXG4gICAgICogY29udGFpbiB0aGUgY29lcmNlZCByZXN1bHQgd2hlbiBzdWNjZXNzZnVsLlxuICAgICAqL1xuICAgIHZhbGlkYXRlKHZhbHVlLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlKHZhbHVlLCB0aGlzLCBvcHRpb25zKTtcbiAgICB9XG59XG4vLyBTdHJpbmcgaW5zdGVhZCBvZiBhIFN5bWJvbCBpbiBjYXNlIG9mIG11bHRpcGxlIGRpZmZlcmVudCB2ZXJzaW9ucyBvZiB0aGlzIGxpYnJhcnkuXG5jb25zdCBFeGFjdE9wdGlvbmFsQnJhbmQgPSAnRVhBQ1RfT1BUSU9OQUwnO1xuLyoqXG4gKiBBbiBgRXhhY3RPcHRpb25hbFN0cnVjdGAgaXMgYSBgU3RydWN0YCB0aGF0IGlzIHVzZWQgdG8gY3JlYXRlIGV4YWN0bHkgb3B0aW9uYWxcbiAqIHByb3BlcnRpZXMgb2YgYG9iamVjdCgpYCBzdHJ1Y3RzLlxuICovXG5leHBvcnQgY2xhc3MgRXhhY3RPcHRpb25hbFN0cnVjdCBleHRlbmRzIFN0cnVjdCB7XG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgLi4ucHJvcHMsXG4gICAgICAgICAgICB0eXBlOiBgZXhhY3Qgb3B0aW9uYWwgJHtwcm9wcy50eXBlfWAsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmJyYW5kID0gRXhhY3RPcHRpb25hbEJyYW5kO1xuICAgIH1cbiAgICBzdGF0aWMgaXNFeGFjdE9wdGlvbmFsKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiAoaXNPYmplY3QodmFsdWUpICYmICdicmFuZCcgaW4gdmFsdWUgJiYgdmFsdWUuYnJhbmQgPT09IEV4YWN0T3B0aW9uYWxCcmFuZCk7XG4gICAgfVxufVxuLyoqXG4gKiBBc3NlcnQgdGhhdCBhIHZhbHVlIHBhc3NlcyBhIHN0cnVjdCwgdGhyb3dpbmcgaWYgaXQgZG9lc24ndC5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gdmFsaWRhdGUuXG4gKiBAcGFyYW0gc3RydWN0IC0gVGhlIHN0cnVjdCB0byB2YWxpZGF0ZSBhZ2FpbnN0LlxuICogQHBhcmFtIG1lc3NhZ2UgLSBBbiBvcHRpb25hbCBtZXNzYWdlIHRvIGluY2x1ZGUgaW4gdGhlIGVycm9yLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0KHZhbHVlLCBzdHJ1Y3QsIG1lc3NhZ2UpIHtcbiAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0ZSh2YWx1ZSwgc3RydWN0LCB7IG1lc3NhZ2UgfSk7XG4gICAgaWYgKHJlc3VsdFswXSkge1xuICAgICAgICB0aHJvdyByZXN1bHRbMF07XG4gICAgfVxufVxuLyoqXG4gKiBDcmVhdGUgYSB2YWx1ZSB3aXRoIHRoZSBjb2VyY2lvbiBsb2dpYyBvZiBzdHJ1Y3QgYW5kIHZhbGlkYXRlIGl0LlxuICpcbiAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBjb2VyY2UgYW5kIHZhbGlkYXRlLlxuICogQHBhcmFtIHN0cnVjdCAtIFRoZSBzdHJ1Y3QgdG8gdmFsaWRhdGUgYWdhaW5zdC5cbiAqIEBwYXJhbSBtZXNzYWdlIC0gQW4gb3B0aW9uYWwgbWVzc2FnZSB0byBpbmNsdWRlIGluIHRoZSBlcnJvci5cbiAqIEByZXR1cm5zIFRoZSBjb2VyY2VkIGFuZCB2YWxpZGF0ZWQgdmFsdWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUodmFsdWUsIHN0cnVjdCwgbWVzc2FnZSkge1xuICAgIGNvbnN0IHJlc3VsdCA9IHZhbGlkYXRlKHZhbHVlLCBzdHJ1Y3QsIHsgY29lcmNlOiB0cnVlLCBtZXNzYWdlIH0pO1xuICAgIGlmIChyZXN1bHRbMF0pIHtcbiAgICAgICAgdGhyb3cgcmVzdWx0WzBdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdFsxXTtcbiAgICB9XG59XG4vKipcbiAqIE1hc2sgYSB2YWx1ZSwgcmV0dXJuaW5nIG9ubHkgdGhlIHN1YnNldCBvZiBwcm9wZXJ0aWVzIGRlZmluZWQgYnkgYSBzdHJ1Y3QuXG4gKlxuICogQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIHRvIG1hc2suXG4gKiBAcGFyYW0gc3RydWN0IC0gVGhlIHN0cnVjdCB0byBtYXNrIGFnYWluc3QuXG4gKiBAcGFyYW0gbWVzc2FnZSAtIEFuIG9wdGlvbmFsIG1lc3NhZ2UgdG8gaW5jbHVkZSBpbiB0aGUgZXJyb3IuXG4gKiBAcmV0dXJucyBUaGUgbWFza2VkIHZhbHVlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWFzayh2YWx1ZSwgc3RydWN0LCBtZXNzYWdlKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGUodmFsdWUsIHN0cnVjdCwgeyBjb2VyY2U6IHRydWUsIG1hc2s6IHRydWUsIG1lc3NhZ2UgfSk7XG4gICAgaWYgKHJlc3VsdFswXSkge1xuICAgICAgICB0aHJvdyByZXN1bHRbMF07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gcmVzdWx0WzFdO1xuICAgIH1cbn1cbi8qKlxuICogQ2hlY2sgaWYgYSB2YWx1ZSBwYXNzZXMgYSBzdHJ1Y3QuXG4gKlxuICogQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIHRvIHZhbGlkYXRlLlxuICogQHBhcmFtIHN0cnVjdCAtIFRoZSBzdHJ1Y3QgdG8gdmFsaWRhdGUgYWdhaW5zdC5cbiAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWUgcGFzc2VzIHRoZSBzdHJ1Y3QsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXModmFsdWUsIHN0cnVjdCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IHZhbGlkYXRlKHZhbHVlLCBzdHJ1Y3QpO1xuICAgIHJldHVybiAhcmVzdWx0WzBdO1xufVxuLyoqXG4gKiBWYWxpZGF0ZSBhIHZhbHVlIGFnYWluc3QgYSBzdHJ1Y3QsIHJldHVybmluZyBhbiBlcnJvciBpZiBpbnZhbGlkLCBvciB0aGVcbiAqIHZhbHVlICh3aXRoIHBvdGVudGlhbCBjb2VyY2lvbikgaWYgdmFsaWQuXG4gKlxuICogQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIHRvIHZhbGlkYXRlLlxuICogQHBhcmFtIHN0cnVjdCAtIFRoZSBzdHJ1Y3QgdG8gdmFsaWRhdGUgYWdhaW5zdC5cbiAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9uYWwgc2V0dGluZ3MuXG4gKiBAcGFyYW0gb3B0aW9ucy5jb2VyY2UgLSBXaGV0aGVyIHRvIGNvZXJjZSB0aGUgdmFsdWUgYmVmb3JlIHZhbGlkYXRpbmcgaXQuXG4gKiBAcGFyYW0gb3B0aW9ucy5tYXNrIC0gV2hldGhlciB0byBtYXNrIHRoZSB2YWx1ZSBiZWZvcmUgdmFsaWRhdGluZyBpdC5cbiAqIEBwYXJhbSBvcHRpb25zLm1lc3NhZ2UgLSBBbiBvcHRpb25hbCBtZXNzYWdlIHRvIGluY2x1ZGUgaW4gdGhlIGVycm9yLlxuICogQHJldHVybnMgQSB0dXBsZSBjb250YWluaW5nIHRoZSBlcnJvciAoaWYgaW52YWxpZCkgYW5kIHRoZSB2YWxpZGF0ZWQgdmFsdWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZSh2YWx1ZSwgc3RydWN0LCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCB0dXBsZXMgPSBydW4odmFsdWUsIHN0cnVjdCwgb3B0aW9ucyk7XG4gICAgY29uc3QgdHVwbGUgPSBzaGlmdEl0ZXJhdG9yKHR1cGxlcyk7XG4gICAgaWYgKHR1cGxlWzBdKSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gbmV3IFN0cnVjdEVycm9yKHR1cGxlWzBdLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBpbm5lclR1cGxlIG9mIHR1cGxlcykge1xuICAgICAgICAgICAgICAgIGlmIChpbm5lclR1cGxlWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgIHlpZWxkIGlubmVyVHVwbGVbMF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFtlcnJvciwgdW5kZWZpbmVkXTtcbiAgICB9XG4gICAgY29uc3QgdmFsaWRhdGVkVmFsdWUgPSB0dXBsZVsxXTtcbiAgICByZXR1cm4gW3VuZGVmaW5lZCwgdmFsaWRhdGVkVmFsdWVdO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RydWN0Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@metamask/superstruct/dist/struct.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@metamask/superstruct/dist/structs/coercions.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@metamask/superstruct/dist/structs/coercions.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   coerce: () => (/* binding */ coerce),\n/* harmony export */   defaulted: () => (/* binding */ defaulted),\n/* harmony export */   trimmed: () => (/* binding */ trimmed)\n/* harmony export */ });\n/* harmony import */ var _struct_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../struct.mjs */ \"(ssr)/./node_modules/@metamask/superstruct/dist/struct.mjs\");\n/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils.mjs */ \"(ssr)/./node_modules/@metamask/superstruct/dist/utils.mjs\");\n/* harmony import */ var _types_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./types.mjs */ \"(ssr)/./node_modules/@metamask/superstruct/dist/structs/types.mjs\");\n\n\n\n/**\n * Augment a `Struct` to add an additional coercion step to its input.\n *\n * This allows you to transform input data before validating it, to increase the\n * likelihood that it passes validationfor example for default values, parsing\n * different formats, etc.\n *\n * Note: You must use `create(value, Struct)` on the value to have the coercion\n * take effect! Using simply `assert()` or `is()` will not use coercion.\n *\n * @param struct - The struct to augment.\n * @param condition - A struct that the input must pass to be coerced.\n * @param coercer - A function that takes the input and returns the coerced\n * value.\n * @returns A new struct that will coerce its input before validating it.\n */\nfunction coerce(struct, condition, coercer) {\n    return new _struct_mjs__WEBPACK_IMPORTED_MODULE_0__.Struct({\n        ...struct,\n        coercer: (value, ctx) => {\n            return (0,_struct_mjs__WEBPACK_IMPORTED_MODULE_0__.is)(value, condition)\n                ? struct.coercer(coercer(value, ctx), ctx)\n                : struct.coercer(value, ctx);\n        },\n    });\n}\n/**\n * Augment a struct to replace `undefined` values with a default.\n *\n * Note: You must use `create(value, Struct)` on the value to have the coercion\n * take effect! Using simply `assert()` or `is()` will not use coercion.\n *\n * @param struct - The struct to augment.\n * @param fallback - The value to use when the input is `undefined`.\n * @param options - An optional options object.\n * @param options.strict - When `true`, the fallback will only be used when the\n * input is `undefined`. When `false`, the fallback will be used when the input\n * is `undefined` or when the input is a plain object and the fallback is a\n * plain object, and any keys in the fallback are missing from the input.\n * @returns A new struct that will replace `undefined` inputs with a default.\n */\nfunction defaulted(struct, fallback, options = {}) {\n    return coerce(struct, (0,_types_mjs__WEBPACK_IMPORTED_MODULE_1__.unknown)(), (value) => {\n        const result = typeof fallback === 'function' ? fallback() : fallback;\n        if (value === undefined) {\n            return result;\n        }\n        if (!options.strict && (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.isPlainObject)(value) && (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.isPlainObject)(result)) {\n            const ret = { ...value };\n            let changed = false;\n            for (const key in result) {\n                if (ret[key] === undefined) {\n                    ret[key] = result[key];\n                    changed = true;\n                }\n            }\n            if (changed) {\n                return ret;\n            }\n        }\n        return value;\n    });\n}\n/**\n * Augment a struct to trim string inputs.\n *\n * Note: You must use `create(value, Struct)` on the value to have the coercion\n * take effect! Using simply `assert()` or `is()` will not use coercion.\n *\n * @param struct - The struct to augment.\n * @returns A new struct that will trim string inputs before validating them.\n */\nfunction trimmed(struct) {\n    return coerce(struct, (0,_types_mjs__WEBPACK_IMPORTED_MODULE_1__.string)(), (value) => value.trim());\n}\n//# sourceMappingURL=coercions.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1ldGFtYXNrL3N1cGVyc3RydWN0L2Rpc3Qvc3RydWN0cy9jb2VyY2lvbnMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUEyQztBQUNFO0FBQ0M7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLGVBQWUsK0NBQU07QUFDckI7QUFDQTtBQUNBLG1CQUFtQiwrQ0FBRTtBQUNyQjtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLGlEQUFpRDtBQUN4RCwwQkFBMEIsbURBQU87QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IseURBQWEsV0FBVyx5REFBYTtBQUNwRSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCwwQkFBMEIsa0RBQU07QUFDaEM7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2dlb3F1ZXN0LWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL0BtZXRhbWFzay9zdXBlcnN0cnVjdC9kaXN0L3N0cnVjdHMvY29lcmNpb25zLm1qcz9iYmI3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFN0cnVjdCwgaXMgfSBmcm9tIFwiLi4vc3RydWN0Lm1qc1wiO1xuaW1wb3J0IHsgaXNQbGFpbk9iamVjdCB9IGZyb20gXCIuLi91dGlscy5tanNcIjtcbmltcG9ydCB7IHN0cmluZywgdW5rbm93biB9IGZyb20gXCIuL3R5cGVzLm1qc1wiO1xuLyoqXG4gKiBBdWdtZW50IGEgYFN0cnVjdGAgdG8gYWRkIGFuIGFkZGl0aW9uYWwgY29lcmNpb24gc3RlcCB0byBpdHMgaW5wdXQuXG4gKlxuICogVGhpcyBhbGxvd3MgeW91IHRvIHRyYW5zZm9ybSBpbnB1dCBkYXRhIGJlZm9yZSB2YWxpZGF0aW5nIGl0LCB0byBpbmNyZWFzZSB0aGVcbiAqIGxpa2VsaWhvb2QgdGhhdCBpdCBwYXNzZXMgdmFsaWRhdGlvbuKAlGZvciBleGFtcGxlIGZvciBkZWZhdWx0IHZhbHVlcywgcGFyc2luZ1xuICogZGlmZmVyZW50IGZvcm1hdHMsIGV0Yy5cbiAqXG4gKiBOb3RlOiBZb3UgbXVzdCB1c2UgYGNyZWF0ZSh2YWx1ZSwgU3RydWN0KWAgb24gdGhlIHZhbHVlIHRvIGhhdmUgdGhlIGNvZXJjaW9uXG4gKiB0YWtlIGVmZmVjdCEgVXNpbmcgc2ltcGx5IGBhc3NlcnQoKWAgb3IgYGlzKClgIHdpbGwgbm90IHVzZSBjb2VyY2lvbi5cbiAqXG4gKiBAcGFyYW0gc3RydWN0IC0gVGhlIHN0cnVjdCB0byBhdWdtZW50LlxuICogQHBhcmFtIGNvbmRpdGlvbiAtIEEgc3RydWN0IHRoYXQgdGhlIGlucHV0IG11c3QgcGFzcyB0byBiZSBjb2VyY2VkLlxuICogQHBhcmFtIGNvZXJjZXIgLSBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgdGhlIGlucHV0IGFuZCByZXR1cm5zIHRoZSBjb2VyY2VkXG4gKiB2YWx1ZS5cbiAqIEByZXR1cm5zIEEgbmV3IHN0cnVjdCB0aGF0IHdpbGwgY29lcmNlIGl0cyBpbnB1dCBiZWZvcmUgdmFsaWRhdGluZyBpdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvZXJjZShzdHJ1Y3QsIGNvbmRpdGlvbiwgY29lcmNlcikge1xuICAgIHJldHVybiBuZXcgU3RydWN0KHtcbiAgICAgICAgLi4uc3RydWN0LFxuICAgICAgICBjb2VyY2VyOiAodmFsdWUsIGN0eCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGlzKHZhbHVlLCBjb25kaXRpb24pXG4gICAgICAgICAgICAgICAgPyBzdHJ1Y3QuY29lcmNlcihjb2VyY2VyKHZhbHVlLCBjdHgpLCBjdHgpXG4gICAgICAgICAgICAgICAgOiBzdHJ1Y3QuY29lcmNlcih2YWx1ZSwgY3R4KTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbi8qKlxuICogQXVnbWVudCBhIHN0cnVjdCB0byByZXBsYWNlIGB1bmRlZmluZWRgIHZhbHVlcyB3aXRoIGEgZGVmYXVsdC5cbiAqXG4gKiBOb3RlOiBZb3UgbXVzdCB1c2UgYGNyZWF0ZSh2YWx1ZSwgU3RydWN0KWAgb24gdGhlIHZhbHVlIHRvIGhhdmUgdGhlIGNvZXJjaW9uXG4gKiB0YWtlIGVmZmVjdCEgVXNpbmcgc2ltcGx5IGBhc3NlcnQoKWAgb3IgYGlzKClgIHdpbGwgbm90IHVzZSBjb2VyY2lvbi5cbiAqXG4gKiBAcGFyYW0gc3RydWN0IC0gVGhlIHN0cnVjdCB0byBhdWdtZW50LlxuICogQHBhcmFtIGZhbGxiYWNrIC0gVGhlIHZhbHVlIHRvIHVzZSB3aGVuIHRoZSBpbnB1dCBpcyBgdW5kZWZpbmVkYC5cbiAqIEBwYXJhbSBvcHRpb25zIC0gQW4gb3B0aW9uYWwgb3B0aW9ucyBvYmplY3QuXG4gKiBAcGFyYW0gb3B0aW9ucy5zdHJpY3QgLSBXaGVuIGB0cnVlYCwgdGhlIGZhbGxiYWNrIHdpbGwgb25seSBiZSB1c2VkIHdoZW4gdGhlXG4gKiBpbnB1dCBpcyBgdW5kZWZpbmVkYC4gV2hlbiBgZmFsc2VgLCB0aGUgZmFsbGJhY2sgd2lsbCBiZSB1c2VkIHdoZW4gdGhlIGlucHV0XG4gKiBpcyBgdW5kZWZpbmVkYCBvciB3aGVuIHRoZSBpbnB1dCBpcyBhIHBsYWluIG9iamVjdCBhbmQgdGhlIGZhbGxiYWNrIGlzIGFcbiAqIHBsYWluIG9iamVjdCwgYW5kIGFueSBrZXlzIGluIHRoZSBmYWxsYmFjayBhcmUgbWlzc2luZyBmcm9tIHRoZSBpbnB1dC5cbiAqIEByZXR1cm5zIEEgbmV3IHN0cnVjdCB0aGF0IHdpbGwgcmVwbGFjZSBgdW5kZWZpbmVkYCBpbnB1dHMgd2l0aCBhIGRlZmF1bHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0ZWQoc3RydWN0LCBmYWxsYmFjaywgb3B0aW9ucyA9IHt9KSB7XG4gICAgcmV0dXJuIGNvZXJjZShzdHJ1Y3QsIHVua25vd24oKSwgKHZhbHVlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHR5cGVvZiBmYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJyA/IGZhbGxiYWNrKCkgOiBmYWxsYmFjaztcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFvcHRpb25zLnN0cmljdCAmJiBpc1BsYWluT2JqZWN0KHZhbHVlKSAmJiBpc1BsYWluT2JqZWN0KHJlc3VsdCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHJldCA9IHsgLi4udmFsdWUgfTtcbiAgICAgICAgICAgIGxldCBjaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiByZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBpZiAocmV0W2tleV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICByZXRba2V5XSA9IHJlc3VsdFtrZXldO1xuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0pO1xufVxuLyoqXG4gKiBBdWdtZW50IGEgc3RydWN0IHRvIHRyaW0gc3RyaW5nIGlucHV0cy5cbiAqXG4gKiBOb3RlOiBZb3UgbXVzdCB1c2UgYGNyZWF0ZSh2YWx1ZSwgU3RydWN0KWAgb24gdGhlIHZhbHVlIHRvIGhhdmUgdGhlIGNvZXJjaW9uXG4gKiB0YWtlIGVmZmVjdCEgVXNpbmcgc2ltcGx5IGBhc3NlcnQoKWAgb3IgYGlzKClgIHdpbGwgbm90IHVzZSBjb2VyY2lvbi5cbiAqXG4gKiBAcGFyYW0gc3RydWN0IC0gVGhlIHN0cnVjdCB0byBhdWdtZW50LlxuICogQHJldHVybnMgQSBuZXcgc3RydWN0IHRoYXQgd2lsbCB0cmltIHN0cmluZyBpbnB1dHMgYmVmb3JlIHZhbGlkYXRpbmcgdGhlbS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaW1tZWQoc3RydWN0KSB7XG4gICAgcmV0dXJuIGNvZXJjZShzdHJ1Y3QsIHN0cmluZygpLCAodmFsdWUpID0+IHZhbHVlLnRyaW0oKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb2VyY2lvbnMubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@metamask/superstruct/dist/structs/coercions.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@metamask/superstruct/dist/structs/refinements.mjs":
/*!*************************************************************************!*\
  !*** ./node_modules/@metamask/superstruct/dist/structs/refinements.mjs ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   empty: () => (/* binding */ empty),\n/* harmony export */   max: () => (/* binding */ max),\n/* harmony export */   min: () => (/* binding */ min),\n/* harmony export */   nonempty: () => (/* binding */ nonempty),\n/* harmony export */   pattern: () => (/* binding */ pattern),\n/* harmony export */   refine: () => (/* binding */ refine),\n/* harmony export */   size: () => (/* binding */ size)\n/* harmony export */ });\n/* harmony import */ var _struct_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../struct.mjs */ \"(ssr)/./node_modules/@metamask/superstruct/dist/struct.mjs\");\n/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.mjs */ \"(ssr)/./node_modules/@metamask/superstruct/dist/utils.mjs\");\n\n\n/**\n * Ensure that a string, array, map, or set is empty.\n *\n * @param struct - The struct to augment.\n * @returns A new struct that will only accept empty values.\n */\nfunction empty(struct) {\n    return refine(struct, 'empty', (value) => {\n        // eslint-disable-next-line @typescript-eslint/no-shadow\n        const size = getSize(value);\n        return (size === 0 ||\n            `Expected an empty ${struct.type} but received one with a size of \\`${size}\\``);\n    });\n}\n/**\n * Get the size of a string, array, map, or set.\n *\n * @param value - The value to measure.\n * @returns The size of the value.\n */\nfunction getSize(value) {\n    if (value instanceof Map || value instanceof Set) {\n        return value.size;\n    }\n    return value.length;\n}\n/**\n * Ensure that a number or date is below a threshold.\n *\n * @param struct - The struct to augment.\n * @param threshold - The maximum value that the input can be.\n * @param options - An optional options object.\n * @param options.exclusive - When `true`, the input must be strictly less than\n * the threshold. When `false`, the input must be less than or equal to the\n * threshold.\n * @returns A new struct that will only accept values below the threshold.\n */\nfunction max(struct, threshold, options = {}) {\n    const { exclusive } = options;\n    return refine(struct, 'max', (value) => {\n        return exclusive\n            ? value < threshold\n            : value <= threshold ||\n                `Expected a ${struct.type} less than ${exclusive ? '' : 'or equal to '\n                // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n                }${threshold} but received \\`${value}\\``;\n    });\n}\n/**\n * Ensure that a number or date is above a threshold.\n *\n * @param struct - The struct to augment.\n * @param threshold - The minimum value that the input can be.\n * @param options - An optional options object.\n * @param options.exclusive - When `true`, the input must be strictly greater\n * than the threshold. When `false`, the input must be greater than or equal to\n * the threshold.\n * @returns A new struct that will only accept values above the threshold.\n */\nfunction min(struct, threshold, options = {}) {\n    const { exclusive } = options;\n    return refine(struct, 'min', (value) => {\n        return exclusive\n            ? value > threshold\n            : value >= threshold ||\n                `Expected a ${struct.type} greater than ${exclusive ? '' : 'or equal to '\n                // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n                }${threshold} but received \\`${value}\\``;\n    });\n}\n/**\n * Ensure that a string, array, map or set is not empty.\n *\n * @param struct - The struct to augment.\n * @returns A new struct that will only accept non-empty values.\n */\nfunction nonempty(struct) {\n    return refine(struct, 'nonempty', (value) => {\n        // eslint-disable-next-line @typescript-eslint/no-shadow\n        const size = getSize(value);\n        return (size > 0 || `Expected a nonempty ${struct.type} but received an empty one`);\n    });\n}\n/**\n * Ensure that a string matches a regular expression.\n *\n * @param struct - The struct to augment.\n * @param regexp - The regular expression to match against.\n * @returns A new struct that will only accept strings matching the regular\n * expression.\n */\nfunction pattern(struct, regexp) {\n    return refine(struct, 'pattern', (value) => {\n        return (regexp.test(value) ||\n            `Expected a ${struct.type} matching \\`/${regexp.source}/\\` but received \"${value}\"`);\n    });\n}\n/**\n * Ensure that a string, array, number, date, map, or set has a size (or length,\n * or time) between `min` and `max`.\n *\n * @param struct - The struct to augment.\n * @param minimum - The minimum size that the input can be.\n * @param maximum - The maximum size that the input can be.\n * @returns A new struct that will only accept values within the given size\n * range.\n */\nfunction size(struct, minimum, maximum = minimum) {\n    const expected = `Expected a ${struct.type}`;\n    const of = minimum === maximum\n        ? `of \\`${minimum}\\``\n        : `between \\`${minimum}\\` and \\`${maximum}\\``;\n    return refine(struct, 'size', (value) => {\n        if (typeof value === 'number' || value instanceof Date) {\n            return ((minimum <= value && value <= maximum) ||\n                // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n                `${expected} ${of} but received \\`${value}\\``);\n        }\n        else if (value instanceof Map || value instanceof Set) {\n            // eslint-disable-next-line @typescript-eslint/no-shadow\n            const { size } = value;\n            return ((minimum <= size && size <= maximum) ||\n                `${expected} with a size ${of} but received one with a size of \\`${size}\\``);\n        }\n        const { length } = value;\n        return ((minimum <= length && length <= maximum) ||\n            `${expected} with a length ${of} but received one with a length of \\`${length}\\``);\n    });\n}\n/**\n * Augment a `Struct` to add an additional refinement to the validation.\n *\n * The refiner function is guaranteed to receive a value of the struct's type,\n * because the struct's existing validation will already have passed. This\n * allows you to layer additional validation on top of existing structs.\n *\n * @param struct - The struct to augment.\n * @param name - The name of the refinement.\n * @param refiner - The refiner function.\n * @returns A new struct that will run the refiner function after the existing\n * validation.\n */\nfunction refine(struct, name, refiner) {\n    return new _struct_mjs__WEBPACK_IMPORTED_MODULE_0__.Struct({\n        ...struct,\n        *refiner(value, ctx) {\n            yield* struct.refiner(value, ctx);\n            const result = refiner(value, ctx);\n            const failures = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.toFailures)(result, ctx, struct, value);\n            for (const failure of failures) {\n                yield { ...failure, refinement: name };\n            }\n        },\n    });\n}\n//# sourceMappingURL=refinements.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1ldGFtYXNrL3N1cGVyc3RydWN0L2Rpc3Qvc3RydWN0cy9yZWZpbmVtZW50cy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQXVDO0FBQ0c7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxhQUFhLG9DQUFvQyxLQUFLO0FBQ3ZGLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyw0Q0FBNEM7QUFDbkQsWUFBWSxZQUFZO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGFBQWEsWUFBWTtBQUN2RDtBQUNBLGlCQUFpQixFQUFFLFdBQVcsaUJBQWlCLE1BQU07QUFDckQsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLDRDQUE0QztBQUNuRCxZQUFZLFlBQVk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsYUFBYSxlQUFlO0FBQzFEO0FBQ0EsaUJBQWlCLEVBQUUsV0FBVyxpQkFBaUIsTUFBTTtBQUNyRCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxhQUFhO0FBQ2hFLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSwwQkFBMEIsYUFBYSxjQUFjLGNBQWMsb0JBQW9CLE1BQU07QUFDN0YsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLG1DQUFtQyxZQUFZO0FBQy9DO0FBQ0Esa0JBQWtCLFFBQVE7QUFDMUIsdUJBQXVCLFFBQVEsV0FBVyxRQUFRO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLFVBQVUsRUFBRSxJQUFJLGlCQUFpQixNQUFNO0FBQzFEO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixPQUFPO0FBQzNCO0FBQ0EsbUJBQW1CLFVBQVUsY0FBYyxJQUFJLG9DQUFvQyxLQUFLO0FBQ3hGO0FBQ0EsZ0JBQWdCLFNBQVM7QUFDekI7QUFDQSxlQUFlLFVBQVUsZ0JBQWdCLElBQUksc0NBQXNDLE9BQU87QUFDMUYsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLGVBQWUsK0NBQU07QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsc0RBQVU7QUFDdkM7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9xdWVzdC1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9AbWV0YW1hc2svc3VwZXJzdHJ1Y3QvZGlzdC9zdHJ1Y3RzL3JlZmluZW1lbnRzLm1qcz81NmMwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFN0cnVjdCB9IGZyb20gXCIuLi9zdHJ1Y3QubWpzXCI7XG5pbXBvcnQgeyB0b0ZhaWx1cmVzIH0gZnJvbSBcIi4uL3V0aWxzLm1qc1wiO1xuLyoqXG4gKiBFbnN1cmUgdGhhdCBhIHN0cmluZywgYXJyYXksIG1hcCwgb3Igc2V0IGlzIGVtcHR5LlxuICpcbiAqIEBwYXJhbSBzdHJ1Y3QgLSBUaGUgc3RydWN0IHRvIGF1Z21lbnQuXG4gKiBAcmV0dXJucyBBIG5ldyBzdHJ1Y3QgdGhhdCB3aWxsIG9ubHkgYWNjZXB0IGVtcHR5IHZhbHVlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVtcHR5KHN0cnVjdCkge1xuICAgIHJldHVybiByZWZpbmUoc3RydWN0LCAnZW1wdHknLCAodmFsdWUpID0+IHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1zaGFkb3dcbiAgICAgICAgY29uc3Qgc2l6ZSA9IGdldFNpemUodmFsdWUpO1xuICAgICAgICByZXR1cm4gKHNpemUgPT09IDAgfHxcbiAgICAgICAgICAgIGBFeHBlY3RlZCBhbiBlbXB0eSAke3N0cnVjdC50eXBlfSBidXQgcmVjZWl2ZWQgb25lIHdpdGggYSBzaXplIG9mIFxcYCR7c2l6ZX1cXGBgKTtcbiAgICB9KTtcbn1cbi8qKlxuICogR2V0IHRoZSBzaXplIG9mIGEgc3RyaW5nLCBhcnJheSwgbWFwLCBvciBzZXQuXG4gKlxuICogQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIHRvIG1lYXN1cmUuXG4gKiBAcmV0dXJucyBUaGUgc2l6ZSBvZiB0aGUgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGdldFNpemUodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBNYXAgfHwgdmFsdWUgaW5zdGFuY2VvZiBTZXQpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlLnNpemU7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZS5sZW5ndGg7XG59XG4vKipcbiAqIEVuc3VyZSB0aGF0IGEgbnVtYmVyIG9yIGRhdGUgaXMgYmVsb3cgYSB0aHJlc2hvbGQuXG4gKlxuICogQHBhcmFtIHN0cnVjdCAtIFRoZSBzdHJ1Y3QgdG8gYXVnbWVudC5cbiAqIEBwYXJhbSB0aHJlc2hvbGQgLSBUaGUgbWF4aW11bSB2YWx1ZSB0aGF0IHRoZSBpbnB1dCBjYW4gYmUuXG4gKiBAcGFyYW0gb3B0aW9ucyAtIEFuIG9wdGlvbmFsIG9wdGlvbnMgb2JqZWN0LlxuICogQHBhcmFtIG9wdGlvbnMuZXhjbHVzaXZlIC0gV2hlbiBgdHJ1ZWAsIHRoZSBpbnB1dCBtdXN0IGJlIHN0cmljdGx5IGxlc3MgdGhhblxuICogdGhlIHRocmVzaG9sZC4gV2hlbiBgZmFsc2VgLCB0aGUgaW5wdXQgbXVzdCBiZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGhlXG4gKiB0aHJlc2hvbGQuXG4gKiBAcmV0dXJucyBBIG5ldyBzdHJ1Y3QgdGhhdCB3aWxsIG9ubHkgYWNjZXB0IHZhbHVlcyBiZWxvdyB0aGUgdGhyZXNob2xkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWF4KHN0cnVjdCwgdGhyZXNob2xkLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCB7IGV4Y2x1c2l2ZSB9ID0gb3B0aW9ucztcbiAgICByZXR1cm4gcmVmaW5lKHN0cnVjdCwgJ21heCcsICh2YWx1ZSkgPT4ge1xuICAgICAgICByZXR1cm4gZXhjbHVzaXZlXG4gICAgICAgICAgICA/IHZhbHVlIDwgdGhyZXNob2xkXG4gICAgICAgICAgICA6IHZhbHVlIDw9IHRocmVzaG9sZCB8fFxuICAgICAgICAgICAgICAgIGBFeHBlY3RlZCBhICR7c3RydWN0LnR5cGV9IGxlc3MgdGhhbiAke2V4Y2x1c2l2ZSA/ICcnIDogJ29yIGVxdWFsIHRvICdcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3Jlc3RyaWN0LXRlbXBsYXRlLWV4cHJlc3Npb25zXG4gICAgICAgICAgICAgICAgfSR7dGhyZXNob2xkfSBidXQgcmVjZWl2ZWQgXFxgJHt2YWx1ZX1cXGBgO1xuICAgIH0pO1xufVxuLyoqXG4gKiBFbnN1cmUgdGhhdCBhIG51bWJlciBvciBkYXRlIGlzIGFib3ZlIGEgdGhyZXNob2xkLlxuICpcbiAqIEBwYXJhbSBzdHJ1Y3QgLSBUaGUgc3RydWN0IHRvIGF1Z21lbnQuXG4gKiBAcGFyYW0gdGhyZXNob2xkIC0gVGhlIG1pbmltdW0gdmFsdWUgdGhhdCB0aGUgaW5wdXQgY2FuIGJlLlxuICogQHBhcmFtIG9wdGlvbnMgLSBBbiBvcHRpb25hbCBvcHRpb25zIG9iamVjdC5cbiAqIEBwYXJhbSBvcHRpb25zLmV4Y2x1c2l2ZSAtIFdoZW4gYHRydWVgLCB0aGUgaW5wdXQgbXVzdCBiZSBzdHJpY3RseSBncmVhdGVyXG4gKiB0aGFuIHRoZSB0aHJlc2hvbGQuIFdoZW4gYGZhbHNlYCwgdGhlIGlucHV0IG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvXG4gKiB0aGUgdGhyZXNob2xkLlxuICogQHJldHVybnMgQSBuZXcgc3RydWN0IHRoYXQgd2lsbCBvbmx5IGFjY2VwdCB2YWx1ZXMgYWJvdmUgdGhlIHRocmVzaG9sZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1pbihzdHJ1Y3QsIHRocmVzaG9sZCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgeyBleGNsdXNpdmUgfSA9IG9wdGlvbnM7XG4gICAgcmV0dXJuIHJlZmluZShzdHJ1Y3QsICdtaW4nLCAodmFsdWUpID0+IHtcbiAgICAgICAgcmV0dXJuIGV4Y2x1c2l2ZVxuICAgICAgICAgICAgPyB2YWx1ZSA+IHRocmVzaG9sZFxuICAgICAgICAgICAgOiB2YWx1ZSA+PSB0aHJlc2hvbGQgfHxcbiAgICAgICAgICAgICAgICBgRXhwZWN0ZWQgYSAke3N0cnVjdC50eXBlfSBncmVhdGVyIHRoYW4gJHtleGNsdXNpdmUgPyAnJyA6ICdvciBlcXVhbCB0byAnXG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9yZXN0cmljdC10ZW1wbGF0ZS1leHByZXNzaW9uc1xuICAgICAgICAgICAgICAgIH0ke3RocmVzaG9sZH0gYnV0IHJlY2VpdmVkIFxcYCR7dmFsdWV9XFxgYDtcbiAgICB9KTtcbn1cbi8qKlxuICogRW5zdXJlIHRoYXQgYSBzdHJpbmcsIGFycmF5LCBtYXAgb3Igc2V0IGlzIG5vdCBlbXB0eS5cbiAqXG4gKiBAcGFyYW0gc3RydWN0IC0gVGhlIHN0cnVjdCB0byBhdWdtZW50LlxuICogQHJldHVybnMgQSBuZXcgc3RydWN0IHRoYXQgd2lsbCBvbmx5IGFjY2VwdCBub24tZW1wdHkgdmFsdWVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbm9uZW1wdHkoc3RydWN0KSB7XG4gICAgcmV0dXJuIHJlZmluZShzdHJ1Y3QsICdub25lbXB0eScsICh2YWx1ZSkgPT4ge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXNoYWRvd1xuICAgICAgICBjb25zdCBzaXplID0gZ2V0U2l6ZSh2YWx1ZSk7XG4gICAgICAgIHJldHVybiAoc2l6ZSA+IDAgfHwgYEV4cGVjdGVkIGEgbm9uZW1wdHkgJHtzdHJ1Y3QudHlwZX0gYnV0IHJlY2VpdmVkIGFuIGVtcHR5IG9uZWApO1xuICAgIH0pO1xufVxuLyoqXG4gKiBFbnN1cmUgdGhhdCBhIHN0cmluZyBtYXRjaGVzIGEgcmVndWxhciBleHByZXNzaW9uLlxuICpcbiAqIEBwYXJhbSBzdHJ1Y3QgLSBUaGUgc3RydWN0IHRvIGF1Z21lbnQuXG4gKiBAcGFyYW0gcmVnZXhwIC0gVGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byBtYXRjaCBhZ2FpbnN0LlxuICogQHJldHVybnMgQSBuZXcgc3RydWN0IHRoYXQgd2lsbCBvbmx5IGFjY2VwdCBzdHJpbmdzIG1hdGNoaW5nIHRoZSByZWd1bGFyXG4gKiBleHByZXNzaW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcGF0dGVybihzdHJ1Y3QsIHJlZ2V4cCkge1xuICAgIHJldHVybiByZWZpbmUoc3RydWN0LCAncGF0dGVybicsICh2YWx1ZSkgPT4ge1xuICAgICAgICByZXR1cm4gKHJlZ2V4cC50ZXN0KHZhbHVlKSB8fFxuICAgICAgICAgICAgYEV4cGVjdGVkIGEgJHtzdHJ1Y3QudHlwZX0gbWF0Y2hpbmcgXFxgLyR7cmVnZXhwLnNvdXJjZX0vXFxgIGJ1dCByZWNlaXZlZCBcIiR7dmFsdWV9XCJgKTtcbiAgICB9KTtcbn1cbi8qKlxuICogRW5zdXJlIHRoYXQgYSBzdHJpbmcsIGFycmF5LCBudW1iZXIsIGRhdGUsIG1hcCwgb3Igc2V0IGhhcyBhIHNpemUgKG9yIGxlbmd0aCxcbiAqIG9yIHRpbWUpIGJldHdlZW4gYG1pbmAgYW5kIGBtYXhgLlxuICpcbiAqIEBwYXJhbSBzdHJ1Y3QgLSBUaGUgc3RydWN0IHRvIGF1Z21lbnQuXG4gKiBAcGFyYW0gbWluaW11bSAtIFRoZSBtaW5pbXVtIHNpemUgdGhhdCB0aGUgaW5wdXQgY2FuIGJlLlxuICogQHBhcmFtIG1heGltdW0gLSBUaGUgbWF4aW11bSBzaXplIHRoYXQgdGhlIGlucHV0IGNhbiBiZS5cbiAqIEByZXR1cm5zIEEgbmV3IHN0cnVjdCB0aGF0IHdpbGwgb25seSBhY2NlcHQgdmFsdWVzIHdpdGhpbiB0aGUgZ2l2ZW4gc2l6ZVxuICogcmFuZ2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaXplKHN0cnVjdCwgbWluaW11bSwgbWF4aW11bSA9IG1pbmltdW0pIHtcbiAgICBjb25zdCBleHBlY3RlZCA9IGBFeHBlY3RlZCBhICR7c3RydWN0LnR5cGV9YDtcbiAgICBjb25zdCBvZiA9IG1pbmltdW0gPT09IG1heGltdW1cbiAgICAgICAgPyBgb2YgXFxgJHttaW5pbXVtfVxcYGBcbiAgICAgICAgOiBgYmV0d2VlbiBcXGAke21pbmltdW19XFxgIGFuZCBcXGAke21heGltdW19XFxgYDtcbiAgICByZXR1cm4gcmVmaW5lKHN0cnVjdCwgJ3NpemUnLCAodmFsdWUpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgfHwgdmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gKChtaW5pbXVtIDw9IHZhbHVlICYmIHZhbHVlIDw9IG1heGltdW0pIHx8XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9yZXN0cmljdC10ZW1wbGF0ZS1leHByZXNzaW9uc1xuICAgICAgICAgICAgICAgIGAke2V4cGVjdGVkfSAke29mfSBidXQgcmVjZWl2ZWQgXFxgJHt2YWx1ZX1cXGBgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIE1hcCB8fCB2YWx1ZSBpbnN0YW5jZW9mIFNldCkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1zaGFkb3dcbiAgICAgICAgICAgIGNvbnN0IHsgc2l6ZSB9ID0gdmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gKChtaW5pbXVtIDw9IHNpemUgJiYgc2l6ZSA8PSBtYXhpbXVtKSB8fFxuICAgICAgICAgICAgICAgIGAke2V4cGVjdGVkfSB3aXRoIGEgc2l6ZSAke29mfSBidXQgcmVjZWl2ZWQgb25lIHdpdGggYSBzaXplIG9mIFxcYCR7c2l6ZX1cXGBgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGxlbmd0aCB9ID0gdmFsdWU7XG4gICAgICAgIHJldHVybiAoKG1pbmltdW0gPD0gbGVuZ3RoICYmIGxlbmd0aCA8PSBtYXhpbXVtKSB8fFxuICAgICAgICAgICAgYCR7ZXhwZWN0ZWR9IHdpdGggYSBsZW5ndGggJHtvZn0gYnV0IHJlY2VpdmVkIG9uZSB3aXRoIGEgbGVuZ3RoIG9mIFxcYCR7bGVuZ3RofVxcYGApO1xuICAgIH0pO1xufVxuLyoqXG4gKiBBdWdtZW50IGEgYFN0cnVjdGAgdG8gYWRkIGFuIGFkZGl0aW9uYWwgcmVmaW5lbWVudCB0byB0aGUgdmFsaWRhdGlvbi5cbiAqXG4gKiBUaGUgcmVmaW5lciBmdW5jdGlvbiBpcyBndWFyYW50ZWVkIHRvIHJlY2VpdmUgYSB2YWx1ZSBvZiB0aGUgc3RydWN0J3MgdHlwZSxcbiAqIGJlY2F1c2UgdGhlIHN0cnVjdCdzIGV4aXN0aW5nIHZhbGlkYXRpb24gd2lsbCBhbHJlYWR5IGhhdmUgcGFzc2VkLiBUaGlzXG4gKiBhbGxvd3MgeW91IHRvIGxheWVyIGFkZGl0aW9uYWwgdmFsaWRhdGlvbiBvbiB0b3Agb2YgZXhpc3Rpbmcgc3RydWN0cy5cbiAqXG4gKiBAcGFyYW0gc3RydWN0IC0gVGhlIHN0cnVjdCB0byBhdWdtZW50LlxuICogQHBhcmFtIG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcmVmaW5lbWVudC5cbiAqIEBwYXJhbSByZWZpbmVyIC0gVGhlIHJlZmluZXIgZnVuY3Rpb24uXG4gKiBAcmV0dXJucyBBIG5ldyBzdHJ1Y3QgdGhhdCB3aWxsIHJ1biB0aGUgcmVmaW5lciBmdW5jdGlvbiBhZnRlciB0aGUgZXhpc3RpbmdcbiAqIHZhbGlkYXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWZpbmUoc3RydWN0LCBuYW1lLCByZWZpbmVyKSB7XG4gICAgcmV0dXJuIG5ldyBTdHJ1Y3Qoe1xuICAgICAgICAuLi5zdHJ1Y3QsXG4gICAgICAgICpyZWZpbmVyKHZhbHVlLCBjdHgpIHtcbiAgICAgICAgICAgIHlpZWxkKiBzdHJ1Y3QucmVmaW5lcih2YWx1ZSwgY3R4KTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlZmluZXIodmFsdWUsIGN0eCk7XG4gICAgICAgICAgICBjb25zdCBmYWlsdXJlcyA9IHRvRmFpbHVyZXMocmVzdWx0LCBjdHgsIHN0cnVjdCwgdmFsdWUpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBmYWlsdXJlIG9mIGZhaWx1cmVzKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgeyAuLi5mYWlsdXJlLCByZWZpbmVtZW50OiBuYW1lIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWZpbmVtZW50cy5tanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@metamask/superstruct/dist/structs/refinements.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@metamask/superstruct/dist/structs/types.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@metamask/superstruct/dist/structs/types.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   any: () => (/* binding */ any),\n/* harmony export */   array: () => (/* binding */ array),\n/* harmony export */   bigint: () => (/* binding */ bigint),\n/* harmony export */   boolean: () => (/* binding */ boolean),\n/* harmony export */   date: () => (/* binding */ date),\n/* harmony export */   enums: () => (/* binding */ enums),\n/* harmony export */   exactOptional: () => (/* binding */ exactOptional),\n/* harmony export */   func: () => (/* binding */ func),\n/* harmony export */   instance: () => (/* binding */ instance),\n/* harmony export */   integer: () => (/* binding */ integer),\n/* harmony export */   intersection: () => (/* binding */ intersection),\n/* harmony export */   literal: () => (/* binding */ literal),\n/* harmony export */   map: () => (/* binding */ map),\n/* harmony export */   never: () => (/* binding */ never),\n/* harmony export */   nullable: () => (/* binding */ nullable),\n/* harmony export */   number: () => (/* binding */ number),\n/* harmony export */   object: () => (/* binding */ object),\n/* harmony export */   optional: () => (/* binding */ optional),\n/* harmony export */   record: () => (/* binding */ record),\n/* harmony export */   regexp: () => (/* binding */ regexp),\n/* harmony export */   set: () => (/* binding */ set),\n/* harmony export */   string: () => (/* binding */ string),\n/* harmony export */   tuple: () => (/* binding */ tuple),\n/* harmony export */   type: () => (/* binding */ type),\n/* harmony export */   union: () => (/* binding */ union),\n/* harmony export */   unknown: () => (/* binding */ unknown)\n/* harmony export */ });\n/* harmony import */ var _struct_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../struct.mjs */ \"(ssr)/./node_modules/@metamask/superstruct/dist/struct.mjs\");\n/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils.mjs */ \"(ssr)/./node_modules/@metamask/superstruct/dist/utils.mjs\");\n/* harmony import */ var _utilities_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities.mjs */ \"(ssr)/./node_modules/@metamask/superstruct/dist/structs/utilities.mjs\");\n\n\n\n/**\n * Ensure that any value passes validation.\n *\n * @returns A struct that will always pass validation.\n */\nfunction any() {\n    return (0,_utilities_mjs__WEBPACK_IMPORTED_MODULE_0__.define)('any', () => true);\n}\n/**\n * Ensure that a value is an array and that its elements are of a specific type.\n *\n * Note: If you omit the element struct, the arrays elements will not be\n * iterated at all. This can be helpful for cases where performance is critical,\n * and it is preferred to using `array(any())`.\n *\n * @param Element - The struct to validate each element in the array against.\n * @returns A new struct that will only accept arrays of the given type.\n */\nfunction array(Element) {\n    return new _struct_mjs__WEBPACK_IMPORTED_MODULE_1__.Struct({\n        type: 'array',\n        schema: Element,\n        *entries(value) {\n            if (Element && Array.isArray(value)) {\n                for (const [index, arrayValue] of value.entries()) {\n                    yield [index, arrayValue, Element];\n                }\n            }\n        },\n        coercer(value) {\n            return Array.isArray(value) ? value.slice() : value;\n        },\n        validator(value) {\n            return (Array.isArray(value) ||\n                `Expected an array value, but received: ${(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.print)(value)}`);\n        },\n    });\n}\n/**\n * Ensure that a value is a bigint.\n *\n * @returns A new struct that will only accept bigints.\n */\nfunction bigint() {\n    return (0,_utilities_mjs__WEBPACK_IMPORTED_MODULE_0__.define)('bigint', (value) => {\n        return typeof value === 'bigint';\n    });\n}\n/**\n * Ensure that a value is a boolean.\n *\n * @returns A new struct that will only accept booleans.\n */\nfunction boolean() {\n    return (0,_utilities_mjs__WEBPACK_IMPORTED_MODULE_0__.define)('boolean', (value) => {\n        return typeof value === 'boolean';\n    });\n}\n/**\n * Ensure that a value is a valid `Date`.\n *\n * Note: this also ensures that the value is *not* an invalid `Date` object,\n * which can occur when parsing a date fails but still returns a `Date`.\n *\n * @returns A new struct that will only accept valid `Date` objects.\n */\nfunction date() {\n    return (0,_utilities_mjs__WEBPACK_IMPORTED_MODULE_0__.define)('date', (value) => {\n        return ((value instanceof Date && !isNaN(value.getTime())) ||\n            `Expected a valid \\`Date\\` object, but received: ${(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.print)(value)}`);\n    });\n}\n/**\n * Ensure that a value is one of a set of potential values.\n *\n * Note: after creating the struct, you can access the definition of the\n * potential values as `struct.schema`.\n *\n * @param values - The potential values that the input can be.\n * @returns A new struct that will only accept the given values.\n */\nfunction enums(values) {\n    const schema = {};\n    const description = values.map((value) => (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.print)(value)).join();\n    for (const key of values) {\n        schema[key] = key;\n    }\n    return new _struct_mjs__WEBPACK_IMPORTED_MODULE_1__.Struct({\n        type: 'enums',\n        schema,\n        validator(value) {\n            return (values.includes(value) ||\n                `Expected one of \\`${description}\\`, but received: ${(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.print)(value)}`);\n        },\n    });\n}\n/**\n * Ensure that a value is a function.\n *\n * @returns A new struct that will only accept functions.\n */\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction func() {\n    return (0,_utilities_mjs__WEBPACK_IMPORTED_MODULE_0__.define)('func', (value) => {\n        return (typeof value === 'function' ||\n            `Expected a function, but received: ${(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.print)(value)}`);\n    });\n}\n/**\n * Ensure that a value is an instance of a specific class.\n *\n * @param Class - The class that the value must be an instance of.\n * @returns A new struct that will only accept instances of the given class.\n */\nfunction instance(Class) {\n    return (0,_utilities_mjs__WEBPACK_IMPORTED_MODULE_0__.define)('instance', (value) => {\n        return (value instanceof Class ||\n            `Expected a \\`${Class.name}\\` instance, but received: ${(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.print)(value)}`);\n    });\n}\n/**\n * Ensure that a value is an integer.\n *\n * @returns A new struct that will only accept integers.\n */\nfunction integer() {\n    return (0,_utilities_mjs__WEBPACK_IMPORTED_MODULE_0__.define)('integer', (value) => {\n        return ((typeof value === 'number' && !isNaN(value) && Number.isInteger(value)) ||\n            `Expected an integer, but received: ${(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.print)(value)}`);\n    });\n}\n/**\n * Ensure that a value matches all of a set of types.\n *\n * @param Structs - The set of structs that the value must match.\n * @returns A new struct that will only accept values that match all of the\n * given structs.\n */\nfunction intersection(Structs) {\n    return new _struct_mjs__WEBPACK_IMPORTED_MODULE_1__.Struct({\n        type: 'intersection',\n        schema: null,\n        *entries(value, context) {\n            for (const { entries } of Structs) {\n                yield* entries(value, context);\n            }\n        },\n        *validator(value, context) {\n            for (const { validator } of Structs) {\n                yield* validator(value, context);\n            }\n        },\n        *refiner(value, context) {\n            for (const { refiner } of Structs) {\n                yield* refiner(value, context);\n            }\n        },\n    });\n}\n/**\n * Ensure that a value is an exact value, using `===` for comparison.\n *\n * @param constant - The exact value that the input must be.\n * @returns A new struct that will only accept the exact given value.\n */\nfunction literal(constant) {\n    const description = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.print)(constant);\n    const valueType = typeof constant;\n    return new _struct_mjs__WEBPACK_IMPORTED_MODULE_1__.Struct({\n        type: 'literal',\n        schema: valueType === 'string' ||\n            valueType === 'number' ||\n            valueType === 'boolean'\n            ? constant\n            : null,\n        validator(value) {\n            return (value === constant ||\n                `Expected the literal \\`${description}\\`, but received: ${(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.print)(value)}`);\n        },\n    });\n}\n/**\n * Ensure that a value is a `Map` object, and that its keys and values are of\n * specific types.\n *\n * @param Key - The struct to validate each key in the map against.\n * @param Value - The struct to validate each value in the map against.\n * @returns A new struct that will only accept `Map` objects.\n */\nfunction map(Key, Value) {\n    return new _struct_mjs__WEBPACK_IMPORTED_MODULE_1__.Struct({\n        type: 'map',\n        schema: null,\n        *entries(value) {\n            if (Key && Value && value instanceof Map) {\n                for (const [mapKey, mapValue] of value.entries()) {\n                    yield [mapKey, mapKey, Key];\n                    yield [mapKey, mapValue, Value];\n                }\n            }\n        },\n        coercer(value) {\n            return value instanceof Map ? new Map(value) : value;\n        },\n        validator(value) {\n            return (value instanceof Map ||\n                `Expected a \\`Map\\` object, but received: ${(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.print)(value)}`);\n        },\n    });\n}\n/**\n * Ensure that no value ever passes validation.\n *\n * @returns A new struct that will never pass validation.\n */\nfunction never() {\n    return (0,_utilities_mjs__WEBPACK_IMPORTED_MODULE_0__.define)('never', () => false);\n}\n/**\n * Augment an existing struct to allow `null` values.\n *\n * @param struct - The struct to augment.\n * @returns A new struct that will accept `null` values.\n */\nfunction nullable(struct) {\n    return new _struct_mjs__WEBPACK_IMPORTED_MODULE_1__.Struct({\n        ...struct,\n        validator: (value, ctx) => value === null || struct.validator(value, ctx),\n        refiner: (value, ctx) => value === null || struct.refiner(value, ctx),\n    });\n}\n/**\n * Ensure that a value is a number.\n *\n * @returns A new struct that will only accept numbers.\n */\nfunction number() {\n    return (0,_utilities_mjs__WEBPACK_IMPORTED_MODULE_0__.define)('number', (value) => {\n        return ((typeof value === 'number' && !isNaN(value)) ||\n            `Expected a number, but received: ${(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.print)(value)}`);\n    });\n}\n/**\n * Ensure that a value is an object, that it has a known set of properties,\n * and that its properties are of specific types.\n *\n * Note: Unrecognized properties will fail validation.\n *\n * @param schema - An object that defines the structure of the object.\n * @returns A new struct that will only accept objects.\n */\nfunction object(schema) {\n    const knowns = schema ? Object.keys(schema) : [];\n    const Never = never();\n    return new _struct_mjs__WEBPACK_IMPORTED_MODULE_1__.Struct({\n        type: 'object',\n        schema: schema ?? null,\n        *entries(value) {\n            if (schema && (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.isObject)(value)) {\n                const unknowns = new Set(Object.keys(value));\n                for (const key of knowns) {\n                    unknowns.delete(key);\n                    const propertySchema = schema[key];\n                    if (_struct_mjs__WEBPACK_IMPORTED_MODULE_1__.ExactOptionalStruct.isExactOptional(propertySchema) &&\n                        !Object.prototype.hasOwnProperty.call(value, key)) {\n                        continue;\n                    }\n                    yield [key, value[key], schema[key]];\n                }\n                for (const key of unknowns) {\n                    yield [key, value[key], Never];\n                }\n            }\n        },\n        validator(value) {\n            return ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.isObject)(value) || `Expected an object, but received: ${(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.print)(value)}`);\n        },\n        coercer(value) {\n            return (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.isObject)(value) ? { ...value } : value;\n        },\n    });\n}\n/**\n * Augment a struct to allow `undefined` values.\n *\n * @param struct - The struct to augment.\n * @returns A new struct that will accept `undefined` values.\n */\nfunction optional(struct) {\n    return new _struct_mjs__WEBPACK_IMPORTED_MODULE_1__.Struct({\n        ...struct,\n        validator: (value, ctx) => value === undefined || struct.validator(value, ctx),\n        refiner: (value, ctx) => value === undefined || struct.refiner(value, ctx),\n    });\n}\n/**\n * Augment a struct such that, if it is the property of an object, it is exactly optional.\n * In other words, it is either present with the correct type, or not present at all.\n *\n * NOTE: Only intended for use with `object()` structs.\n *\n * @param struct - The struct to augment.\n * @returns A new struct that can be used to create exactly optional properties of `object()`\n * structs.\n */\nfunction exactOptional(struct) {\n    return new _struct_mjs__WEBPACK_IMPORTED_MODULE_1__.ExactOptionalStruct(struct);\n}\n/**\n * Ensure that a value is an object with keys and values of specific types, but\n * without ensuring any specific shape of properties.\n *\n * Like TypeScript's `Record` utility.\n */\n/**\n * Ensure that a value is an object with keys and values of specific types, but\n * without ensuring any specific shape of properties.\n *\n * @param Key - The struct to validate each key in the record against.\n * @param Value - The struct to validate each value in the record against.\n * @returns A new struct that will only accept objects.\n */\nfunction record(Key, Value) {\n    return new _struct_mjs__WEBPACK_IMPORTED_MODULE_1__.Struct({\n        type: 'record',\n        schema: null,\n        *entries(value) {\n            if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.isObject)(value)) {\n                // eslint-disable-next-line guard-for-in\n                for (const objectKey in value) {\n                    const objectValue = value[objectKey];\n                    yield [objectKey, objectKey, Key];\n                    yield [objectKey, objectValue, Value];\n                }\n            }\n        },\n        validator(value) {\n            return ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.isObject)(value) || `Expected an object, but received: ${(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.print)(value)}`);\n        },\n    });\n}\n/**\n * Ensure that a value is a `RegExp`.\n *\n * Note: this does not test the value against the regular expression! For that\n * you need to use the `pattern()` refinement.\n *\n * @returns A new struct that will only accept `RegExp` objects.\n */\nfunction regexp() {\n    return (0,_utilities_mjs__WEBPACK_IMPORTED_MODULE_0__.define)('regexp', (value) => {\n        return value instanceof RegExp;\n    });\n}\n/**\n * Ensure that a value is a `Set` object, and that its elements are of a\n * specific type.\n *\n * @param Element - The struct to validate each element in the set against.\n * @returns A new struct that will only accept `Set` objects.\n */\nfunction set(Element) {\n    return new _struct_mjs__WEBPACK_IMPORTED_MODULE_1__.Struct({\n        type: 'set',\n        schema: null,\n        *entries(value) {\n            if (Element && value instanceof Set) {\n                for (const setValue of value) {\n                    yield [setValue, setValue, Element];\n                }\n            }\n        },\n        coercer(value) {\n            return value instanceof Set ? new Set(value) : value;\n        },\n        validator(value) {\n            return (value instanceof Set ||\n                `Expected a \\`Set\\` object, but received: ${(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.print)(value)}`);\n        },\n    });\n}\n/**\n * Ensure that a value is a string.\n *\n * @returns A new struct that will only accept strings.\n */\nfunction string() {\n    return (0,_utilities_mjs__WEBPACK_IMPORTED_MODULE_0__.define)('string', (value) => {\n        return (typeof value === 'string' ||\n            `Expected a string, but received: ${(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.print)(value)}`);\n    });\n}\n/**\n * Ensure that a value is a tuple of a specific length, and that each of its\n * elements is of a specific type.\n *\n * @param Structs - The set of structs that the value must match.\n * @returns A new struct that will only accept tuples of the given types.\n */\nfunction tuple(Structs) {\n    const Never = never();\n    return new _struct_mjs__WEBPACK_IMPORTED_MODULE_1__.Struct({\n        type: 'tuple',\n        schema: null,\n        *entries(value) {\n            if (Array.isArray(value)) {\n                const length = Math.max(Structs.length, value.length);\n                for (let i = 0; i < length; i++) {\n                    yield [i, value[i], Structs[i] || Never];\n                }\n            }\n        },\n        validator(value) {\n            return (Array.isArray(value) ||\n                `Expected an array, but received: ${(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.print)(value)}`);\n        },\n    });\n}\n/**\n * Ensure that a value has a set of known properties of specific types.\n *\n * Note: Unrecognized properties are allowed and untouched. This is similar to\n * how TypeScript's structural typing works.\n *\n * @param schema - An object that defines the structure of the object.\n * @returns A new struct that will only accept objects.\n */\nfunction type(schema) {\n    const keys = Object.keys(schema);\n    return new _struct_mjs__WEBPACK_IMPORTED_MODULE_1__.Struct({\n        type: 'type',\n        schema,\n        *entries(value) {\n            if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.isObject)(value)) {\n                for (const k of keys) {\n                    yield [k, value[k], schema[k]];\n                }\n            }\n        },\n        validator(value) {\n            return ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.isObject)(value) || `Expected an object, but received: ${(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.print)(value)}`);\n        },\n        coercer(value) {\n            return (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.isObject)(value) ? { ...value } : value;\n        },\n    });\n}\n/**\n * Ensure that a value matches one of a set of types.\n *\n * @param Structs - The set of structs that the value must match.\n * @returns A new struct that will only accept values that match one of the\n * given structs.\n */\nfunction union(Structs) {\n    const description = Structs.map((struct) => struct.type).join(' | ');\n    return new _struct_mjs__WEBPACK_IMPORTED_MODULE_1__.Struct({\n        type: 'union',\n        schema: null,\n        coercer(value) {\n            for (const InnerStruct of Structs) {\n                const [error, coerced] = InnerStruct.validate(value, { coerce: true });\n                if (!error) {\n                    return coerced;\n                }\n            }\n            return value;\n        },\n        validator(value, ctx) {\n            const failures = [];\n            for (const InnerStruct of Structs) {\n                const [...tuples] = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.run)(value, InnerStruct, ctx);\n                const [first] = tuples;\n                if (!first?.[0]) {\n                    return [];\n                }\n                for (const [failure] of tuples) {\n                    if (failure) {\n                        failures.push(failure);\n                    }\n                }\n            }\n            return [\n                `Expected the value to satisfy a union of \\`${description}\\`, but received: ${(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.print)(value)}`,\n                ...failures,\n            ];\n        },\n    });\n}\n/**\n * Ensure that any value passes validation, without widening its type to `any`.\n *\n * @returns A struct that will always pass validation.\n */\nfunction unknown() {\n    return (0,_utilities_mjs__WEBPACK_IMPORTED_MODULE_0__.define)('unknown', () => true);\n}\n//# sourceMappingURL=types.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1ldGFtYXNrL3N1cGVyc3RydWN0L2Rpc3Qvc3RydWN0cy90eXBlcy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBNEQ7QUFDUjtBQUNYO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLFdBQVcsc0RBQU07QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsZUFBZSwrQ0FBTTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLDBEQUEwRCxpREFBSyxRQUFRO0FBQ3ZFLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxXQUFXLHNEQUFNO0FBQ2pCO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsV0FBVyxzREFBTTtBQUNqQjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLFdBQVcsc0RBQU07QUFDakI7QUFDQSwrREFBK0QsaURBQUssUUFBUTtBQUM1RSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsOENBQThDLGlEQUFLO0FBQ25EO0FBQ0E7QUFDQTtBQUNBLGVBQWUsK0NBQU07QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsWUFBWSxvQkFBb0IsaURBQUssUUFBUTtBQUNsRixTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxXQUFXLHNEQUFNO0FBQ2pCO0FBQ0Esa0RBQWtELGlE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QUFvQywrQ0FBRztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThELFlBQVksb0JBQW9CLGlEQUFLLFFBQVE7QUFDM0c7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxXQUFXLHNEQUFNO0FBQ2pCO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9xdWVzdC1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9AbWV0YW1hc2svc3VwZXJzdHJ1Y3QvZGlzdC9zdHJ1Y3RzL3R5cGVzLm1qcz9mMjQ3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEV4YWN0T3B0aW9uYWxTdHJ1Y3QsIFN0cnVjdCB9IGZyb20gXCIuLi9zdHJ1Y3QubWpzXCI7XG5pbXBvcnQgeyBwcmludCwgcnVuLCBpc09iamVjdCB9IGZyb20gXCIuLi91dGlscy5tanNcIjtcbmltcG9ydCB7IGRlZmluZSB9IGZyb20gXCIuL3V0aWxpdGllcy5tanNcIjtcbi8qKlxuICogRW5zdXJlIHRoYXQgYW55IHZhbHVlIHBhc3NlcyB2YWxpZGF0aW9uLlxuICpcbiAqIEByZXR1cm5zIEEgc3RydWN0IHRoYXQgd2lsbCBhbHdheXMgcGFzcyB2YWxpZGF0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYW55KCkge1xuICAgIHJldHVybiBkZWZpbmUoJ2FueScsICgpID0+IHRydWUpO1xufVxuLyoqXG4gKiBFbnN1cmUgdGhhdCBhIHZhbHVlIGlzIGFuIGFycmF5IGFuZCB0aGF0IGl0cyBlbGVtZW50cyBhcmUgb2YgYSBzcGVjaWZpYyB0eXBlLlxuICpcbiAqIE5vdGU6IElmIHlvdSBvbWl0IHRoZSBlbGVtZW50IHN0cnVjdCwgdGhlIGFycmF5cyBlbGVtZW50cyB3aWxsIG5vdCBiZVxuICogaXRlcmF0ZWQgYXQgYWxsLiBUaGlzIGNhbiBiZSBoZWxwZnVsIGZvciBjYXNlcyB3aGVyZSBwZXJmb3JtYW5jZSBpcyBjcml0aWNhbCxcbiAqIGFuZCBpdCBpcyBwcmVmZXJyZWQgdG8gdXNpbmcgYGFycmF5KGFueSgpKWAuXG4gKlxuICogQHBhcmFtIEVsZW1lbnQgLSBUaGUgc3RydWN0IHRvIHZhbGlkYXRlIGVhY2ggZWxlbWVudCBpbiB0aGUgYXJyYXkgYWdhaW5zdC5cbiAqIEByZXR1cm5zIEEgbmV3IHN0cnVjdCB0aGF0IHdpbGwgb25seSBhY2NlcHQgYXJyYXlzIG9mIHRoZSBnaXZlbiB0eXBlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXJyYXkoRWxlbWVudCkge1xuICAgIHJldHVybiBuZXcgU3RydWN0KHtcbiAgICAgICAgdHlwZTogJ2FycmF5JyxcbiAgICAgICAgc2NoZW1hOiBFbGVtZW50LFxuICAgICAgICAqZW50cmllcyh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKEVsZW1lbnQgJiYgQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtpbmRleCwgYXJyYXlWYWx1ZV0gb2YgdmFsdWUuZW50cmllcygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHlpZWxkIFtpbmRleCwgYXJyYXlWYWx1ZSwgRWxlbWVudF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjb2VyY2VyKHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5zbGljZSgpIDogdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIHZhbGlkYXRvcih2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIChBcnJheS5pc0FycmF5KHZhbHVlKSB8fFxuICAgICAgICAgICAgICAgIGBFeHBlY3RlZCBhbiBhcnJheSB2YWx1ZSwgYnV0IHJlY2VpdmVkOiAke3ByaW50KHZhbHVlKX1gKTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbi8qKlxuICogRW5zdXJlIHRoYXQgYSB2YWx1ZSBpcyBhIGJpZ2ludC5cbiAqXG4gKiBAcmV0dXJucyBBIG5ldyBzdHJ1Y3QgdGhhdCB3aWxsIG9ubHkgYWNjZXB0IGJpZ2ludHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiaWdpbnQoKSB7XG4gICAgcmV0dXJuIGRlZmluZSgnYmlnaW50JywgKHZhbHVlKSA9PiB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdiaWdpbnQnO1xuICAgIH0pO1xufVxuLyoqXG4gKiBFbnN1cmUgdGhhdCBhIHZhbHVlIGlzIGEgYm9vbGVhbi5cbiAqXG4gKiBAcmV0dXJucyBBIG5ldyBzdHJ1Y3QgdGhhdCB3aWxsIG9ubHkgYWNjZXB0IGJvb2xlYW5zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYm9vbGVhbigpIHtcbiAgICByZXR1cm4gZGVmaW5lKCdib29sZWFuJywgKHZhbHVlKSA9PiB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJztcbiAgICB9KTtcbn1cbi8qKlxuICogRW5zdXJlIHRoYXQgYSB2YWx1ZSBpcyBhIHZhbGlkIGBEYXRlYC5cbiAqXG4gKiBOb3RlOiB0aGlzIGFsc28gZW5zdXJlcyB0aGF0IHRoZSB2YWx1ZSBpcyAqbm90KiBhbiBpbnZhbGlkIGBEYXRlYCBvYmplY3QsXG4gKiB3aGljaCBjYW4gb2NjdXIgd2hlbiBwYXJzaW5nIGEgZGF0ZSBmYWlscyBidXQgc3RpbGwgcmV0dXJucyBhIGBEYXRlYC5cbiAqXG4gKiBAcmV0dXJucyBBIG5ldyBzdHJ1Y3QgdGhhdCB3aWxsIG9ubHkgYWNjZXB0IHZhbGlkIGBEYXRlYCBvYmplY3RzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGF0ZSgpIHtcbiAgICByZXR1cm4gZGVmaW5lKCdkYXRlJywgKHZhbHVlKSA9PiB7XG4gICAgICAgIHJldHVybiAoKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSAmJiAhaXNOYU4odmFsdWUuZ2V0VGltZSgpKSkgfHxcbiAgICAgICAgICAgIGBFeHBlY3RlZCBhIHZhbGlkIFxcYERhdGVcXGAgb2JqZWN0LCBidXQgcmVjZWl2ZWQ6ICR7cHJpbnQodmFsdWUpfWApO1xuICAgIH0pO1xufVxuLyoqXG4gKiBFbnN1cmUgdGhhdCBhIHZhbHVlIGlzIG9uZSBvZiBhIHNldCBvZiBwb3RlbnRpYWwgdmFsdWVzLlxuICpcbiAqIE5vdGU6IGFmdGVyIGNyZWF0aW5nIHRoZSBzdHJ1Y3QsIHlvdSBjYW4gYWNjZXNzIHRoZSBkZWZpbml0aW9uIG9mIHRoZVxuICogcG90ZW50aWFsIHZhbHVlcyBhcyBgc3RydWN0LnNjaGVtYWAuXG4gKlxuICogQHBhcmFtIHZhbHVlcyAtIFRoZSBwb3RlbnRpYWwgdmFsdWVzIHRoYXQgdGhlIGlucHV0IGNhbiBiZS5cbiAqIEByZXR1cm5zIEEgbmV3IHN0cnVjdCB0aGF0IHdpbGwgb25seSBhY2NlcHQgdGhlIGdpdmVuIHZhbHVlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVudW1zKHZhbHVlcykge1xuICAgIGNvbnN0IHNjaGVtYSA9IHt9O1xuICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gdmFsdWVzLm1hcCgodmFsdWUpID0+IHByaW50KHZhbHVlKSkuam9pbigpO1xuICAgIGZvciAoY29uc3Qga2V5IG9mIHZhbHVlcykge1xuICAgICAgICBzY2hlbWFba2V5XSA9IGtleTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBTdHJ1Y3Qoe1xuICAgICAgICB0eXBlOiAnZW51bXMnLFxuICAgICAgICBzY2hlbWEsXG4gICAgICAgIHZhbGlkYXRvcih2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuICh2YWx1ZXMuaW5jbHVkZXModmFsdWUpIHx8XG4gICAgICAgICAgICAgICAgYEV4cGVjdGVkIG9uZSBvZiBcXGAke2Rlc2NyaXB0aW9ufVxcYCwgYnV0IHJlY2VpdmVkOiAke3ByaW50KHZhbHVlKX1gKTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbi8qKlxuICogRW5zdXJlIHRoYXQgYSB2YWx1ZSBpcyBhIGZ1bmN0aW9uLlxuICpcbiAqIEByZXR1cm5zIEEgbmV3IHN0cnVjdCB0aGF0IHdpbGwgb25seSBhY2NlcHQgZnVuY3Rpb25zLlxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10eXBlc1xuZXhwb3J0IGZ1bmN0aW9uIGZ1bmMoKSB7XG4gICAgcmV0dXJuIGRlZmluZSgnZnVuYycsICh2YWx1ZSkgPT4ge1xuICAgICAgICByZXR1cm4gKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyB8fFxuICAgICAgICAgICAgYEV4cGVjdGVkIGEgZnVuY3Rpb24sIGJ1dCByZWNlaXZlZDogJHtwcmludCh2YWx1ZSl9YCk7XG4gICAgfSk7XG59XG4vKipcbiAqIEVuc3VyZSB0aGF0IGEgdmFsdWUgaXMgYW4gaW5zdGFuY2Ugb2YgYSBzcGVjaWZpYyBjbGFzcy5cbiAqXG4gKiBAcGFyYW0gQ2xhc3MgLSBUaGUgY2xhc3MgdGhhdCB0aGUgdmFsdWUgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZi5cbiAqIEByZXR1cm5zIEEgbmV3IHN0cnVjdCB0aGF0IHdpbGwgb25seSBhY2NlcHQgaW5zdGFuY2VzIG9mIHRoZSBnaXZlbiBjbGFzcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluc3RhbmNlKENsYXNzKSB7XG4gICAgcmV0dXJuIGRlZmluZSgnaW5zdGFuY2UnLCAodmFsdWUpID0+IHtcbiAgICAgICAgcmV0dXJuICh2YWx1ZSBpbnN0YW5jZW9mIENsYXNzIHx8XG4gICAgICAgICAgICBgRXhwZWN0ZWQgYSBcXGAke0NsYXNzLm5hbWV9XFxgIGluc3RhbmNlLCBidXQgcmVjZWl2ZWQ6ICR7cHJpbnQodmFsdWUpfWApO1xuICAgIH0pO1xufVxuLyoqXG4gKiBFbnN1cmUgdGhhdCBhIHZhbHVlIGlzIGFuIGludGVnZXIuXG4gKlxuICogQHJldHVybnMgQSBuZXcgc3RydWN0IHRoYXQgd2lsbCBvbmx5IGFjY2VwdCBpbnRlZ2Vycy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludGVnZXIoKSB7XG4gICAgcmV0dXJuIGRlZmluZSgnaW50ZWdlcicsICh2YWx1ZSkgPT4ge1xuICAgICAgICByZXR1cm4gKCh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmICFpc05hTih2YWx1ZSkgJiYgTnVtYmVyLmlzSW50ZWdlcih2YWx1ZSkpIHx8XG4gICAgICAgICAgICBgRXhwZWN0ZWQgYW4gaW50ZWdlciwgYnV0IHJlY2VpdmVkOiAke3ByaW50KHZhbHVlKX1gKTtcbiAgICB9KTtcbn1cbi8qKlxuICogRW5zdXJlIHRoYXQgYSB2YWx1ZSBtYXRjaGVzIGFsbCBvZiBhIHNldCBvZiB0eXBlcy5cbiAqXG4gKiBAcGFyYW0gU3RydWN0cyAtIFRoZSBzZXQgb2Ygc3RydWN0cyB0aGF0IHRoZSB2YWx1ZSBtdXN0IG1hdGNoLlxuICogQHJldHVybnMgQSBuZXcgc3RydWN0IHRoYXQgd2lsbCBvbmx5IGFjY2VwdCB2YWx1ZXMgdGhhdCBtYXRjaCBhbGwgb2YgdGhlXG4gKiBnaXZlbiBzdHJ1Y3RzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJzZWN0aW9uKFN0cnVjdHMpIHtcbiAgICByZXR1cm4gbmV3IFN0cnVjdCh7XG4gICAgICAgIHR5cGU6ICdpbnRlcnNlY3Rpb24nLFxuICAgICAgICBzY2hlbWE6IG51bGwsXG4gICAgICAgICplbnRyaWVzKHZhbHVlLCBjb250ZXh0KSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHsgZW50cmllcyB9IG9mIFN0cnVjdHMpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCogZW50cmllcyh2YWx1ZSwgY29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICp2YWxpZGF0b3IodmFsdWUsIGNvbnRleHQpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgeyB2YWxpZGF0b3IgfSBvZiBTdHJ1Y3RzKSB7XG4gICAgICAgICAgICAgICAgeWllbGQqIHZhbGlkYXRvcih2YWx1ZSwgY29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICpyZWZpbmVyKHZhbHVlLCBjb250ZXh0KSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHsgcmVmaW5lciB9IG9mIFN0cnVjdHMpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCogcmVmaW5lcih2YWx1ZSwgY29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfSk7XG59XG4vKipcbiAqIEVuc3VyZSB0aGF0IGEgdmFsdWUgaXMgYW4gZXhhY3QgdmFsdWUsIHVzaW5nIGA9PT1gIGZvciBjb21wYXJpc29uLlxuICpcbiAqIEBwYXJhbSBjb25zdGFudCAtIFRoZSBleGFjdCB2YWx1ZSB0aGF0IHRoZSBpbnB1dCBtdXN0IGJlLlxuICogQHJldHVybnMgQSBuZXcgc3RydWN0IHRoYXQgd2lsbCBvbmx5IGFjY2VwdCB0aGUgZXhhY3QgZ2l2ZW4gdmFsdWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaXRlcmFsKGNvbnN0YW50KSB7XG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSBwcmludChjb25zdGFudCk7XG4gICAgY29uc3QgdmFsdWVUeXBlID0gdHlwZW9mIGNvbnN0YW50O1xuICAgIHJldHVybiBuZXcgU3RydWN0KHtcbiAgICAgICAgdHlwZTogJ2xpdGVyYWwnLFxuICAgICAgICBzY2hlbWE6IHZhbHVlVHlwZSA9PT0gJ3N0cmluZycgfHxcbiAgICAgICAgICAgIHZhbHVlVHlwZSA9PT0gJ251bWJlcicgfHxcbiAgICAgICAgICAgIHZhbHVlVHlwZSA9PT0gJ2Jvb2xlYW4nXG4gICAgICAgICAgICA/IGNvbnN0YW50XG4gICAgICAgICAgICA6IG51bGwsXG4gICAgICAgIHZhbGlkYXRvcih2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuICh2YWx1ZSA9PT0gY29uc3RhbnQgfHxcbiAgICAgICAgICAgICAgICBgRXhwZWN0ZWQgdGhlIGxpdGVyYWwgXFxgJHtkZXNjcmlwdGlvbn1cXGAsIGJ1dCByZWNlaXZlZDogJHtwcmludCh2YWx1ZSl9YCk7XG4gICAgICAgIH0sXG4gICAgfSk7XG59XG4vKipcbiAqIEVuc3VyZSB0aGF0IGEgdmFsdWUgaXMgYSBgTWFwYCBvYmplY3QsIGFuZCB0aGF0IGl0cyBrZXlzIGFuZCB2YWx1ZXMgYXJlIG9mXG4gKiBzcGVjaWZpYyB0eXBlcy5cbiAqXG4gKiBAcGFyYW0gS2V5IC0gVGhlIHN0cnVjdCB0byB2YWxpZGF0ZSBlYWNoIGtleSBpbiB0aGUgbWFwIGFnYWluc3QuXG4gKiBAcGFyYW0gVmFsdWUgLSBUaGUgc3RydWN0IHRvIHZhbGlkYXRlIGVhY2ggdmFsdWUgaW4gdGhlIG1hcCBhZ2FpbnN0LlxuICogQHJldHVybnMgQSBuZXcgc3RydWN0IHRoYXQgd2lsbCBvbmx5IGFjY2VwdCBgTWFwYCBvYmplY3RzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWFwKEtleSwgVmFsdWUpIHtcbiAgICByZXR1cm4gbmV3IFN0cnVjdCh7XG4gICAgICAgIHR5cGU6ICdtYXAnLFxuICAgICAgICBzY2hlbWE6IG51bGwsXG4gICAgICAgICplbnRyaWVzKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoS2V5ICYmIFZhbHVlICYmIHZhbHVlIGluc3RhbmNlb2YgTWFwKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBbbWFwS2V5LCBtYXBWYWx1ZV0gb2YgdmFsdWUuZW50cmllcygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHlpZWxkIFttYXBLZXksIG1hcEtleSwgS2V5XTtcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgW21hcEtleSwgbWFwVmFsdWUsIFZhbHVlXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGNvZXJjZXIodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIE1hcCA/IG5ldyBNYXAodmFsdWUpIDogdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIHZhbGlkYXRvcih2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuICh2YWx1ZSBpbnN0YW5jZW9mIE1hcCB8fFxuICAgICAgICAgICAgICAgIGBFeHBlY3RlZCBhIFxcYE1hcFxcYCBvYmplY3QsIGJ1dCByZWNlaXZlZDogJHtwcmludCh2YWx1ZSl9YCk7XG4gICAgICAgIH0sXG4gICAgfSk7XG59XG4vKipcbiAqIEVuc3VyZSB0aGF0IG5vIHZhbHVlIGV2ZXIgcGFzc2VzIHZhbGlkYXRpb24uXG4gKlxuICogQHJldHVybnMgQSBuZXcgc3RydWN0IHRoYXQgd2lsbCBuZXZlciBwYXNzIHZhbGlkYXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBuZXZlcigpIHtcbiAgICByZXR1cm4gZGVmaW5lKCduZXZlcicsICgpID0+IGZhbHNlKTtcbn1cbi8qKlxuICogQXVnbWVudCBhbiBleGlzdGluZyBzdHJ1Y3QgdG8gYWxsb3cgYG51bGxgIHZhbHVlcy5cbiAqXG4gKiBAcGFyYW0gc3RydWN0IC0gVGhlIHN0cnVjdCB0byBhdWdtZW50LlxuICogQHJldHVybnMgQSBuZXcgc3RydWN0IHRoYXQgd2lsbCBhY2NlcHQgYG51bGxgIHZhbHVlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG51bGxhYmxlKHN0cnVjdCkge1xuICAgIHJldHVybiBuZXcgU3RydWN0KHtcbiAgICAgICAgLi4uc3RydWN0LFxuICAgICAgICB2YWxpZGF0b3I6ICh2YWx1ZSwgY3R4KSA9PiB2YWx1ZSA9PT0gbnVsbCB8fCBzdHJ1Y3QudmFsaWRhdG9yKHZhbHVlLCBjdHgpLFxuICAgICAgICByZWZpbmVyOiAodmFsdWUsIGN0eCkgPT4gdmFsdWUgPT09IG51bGwgfHwgc3RydWN0LnJlZmluZXIodmFsdWUsIGN0eCksXG4gICAgfSk7XG59XG4vKipcbiAqIEVuc3VyZSB0aGF0IGEgdmFsdWUgaXMgYSBudW1iZXIuXG4gKlxuICogQHJldHVybnMgQSBuZXcgc3RydWN0IHRoYXQgd2lsbCBvbmx5IGFjY2VwdCBudW1iZXJzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbnVtYmVyKCkge1xuICAgIHJldHVybiBkZWZpbmUoJ251bWJlcicsICh2YWx1ZSkgPT4ge1xuICAgICAgICByZXR1cm4gKCh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmICFpc05hTih2YWx1ZSkpIHx8XG4gICAgICAgICAgICBgRXhwZWN0ZWQgYSBudW1iZXIsIGJ1dCByZWNlaXZlZDogJHtwcmludCh2YWx1ZSl9YCk7XG4gICAgfSk7XG59XG4vKipcbiAqIEVuc3VyZSB0aGF0IGEgdmFsdWUgaXMgYW4gb2JqZWN0LCB0aGF0IGl0IGhhcyBhIGtub3duIHNldCBvZiBwcm9wZXJ0aWVzLFxuICogYW5kIHRoYXQgaXRzIHByb3BlcnRpZXMgYXJlIG9mIHNwZWNpZmljIHR5cGVzLlxuICpcbiAqIE5vdGU6IFVucmVjb2duaXplZCBwcm9wZXJ0aWVzIHdpbGwgZmFpbCB2YWxpZGF0aW9uLlxuICpcbiAqIEBwYXJhbSBzY2hlbWEgLSBBbiBvYmplY3QgdGhhdCBkZWZpbmVzIHRoZSBzdHJ1Y3R1cmUgb2YgdGhlIG9iamVjdC5cbiAqIEByZXR1cm5zIEEgbmV3IHN0cnVjdCB0aGF0IHdpbGwgb25seSBhY2NlcHQgb2JqZWN0cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9iamVjdChzY2hlbWEpIHtcbiAgICBjb25zdCBrbm93bnMgPSBzY2hlbWEgPyBPYmplY3Qua2V5cyhzY2hlbWEpIDogW107XG4gICAgY29uc3QgTmV2ZXIgPSBuZXZlcigpO1xuICAgIHJldHVybiBuZXcgU3RydWN0KHtcbiAgICAgICAgdHlwZTogJ29iamVjdCcsXG4gICAgICAgIHNjaGVtYTogc2NoZW1hID8/IG51bGwsXG4gICAgICAgICplbnRyaWVzKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoc2NoZW1hICYmIGlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVua25vd25zID0gbmV3IFNldChPYmplY3Qua2V5cyh2YWx1ZSkpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIGtub3ducykge1xuICAgICAgICAgICAgICAgICAgICB1bmtub3ducy5kZWxldGUoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvcGVydHlTY2hlbWEgPSBzY2hlbWFba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEV4YWN0T3B0aW9uYWxTdHJ1Y3QuaXNFeGFjdE9wdGlvbmFsKHByb3BlcnR5U2NoZW1hKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwga2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgeWllbGQgW2tleSwgdmFsdWVba2V5XSwgc2NoZW1hW2tleV1dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiB1bmtub3ducykge1xuICAgICAgICAgICAgICAgICAgICB5aWVsZCBba2V5LCB2YWx1ZVtrZXldLCBOZXZlcl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB2YWxpZGF0b3IodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiAoaXNPYmplY3QodmFsdWUpIHx8IGBFeHBlY3RlZCBhbiBvYmplY3QsIGJ1dCByZWNlaXZlZDogJHtwcmludCh2YWx1ZSl9YCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNvZXJjZXIodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBpc09iamVjdCh2YWx1ZSkgPyB7IC4uLnZhbHVlIH0gOiB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbi8qKlxuICogQXVnbWVudCBhIHN0cnVjdCB0byBhbGxvdyBgdW5kZWZpbmVkYCB2YWx1ZXMuXG4gKlxuICogQHBhcmFtIHN0cnVjdCAtIFRoZSBzdHJ1Y3QgdG8gYXVnbWVudC5cbiAqIEByZXR1cm5zIEEgbmV3IHN0cnVjdCB0aGF0IHdpbGwgYWNjZXB0IGB1bmRlZmluZWRgIHZhbHVlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9wdGlvbmFsKHN0cnVjdCkge1xuICAgIHJldHVybiBuZXcgU3RydWN0KHtcbiAgICAgICAgLi4uc3RydWN0LFxuICAgICAgICB2YWxpZGF0b3I6ICh2YWx1ZSwgY3R4KSA9PiB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHN0cnVjdC52YWxpZGF0b3IodmFsdWUsIGN0eCksXG4gICAgICAgIHJlZmluZXI6ICh2YWx1ZSwgY3R4KSA9PiB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHN0cnVjdC5yZWZpbmVyKHZhbHVlLCBjdHgpLFxuICAgIH0pO1xufVxuLyoqXG4gKiBBdWdtZW50IGEgc3RydWN0IHN1Y2ggdGhhdCwgaWYgaXQgaXMgdGhlIHByb3BlcnR5IG9mIGFuIG9iamVjdCwgaXQgaXMgZXhhY3RseSBvcHRpb25hbC5cbiAqIEluIG90aGVyIHdvcmRzLCBpdCBpcyBlaXRoZXIgcHJlc2VudCB3aXRoIHRoZSBjb3JyZWN0IHR5cGUsIG9yIG5vdCBwcmVzZW50IGF0IGFsbC5cbiAqXG4gKiBOT1RFOiBPbmx5IGludGVuZGVkIGZvciB1c2Ugd2l0aCBgb2JqZWN0KClgIHN0cnVjdHMuXG4gKlxuICogQHBhcmFtIHN0cnVjdCAtIFRoZSBzdHJ1Y3QgdG8gYXVnbWVudC5cbiAqIEByZXR1cm5zIEEgbmV3IHN0cnVjdCB0aGF0IGNhbiBiZSB1c2VkIHRvIGNyZWF0ZSBleGFjdGx5IG9wdGlvbmFsIHByb3BlcnRpZXMgb2YgYG9iamVjdCgpYFxuICogc3RydWN0cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4YWN0T3B0aW9uYWwoc3RydWN0KSB7XG4gICAgcmV0dXJuIG5ldyBFeGFjdE9wdGlvbmFsU3RydWN0KHN0cnVjdCk7XG59XG4vKipcbiAqIEVuc3VyZSB0aGF0IGEgdmFsdWUgaXMgYW4gb2JqZWN0IHdpdGgga2V5cyBhbmQgdmFsdWVzIG9mIHNwZWNpZmljIHR5cGVzLCBidXRcbiAqIHdpdGhvdXQgZW5zdXJpbmcgYW55IHNwZWNpZmljIHNoYXBlIG9mIHByb3BlcnRpZXMuXG4gKlxuICogTGlrZSBUeXBlU2NyaXB0J3MgYFJlY29yZGAgdXRpbGl0eS5cbiAqL1xuLyoqXG4gKiBFbnN1cmUgdGhhdCBhIHZhbHVlIGlzIGFuIG9iamVjdCB3aXRoIGtleXMgYW5kIHZhbHVlcyBvZiBzcGVjaWZpYyB0eXBlcywgYnV0XG4gKiB3aXRob3V0IGVuc3VyaW5nIGFueSBzcGVjaWZpYyBzaGFwZSBvZiBwcm9wZXJ0aWVzLlxuICpcbiAqIEBwYXJhbSBLZXkgLSBUaGUgc3RydWN0IHRvIHZhbGlkYXRlIGVhY2gga2V5IGluIHRoZSByZWNvcmQgYWdhaW5zdC5cbiAqIEBwYXJhbSBWYWx1ZSAtIFRoZSBzdHJ1Y3QgdG8gdmFsaWRhdGUgZWFjaCB2YWx1ZSBpbiB0aGUgcmVjb3JkIGFnYWluc3QuXG4gKiBAcmV0dXJucyBBIG5ldyBzdHJ1Y3QgdGhhdCB3aWxsIG9ubHkgYWNjZXB0IG9iamVjdHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWNvcmQoS2V5LCBWYWx1ZSkge1xuICAgIHJldHVybiBuZXcgU3RydWN0KHtcbiAgICAgICAgdHlwZTogJ3JlY29yZCcsXG4gICAgICAgIHNjaGVtYTogbnVsbCxcbiAgICAgICAgKmVudHJpZXModmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ3VhcmQtZm9yLWluXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBvYmplY3RLZXkgaW4gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2JqZWN0VmFsdWUgPSB2YWx1ZVtvYmplY3RLZXldO1xuICAgICAgICAgICAgICAgICAgICB5aWVsZCBbb2JqZWN0S2V5LCBvYmplY3RLZXksIEtleV07XG4gICAgICAgICAgICAgICAgICAgIHlpZWxkIFtvYmplY3RLZXksIG9iamVjdFZhbHVlLCBWYWx1ZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB2YWxpZGF0b3IodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiAoaXNPYmplY3QodmFsdWUpIHx8IGBFeHBlY3RlZCBhbiBvYmplY3QsIGJ1dCByZWNlaXZlZDogJHtwcmludCh2YWx1ZSl9YCk7XG4gICAgICAgIH0sXG4gICAgfSk7XG59XG4vKipcbiAqIEVuc3VyZSB0aGF0IGEgdmFsdWUgaXMgYSBgUmVnRXhwYC5cbiAqXG4gKiBOb3RlOiB0aGlzIGRvZXMgbm90IHRlc3QgdGhlIHZhbHVlIGFnYWluc3QgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiEgRm9yIHRoYXRcbiAqIHlvdSBuZWVkIHRvIHVzZSB0aGUgYHBhdHRlcm4oKWAgcmVmaW5lbWVudC5cbiAqXG4gKiBAcmV0dXJucyBBIG5ldyBzdHJ1Y3QgdGhhdCB3aWxsIG9ubHkgYWNjZXB0IGBSZWdFeHBgIG9iamVjdHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWdleHAoKSB7XG4gICAgcmV0dXJuIGRlZmluZSgncmVnZXhwJywgKHZhbHVlKSA9PiB7XG4gICAgICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cDtcbiAgICB9KTtcbn1cbi8qKlxuICogRW5zdXJlIHRoYXQgYSB2YWx1ZSBpcyBhIGBTZXRgIG9iamVjdCwgYW5kIHRoYXQgaXRzIGVsZW1lbnRzIGFyZSBvZiBhXG4gKiBzcGVjaWZpYyB0eXBlLlxuICpcbiAqIEBwYXJhbSBFbGVtZW50IC0gVGhlIHN0cnVjdCB0byB2YWxpZGF0ZSBlYWNoIGVsZW1lbnQgaW4gdGhlIHNldCBhZ2FpbnN0LlxuICogQHJldHVybnMgQSBuZXcgc3RydWN0IHRoYXQgd2lsbCBvbmx5IGFjY2VwdCBgU2V0YCBvYmplY3RzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0KEVsZW1lbnQpIHtcbiAgICByZXR1cm4gbmV3IFN0cnVjdCh7XG4gICAgICAgIHR5cGU6ICdzZXQnLFxuICAgICAgICBzY2hlbWE6IG51bGwsXG4gICAgICAgICplbnRyaWVzKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoRWxlbWVudCAmJiB2YWx1ZSBpbnN0YW5jZW9mIFNldCkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc2V0VmFsdWUgb2YgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgW3NldFZhbHVlLCBzZXRWYWx1ZSwgRWxlbWVudF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjb2VyY2VyKHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBTZXQgPyBuZXcgU2V0KHZhbHVlKSA6IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICB2YWxpZGF0b3IodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiAodmFsdWUgaW5zdGFuY2VvZiBTZXQgfHxcbiAgICAgICAgICAgICAgICBgRXhwZWN0ZWQgYSBcXGBTZXRcXGAgb2JqZWN0LCBidXQgcmVjZWl2ZWQ6ICR7cHJpbnQodmFsdWUpfWApO1xuICAgICAgICB9LFxuICAgIH0pO1xufVxuLyoqXG4gKiBFbnN1cmUgdGhhdCBhIHZhbHVlIGlzIGEgc3RyaW5nLlxuICpcbiAqIEByZXR1cm5zIEEgbmV3IHN0cnVjdCB0aGF0IHdpbGwgb25seSBhY2NlcHQgc3RyaW5ncy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZygpIHtcbiAgICByZXR1cm4gZGVmaW5lKCdzdHJpbmcnLCAodmFsdWUpID0+IHtcbiAgICAgICAgcmV0dXJuICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICBgRXhwZWN0ZWQgYSBzdHJpbmcsIGJ1dCByZWNlaXZlZDogJHtwcmludCh2YWx1ZSl9YCk7XG4gICAgfSk7XG59XG4vKipcbiAqIEVuc3VyZSB0aGF0IGEgdmFsdWUgaXMgYSB0dXBsZSBvZiBhIHNwZWNpZmljIGxlbmd0aCwgYW5kIHRoYXQgZWFjaCBvZiBpdHNcbiAqIGVsZW1lbnRzIGlzIG9mIGEgc3BlY2lmaWMgdHlwZS5cbiAqXG4gKiBAcGFyYW0gU3RydWN0cyAtIFRoZSBzZXQgb2Ygc3RydWN0cyB0aGF0IHRoZSB2YWx1ZSBtdXN0IG1hdGNoLlxuICogQHJldHVybnMgQSBuZXcgc3RydWN0IHRoYXQgd2lsbCBvbmx5IGFjY2VwdCB0dXBsZXMgb2YgdGhlIGdpdmVuIHR5cGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHVwbGUoU3RydWN0cykge1xuICAgIGNvbnN0IE5ldmVyID0gbmV2ZXIoKTtcbiAgICByZXR1cm4gbmV3IFN0cnVjdCh7XG4gICAgICAgIHR5cGU6ICd0dXBsZScsXG4gICAgICAgIHNjaGVtYTogbnVsbCxcbiAgICAgICAgKmVudHJpZXModmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IE1hdGgubWF4KFN0cnVjdHMubGVuZ3RoLCB2YWx1ZS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgW2ksIHZhbHVlW2ldLCBTdHJ1Y3RzW2ldIHx8IE5ldmVyXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHZhbGlkYXRvcih2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIChBcnJheS5pc0FycmF5KHZhbHVlKSB8fFxuICAgICAgICAgICAgICAgIGBFeHBlY3RlZCBhbiBhcnJheSwgYnV0IHJlY2VpdmVkOiAke3ByaW50KHZhbHVlKX1gKTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbi8qKlxuICogRW5zdXJlIHRoYXQgYSB2YWx1ZSBoYXMgYSBzZXQgb2Yga25vd24gcHJvcGVydGllcyBvZiBzcGVjaWZpYyB0eXBlcy5cbiAqXG4gKiBOb3RlOiBVbnJlY29nbml6ZWQgcHJvcGVydGllcyBhcmUgYWxsb3dlZCBhbmQgdW50b3VjaGVkLiBUaGlzIGlzIHNpbWlsYXIgdG9cbiAqIGhvdyBUeXBlU2NyaXB0J3Mgc3RydWN0dXJhbCB0eXBpbmcgd29ya3MuXG4gKlxuICogQHBhcmFtIHNjaGVtYSAtIEFuIG9iamVjdCB0aGF0IGRlZmluZXMgdGhlIHN0cnVjdHVyZSBvZiB0aGUgb2JqZWN0LlxuICogQHJldHVybnMgQSBuZXcgc3RydWN0IHRoYXQgd2lsbCBvbmx5IGFjY2VwdCBvYmplY3RzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHlwZShzY2hlbWEpIHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoc2NoZW1hKTtcbiAgICByZXR1cm4gbmV3IFN0cnVjdCh7XG4gICAgICAgIHR5cGU6ICd0eXBlJyxcbiAgICAgICAgc2NoZW1hLFxuICAgICAgICAqZW50cmllcyh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgayBvZiBrZXlzKSB7XG4gICAgICAgICAgICAgICAgICAgIHlpZWxkIFtrLCB2YWx1ZVtrXSwgc2NoZW1hW2tdXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHZhbGlkYXRvcih2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIChpc09iamVjdCh2YWx1ZSkgfHwgYEV4cGVjdGVkIGFuIG9iamVjdCwgYnV0IHJlY2VpdmVkOiAke3ByaW50KHZhbHVlKX1gKTtcbiAgICAgICAgfSxcbiAgICAgICAgY29lcmNlcih2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGlzT2JqZWN0KHZhbHVlKSA/IHsgLi4udmFsdWUgfSA6IHZhbHVlO1xuICAgICAgICB9LFxuICAgIH0pO1xufVxuLyoqXG4gKiBFbnN1cmUgdGhhdCBhIHZhbHVlIG1hdGNoZXMgb25lIG9mIGEgc2V0IG9mIHR5cGVzLlxuICpcbiAqIEBwYXJhbSBTdHJ1Y3RzIC0gVGhlIHNldCBvZiBzdHJ1Y3RzIHRoYXQgdGhlIHZhbHVlIG11c3QgbWF0Y2guXG4gKiBAcmV0dXJucyBBIG5ldyBzdHJ1Y3QgdGhhdCB3aWxsIG9ubHkgYWNjZXB0IHZhbHVlcyB0aGF0IG1hdGNoIG9uZSBvZiB0aGVcbiAqIGdpdmVuIHN0cnVjdHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bmlvbihTdHJ1Y3RzKSB7XG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSBTdHJ1Y3RzLm1hcCgoc3RydWN0KSA9PiBzdHJ1Y3QudHlwZSkuam9pbignIHwgJyk7XG4gICAgcmV0dXJuIG5ldyBTdHJ1Y3Qoe1xuICAgICAgICB0eXBlOiAndW5pb24nLFxuICAgICAgICBzY2hlbWE6IG51bGwsXG4gICAgICAgIGNvZXJjZXIodmFsdWUpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgSW5uZXJTdHJ1Y3Qgb2YgU3RydWN0cykge1xuICAgICAgICAgICAgICAgIGNvbnN0IFtlcnJvciwgY29lcmNlZF0gPSBJbm5lclN0cnVjdC52YWxpZGF0ZSh2YWx1ZSwgeyBjb2VyY2U6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCFlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29lcmNlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIHZhbGlkYXRvcih2YWx1ZSwgY3R4KSB7XG4gICAgICAgICAgICBjb25zdCBmYWlsdXJlcyA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBJbm5lclN0cnVjdCBvZiBTdHJ1Y3RzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgWy4uLnR1cGxlc10gPSBydW4odmFsdWUsIElubmVyU3RydWN0LCBjdHgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IFtmaXJzdF0gPSB0dXBsZXM7XG4gICAgICAgICAgICAgICAgaWYgKCFmaXJzdD8uWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBbZmFpbHVyZV0gb2YgdHVwbGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmYWlsdXJlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmYWlsdXJlcy5wdXNoKGZhaWx1cmUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICBgRXhwZWN0ZWQgdGhlIHZhbHVlIHRvIHNhdGlzZnkgYSB1bmlvbiBvZiBcXGAke2Rlc2NyaXB0aW9ufVxcYCwgYnV0IHJlY2VpdmVkOiAke3ByaW50KHZhbHVlKX1gLFxuICAgICAgICAgICAgICAgIC4uLmZhaWx1cmVzLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbi8qKlxuICogRW5zdXJlIHRoYXQgYW55IHZhbHVlIHBhc3NlcyB2YWxpZGF0aW9uLCB3aXRob3V0IHdpZGVuaW5nIGl0cyB0eXBlIHRvIGBhbnlgLlxuICpcbiAqIEByZXR1cm5zIEEgc3RydWN0IHRoYXQgd2lsbCBhbHdheXMgcGFzcyB2YWxpZGF0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5rbm93bigpIHtcbiAgICByZXR1cm4gZGVmaW5lKCd1bmtub3duJywgKCkgPT4gdHJ1ZSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10eXBlcy5tanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@metamask/superstruct/dist/structs/types.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@metamask/superstruct/dist/structs/utilities.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@metamask/superstruct/dist/structs/utilities.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assign: () => (/* binding */ assign),\n/* harmony export */   define: () => (/* binding */ define),\n/* harmony export */   deprecated: () => (/* binding */ deprecated),\n/* harmony export */   dynamic: () => (/* binding */ dynamic),\n/* harmony export */   lazy: () => (/* binding */ lazy),\n/* harmony export */   omit: () => (/* binding */ omit),\n/* harmony export */   partial: () => (/* binding */ partial),\n/* harmony export */   pick: () => (/* binding */ pick)\n/* harmony export */ });\n/* harmony import */ var _struct_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../struct.mjs */ \"(ssr)/./node_modules/@metamask/superstruct/dist/struct.mjs\");\n/* harmony import */ var _types_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types.mjs */ \"(ssr)/./node_modules/@metamask/superstruct/dist/structs/types.mjs\");\n\n\n/**\n * Create a new struct that combines the properties from multiple object or type\n * structs. Its return type will match the first parameter's type.\n *\n * @param Structs - The structs to combine.\n * @returns A new struct that combines the properties of the input structs.\n */\nfunction assign(...Structs) {\n    const isType = Structs[0]?.type === 'type';\n    const schemas = Structs.map(({ schema }) => schema);\n    const schema = Object.assign({}, ...schemas);\n    return isType ? (0,_types_mjs__WEBPACK_IMPORTED_MODULE_0__.type)(schema) : (0,_types_mjs__WEBPACK_IMPORTED_MODULE_0__.object)(schema);\n}\n/**\n * Define a new struct type with a custom validation function.\n *\n * @param name - The name of the struct type.\n * @param validator - The validation function.\n * @returns A new struct type.\n */\nfunction define(name, validator) {\n    return new _struct_mjs__WEBPACK_IMPORTED_MODULE_1__.Struct({ type: name, schema: null, validator });\n}\n/**\n * Create a new struct based on an existing struct, but the value is allowed to\n * be `undefined`. `log` will be called if the value is not `undefined`.\n *\n * @param struct - The struct to augment.\n * @param log - The function to call when the value is not `undefined`.\n * @returns A new struct that will only accept `undefined` or values that pass\n * the input struct.\n */\nfunction deprecated(struct, log) {\n    return new _struct_mjs__WEBPACK_IMPORTED_MODULE_1__.Struct({\n        ...struct,\n        refiner: (value, ctx) => value === undefined || struct.refiner(value, ctx),\n        validator(value, ctx) {\n            if (value === undefined) {\n                return true;\n            }\n            log(value, ctx);\n            return struct.validator(value, ctx);\n        },\n    });\n}\n/**\n * Create a struct with dynamic validation logic.\n *\n * The callback will receive the value currently being validated, and must\n * return a struct object to validate it with. This can be useful to model\n * validation logic that changes based on its input.\n *\n * @param fn - The callback to create the struct.\n * @returns A new struct with dynamic validation logic.\n */\nfunction dynamic(fn) {\n    return new _struct_mjs__WEBPACK_IMPORTED_MODULE_1__.Struct({\n        type: 'dynamic',\n        schema: null,\n        *entries(value, ctx) {\n            const struct = fn(value, ctx);\n            yield* struct.entries(value, ctx);\n        },\n        validator(value, ctx) {\n            const struct = fn(value, ctx);\n            return struct.validator(value, ctx);\n        },\n        coercer(value, ctx) {\n            const struct = fn(value, ctx);\n            return struct.coercer(value, ctx);\n        },\n        refiner(value, ctx) {\n            const struct = fn(value, ctx);\n            return struct.refiner(value, ctx);\n        },\n    });\n}\n/**\n * Create a struct with lazily evaluated validation logic.\n *\n * The first time validation is run with the struct, the callback will be called\n * and must return a struct object to use. This is useful for cases where you\n * want to have self-referential structs for nested data structures to avoid a\n * circular definition problem.\n *\n * @param fn - The callback to create the struct.\n * @returns A new struct with lazily evaluated validation logic.\n */\nfunction lazy(fn) {\n    let struct;\n    return new _struct_mjs__WEBPACK_IMPORTED_MODULE_1__.Struct({\n        type: 'lazy',\n        schema: null,\n        *entries(value, ctx) {\n            struct ?? (struct = fn());\n            yield* struct.entries(value, ctx);\n        },\n        validator(value, ctx) {\n            struct ?? (struct = fn());\n            return struct.validator(value, ctx);\n        },\n        coercer(value, ctx) {\n            struct ?? (struct = fn());\n            return struct.coercer(value, ctx);\n        },\n        refiner(value, ctx) {\n            struct ?? (struct = fn());\n            return struct.refiner(value, ctx);\n        },\n    });\n}\n/**\n * Create a new struct based on an existing object struct, but excluding\n * specific properties.\n *\n * Like TypeScript's `Omit` utility.\n *\n * @param struct - The struct to augment.\n * @param keys - The keys to omit.\n * @returns A new struct that will not accept the input keys.\n */\nfunction omit(struct, keys) {\n    const { schema } = struct;\n    const subschema = { ...schema };\n    for (const key of keys) {\n        delete subschema[key];\n    }\n    switch (struct.type) {\n        case 'type':\n            return (0,_types_mjs__WEBPACK_IMPORTED_MODULE_0__.type)(subschema);\n        default:\n            return (0,_types_mjs__WEBPACK_IMPORTED_MODULE_0__.object)(subschema);\n    }\n}\n/**\n * Create a new struct based on an existing object struct, but with all of its\n * properties allowed to be `undefined`.\n *\n * Like TypeScript's `Partial` utility.\n *\n * @param struct - The struct to augment.\n * @returns A new struct that will accept the input keys as `undefined`.\n */\nfunction partial(struct) {\n    const isStruct = struct instanceof _struct_mjs__WEBPACK_IMPORTED_MODULE_1__.Struct;\n    const schema = isStruct ? { ...struct.schema } : { ...struct };\n    // eslint-disable-next-line guard-for-in\n    for (const key in schema) {\n        schema[key] = (0,_types_mjs__WEBPACK_IMPORTED_MODULE_0__.optional)(schema[key]);\n    }\n    if (isStruct && struct.type === 'type') {\n        return (0,_types_mjs__WEBPACK_IMPORTED_MODULE_0__.type)(schema);\n    }\n    return (0,_types_mjs__WEBPACK_IMPORTED_MODULE_0__.object)(schema);\n}\n/**\n * Create a new struct based on an existing object struct, but only including\n * specific properties.\n *\n * Like TypeScript's `Pick` utility.\n *\n * @param struct - The struct to augment.\n * @param keys - The keys to pick.\n * @returns A new struct that will only accept the input keys.\n */\nfunction pick(struct, keys) {\n    const { schema } = struct;\n    const subschema = {};\n    for (const key of keys) {\n        subschema[key] = schema[key];\n    }\n    switch (struct.type) {\n        case 'type':\n            return (0,_types_mjs__WEBPACK_IMPORTED_MODULE_0__.type)(subschema);\n        default:\n            return (0,_types_mjs__WEBPACK_IMPORTED_MODULE_0__.object)(subschema);\n    }\n}\n//# sourceMappingURL=utilities.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1ldGFtYXNrL3N1cGVyc3RydWN0L2Rpc3Qvc3RydWN0cy91dGlsaXRpZXMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBdUM7QUFDYztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxtQ0FBbUMsUUFBUTtBQUMzQyxtQ0FBbUM7QUFDbkMsb0JBQW9CLGdEQUFJLFdBQVcsa0RBQU07QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsZUFBZSwrQ0FBTSxHQUFHLHFDQUFxQztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsZUFBZSwrQ0FBTTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxlQUFlLCtDQUFNO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxlQUFlLCtDQUFNO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLFlBQVksU0FBUztBQUNyQix3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixnREFBSTtBQUN2QjtBQUNBLG1CQUFtQixrREFBTTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCx1Q0FBdUMsK0NBQU07QUFDN0MsZ0NBQWdDLG1CQUFtQixJQUFJO0FBQ3ZEO0FBQ0E7QUFDQSxzQkFBc0Isb0RBQVE7QUFDOUI7QUFDQTtBQUNBLGVBQWUsZ0RBQUk7QUFDbkI7QUFDQSxXQUFXLGtEQUFNO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLFlBQVksU0FBUztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsZ0RBQUk7QUFDdkI7QUFDQSxtQkFBbUIsa0RBQU07QUFDekI7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ2VvcXVlc3QtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvQG1ldGFtYXNrL3N1cGVyc3RydWN0L2Rpc3Qvc3RydWN0cy91dGlsaXRpZXMubWpzPzhjMmMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU3RydWN0IH0gZnJvbSBcIi4uL3N0cnVjdC5tanNcIjtcbmltcG9ydCB7IG9iamVjdCwgb3B0aW9uYWwsIHR5cGUgfSBmcm9tIFwiLi90eXBlcy5tanNcIjtcbi8qKlxuICogQ3JlYXRlIGEgbmV3IHN0cnVjdCB0aGF0IGNvbWJpbmVzIHRoZSBwcm9wZXJ0aWVzIGZyb20gbXVsdGlwbGUgb2JqZWN0IG9yIHR5cGVcbiAqIHN0cnVjdHMuIEl0cyByZXR1cm4gdHlwZSB3aWxsIG1hdGNoIHRoZSBmaXJzdCBwYXJhbWV0ZXIncyB0eXBlLlxuICpcbiAqIEBwYXJhbSBTdHJ1Y3RzIC0gVGhlIHN0cnVjdHMgdG8gY29tYmluZS5cbiAqIEByZXR1cm5zIEEgbmV3IHN0cnVjdCB0aGF0IGNvbWJpbmVzIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBpbnB1dCBzdHJ1Y3RzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduKC4uLlN0cnVjdHMpIHtcbiAgICBjb25zdCBpc1R5cGUgPSBTdHJ1Y3RzWzBdPy50eXBlID09PSAndHlwZSc7XG4gICAgY29uc3Qgc2NoZW1hcyA9IFN0cnVjdHMubWFwKCh7IHNjaGVtYSB9KSA9PiBzY2hlbWEpO1xuICAgIGNvbnN0IHNjaGVtYSA9IE9iamVjdC5hc3NpZ24oe30sIC4uLnNjaGVtYXMpO1xuICAgIHJldHVybiBpc1R5cGUgPyB0eXBlKHNjaGVtYSkgOiBvYmplY3Qoc2NoZW1hKTtcbn1cbi8qKlxuICogRGVmaW5lIGEgbmV3IHN0cnVjdCB0eXBlIHdpdGggYSBjdXN0b20gdmFsaWRhdGlvbiBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBzdHJ1Y3QgdHlwZS5cbiAqIEBwYXJhbSB2YWxpZGF0b3IgLSBUaGUgdmFsaWRhdGlvbiBmdW5jdGlvbi5cbiAqIEByZXR1cm5zIEEgbmV3IHN0cnVjdCB0eXBlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lKG5hbWUsIHZhbGlkYXRvcikge1xuICAgIHJldHVybiBuZXcgU3RydWN0KHsgdHlwZTogbmFtZSwgc2NoZW1hOiBudWxsLCB2YWxpZGF0b3IgfSk7XG59XG4vKipcbiAqIENyZWF0ZSBhIG5ldyBzdHJ1Y3QgYmFzZWQgb24gYW4gZXhpc3Rpbmcgc3RydWN0LCBidXQgdGhlIHZhbHVlIGlzIGFsbG93ZWQgdG9cbiAqIGJlIGB1bmRlZmluZWRgLiBgbG9nYCB3aWxsIGJlIGNhbGxlZCBpZiB0aGUgdmFsdWUgaXMgbm90IGB1bmRlZmluZWRgLlxuICpcbiAqIEBwYXJhbSBzdHJ1Y3QgLSBUaGUgc3RydWN0IHRvIGF1Z21lbnQuXG4gKiBAcGFyYW0gbG9nIC0gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGUgdmFsdWUgaXMgbm90IGB1bmRlZmluZWRgLlxuICogQHJldHVybnMgQSBuZXcgc3RydWN0IHRoYXQgd2lsbCBvbmx5IGFjY2VwdCBgdW5kZWZpbmVkYCBvciB2YWx1ZXMgdGhhdCBwYXNzXG4gKiB0aGUgaW5wdXQgc3RydWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVwcmVjYXRlZChzdHJ1Y3QsIGxvZykge1xuICAgIHJldHVybiBuZXcgU3RydWN0KHtcbiAgICAgICAgLi4uc3RydWN0LFxuICAgICAgICByZWZpbmVyOiAodmFsdWUsIGN0eCkgPT4gdmFsdWUgPT09IHVuZGVmaW5lZCB8fCBzdHJ1Y3QucmVmaW5lcih2YWx1ZSwgY3R4KSxcbiAgICAgICAgdmFsaWRhdG9yKHZhbHVlLCBjdHgpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2codmFsdWUsIGN0eCk7XG4gICAgICAgICAgICByZXR1cm4gc3RydWN0LnZhbGlkYXRvcih2YWx1ZSwgY3R4KTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbi8qKlxuICogQ3JlYXRlIGEgc3RydWN0IHdpdGggZHluYW1pYyB2YWxpZGF0aW9uIGxvZ2ljLlxuICpcbiAqIFRoZSBjYWxsYmFjayB3aWxsIHJlY2VpdmUgdGhlIHZhbHVlIGN1cnJlbnRseSBiZWluZyB2YWxpZGF0ZWQsIGFuZCBtdXN0XG4gKiByZXR1cm4gYSBzdHJ1Y3Qgb2JqZWN0IHRvIHZhbGlkYXRlIGl0IHdpdGguIFRoaXMgY2FuIGJlIHVzZWZ1bCB0byBtb2RlbFxuICogdmFsaWRhdGlvbiBsb2dpYyB0aGF0IGNoYW5nZXMgYmFzZWQgb24gaXRzIGlucHV0LlxuICpcbiAqIEBwYXJhbSBmbiAtIFRoZSBjYWxsYmFjayB0byBjcmVhdGUgdGhlIHN0cnVjdC5cbiAqIEByZXR1cm5zIEEgbmV3IHN0cnVjdCB3aXRoIGR5bmFtaWMgdmFsaWRhdGlvbiBsb2dpYy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGR5bmFtaWMoZm4pIHtcbiAgICByZXR1cm4gbmV3IFN0cnVjdCh7XG4gICAgICAgIHR5cGU6ICdkeW5hbWljJyxcbiAgICAgICAgc2NoZW1hOiBudWxsLFxuICAgICAgICAqZW50cmllcyh2YWx1ZSwgY3R4KSB7XG4gICAgICAgICAgICBjb25zdCBzdHJ1Y3QgPSBmbih2YWx1ZSwgY3R4KTtcbiAgICAgICAgICAgIHlpZWxkKiBzdHJ1Y3QuZW50cmllcyh2YWx1ZSwgY3R4KTtcbiAgICAgICAgfSxcbiAgICAgICAgdmFsaWRhdG9yKHZhbHVlLCBjdHgpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0cnVjdCA9IGZuKHZhbHVlLCBjdHgpO1xuICAgICAgICAgICAgcmV0dXJuIHN0cnVjdC52YWxpZGF0b3IodmFsdWUsIGN0eCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNvZXJjZXIodmFsdWUsIGN0eCkge1xuICAgICAgICAgICAgY29uc3Qgc3RydWN0ID0gZm4odmFsdWUsIGN0eCk7XG4gICAgICAgICAgICByZXR1cm4gc3RydWN0LmNvZXJjZXIodmFsdWUsIGN0eCk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlZmluZXIodmFsdWUsIGN0eCkge1xuICAgICAgICAgICAgY29uc3Qgc3RydWN0ID0gZm4odmFsdWUsIGN0eCk7XG4gICAgICAgICAgICByZXR1cm4gc3RydWN0LnJlZmluZXIodmFsdWUsIGN0eCk7XG4gICAgICAgIH0sXG4gICAgfSk7XG59XG4vKipcbiAqIENyZWF0ZSBhIHN0cnVjdCB3aXRoIGxhemlseSBldmFsdWF0ZWQgdmFsaWRhdGlvbiBsb2dpYy5cbiAqXG4gKiBUaGUgZmlyc3QgdGltZSB2YWxpZGF0aW9uIGlzIHJ1biB3aXRoIHRoZSBzdHJ1Y3QsIHRoZSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZFxuICogYW5kIG11c3QgcmV0dXJuIGEgc3RydWN0IG9iamVjdCB0byB1c2UuIFRoaXMgaXMgdXNlZnVsIGZvciBjYXNlcyB3aGVyZSB5b3VcbiAqIHdhbnQgdG8gaGF2ZSBzZWxmLXJlZmVyZW50aWFsIHN0cnVjdHMgZm9yIG5lc3RlZCBkYXRhIHN0cnVjdHVyZXMgdG8gYXZvaWQgYVxuICogY2lyY3VsYXIgZGVmaW5pdGlvbiBwcm9ibGVtLlxuICpcbiAqIEBwYXJhbSBmbiAtIFRoZSBjYWxsYmFjayB0byBjcmVhdGUgdGhlIHN0cnVjdC5cbiAqIEByZXR1cm5zIEEgbmV3IHN0cnVjdCB3aXRoIGxhemlseSBldmFsdWF0ZWQgdmFsaWRhdGlvbiBsb2dpYy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxhenkoZm4pIHtcbiAgICBsZXQgc3RydWN0O1xuICAgIHJldHVybiBuZXcgU3RydWN0KHtcbiAgICAgICAgdHlwZTogJ2xhenknLFxuICAgICAgICBzY2hlbWE6IG51bGwsXG4gICAgICAgICplbnRyaWVzKHZhbHVlLCBjdHgpIHtcbiAgICAgICAgICAgIHN0cnVjdCA/PyAoc3RydWN0ID0gZm4oKSk7XG4gICAgICAgICAgICB5aWVsZCogc3RydWN0LmVudHJpZXModmFsdWUsIGN0eCk7XG4gICAgICAgIH0sXG4gICAgICAgIHZhbGlkYXRvcih2YWx1ZSwgY3R4KSB7XG4gICAgICAgICAgICBzdHJ1Y3QgPz8gKHN0cnVjdCA9IGZuKCkpO1xuICAgICAgICAgICAgcmV0dXJuIHN0cnVjdC52YWxpZGF0b3IodmFsdWUsIGN0eCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNvZXJjZXIodmFsdWUsIGN0eCkge1xuICAgICAgICAgICAgc3RydWN0ID8/IChzdHJ1Y3QgPSBmbigpKTtcbiAgICAgICAgICAgIHJldHVybiBzdHJ1Y3QuY29lcmNlcih2YWx1ZSwgY3R4KTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVmaW5lcih2YWx1ZSwgY3R4KSB7XG4gICAgICAgICAgICBzdHJ1Y3QgPz8gKHN0cnVjdCA9IGZuKCkpO1xuICAgICAgICAgICAgcmV0dXJuIHN0cnVjdC5yZWZpbmVyKHZhbHVlLCBjdHgpO1xuICAgICAgICB9LFxuICAgIH0pO1xufVxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgc3RydWN0IGJhc2VkIG9uIGFuIGV4aXN0aW5nIG9iamVjdCBzdHJ1Y3QsIGJ1dCBleGNsdWRpbmdcbiAqIHNwZWNpZmljIHByb3BlcnRpZXMuXG4gKlxuICogTGlrZSBUeXBlU2NyaXB0J3MgYE9taXRgIHV0aWxpdHkuXG4gKlxuICogQHBhcmFtIHN0cnVjdCAtIFRoZSBzdHJ1Y3QgdG8gYXVnbWVudC5cbiAqIEBwYXJhbSBrZXlzIC0gVGhlIGtleXMgdG8gb21pdC5cbiAqIEByZXR1cm5zIEEgbmV3IHN0cnVjdCB0aGF0IHdpbGwgbm90IGFjY2VwdCB0aGUgaW5wdXQga2V5cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9taXQoc3RydWN0LCBrZXlzKSB7XG4gICAgY29uc3QgeyBzY2hlbWEgfSA9IHN0cnVjdDtcbiAgICBjb25zdCBzdWJzY2hlbWEgPSB7IC4uLnNjaGVtYSB9O1xuICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcbiAgICAgICAgZGVsZXRlIHN1YnNjaGVtYVtrZXldO1xuICAgIH1cbiAgICBzd2l0Y2ggKHN0cnVjdC50eXBlKSB7XG4gICAgICAgIGNhc2UgJ3R5cGUnOlxuICAgICAgICAgICAgcmV0dXJuIHR5cGUoc3Vic2NoZW1hKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBvYmplY3Qoc3Vic2NoZW1hKTtcbiAgICB9XG59XG4vKipcbiAqIENyZWF0ZSBhIG5ldyBzdHJ1Y3QgYmFzZWQgb24gYW4gZXhpc3Rpbmcgb2JqZWN0IHN0cnVjdCwgYnV0IHdpdGggYWxsIG9mIGl0c1xuICogcHJvcGVydGllcyBhbGxvd2VkIHRvIGJlIGB1bmRlZmluZWRgLlxuICpcbiAqIExpa2UgVHlwZVNjcmlwdCdzIGBQYXJ0aWFsYCB1dGlsaXR5LlxuICpcbiAqIEBwYXJhbSBzdHJ1Y3QgLSBUaGUgc3RydWN0IHRvIGF1Z21lbnQuXG4gKiBAcmV0dXJucyBBIG5ldyBzdHJ1Y3QgdGhhdCB3aWxsIGFjY2VwdCB0aGUgaW5wdXQga2V5cyBhcyBgdW5kZWZpbmVkYC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnRpYWwoc3RydWN0KSB7XG4gICAgY29uc3QgaXNTdHJ1Y3QgPSBzdHJ1Y3QgaW5zdGFuY2VvZiBTdHJ1Y3Q7XG4gICAgY29uc3Qgc2NoZW1hID0gaXNTdHJ1Y3QgPyB7IC4uLnN0cnVjdC5zY2hlbWEgfSA6IHsgLi4uc3RydWN0IH07XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGd1YXJkLWZvci1pblxuICAgIGZvciAoY29uc3Qga2V5IGluIHNjaGVtYSkge1xuICAgICAgICBzY2hlbWFba2V5XSA9IG9wdGlvbmFsKHNjaGVtYVtrZXldKTtcbiAgICB9XG4gICAgaWYgKGlzU3RydWN0ICYmIHN0cnVjdC50eXBlID09PSAndHlwZScpIHtcbiAgICAgICAgcmV0dXJuIHR5cGUoc2NoZW1hKTtcbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdChzY2hlbWEpO1xufVxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgc3RydWN0IGJhc2VkIG9uIGFuIGV4aXN0aW5nIG9iamVjdCBzdHJ1Y3QsIGJ1dCBvbmx5IGluY2x1ZGluZ1xuICogc3BlY2lmaWMgcHJvcGVydGllcy5cbiAqXG4gKiBMaWtlIFR5cGVTY3JpcHQncyBgUGlja2AgdXRpbGl0eS5cbiAqXG4gKiBAcGFyYW0gc3RydWN0IC0gVGhlIHN0cnVjdCB0byBhdWdtZW50LlxuICogQHBhcmFtIGtleXMgLSBUaGUga2V5cyB0byBwaWNrLlxuICogQHJldHVybnMgQSBuZXcgc3RydWN0IHRoYXQgd2lsbCBvbmx5IGFjY2VwdCB0aGUgaW5wdXQga2V5cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBpY2soc3RydWN0LCBrZXlzKSB7XG4gICAgY29uc3QgeyBzY2hlbWEgfSA9IHN0cnVjdDtcbiAgICBjb25zdCBzdWJzY2hlbWEgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG4gICAgICAgIHN1YnNjaGVtYVtrZXldID0gc2NoZW1hW2tleV07XG4gICAgfVxuICAgIHN3aXRjaCAoc3RydWN0LnR5cGUpIHtcbiAgICAgICAgY2FzZSAndHlwZSc6XG4gICAgICAgICAgICByZXR1cm4gdHlwZShzdWJzY2hlbWEpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIG9iamVjdChzdWJzY2hlbWEpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWxpdGllcy5tanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@metamask/superstruct/dist/structs/utilities.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@metamask/superstruct/dist/utils.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@metamask/superstruct/dist/utils.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isObject: () => (/* binding */ isObject),\n/* harmony export */   isPlainObject: () => (/* binding */ isPlainObject),\n/* harmony export */   print: () => (/* binding */ print),\n/* harmony export */   run: () => (/* binding */ run),\n/* harmony export */   shiftIterator: () => (/* binding */ shiftIterator),\n/* harmony export */   toFailure: () => (/* binding */ toFailure),\n/* harmony export */   toFailures: () => (/* binding */ toFailures)\n/* harmony export */ });\n/**\n * Check if a value is an iterator.\n *\n * @param value - The value to check.\n * @returns Whether the value is an iterator.\n */\nfunction isIterable(value) {\n    return isObject(value) && typeof value[Symbol.iterator] === 'function';\n}\n/**\n * Check if a value is a plain object.\n *\n * @param value - The value to check.\n * @returns Whether the value is a plain object.\n */\nfunction isObject(value) {\n    return typeof value === 'object' && value !== null;\n}\n/**\n * Check if a value is a plain object.\n *\n * @param value - The value to check.\n * @returns Whether the value is a plain object.\n */\nfunction isPlainObject(value) {\n    if (Object.prototype.toString.call(value) !== '[object Object]') {\n        return false;\n    }\n    const prototype = Object.getPrototypeOf(value);\n    return prototype === null || prototype === Object.prototype;\n}\n/**\n * Return a value as a printable string.\n *\n * @param value - The value to print.\n * @returns The value as a string.\n */\nfunction print(value) {\n    if (typeof value === 'symbol') {\n        return value.toString();\n    }\n    // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n    return typeof value === 'string' ? JSON.stringify(value) : `${value}`;\n}\n/**\n * Shift (remove and return) the first value from the `input` iterator.\n * Like `Array.prototype.shift()` but for an `Iterator`.\n *\n * @param input - The iterator to shift.\n * @returns The first value of the iterator, or `undefined` if the iterator is\n * empty.\n */\nfunction shiftIterator(input) {\n    const { done, value } = input.next();\n    return done ? undefined : value;\n}\n/**\n * Convert a single validation result to a failure.\n *\n * @param result - The result to convert.\n * @param context - The context of the validation.\n * @param struct - The struct being validated.\n * @param value - The value being validated.\n * @returns A failure if the result is a failure, or `undefined` if the result\n * is a success.\n */\nfunction toFailure(result, context, struct, value) {\n    if (result === true) {\n        return undefined;\n    }\n    else if (result === false) {\n        // eslint-disable-next-line no-param-reassign\n        result = {};\n    }\n    else if (typeof result === 'string') {\n        // eslint-disable-next-line no-param-reassign\n        result = { message: result };\n    }\n    const { path, branch } = context;\n    const { type } = struct;\n    const { refinement, message = `Expected a value of type \\`${type}\\`${refinement ? ` with refinement \\`${refinement}\\`` : ''}, but received: \\`${print(value)}\\``, } = result;\n    return {\n        value,\n        type,\n        refinement,\n        key: path[path.length - 1],\n        path,\n        branch,\n        ...result,\n        message,\n    };\n}\n/**\n * Convert a validation result to an iterable of failures.\n *\n * @param result - The result to convert.\n * @param context - The context of the validation.\n * @param struct - The struct being validated.\n * @param value - The value being validated.\n * @yields The failures.\n * @returns An iterable of failures.\n */\nfunction* toFailures(result, context, struct, value) {\n    if (!isIterable(result)) {\n        // eslint-disable-next-line no-param-reassign\n        result = [result];\n    }\n    for (const validationResult of result) {\n        const failure = toFailure(validationResult, context, struct, value);\n        if (failure) {\n            yield failure;\n        }\n    }\n}\n/**\n * Check a value against a struct, traversing deeply into nested values, and\n * returning an iterator of failures or success.\n *\n * @param value - The value to check.\n * @param struct - The struct to check against.\n * @param options - Optional settings.\n * @param options.path - The path to the value in the input data.\n * @param options.branch - The branch of the value in the input data.\n * @param options.coerce - Whether to coerce the value before validating it.\n * @param options.mask - Whether to mask the value before validating it.\n * @param options.message - An optional message to include in the error.\n * @yields An iterator of failures or success.\n * @returns An iterator of failures or success.\n */\nfunction* run(value, struct, options = {}) {\n    const { path = [], branch = [value], coerce = false, mask = false } = options;\n    const context = { path, branch };\n    if (coerce) {\n        // eslint-disable-next-line no-param-reassign\n        value = struct.coercer(value, context);\n        if (mask &&\n            struct.type !== 'type' &&\n            isObject(struct.schema) &&\n            isObject(value) &&\n            !Array.isArray(value)) {\n            for (const key in value) {\n                if (struct.schema[key] === undefined) {\n                    delete value[key];\n                }\n            }\n        }\n    }\n    let status = 'valid';\n    for (const failure of struct.validator(value, context)) {\n        failure.explanation = options.message;\n        status = 'not_valid';\n        yield [failure, undefined];\n    }\n    // eslint-disable-next-line prefer-const\n    for (let [innerKey, innerValue, innerStruct] of struct.entries(value, context)) {\n        const iterable = run(innerValue, innerStruct, {\n            path: innerKey === undefined ? path : [...path, innerKey],\n            branch: innerKey === undefined ? branch : [...branch, innerValue],\n            coerce,\n            mask,\n            message: options.message,\n        });\n        for (const result of iterable) {\n            if (result[0]) {\n                status =\n                    result[0].refinement === null || result[0].refinement === undefined\n                        ? 'not_valid'\n                        : 'not_refined';\n                yield [result[0], undefined];\n            }\n            else if (coerce) {\n                innerValue = result[1];\n                if (innerKey === undefined) {\n                    // eslint-disable-next-line no-param-reassign\n                    value = innerValue;\n                }\n                else if (value instanceof Map) {\n                    value.set(innerKey, innerValue);\n                }\n                else if (value instanceof Set) {\n                    value.add(innerValue);\n                }\n                else if (isObject(value)) {\n                    if (innerValue !== undefined || innerKey in value) {\n                        value[innerKey] = innerValue;\n                    }\n                }\n            }\n        }\n    }\n    if (status !== 'not_valid') {\n        for (const failure of struct.refiner(value, context)) {\n            failure.explanation = options.message;\n            status = 'not_refined';\n            yield [failure, undefined];\n        }\n    }\n    if (status === 'valid') {\n        yield [undefined, value];\n    }\n}\n//# sourceMappingURL=utils.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1ldGFtYXNrL3N1cGVyc3RydWN0L2Rpc3QvdXRpbHMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRUFBa0UsTUFBTTtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLFlBQVksY0FBYztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBLFlBQVksZUFBZTtBQUMzQixZQUFZLE9BQU87QUFDbkIsWUFBWSxvREFBb0QsS0FBSyxJQUFJLG1DQUFtQyxXQUFXLFNBQVMsb0JBQW9CLGFBQWEsT0FBTztBQUN4SztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyx5Q0FBeUM7QUFDaEQsWUFBWSw0REFBNEQ7QUFDeEUsc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9xdWVzdC1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9AbWV0YW1hc2svc3VwZXJzdHJ1Y3QvZGlzdC91dGlscy5tanM/M2YyYSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENoZWNrIGlmIGEgdmFsdWUgaXMgYW4gaXRlcmF0b3IuXG4gKlxuICogQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMgV2hldGhlciB0aGUgdmFsdWUgaXMgYW4gaXRlcmF0b3IuXG4gKi9cbmZ1bmN0aW9uIGlzSXRlcmFibGUodmFsdWUpIHtcbiAgICByZXR1cm4gaXNPYmplY3QodmFsdWUpICYmIHR5cGVvZiB2YWx1ZVtTeW1ib2wuaXRlcmF0b3JdID09PSAnZnVuY3Rpb24nO1xufVxuLyoqXG4gKiBDaGVjayBpZiBhIHZhbHVlIGlzIGEgcGxhaW4gb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIFdoZXRoZXIgdGhlIHZhbHVlIGlzIGEgcGxhaW4gb2JqZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbDtcbn1cbi8qKlxuICogQ2hlY2sgaWYgYSB2YWx1ZSBpcyBhIHBsYWluIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyBXaGV0aGVyIHRoZSB2YWx1ZSBpcyBhIHBsYWluIG9iamVjdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSAhPT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBwcm90b3R5cGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFsdWUpO1xuICAgIHJldHVybiBwcm90b3R5cGUgPT09IG51bGwgfHwgcHJvdG90eXBlID09PSBPYmplY3QucHJvdG90eXBlO1xufVxuLyoqXG4gKiBSZXR1cm4gYSB2YWx1ZSBhcyBhIHByaW50YWJsZSBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIHRvIHByaW50LlxuICogQHJldHVybnMgVGhlIHZhbHVlIGFzIGEgc3RyaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJpbnQodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3ltYm9sJykge1xuICAgICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9yZXN0cmljdC10ZW1wbGF0ZS1leHByZXNzaW9uc1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gSlNPTi5zdHJpbmdpZnkodmFsdWUpIDogYCR7dmFsdWV9YDtcbn1cbi8qKlxuICogU2hpZnQgKHJlbW92ZSBhbmQgcmV0dXJuKSB0aGUgZmlyc3QgdmFsdWUgZnJvbSB0aGUgYGlucHV0YCBpdGVyYXRvci5cbiAqIExpa2UgYEFycmF5LnByb3RvdHlwZS5zaGlmdCgpYCBidXQgZm9yIGFuIGBJdGVyYXRvcmAuXG4gKlxuICogQHBhcmFtIGlucHV0IC0gVGhlIGl0ZXJhdG9yIHRvIHNoaWZ0LlxuICogQHJldHVybnMgVGhlIGZpcnN0IHZhbHVlIG9mIHRoZSBpdGVyYXRvciwgb3IgYHVuZGVmaW5lZGAgaWYgdGhlIGl0ZXJhdG9yIGlzXG4gKiBlbXB0eS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNoaWZ0SXRlcmF0b3IoaW5wdXQpIHtcbiAgICBjb25zdCB7IGRvbmUsIHZhbHVlIH0gPSBpbnB1dC5uZXh0KCk7XG4gICAgcmV0dXJuIGRvbmUgPyB1bmRlZmluZWQgOiB2YWx1ZTtcbn1cbi8qKlxuICogQ29udmVydCBhIHNpbmdsZSB2YWxpZGF0aW9uIHJlc3VsdCB0byBhIGZhaWx1cmUuXG4gKlxuICogQHBhcmFtIHJlc3VsdCAtIFRoZSByZXN1bHQgdG8gY29udmVydC5cbiAqIEBwYXJhbSBjb250ZXh0IC0gVGhlIGNvbnRleHQgb2YgdGhlIHZhbGlkYXRpb24uXG4gKiBAcGFyYW0gc3RydWN0IC0gVGhlIHN0cnVjdCBiZWluZyB2YWxpZGF0ZWQuXG4gKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgYmVpbmcgdmFsaWRhdGVkLlxuICogQHJldHVybnMgQSBmYWlsdXJlIGlmIHRoZSByZXN1bHQgaXMgYSBmYWlsdXJlLCBvciBgdW5kZWZpbmVkYCBpZiB0aGUgcmVzdWx0XG4gKiBpcyBhIHN1Y2Nlc3MuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0ZhaWx1cmUocmVzdWx0LCBjb250ZXh0LCBzdHJ1Y3QsIHZhbHVlKSB7XG4gICAgaWYgKHJlc3VsdCA9PT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBlbHNlIGlmIChyZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICByZXN1bHQgPSB7fTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgIHJlc3VsdCA9IHsgbWVzc2FnZTogcmVzdWx0IH07XG4gICAgfVxuICAgIGNvbnN0IHsgcGF0aCwgYnJhbmNoIH0gPSBjb250ZXh0O1xuICAgIGNvbnN0IHsgdHlwZSB9ID0gc3RydWN0O1xuICAgIGNvbnN0IHsgcmVmaW5lbWVudCwgbWVzc2FnZSA9IGBFeHBlY3RlZCBhIHZhbHVlIG9mIHR5cGUgXFxgJHt0eXBlfVxcYCR7cmVmaW5lbWVudCA/IGAgd2l0aCByZWZpbmVtZW50IFxcYCR7cmVmaW5lbWVudH1cXGBgIDogJyd9LCBidXQgcmVjZWl2ZWQ6IFxcYCR7cHJpbnQodmFsdWUpfVxcYGAsIH0gPSByZXN1bHQ7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIHR5cGUsXG4gICAgICAgIHJlZmluZW1lbnQsXG4gICAgICAgIGtleTogcGF0aFtwYXRoLmxlbmd0aCAtIDFdLFxuICAgICAgICBwYXRoLFxuICAgICAgICBicmFuY2gsXG4gICAgICAgIC4uLnJlc3VsdCxcbiAgICAgICAgbWVzc2FnZSxcbiAgICB9O1xufVxuLyoqXG4gKiBDb252ZXJ0IGEgdmFsaWRhdGlvbiByZXN1bHQgdG8gYW4gaXRlcmFibGUgb2YgZmFpbHVyZXMuXG4gKlxuICogQHBhcmFtIHJlc3VsdCAtIFRoZSByZXN1bHQgdG8gY29udmVydC5cbiAqIEBwYXJhbSBjb250ZXh0IC0gVGhlIGNvbnRleHQgb2YgdGhlIHZhbGlkYXRpb24uXG4gKiBAcGFyYW0gc3RydWN0IC0gVGhlIHN0cnVjdCBiZWluZyB2YWxpZGF0ZWQuXG4gKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgYmVpbmcgdmFsaWRhdGVkLlxuICogQHlpZWxkcyBUaGUgZmFpbHVyZXMuXG4gKiBAcmV0dXJucyBBbiBpdGVyYWJsZSBvZiBmYWlsdXJlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uKiB0b0ZhaWx1cmVzKHJlc3VsdCwgY29udGV4dCwgc3RydWN0LCB2YWx1ZSkge1xuICAgIGlmICghaXNJdGVyYWJsZShyZXN1bHQpKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICByZXN1bHQgPSBbcmVzdWx0XTtcbiAgICB9XG4gICAgZm9yIChjb25zdCB2YWxpZGF0aW9uUmVzdWx0IG9mIHJlc3VsdCkge1xuICAgICAgICBjb25zdCBmYWlsdXJlID0gdG9GYWlsdXJlKHZhbGlkYXRpb25SZXN1bHQsIGNvbnRleHQsIHN0cnVjdCwgdmFsdWUpO1xuICAgICAgICBpZiAoZmFpbHVyZSkge1xuICAgICAgICAgICAgeWllbGQgZmFpbHVyZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQ2hlY2sgYSB2YWx1ZSBhZ2FpbnN0IGEgc3RydWN0LCB0cmF2ZXJzaW5nIGRlZXBseSBpbnRvIG5lc3RlZCB2YWx1ZXMsIGFuZFxuICogcmV0dXJuaW5nIGFuIGl0ZXJhdG9yIG9mIGZhaWx1cmVzIG9yIHN1Y2Nlc3MuXG4gKlxuICogQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHBhcmFtIHN0cnVjdCAtIFRoZSBzdHJ1Y3QgdG8gY2hlY2sgYWdhaW5zdC5cbiAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9uYWwgc2V0dGluZ3MuXG4gKiBAcGFyYW0gb3B0aW9ucy5wYXRoIC0gVGhlIHBhdGggdG8gdGhlIHZhbHVlIGluIHRoZSBpbnB1dCBkYXRhLlxuICogQHBhcmFtIG9wdGlvbnMuYnJhbmNoIC0gVGhlIGJyYW5jaCBvZiB0aGUgdmFsdWUgaW4gdGhlIGlucHV0IGRhdGEuXG4gKiBAcGFyYW0gb3B0aW9ucy5jb2VyY2UgLSBXaGV0aGVyIHRvIGNvZXJjZSB0aGUgdmFsdWUgYmVmb3JlIHZhbGlkYXRpbmcgaXQuXG4gKiBAcGFyYW0gb3B0aW9ucy5tYXNrIC0gV2hldGhlciB0byBtYXNrIHRoZSB2YWx1ZSBiZWZvcmUgdmFsaWRhdGluZyBpdC5cbiAqIEBwYXJhbSBvcHRpb25zLm1lc3NhZ2UgLSBBbiBvcHRpb25hbCBtZXNzYWdlIHRvIGluY2x1ZGUgaW4gdGhlIGVycm9yLlxuICogQHlpZWxkcyBBbiBpdGVyYXRvciBvZiBmYWlsdXJlcyBvciBzdWNjZXNzLlxuICogQHJldHVybnMgQW4gaXRlcmF0b3Igb2YgZmFpbHVyZXMgb3Igc3VjY2Vzcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uKiBydW4odmFsdWUsIHN0cnVjdCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgeyBwYXRoID0gW10sIGJyYW5jaCA9IFt2YWx1ZV0sIGNvZXJjZSA9IGZhbHNlLCBtYXNrID0gZmFsc2UgfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgY29udGV4dCA9IHsgcGF0aCwgYnJhbmNoIH07XG4gICAgaWYgKGNvZXJjZSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgdmFsdWUgPSBzdHJ1Y3QuY29lcmNlcih2YWx1ZSwgY29udGV4dCk7XG4gICAgICAgIGlmIChtYXNrICYmXG4gICAgICAgICAgICBzdHJ1Y3QudHlwZSAhPT0gJ3R5cGUnICYmXG4gICAgICAgICAgICBpc09iamVjdChzdHJ1Y3Quc2NoZW1hKSAmJlxuICAgICAgICAgICAgaXNPYmplY3QodmFsdWUpICYmXG4gICAgICAgICAgICAhQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0cnVjdC5zY2hlbWFba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB2YWx1ZVtrZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgc3RhdHVzID0gJ3ZhbGlkJztcbiAgICBmb3IgKGNvbnN0IGZhaWx1cmUgb2Ygc3RydWN0LnZhbGlkYXRvcih2YWx1ZSwgY29udGV4dCkpIHtcbiAgICAgICAgZmFpbHVyZS5leHBsYW5hdGlvbiA9IG9wdGlvbnMubWVzc2FnZTtcbiAgICAgICAgc3RhdHVzID0gJ25vdF92YWxpZCc7XG4gICAgICAgIHlpZWxkIFtmYWlsdXJlLCB1bmRlZmluZWRdO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWNvbnN0XG4gICAgZm9yIChsZXQgW2lubmVyS2V5LCBpbm5lclZhbHVlLCBpbm5lclN0cnVjdF0gb2Ygc3RydWN0LmVudHJpZXModmFsdWUsIGNvbnRleHQpKSB7XG4gICAgICAgIGNvbnN0IGl0ZXJhYmxlID0gcnVuKGlubmVyVmFsdWUsIGlubmVyU3RydWN0LCB7XG4gICAgICAgICAgICBwYXRoOiBpbm5lcktleSA9PT0gdW5kZWZpbmVkID8gcGF0aCA6IFsuLi5wYXRoLCBpbm5lcktleV0sXG4gICAgICAgICAgICBicmFuY2g6IGlubmVyS2V5ID09PSB1bmRlZmluZWQgPyBicmFuY2ggOiBbLi4uYnJhbmNoLCBpbm5lclZhbHVlXSxcbiAgICAgICAgICAgIGNvZXJjZSxcbiAgICAgICAgICAgIG1hc2ssXG4gICAgICAgICAgICBtZXNzYWdlOiBvcHRpb25zLm1lc3NhZ2UsXG4gICAgICAgIH0pO1xuICAgICAgICBmb3IgKGNvbnN0IHJlc3VsdCBvZiBpdGVyYWJsZSkge1xuICAgICAgICAgICAgaWYgKHJlc3VsdFswXSkge1xuICAgICAgICAgICAgICAgIHN0YXR1cyA9XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFswXS5yZWZpbmVtZW50ID09PSBudWxsIHx8IHJlc3VsdFswXS5yZWZpbmVtZW50ID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gJ25vdF92YWxpZCdcbiAgICAgICAgICAgICAgICAgICAgICAgIDogJ25vdF9yZWZpbmVkJztcbiAgICAgICAgICAgICAgICB5aWVsZCBbcmVzdWx0WzBdLCB1bmRlZmluZWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY29lcmNlKSB7XG4gICAgICAgICAgICAgICAgaW5uZXJWYWx1ZSA9IHJlc3VsdFsxXTtcbiAgICAgICAgICAgICAgICBpZiAoaW5uZXJLZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBpbm5lclZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIE1hcCkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5zZXQoaW5uZXJLZXksIGlubmVyVmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFNldCkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5hZGQoaW5uZXJWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5uZXJWYWx1ZSAhPT0gdW5kZWZpbmVkIHx8IGlubmVyS2V5IGluIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVtpbm5lcktleV0gPSBpbm5lclZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChzdGF0dXMgIT09ICdub3RfdmFsaWQnKSB7XG4gICAgICAgIGZvciAoY29uc3QgZmFpbHVyZSBvZiBzdHJ1Y3QucmVmaW5lcih2YWx1ZSwgY29udGV4dCkpIHtcbiAgICAgICAgICAgIGZhaWx1cmUuZXhwbGFuYXRpb24gPSBvcHRpb25zLm1lc3NhZ2U7XG4gICAgICAgICAgICBzdGF0dXMgPSAnbm90X3JlZmluZWQnO1xuICAgICAgICAgICAgeWllbGQgW2ZhaWx1cmUsIHVuZGVmaW5lZF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHN0YXR1cyA9PT0gJ3ZhbGlkJykge1xuICAgICAgICB5aWVsZCBbdW5kZWZpbmVkLCB2YWx1ZV07XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@metamask/superstruct/dist/utils.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@metamask/utils/dist/assert.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@metamask/utils/dist/assert.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AssertionError: () => (/* binding */ AssertionError),\n/* harmony export */   assert: () => (/* binding */ assert),\n/* harmony export */   assertExhaustive: () => (/* binding */ assertExhaustive),\n/* harmony export */   assertStruct: () => (/* binding */ assertStruct)\n/* harmony export */ });\n/* harmony import */ var _metamask_superstruct__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @metamask/superstruct */ \"(ssr)/./node_modules/@metamask/superstruct/dist/struct.mjs\");\n/* harmony import */ var _errors_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./errors.mjs */ \"(ssr)/./node_modules/@metamask/utils/dist/errors.mjs\");\n\n\n/**\n * Check if a value is a constructor, i.e., a function that can be called with\n * the `new` keyword.\n *\n * @param fn - The value to check.\n * @returns `true` if the value is a constructor, or `false` otherwise.\n */\nfunction isConstructable(fn) {\n    /* istanbul ignore next */\n    return Boolean(typeof fn?.prototype?.constructor?.name === 'string');\n}\n/**\n * Attempts to obtain the message from a possible error object. If it is\n * possible to do so, any trailing period will be removed from the message;\n * otherwise an empty string is returned.\n *\n * @param error - The error object to get the message from.\n * @returns The message without any trailing period if `error` is an object\n * with a `message` property; the string version of `error` without any trailing\n * period if it is not `undefined` or `null`; otherwise an empty string.\n */\nfunction getErrorMessageWithoutTrailingPeriod(error) {\n    // We'll add our own period.\n    return (0,_errors_mjs__WEBPACK_IMPORTED_MODULE_0__.getErrorMessage)(error).replace(/\\.$/u, '');\n}\n/**\n * Initialise an {@link AssertionErrorConstructor} error.\n *\n * @param ErrorWrapper - The error class to use.\n * @param message - The error message.\n * @returns The error object.\n */\n// eslint-disable-next-line @typescript-eslint/naming-convention\nfunction getError(ErrorWrapper, message) {\n    if (isConstructable(ErrorWrapper)) {\n        return new ErrorWrapper({\n            message,\n        });\n    }\n    return ErrorWrapper({\n        message,\n    });\n}\n/**\n * The default error class that is thrown if an assertion fails.\n */\nclass AssertionError extends Error {\n    constructor(options) {\n        super(options.message);\n        this.code = 'ERR_ASSERTION';\n    }\n}\n/**\n * Same as Node.js assert.\n * If the value is falsy, throws an error, does nothing otherwise.\n *\n * @throws {@link AssertionError} If value is falsy.\n * @param value - The test that should be truthy to pass.\n * @param message - Message to be passed to {@link AssertionError} or an\n * {@link Error} instance to throw.\n * @param ErrorWrapper - The error class to throw if the assertion fails.\n * Defaults to {@link AssertionError}. If a custom error class is provided for\n * the `message` argument, this argument is ignored.\n */\nfunction assert(value, message = 'Assertion failed.', \n// eslint-disable-next-line @typescript-eslint/naming-convention\nErrorWrapper = AssertionError) {\n    if (!value) {\n        if (message instanceof Error) {\n            throw message;\n        }\n        throw getError(ErrorWrapper, message);\n    }\n}\n/**\n * Assert a value against a Superstruct struct.\n *\n * @param value - The value to validate.\n * @param struct - The struct to validate against.\n * @param errorPrefix - A prefix to add to the error message. Defaults to\n * \"Assertion failed\".\n * @param ErrorWrapper - The error class to throw if the assertion fails.\n * Defaults to {@link AssertionError}.\n * @throws If the value is not valid.\n */\nfunction assertStruct(value, struct, errorPrefix = 'Assertion failed', \n// eslint-disable-next-line @typescript-eslint/naming-convention\nErrorWrapper = AssertionError) {\n    try {\n        (0,_metamask_superstruct__WEBPACK_IMPORTED_MODULE_1__.assert)(value, struct);\n    }\n    catch (error) {\n        throw getError(ErrorWrapper, `${errorPrefix}: ${getErrorMessageWithoutTrailingPeriod(error)}.`);\n    }\n}\n/**\n * Use in the default case of a switch that you want to be fully exhaustive.\n * Using this function forces the compiler to enforce exhaustivity during\n * compile-time.\n *\n * @example\n * ```\n * const number = 1;\n * switch (number) {\n *   case 0:\n *     ...\n *   case 1:\n *     ...\n *   default:\n *     assertExhaustive(snapPrefix);\n * }\n * ```\n * @param _object - The object on which the switch is being operated.\n */\nfunction assertExhaustive(_object) {\n    throw new Error('Invalid branch reached. Should be detected during compilation.');\n}\n//# sourceMappingURL=assert.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1ldGFtYXNrL3V0aWxzL2Rpc3QvYXNzZXJ0Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBb0U7QUFDckI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCLDhDQUE4QztBQUM5QztBQUNBO0FBQ0E7QUFDQSxXQUFXLDREQUFlO0FBQzFCO0FBQ0E7QUFDQSxrQkFBa0IsaUNBQWlDO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxzQkFBc0I7QUFDbEM7QUFDQSw2Q0FBNkMsc0JBQXNCO0FBQ25FLElBQUksYUFBYTtBQUNqQjtBQUNBLGdCQUFnQixxQkFBcUI7QUFDckM7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixxQkFBcUI7QUFDckM7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsUUFBUSw2REFBaUI7QUFDekI7QUFDQTtBQUNBLHdDQUF3QyxZQUFZLElBQUksNENBQTRDO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ2VvcXVlc3QtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvQG1ldGFtYXNrL3V0aWxzL2Rpc3QvYXNzZXJ0Lm1qcz9jYmNjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFzc2VydCBhcyBhc3NlcnRTdXBlcnN0cnVjdCB9IGZyb20gXCJAbWV0YW1hc2svc3VwZXJzdHJ1Y3RcIjtcbmltcG9ydCB7IGdldEVycm9yTWVzc2FnZSB9IGZyb20gXCIuL2Vycm9ycy5tanNcIjtcbi8qKlxuICogQ2hlY2sgaWYgYSB2YWx1ZSBpcyBhIGNvbnN0cnVjdG9yLCBpLmUuLCBhIGZ1bmN0aW9uIHRoYXQgY2FuIGJlIGNhbGxlZCB3aXRoXG4gKiB0aGUgYG5ld2Aga2V5d29yZC5cbiAqXG4gKiBAcGFyYW0gZm4gLSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlIGlzIGEgY29uc3RydWN0b3IsIG9yIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICovXG5mdW5jdGlvbiBpc0NvbnN0cnVjdGFibGUoZm4pIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIHJldHVybiBCb29sZWFuKHR5cGVvZiBmbj8ucHJvdG90eXBlPy5jb25zdHJ1Y3Rvcj8ubmFtZSA9PT0gJ3N0cmluZycpO1xufVxuLyoqXG4gKiBBdHRlbXB0cyB0byBvYnRhaW4gdGhlIG1lc3NhZ2UgZnJvbSBhIHBvc3NpYmxlIGVycm9yIG9iamVjdC4gSWYgaXQgaXNcbiAqIHBvc3NpYmxlIHRvIGRvIHNvLCBhbnkgdHJhaWxpbmcgcGVyaW9kIHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBtZXNzYWdlO1xuICogb3RoZXJ3aXNlIGFuIGVtcHR5IHN0cmluZyBpcyByZXR1cm5lZC5cbiAqXG4gKiBAcGFyYW0gZXJyb3IgLSBUaGUgZXJyb3Igb2JqZWN0IHRvIGdldCB0aGUgbWVzc2FnZSBmcm9tLlxuICogQHJldHVybnMgVGhlIG1lc3NhZ2Ugd2l0aG91dCBhbnkgdHJhaWxpbmcgcGVyaW9kIGlmIGBlcnJvcmAgaXMgYW4gb2JqZWN0XG4gKiB3aXRoIGEgYG1lc3NhZ2VgIHByb3BlcnR5OyB0aGUgc3RyaW5nIHZlcnNpb24gb2YgYGVycm9yYCB3aXRob3V0IGFueSB0cmFpbGluZ1xuICogcGVyaW9kIGlmIGl0IGlzIG5vdCBgdW5kZWZpbmVkYCBvciBgbnVsbGA7IG90aGVyd2lzZSBhbiBlbXB0eSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGdldEVycm9yTWVzc2FnZVdpdGhvdXRUcmFpbGluZ1BlcmlvZChlcnJvcikge1xuICAgIC8vIFdlJ2xsIGFkZCBvdXIgb3duIHBlcmlvZC5cbiAgICByZXR1cm4gZ2V0RXJyb3JNZXNzYWdlKGVycm9yKS5yZXBsYWNlKC9cXC4kL3UsICcnKTtcbn1cbi8qKlxuICogSW5pdGlhbGlzZSBhbiB7QGxpbmsgQXNzZXJ0aW9uRXJyb3JDb25zdHJ1Y3Rvcn0gZXJyb3IuXG4gKlxuICogQHBhcmFtIEVycm9yV3JhcHBlciAtIFRoZSBlcnJvciBjbGFzcyB0byB1c2UuXG4gKiBAcGFyYW0gbWVzc2FnZSAtIFRoZSBlcnJvciBtZXNzYWdlLlxuICogQHJldHVybnMgVGhlIGVycm9yIG9iamVjdC5cbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uYW1pbmctY29udmVudGlvblxuZnVuY3Rpb24gZ2V0RXJyb3IoRXJyb3JXcmFwcGVyLCBtZXNzYWdlKSB7XG4gICAgaWYgKGlzQ29uc3RydWN0YWJsZShFcnJvcldyYXBwZXIpKSB7XG4gICAgICAgIHJldHVybiBuZXcgRXJyb3JXcmFwcGVyKHtcbiAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gRXJyb3JXcmFwcGVyKHtcbiAgICAgICAgbWVzc2FnZSxcbiAgICB9KTtcbn1cbi8qKlxuICogVGhlIGRlZmF1bHQgZXJyb3IgY2xhc3MgdGhhdCBpcyB0aHJvd24gaWYgYW4gYXNzZXJ0aW9uIGZhaWxzLlxuICovXG5leHBvcnQgY2xhc3MgQXNzZXJ0aW9uRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zLm1lc3NhZ2UpO1xuICAgICAgICB0aGlzLmNvZGUgPSAnRVJSX0FTU0VSVElPTic7XG4gICAgfVxufVxuLyoqXG4gKiBTYW1lIGFzIE5vZGUuanMgYXNzZXJ0LlxuICogSWYgdGhlIHZhbHVlIGlzIGZhbHN5LCB0aHJvd3MgYW4gZXJyb3IsIGRvZXMgbm90aGluZyBvdGhlcndpc2UuXG4gKlxuICogQHRocm93cyB7QGxpbmsgQXNzZXJ0aW9uRXJyb3J9IElmIHZhbHVlIGlzIGZhbHN5LlxuICogQHBhcmFtIHZhbHVlIC0gVGhlIHRlc3QgdGhhdCBzaG91bGQgYmUgdHJ1dGh5IHRvIHBhc3MuXG4gKiBAcGFyYW0gbWVzc2FnZSAtIE1lc3NhZ2UgdG8gYmUgcGFzc2VkIHRvIHtAbGluayBBc3NlcnRpb25FcnJvcn0gb3IgYW5cbiAqIHtAbGluayBFcnJvcn0gaW5zdGFuY2UgdG8gdGhyb3cuXG4gKiBAcGFyYW0gRXJyb3JXcmFwcGVyIC0gVGhlIGVycm9yIGNsYXNzIHRvIHRocm93IGlmIHRoZSBhc3NlcnRpb24gZmFpbHMuXG4gKiBEZWZhdWx0cyB0byB7QGxpbmsgQXNzZXJ0aW9uRXJyb3J9LiBJZiBhIGN1c3RvbSBlcnJvciBjbGFzcyBpcyBwcm92aWRlZCBmb3JcbiAqIHRoZSBgbWVzc2FnZWAgYXJndW1lbnQsIHRoaXMgYXJndW1lbnQgaXMgaWdub3JlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydCh2YWx1ZSwgbWVzc2FnZSA9ICdBc3NlcnRpb24gZmFpbGVkLicsIFxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uYW1pbmctY29udmVudGlvblxuRXJyb3JXcmFwcGVyID0gQXNzZXJ0aW9uRXJyb3IpIHtcbiAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIGlmIChtZXNzYWdlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG1lc3NhZ2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZ2V0RXJyb3IoRXJyb3JXcmFwcGVyLCBtZXNzYWdlKTtcbiAgICB9XG59XG4vKipcbiAqIEFzc2VydCBhIHZhbHVlIGFnYWluc3QgYSBTdXBlcnN0cnVjdCBzdHJ1Y3QuXG4gKlxuICogQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIHRvIHZhbGlkYXRlLlxuICogQHBhcmFtIHN0cnVjdCAtIFRoZSBzdHJ1Y3QgdG8gdmFsaWRhdGUgYWdhaW5zdC5cbiAqIEBwYXJhbSBlcnJvclByZWZpeCAtIEEgcHJlZml4IHRvIGFkZCB0byB0aGUgZXJyb3IgbWVzc2FnZS4gRGVmYXVsdHMgdG9cbiAqIFwiQXNzZXJ0aW9uIGZhaWxlZFwiLlxuICogQHBhcmFtIEVycm9yV3JhcHBlciAtIFRoZSBlcnJvciBjbGFzcyB0byB0aHJvdyBpZiB0aGUgYXNzZXJ0aW9uIGZhaWxzLlxuICogRGVmYXVsdHMgdG8ge0BsaW5rIEFzc2VydGlvbkVycm9yfS5cbiAqIEB0aHJvd3MgSWYgdGhlIHZhbHVlIGlzIG5vdCB2YWxpZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydFN0cnVjdCh2YWx1ZSwgc3RydWN0LCBlcnJvclByZWZpeCA9ICdBc3NlcnRpb24gZmFpbGVkJywgXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25hbWluZy1jb252ZW50aW9uXG5FcnJvcldyYXBwZXIgPSBBc3NlcnRpb25FcnJvcikge1xuICAgIHRyeSB7XG4gICAgICAgIGFzc2VydFN1cGVyc3RydWN0KHZhbHVlLCBzdHJ1Y3QpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgZ2V0RXJyb3IoRXJyb3JXcmFwcGVyLCBgJHtlcnJvclByZWZpeH06ICR7Z2V0RXJyb3JNZXNzYWdlV2l0aG91dFRyYWlsaW5nUGVyaW9kKGVycm9yKX0uYCk7XG4gICAgfVxufVxuLyoqXG4gKiBVc2UgaW4gdGhlIGRlZmF1bHQgY2FzZSBvZiBhIHN3aXRjaCB0aGF0IHlvdSB3YW50IHRvIGJlIGZ1bGx5IGV4aGF1c3RpdmUuXG4gKiBVc2luZyB0aGlzIGZ1bmN0aW9uIGZvcmNlcyB0aGUgY29tcGlsZXIgdG8gZW5mb3JjZSBleGhhdXN0aXZpdHkgZHVyaW5nXG4gKiBjb21waWxlLXRpbWUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYFxuICogY29uc3QgbnVtYmVyID0gMTtcbiAqIHN3aXRjaCAobnVtYmVyKSB7XG4gKiAgIGNhc2UgMDpcbiAqICAgICAuLi5cbiAqICAgY2FzZSAxOlxuICogICAgIC4uLlxuICogICBkZWZhdWx0OlxuICogICAgIGFzc2VydEV4aGF1c3RpdmUoc25hcFByZWZpeCk7XG4gKiB9XG4gKiBgYGBcbiAqIEBwYXJhbSBfb2JqZWN0IC0gVGhlIG9iamVjdCBvbiB3aGljaCB0aGUgc3dpdGNoIGlzIGJlaW5nIG9wZXJhdGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0RXhoYXVzdGl2ZShfb2JqZWN0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGJyYW5jaCByZWFjaGVkLiBTaG91bGQgYmUgZGV0ZWN0ZWQgZHVyaW5nIGNvbXBpbGF0aW9uLicpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXNzZXJ0Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@metamask/utils/dist/assert.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@metamask/utils/dist/errors.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@metamask/utils/dist/errors.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getErrorMessage: () => (/* binding */ getErrorMessage),\n/* harmony export */   isErrorWithCode: () => (/* binding */ isErrorWithCode),\n/* harmony export */   isErrorWithMessage: () => (/* binding */ isErrorWithMessage),\n/* harmony export */   isErrorWithStack: () => (/* binding */ isErrorWithStack),\n/* harmony export */   wrapError: () => (/* binding */ wrapError)\n/* harmony export */ });\n/* harmony import */ var pony_cause__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pony-cause */ \"(ssr)/./node_modules/pony-cause/index.mjs\");\n/* harmony import */ var _misc_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./misc.mjs */ \"(ssr)/./node_modules/@metamask/utils/dist/misc.mjs\");\n\n\n/**\n * Type guard for determining whether the given value is an instance of Error.\n * For errors generated via `fs.promises`, `error instanceof Error` won't work,\n * so we have to come up with another way of testing.\n *\n * @param error - The object to check.\n * @returns A boolean.\n */\nfunction isError(error) {\n    return (error instanceof Error ||\n        ((0,_misc_mjs__WEBPACK_IMPORTED_MODULE_1__.isObject)(error) && error.constructor.name === 'Error'));\n}\n/**\n * Type guard for determining whether the given value is an error object with a\n * `code` property such as the type of error that Node throws for filesystem\n * operations, etc.\n *\n * @param error - The object to check.\n * @returns A boolean.\n */\nfunction isErrorWithCode(error) {\n    return typeof error === 'object' && error !== null && 'code' in error;\n}\n/**\n * Type guard for determining whether the given value is an error object with a\n * `message` property, such as an instance of Error.\n *\n * @param error - The object to check.\n * @returns A boolean.\n */\nfunction isErrorWithMessage(error) {\n    return typeof error === 'object' && error !== null && 'message' in error;\n}\n/**\n * Type guard for determining whether the given value is an error object with a\n * `stack` property, such as an instance of Error.\n *\n * @param error - The object to check.\n * @returns A boolean.\n */\nfunction isErrorWithStack(error) {\n    return typeof error === 'object' && error !== null && 'stack' in error;\n}\n/**\n * Attempts to obtain the message from a possible error object, defaulting to an\n * empty string if it is impossible to do so.\n *\n * @param error - The possible error to get the message from.\n * @returns The message if `error` is an object with a `message` property;\n * the string version of `error` if it is not `undefined` or `null`; otherwise\n * an empty string.\n */\nfunction getErrorMessage(error) {\n    if (isErrorWithMessage(error) && typeof error.message === 'string') {\n        return error.message;\n    }\n    if ((0,_misc_mjs__WEBPACK_IMPORTED_MODULE_1__.isNullOrUndefined)(error)) {\n        return '';\n    }\n    return String(error);\n}\n/**\n * Builds a new error object, linking it to the original error via the `cause`\n * property if it is an Error.\n *\n * This function is useful to reframe error messages in general, but is\n * _critical_ when interacting with any of Node's filesystem functions as\n * provided via `fs.promises`, because these do not produce stack traces in the\n * case of an I/O error (see <https://github.com/nodejs/node/issues/30944>).\n *\n * @param originalError - The error to be wrapped (something throwable).\n * @param message - The desired message of the new error.\n * @returns A new error object.\n */\nfunction wrapError(originalError, message) {\n    if (isError(originalError)) {\n        let error;\n        if (Error.length === 2) {\n            // for some reason `tsserver` is not complaining that the\n            // Error constructor doesn't support a second argument in the editor,\n            // but `tsc` does. Error causes are not supported by our current tsc target (ES2020, we need ES2022 to make this work)\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n            // @ts-ignore\n            error = new Error(message, { cause: originalError });\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n            // @ts-ignore\n            error = new pony_cause__WEBPACK_IMPORTED_MODULE_0__.ErrorWithCause(message, { cause: originalError });\n        }\n        if (isErrorWithCode(originalError)) {\n            error.code = originalError.code;\n        }\n        return error;\n    }\n    if (message.length > 0) {\n        return new Error(`${String(originalError)}: ${message}`);\n    }\n    return new Error(String(originalError));\n}\n//# sourceMappingURL=errors.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1ldGFtYXNrL3V0aWxzL2Rpc3QvZXJyb3JzLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQTRDO0FBQ2E7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLG1EQUFRO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRUFBcUU7QUFDckU7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsUUFBUSw0REFBaUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxzQkFBc0I7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isc0RBQWMsWUFBWSxzQkFBc0I7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsc0JBQXNCLElBQUksUUFBUTtBQUM5RDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2dlb3F1ZXN0LWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL0BtZXRhbWFzay91dGlscy9kaXN0L2Vycm9ycy5tanM/NmViZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFcnJvcldpdGhDYXVzZSB9IGZyb20gXCJwb255LWNhdXNlXCI7XG5pbXBvcnQgeyBpc051bGxPclVuZGVmaW5lZCwgaXNPYmplY3QgfSBmcm9tIFwiLi9taXNjLm1qc1wiO1xuLyoqXG4gKiBUeXBlIGd1YXJkIGZvciBkZXRlcm1pbmluZyB3aGV0aGVyIHRoZSBnaXZlbiB2YWx1ZSBpcyBhbiBpbnN0YW5jZSBvZiBFcnJvci5cbiAqIEZvciBlcnJvcnMgZ2VuZXJhdGVkIHZpYSBgZnMucHJvbWlzZXNgLCBgZXJyb3IgaW5zdGFuY2VvZiBFcnJvcmAgd29uJ3Qgd29yayxcbiAqIHNvIHdlIGhhdmUgdG8gY29tZSB1cCB3aXRoIGFub3RoZXIgd2F5IG9mIHRlc3RpbmcuXG4gKlxuICogQHBhcmFtIGVycm9yIC0gVGhlIG9iamVjdCB0byBjaGVjay5cbiAqIEByZXR1cm5zIEEgYm9vbGVhbi5cbiAqL1xuZnVuY3Rpb24gaXNFcnJvcihlcnJvcikge1xuICAgIHJldHVybiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciB8fFxuICAgICAgICAoaXNPYmplY3QoZXJyb3IpICYmIGVycm9yLmNvbnN0cnVjdG9yLm5hbWUgPT09ICdFcnJvcicpKTtcbn1cbi8qKlxuICogVHlwZSBndWFyZCBmb3IgZGV0ZXJtaW5pbmcgd2hldGhlciB0aGUgZ2l2ZW4gdmFsdWUgaXMgYW4gZXJyb3Igb2JqZWN0IHdpdGggYVxuICogYGNvZGVgIHByb3BlcnR5IHN1Y2ggYXMgdGhlIHR5cGUgb2YgZXJyb3IgdGhhdCBOb2RlIHRocm93cyBmb3IgZmlsZXN5c3RlbVxuICogb3BlcmF0aW9ucywgZXRjLlxuICpcbiAqIEBwYXJhbSBlcnJvciAtIFRoZSBvYmplY3QgdG8gY2hlY2suXG4gKiBAcmV0dXJucyBBIGJvb2xlYW4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Vycm9yV2l0aENvZGUoZXJyb3IpIHtcbiAgICByZXR1cm4gdHlwZW9mIGVycm9yID09PSAnb2JqZWN0JyAmJiBlcnJvciAhPT0gbnVsbCAmJiAnY29kZScgaW4gZXJyb3I7XG59XG4vKipcbiAqIFR5cGUgZ3VhcmQgZm9yIGRldGVybWluaW5nIHdoZXRoZXIgdGhlIGdpdmVuIHZhbHVlIGlzIGFuIGVycm9yIG9iamVjdCB3aXRoIGFcbiAqIGBtZXNzYWdlYCBwcm9wZXJ0eSwgc3VjaCBhcyBhbiBpbnN0YW5jZSBvZiBFcnJvci5cbiAqXG4gKiBAcGFyYW0gZXJyb3IgLSBUaGUgb2JqZWN0IHRvIGNoZWNrLlxuICogQHJldHVybnMgQSBib29sZWFuLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNFcnJvcldpdGhNZXNzYWdlKGVycm9yKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBlcnJvciA9PT0gJ29iamVjdCcgJiYgZXJyb3IgIT09IG51bGwgJiYgJ21lc3NhZ2UnIGluIGVycm9yO1xufVxuLyoqXG4gKiBUeXBlIGd1YXJkIGZvciBkZXRlcm1pbmluZyB3aGV0aGVyIHRoZSBnaXZlbiB2YWx1ZSBpcyBhbiBlcnJvciBvYmplY3Qgd2l0aCBhXG4gKiBgc3RhY2tgIHByb3BlcnR5LCBzdWNoIGFzIGFuIGluc3RhbmNlIG9mIEVycm9yLlxuICpcbiAqIEBwYXJhbSBlcnJvciAtIFRoZSBvYmplY3QgdG8gY2hlY2suXG4gKiBAcmV0dXJucyBBIGJvb2xlYW4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Vycm9yV2l0aFN0YWNrKGVycm9yKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBlcnJvciA9PT0gJ29iamVjdCcgJiYgZXJyb3IgIT09IG51bGwgJiYgJ3N0YWNrJyBpbiBlcnJvcjtcbn1cbi8qKlxuICogQXR0ZW1wdHMgdG8gb2J0YWluIHRoZSBtZXNzYWdlIGZyb20gYSBwb3NzaWJsZSBlcnJvciBvYmplY3QsIGRlZmF1bHRpbmcgdG8gYW5cbiAqIGVtcHR5IHN0cmluZyBpZiBpdCBpcyBpbXBvc3NpYmxlIHRvIGRvIHNvLlxuICpcbiAqIEBwYXJhbSBlcnJvciAtIFRoZSBwb3NzaWJsZSBlcnJvciB0byBnZXQgdGhlIG1lc3NhZ2UgZnJvbS5cbiAqIEByZXR1cm5zIFRoZSBtZXNzYWdlIGlmIGBlcnJvcmAgaXMgYW4gb2JqZWN0IHdpdGggYSBgbWVzc2FnZWAgcHJvcGVydHk7XG4gKiB0aGUgc3RyaW5nIHZlcnNpb24gb2YgYGVycm9yYCBpZiBpdCBpcyBub3QgYHVuZGVmaW5lZGAgb3IgYG51bGxgOyBvdGhlcndpc2VcbiAqIGFuIGVtcHR5IHN0cmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEVycm9yTWVzc2FnZShlcnJvcikge1xuICAgIGlmIChpc0Vycm9yV2l0aE1lc3NhZ2UoZXJyb3IpICYmIHR5cGVvZiBlcnJvci5tZXNzYWdlID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gZXJyb3IubWVzc2FnZTtcbiAgICB9XG4gICAgaWYgKGlzTnVsbE9yVW5kZWZpbmVkKGVycm9yKSkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIHJldHVybiBTdHJpbmcoZXJyb3IpO1xufVxuLyoqXG4gKiBCdWlsZHMgYSBuZXcgZXJyb3Igb2JqZWN0LCBsaW5raW5nIGl0IHRvIHRoZSBvcmlnaW5hbCBlcnJvciB2aWEgdGhlIGBjYXVzZWBcbiAqIHByb3BlcnR5IGlmIGl0IGlzIGFuIEVycm9yLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZnVsIHRvIHJlZnJhbWUgZXJyb3IgbWVzc2FnZXMgaW4gZ2VuZXJhbCwgYnV0IGlzXG4gKiBfY3JpdGljYWxfIHdoZW4gaW50ZXJhY3Rpbmcgd2l0aCBhbnkgb2YgTm9kZSdzIGZpbGVzeXN0ZW0gZnVuY3Rpb25zIGFzXG4gKiBwcm92aWRlZCB2aWEgYGZzLnByb21pc2VzYCwgYmVjYXVzZSB0aGVzZSBkbyBub3QgcHJvZHVjZSBzdGFjayB0cmFjZXMgaW4gdGhlXG4gKiBjYXNlIG9mIGFuIEkvTyBlcnJvciAoc2VlIDxodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL25vZGUvaXNzdWVzLzMwOTQ0PikuXG4gKlxuICogQHBhcmFtIG9yaWdpbmFsRXJyb3IgLSBUaGUgZXJyb3IgdG8gYmUgd3JhcHBlZCAoc29tZXRoaW5nIHRocm93YWJsZSkuXG4gKiBAcGFyYW0gbWVzc2FnZSAtIFRoZSBkZXNpcmVkIG1lc3NhZ2Ugb2YgdGhlIG5ldyBlcnJvci5cbiAqIEByZXR1cm5zIEEgbmV3IGVycm9yIG9iamVjdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdyYXBFcnJvcihvcmlnaW5hbEVycm9yLCBtZXNzYWdlKSB7XG4gICAgaWYgKGlzRXJyb3Iob3JpZ2luYWxFcnJvcikpIHtcbiAgICAgICAgbGV0IGVycm9yO1xuICAgICAgICBpZiAoRXJyb3IubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICAvLyBmb3Igc29tZSByZWFzb24gYHRzc2VydmVyYCBpcyBub3QgY29tcGxhaW5pbmcgdGhhdCB0aGVcbiAgICAgICAgICAgIC8vIEVycm9yIGNvbnN0cnVjdG9yIGRvZXNuJ3Qgc3VwcG9ydCBhIHNlY29uZCBhcmd1bWVudCBpbiB0aGUgZWRpdG9yLFxuICAgICAgICAgICAgLy8gYnV0IGB0c2NgIGRvZXMuIEVycm9yIGNhdXNlcyBhcmUgbm90IHN1cHBvcnRlZCBieSBvdXIgY3VycmVudCB0c2MgdGFyZ2V0IChFUzIwMjAsIHdlIG5lZWQgRVMyMDIyIHRvIG1ha2UgdGhpcyB3b3JrKVxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IobWVzc2FnZSwgeyBjYXVzZTogb3JpZ2luYWxFcnJvciB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnRcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIGVycm9yID0gbmV3IEVycm9yV2l0aENhdXNlKG1lc3NhZ2UsIHsgY2F1c2U6IG9yaWdpbmFsRXJyb3IgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzRXJyb3JXaXRoQ29kZShvcmlnaW5hbEVycm9yKSkge1xuICAgICAgICAgICAgZXJyb3IuY29kZSA9IG9yaWdpbmFsRXJyb3IuY29kZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihgJHtTdHJpbmcob3JpZ2luYWxFcnJvcil9OiAke21lc3NhZ2V9YCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgRXJyb3IoU3RyaW5nKG9yaWdpbmFsRXJyb3IpKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVycm9ycy5tanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@metamask/utils/dist/errors.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@metamask/utils/dist/json.mjs":
/*!****************************************************!*\
  !*** ./node_modules/@metamask/utils/dist/json.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JsonRpcErrorStruct: () => (/* binding */ JsonRpcErrorStruct),\n/* harmony export */   JsonRpcFailureStruct: () => (/* binding */ JsonRpcFailureStruct),\n/* harmony export */   JsonRpcIdStruct: () => (/* binding */ JsonRpcIdStruct),\n/* harmony export */   JsonRpcNotificationStruct: () => (/* binding */ JsonRpcNotificationStruct),\n/* harmony export */   JsonRpcParamsStruct: () => (/* binding */ JsonRpcParamsStruct),\n/* harmony export */   JsonRpcRequestStruct: () => (/* binding */ JsonRpcRequestStruct),\n/* harmony export */   JsonRpcResponseStruct: () => (/* binding */ JsonRpcResponseStruct),\n/* harmony export */   JsonRpcSuccessStruct: () => (/* binding */ JsonRpcSuccessStruct),\n/* harmony export */   JsonRpcVersionStruct: () => (/* binding */ JsonRpcVersionStruct),\n/* harmony export */   JsonStruct: () => (/* binding */ JsonStruct),\n/* harmony export */   PendingJsonRpcResponseStruct: () => (/* binding */ PendingJsonRpcResponseStruct),\n/* harmony export */   UnsafeJsonStruct: () => (/* binding */ UnsafeJsonStruct),\n/* harmony export */   assertIsJsonRpcError: () => (/* binding */ assertIsJsonRpcError),\n/* harmony export */   assertIsJsonRpcFailure: () => (/* binding */ assertIsJsonRpcFailure),\n/* harmony export */   assertIsJsonRpcNotification: () => (/* binding */ assertIsJsonRpcNotification),\n/* harmony export */   assertIsJsonRpcRequest: () => (/* binding */ assertIsJsonRpcRequest),\n/* harmony export */   assertIsJsonRpcResponse: () => (/* binding */ assertIsJsonRpcResponse),\n/* harmony export */   assertIsJsonRpcSuccess: () => (/* binding */ assertIsJsonRpcSuccess),\n/* harmony export */   assertIsPendingJsonRpcResponse: () => (/* binding */ assertIsPendingJsonRpcResponse),\n/* harmony export */   exactOptional: () => (/* binding */ exactOptional),\n/* harmony export */   getJsonRpcIdValidator: () => (/* binding */ getJsonRpcIdValidator),\n/* harmony export */   getJsonSize: () => (/* binding */ getJsonSize),\n/* harmony export */   getSafeJson: () => (/* binding */ getSafeJson),\n/* harmony export */   isJsonRpcError: () => (/* binding */ isJsonRpcError),\n/* harmony export */   isJsonRpcFailure: () => (/* binding */ isJsonRpcFailure),\n/* harmony export */   isJsonRpcNotification: () => (/* binding */ isJsonRpcNotification),\n/* harmony export */   isJsonRpcRequest: () => (/* binding */ isJsonRpcRequest),\n/* harmony export */   isJsonRpcResponse: () => (/* binding */ isJsonRpcResponse),\n/* harmony export */   isJsonRpcSuccess: () => (/* binding */ isJsonRpcSuccess),\n/* harmony export */   isPendingJsonRpcResponse: () => (/* binding */ isPendingJsonRpcResponse),\n/* harmony export */   isValidJson: () => (/* binding */ isValidJson),\n/* harmony export */   jsonrpc2: () => (/* binding */ jsonrpc2),\n/* harmony export */   object: () => (/* binding */ object)\n/* harmony export */ });\n/* harmony import */ var _metamask_superstruct__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @metamask/superstruct */ \"(ssr)/./node_modules/@metamask/superstruct/dist/structs/types.mjs\");\n/* harmony import */ var _metamask_superstruct__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @metamask/superstruct */ \"(ssr)/./node_modules/@metamask/superstruct/dist/struct.mjs\");\n/* harmony import */ var _metamask_superstruct__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @metamask/superstruct */ \"(ssr)/./node_modules/@metamask/superstruct/dist/structs/utilities.mjs\");\n/* harmony import */ var _metamask_superstruct__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @metamask/superstruct */ \"(ssr)/./node_modules/@metamask/superstruct/dist/structs/coercions.mjs\");\n/* harmony import */ var _metamask_superstruct__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @metamask/superstruct */ \"(ssr)/./node_modules/@metamask/superstruct/dist/structs/refinements.mjs\");\n/* harmony import */ var _assert_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./assert.mjs */ \"(ssr)/./node_modules/@metamask/utils/dist/assert.mjs\");\n/* harmony import */ var _misc_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./misc.mjs */ \"(ssr)/./node_modules/@metamask/utils/dist/misc.mjs\");\n\n\n\n/**\n * A struct to check if the given value is a valid object, with support for\n * {@link exactOptional} types.\n *\n * @deprecated Use `exactOptional` and `object` from `@metamask/superstruct@>=3.2.0` instead.\n * @param schema - The schema of the object.\n * @returns A struct to check if the given value is an object.\n */\nconst object = (schema) => \n// The type is slightly different from a regular object struct, because we\n// want to make properties with `undefined` in their type optional, but not\n// `undefined` itself. This means that we need a type cast.\n(0,_metamask_superstruct__WEBPACK_IMPORTED_MODULE_0__.object)(schema);\n/**\n * Check the last field of a path is present.\n *\n * @param context - The context to check.\n * @param context.path - The path to check.\n * @param context.branch - The branch to check.\n * @returns Whether the last field of a path is present.\n */\nfunction hasOptional({ path, branch }) {\n    const field = path[path.length - 1];\n    return (0,_misc_mjs__WEBPACK_IMPORTED_MODULE_1__.hasProperty)(branch[branch.length - 2], field);\n}\n/**\n * A struct which allows the property of an object to be absent, or to be present\n * as long as it's valid and not set to `undefined`.\n *\n * This struct should be used in conjunction with the {@link object} from this\n * library, to get proper type inference.\n *\n * @deprecated Use `exactOptional` and `object` from `@metamask/superstruct@>=3.2.0` instead.\n * @param struct - The struct to check the value against, if present.\n * @returns A struct to check if the given value is valid, or not present.\n * @example\n * ```ts\n * const struct = object({\n *   foo: exactOptional(string()),\n *   bar: exactOptional(number()),\n *   baz: optional(boolean()),\n *   qux: unknown(),\n * });\n *\n * type Type = Infer<typeof struct>;\n * // Type is equivalent to:\n * // {\n * //   foo?: string;\n * //   bar?: number;\n * //   baz?: boolean | undefined;\n * //   qux: unknown;\n * // }\n * ```\n */\nfunction exactOptional(struct) {\n    return new _metamask_superstruct__WEBPACK_IMPORTED_MODULE_2__.Struct({\n        ...struct,\n        type: `optional ${struct.type}`,\n        validator: (value, context) => !hasOptional(context) || struct.validator(value, context),\n        refiner: (value, context) => !hasOptional(context) || struct.refiner(value, context),\n    });\n}\n/**\n * Validate an unknown input to be valid JSON.\n *\n * Useful for constructing JSON structs.\n *\n * @param json - An unknown value.\n * @returns True if the value is valid JSON, otherwise false.\n */\nfunction validateJson(json) {\n    if (json === null || typeof json === 'boolean' || typeof json === 'string') {\n        return true;\n    }\n    if (typeof json === 'number' && Number.isFinite(json)) {\n        return true;\n    }\n    if (typeof json === 'object') {\n        let every = true;\n        if (Array.isArray(json)) {\n            // Ignoring linting error since for-of is significantly slower than a normal for-loop\n            // and performance is important in this specific function.\n            // eslint-disable-next-line @typescript-eslint/prefer-for-of\n            for (let i = 0; i < json.length; i++) {\n                if (!validateJson(json[i])) {\n                    every = false;\n                    break;\n                }\n            }\n            return every;\n        }\n        const entries = Object.entries(json);\n        // Ignoring linting errors since for-of is significantly slower than a normal for-loop\n        // and performance is important in this specific function.\n        // eslint-disable-next-line @typescript-eslint/prefer-for-of\n        for (let i = 0; i < entries.length; i++) {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            if (typeof entries[i][0] !== 'string' || !validateJson(entries[i][1])) {\n                every = false;\n                break;\n            }\n        }\n        return every;\n    }\n    return false;\n}\n/**\n * A struct to check if the given value is a valid JSON-serializable value.\n *\n * Note that this struct is unsafe. For safe validation, use {@link JsonStruct}.\n */\nconst UnsafeJsonStruct = (0,_metamask_superstruct__WEBPACK_IMPORTED_MODULE_3__.define)('JSON', (json) => validateJson(json));\n/**\n * A struct to check if the given value is a valid JSON-serializable value.\n *\n * This struct sanitizes the value before validating it, so that it is safe to\n * use with untrusted input.\n */\nconst JsonStruct = (0,_metamask_superstruct__WEBPACK_IMPORTED_MODULE_4__.coerce)(UnsafeJsonStruct, (0,_metamask_superstruct__WEBPACK_IMPORTED_MODULE_5__.refine)((0,_metamask_superstruct__WEBPACK_IMPORTED_MODULE_0__.any)(), 'JSON', (value) => (0,_metamask_superstruct__WEBPACK_IMPORTED_MODULE_2__.is)(value, UnsafeJsonStruct)), (value) => JSON.parse(JSON.stringify(value, (propKey, propValue) => {\n    // Strip __proto__ and constructor properties to prevent prototype pollution.\n    if (propKey === '__proto__' || propKey === 'constructor') {\n        return undefined;\n    }\n    return propValue;\n})));\n/**\n * Check if the given value is a valid {@link Json} value, i.e., a value that is\n * serializable to JSON.\n *\n * @param value - The value to check.\n * @returns Whether the value is a valid {@link Json} value.\n */\nfunction isValidJson(value) {\n    try {\n        getSafeJson(value);\n        return true;\n    }\n    catch {\n        return false;\n    }\n}\n/**\n * Validate and return sanitized JSON.\n *\n * Note:\n * This function uses sanitized JsonStruct for validation\n * that applies stringify and then parse of a value provided\n * to ensure that there are no getters which can have side effects\n * that can cause security issues.\n *\n * @param value - JSON structure to be processed.\n * @returns Sanitized JSON structure.\n */\nfunction getSafeJson(value) {\n    return (0,_metamask_superstruct__WEBPACK_IMPORTED_MODULE_2__.create)(value, JsonStruct);\n}\n/**\n * Get the size of a JSON value in bytes. This also validates the value.\n *\n * @param value - The JSON value to get the size of.\n * @returns The size of the JSON value in bytes.\n */\nfunction getJsonSize(value) {\n    (0,_assert_mjs__WEBPACK_IMPORTED_MODULE_6__.assertStruct)(value, JsonStruct, 'Invalid JSON value');\n    const json = JSON.stringify(value);\n    return new TextEncoder().encode(json).byteLength;\n}\n/**\n * The string '2.0'.\n */\nconst jsonrpc2 = '2.0';\nconst JsonRpcVersionStruct = (0,_metamask_superstruct__WEBPACK_IMPORTED_MODULE_0__.literal)(jsonrpc2);\nconst JsonRpcIdStruct = (0,_metamask_superstruct__WEBPACK_IMPORTED_MODULE_0__.nullable)((0,_metamask_superstruct__WEBPACK_IMPORTED_MODULE_0__.union)([(0,_metamask_superstruct__WEBPACK_IMPORTED_MODULE_0__.number)(), (0,_metamask_superstruct__WEBPACK_IMPORTED_MODULE_0__.string)()]));\nconst JsonRpcErrorStruct = object({\n    code: (0,_metamask_superstruct__WEBPACK_IMPORTED_MODULE_0__.integer)(),\n    message: (0,_metamask_superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(),\n    data: exactOptional(JsonStruct),\n    stack: exactOptional((0,_metamask_superstruct__WEBPACK_IMPORTED_MODULE_0__.string)()),\n});\nconst JsonRpcParamsStruct = (0,_metamask_superstruct__WEBPACK_IMPORTED_MODULE_0__.union)([(0,_metamask_superstruct__WEBPACK_IMPORTED_MODULE_0__.record)((0,_metamask_superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(), JsonStruct), (0,_metamask_superstruct__WEBPACK_IMPORTED_MODULE_0__.array)(JsonStruct)]);\nconst JsonRpcRequestStruct = object({\n    id: JsonRpcIdStruct,\n    jsonrpc: JsonRpcVersionStruct,\n    method: (0,_metamask_superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(),\n    params: exactOptional(JsonRpcParamsStruct),\n});\nconst JsonRpcNotificationStruct = object({\n    jsonrpc: JsonRpcVersionStruct,\n    method: (0,_metamask_superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(),\n    params: exactOptional(JsonRpcParamsStruct),\n});\n/**\n * Check if the given value is a valid {@link JsonRpcNotification} object.\n *\n * @param value - The value to check.\n * @returns Whether the given value is a valid {@link JsonRpcNotification}\n * object.\n */\nfunction isJsonRpcNotification(value) {\n    return (0,_metamask_superstruct__WEBPACK_IMPORTED_MODULE_2__.is)(value, JsonRpcNotificationStruct);\n}\n/**\n * Assert that the given value is a valid {@link JsonRpcNotification} object.\n *\n * @param value - The value to check.\n * @param ErrorWrapper - The error class to throw if the assertion fails.\n * Defaults to {@link AssertionError}.\n * @throws If the given value is not a valid {@link JsonRpcNotification} object.\n */\nfunction assertIsJsonRpcNotification(value, \n// eslint-disable-next-line @typescript-eslint/naming-convention\nErrorWrapper) {\n    (0,_assert_mjs__WEBPACK_IMPORTED_MODULE_6__.assertStruct)(value, JsonRpcNotificationStruct, 'Invalid JSON-RPC notification', ErrorWrapper);\n}\n/**\n * Check if the given value is a valid {@link JsonRpcRequest} object.\n *\n * @param value - The value to check.\n * @returns Whether the given value is a valid {@link JsonRpcRequest} object.\n */\nfunction isJsonRpcRequest(value) {\n    return (0,_metamask_superstruct__WEBPACK_IMPORTED_MODULE_2__.is)(value, JsonRpcRequestStruct);\n}\n/**\n * Assert that the given value is a valid {@link JsonRpcRequest} object.\n *\n * @param value - The JSON-RPC request or notification to check.\n * @param ErrorWrapper - The error class to throw if the assertion fails.\n * Defaults to {@link AssertionError}.\n * @throws If the given value is not a valid {@link JsonRpcRequest} object.\n */\nfunction assertIsJsonRpcRequest(value, \n// eslint-disable-next-line @typescript-eslint/naming-convention\nErrorWrapper) {\n    (0,_assert_mjs__WEBPACK_IMPORTED_MODULE_6__.assertStruct)(value, JsonRpcRequestStruct, 'Invalid JSON-RPC request', ErrorWrapper);\n}\nconst PendingJsonRpcResponseStruct = (0,_metamask_superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n    id: JsonRpcIdStruct,\n    jsonrpc: JsonRpcVersionStruct,\n    result: (0,_metamask_superstruct__WEBPACK_IMPORTED_MODULE_0__.optional)((0,_metamask_superstruct__WEBPACK_IMPORTED_MODULE_0__.unknown)()),\n    error: (0,_metamask_superstruct__WEBPACK_IMPORTED_MODULE_0__.optional)(JsonRpcErrorStruct),\n});\nconst JsonRpcSuccessStruct = object({\n    id: JsonRpcIdStruct,\n    jsonrpc: JsonRpcVersionStruct,\n    result: JsonStruct,\n});\nconst JsonRpcFailureStruct = object({\n    id: JsonRpcIdStruct,\n    jsonrpc: JsonRpcVersionStruct,\n    error: JsonRpcErrorStruct,\n});\nconst JsonRpcResponseStruct = (0,_metamask_superstruct__WEBPACK_IMPORTED_MODULE_0__.union)([\n    JsonRpcSuccessStruct,\n    JsonRpcFailureStruct,\n]);\n/**\n * Type guard to check whether specified JSON-RPC response is a\n * {@link PendingJsonRpcResponse}.\n *\n * @param response - The JSON-RPC response to check.\n * @returns Whether the specified JSON-RPC response is pending.\n */\nfunction isPendingJsonRpcResponse(response) {\n    return (0,_metamask_superstruct__WEBPACK_IMPORTED_MODULE_2__.is)(response, PendingJsonRpcResponseStruct);\n}\n/**\n * Assert that the given value is a valid {@link PendingJsonRpcResponse} object.\n *\n * @param response - The JSON-RPC response to check.\n * @param ErrorWrapper - The error class to throw if the assertion fails.\n * Defaults to {@link AssertionError}.\n * @throws If the given value is not a valid {@link PendingJsonRpcResponse}\n * object.\n */\nfunction assertIsPendingJsonRpcResponse(response, \n// eslint-disable-next-line @typescript-eslint/naming-convention\nErrorWrapper) {\n    (0,_assert_mjs__WEBPACK_IMPORTED_MODULE_6__.assertStruct)(response, PendingJsonRpcResponseStruct, 'Invalid pending JSON-RPC response', ErrorWrapper);\n}\n/**\n * Type guard to check if a value is a {@link JsonRpcResponse}.\n *\n * @param response - The object to check.\n * @returns Whether the object is a JsonRpcResponse.\n */\nfunction isJsonRpcResponse(response) {\n    return (0,_metamask_superstruct__WEBPACK_IMPORTED_MODULE_2__.is)(response, JsonRpcResponseStruct);\n}\n/**\n * Assert that the given value is a valid {@link JsonRpcResponse} object.\n *\n * @param value - The value to check.\n * @param ErrorWrapper - The error class to throw if the assertion fails.\n * Defaults to {@link AssertionError}.\n * @throws If the given value is not a valid {@link JsonRpcResponse} object.\n */\nfunction assertIsJsonRpcResponse(value, \n// eslint-disable-next-line @typescript-eslint/naming-convention\nErrorWrapper) {\n    (0,_assert_mjs__WEBPACK_IMPORTED_MODULE_6__.assertStruct)(value, JsonRpcResponseStruct, 'Invalid JSON-RPC response', ErrorWrapper);\n}\n/**\n * Check if the given value is a valid {@link JsonRpcSuccess} object.\n *\n * @param value - The value to check.\n * @returns Whether the given value is a valid {@link JsonRpcSuccess} object.\n */\nfunction isJsonRpcSuccess(value) {\n    return (0,_metamask_superstruct__WEBPACK_IMPORTED_MODULE_2__.is)(value, JsonRpcSuccessStruct);\n}\n/**\n * Assert that the given value is a valid {@link JsonRpcSuccess} object.\n *\n * @param value - The value to check.\n * @param ErrorWrapper - The error class to throw if the assertion fails.\n * Defaults to {@link AssertionError}.\n * @throws If the given value is not a valid {@link JsonRpcSuccess} object.\n */\nfunction assertIsJsonRpcSuccess(value, \n// eslint-disable-next-line @typescript-eslint/naming-convention\nErrorWrapper) {\n    (0,_assert_mjs__WEBPACK_IMPORTED_MODULE_6__.assertStruct)(value, JsonRpcSuccessStruct, 'Invalid JSON-RPC success response', ErrorWrapper);\n}\n/**\n * Check if the given value is a valid {@link JsonRpcFailure} object.\n *\n * @param value - The value to check.\n * @returns Whether the given value is a valid {@link JsonRpcFailure} object.\n */\nfunction isJsonRpcFailure(value) {\n    return (0,_metamask_superstruct__WEBPACK_IMPORTED_MODULE_2__.is)(value, JsonRpcFailureStruct);\n}\n/**\n * Assert that the given value is a valid {@link JsonRpcFailure} object.\n *\n * @param value - The value to check.\n * @param ErrorWrapper - The error class to throw if the assertion fails.\n * Defaults to {@link AssertionError}.\n * @throws If the given value is not a valid {@link JsonRpcFailure} object.\n */\nfunction assertIsJsonRpcFailure(value, \n// eslint-disable-next-line @typescript-eslint/naming-convention\nErrorWrapper) {\n    (0,_assert_mjs__WEBPACK_IMPORTED_MODULE_6__.assertStruct)(value, JsonRpcFailureStruct, 'Invalid JSON-RPC failure response', ErrorWrapper);\n}\n/**\n * Check if the given value is a valid {@link JsonRpcError} object.\n *\n * @param value - The value to check.\n * @returns Whether the given value is a valid {@link JsonRpcError} object.\n */\nfunction isJsonRpcError(value) {\n    return (0,_metamask_superstruct__WEBPACK_IMPORTED_MODULE_2__.is)(value, JsonRpcErrorStruct);\n}\n/**\n * Assert that the given value is a valid {@link JsonRpcError} object.\n *\n * @param value - The value to check.\n * @param ErrorWrapper - The error class to throw if the assertion fails.\n * Defaults to {@link AssertionError}.\n * @throws If the given value is not a valid {@link JsonRpcError} object.\n */\nfunction assertIsJsonRpcError(value, \n// eslint-disable-next-line @typescript-eslint/naming-convention\nErrorWrapper) {\n    (0,_assert_mjs__WEBPACK_IMPORTED_MODULE_6__.assertStruct)(value, JsonRpcErrorStruct, 'Invalid JSON-RPC error', ErrorWrapper);\n}\n/**\n * Gets a function for validating JSON-RPC request / response `id` values.\n *\n * By manipulating the options of this factory, you can control the behavior\n * of the resulting validator for some edge cases. This is useful because e.g.\n * `null` should sometimes but not always be permitted.\n *\n * Note that the empty string (`''`) is always permitted by the JSON-RPC\n * specification, but that kind of sucks and you may want to forbid it in some\n * instances anyway.\n *\n * For more details, see the\n * [JSON-RPC Specification](https://www.jsonrpc.org/specification).\n *\n * @param options - An options object.\n * @param options.permitEmptyString - Whether the empty string (i.e. `''`)\n * should be treated as a valid ID. Default: `true`\n * @param options.permitFractions - Whether fractional numbers (e.g. `1.2`)\n * should be treated as valid IDs. Default: `false`\n * @param options.permitNull - Whether `null` should be treated as a valid ID.\n * Default: `true`\n * @returns The JSON-RPC ID validator function.\n */\nfunction getJsonRpcIdValidator(options) {\n    const { permitEmptyString, permitFractions, permitNull } = {\n        permitEmptyString: true,\n        permitFractions: false,\n        permitNull: true,\n        ...options,\n    };\n    /**\n     * Type guard for {@link JsonRpcId}.\n     *\n     * @param id - The JSON-RPC ID value to check.\n     * @returns Whether the given ID is valid per the options given to the\n     * factory.\n     */\n    const isValidJsonRpcId = (id) => {\n        return Boolean((typeof id === 'number' && (permitFractions || Number.isInteger(id))) ||\n            (typeof id === 'string' && (permitEmptyString || id.length > 0)) ||\n            (permitNull && id === null));\n    };\n    return isValidJsonRpcId;\n}\n//# sourceMappingURL=json.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1ldGFtYXNrL3V0aWxzL2Rpc3QvanNvbi5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEwTTtBQUM5SjtBQUNIO0FBQ3pDO0FBQ0E7QUFDQSxJQUFJLHFCQUFxQjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSw2REFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixjQUFjO0FBQ3JDO0FBQ0EsV0FBVyxzREFBVztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELGNBQWM7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLGVBQWUseURBQU07QUFDckI7QUFDQSwwQkFBMEIsWUFBWTtBQUN0QztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGlCQUFpQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLG9CQUFvQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCxpQkFBaUI7QUFDL0U7QUFDTyx5QkFBeUIsNkRBQU07QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sbUJBQW1C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Q087QUFDUDtBQUNBO0FBQ0EsSUFBSSx5REFBWTtBQUNoQjtBQUNBO0FBQ0Esd0NBQXdDLHNCQUFzQjtBQUM5RDtBQUNBO0FBQ0EsZ0RBQWdELHNCQUFzQjtBQUN0RTtBQUNPO0FBQ1AsV0FBVyx5REFBRTtBQUNiO0FBQ0E7QUFDQSwyQ0FBMkMsc0JBQXNCO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixxQkFBcUI7QUFDckMsOENBQThDLHNCQUFzQjtBQUNwRTtBQUNPO0FBQ1A7QUFDQTtBQUNBLElBQUkseURBQVk7QUFDaEI7QUFDQTtBQUNBLHdDQUF3QyxvQkFBb0I7QUFDNUQ7QUFDQTtBQUNBLGdEQUFnRCxvQkFBb0I7QUFDcEU7QUFDTztBQUNQLFdBQVcseURBQUU7QUFDYjtBQUNBO0FBQ0EsMkNBQTJDLG9CQUFvQjtBQUMvRDtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IscUJBQXFCO0FBQ3JDLDhDQUE4QyxvQkFBb0I7QUFDbEU7QUFDTztBQUNQO0FBQ0E7QUFDQSxJQUFJLHlEQUFZO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsWUFBWSxpREFBaUQ7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGdCQUFnQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2dlb3F1ZXN0LWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL0BtZXRhbWFzay91dGlscy9kaXN0L2pzb24ubWpzPzU0YTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYW55LCBhcnJheSwgY29lcmNlLCBjcmVhdGUsIGRlZmluZSwgaW50ZWdlciwgaXMsIGxpdGVyYWwsIG51bGxhYmxlLCBudW1iZXIsIG9iamVjdCBhcyBzdXBlcnN0cnVjdE9iamVjdCwgb3B0aW9uYWwsIHJlY29yZCwgc3RyaW5nLCB1bmlvbiwgdW5rbm93biwgU3RydWN0LCByZWZpbmUgfSBmcm9tIFwiQG1ldGFtYXNrL3N1cGVyc3RydWN0XCI7XG5pbXBvcnQgeyBhc3NlcnRTdHJ1Y3QgfSBmcm9tIFwiLi9hc3NlcnQubWpzXCI7XG5pbXBvcnQgeyBoYXNQcm9wZXJ0eSB9IGZyb20gXCIuL21pc2MubWpzXCI7XG4vKipcbiAqIEEgc3RydWN0IHRvIGNoZWNrIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBhIHZhbGlkIG9iamVjdCwgd2l0aCBzdXBwb3J0IGZvclxuICoge0BsaW5rIGV4YWN0T3B0aW9uYWx9IHR5cGVzLlxuICpcbiAqIEBkZXByZWNhdGVkIFVzZSBgZXhhY3RPcHRpb25hbGAgYW5kIGBvYmplY3RgIGZyb20gYEBtZXRhbWFzay9zdXBlcnN0cnVjdEA+PTMuMi4wYCBpbnN0ZWFkLlxuICogQHBhcmFtIHNjaGVtYSAtIFRoZSBzY2hlbWEgb2YgdGhlIG9iamVjdC5cbiAqIEByZXR1cm5zIEEgc3RydWN0IHRvIGNoZWNrIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBhbiBvYmplY3QuXG4gKi9cbmV4cG9ydCBjb25zdCBvYmplY3QgPSAoc2NoZW1hKSA9PiBcbi8vIFRoZSB0eXBlIGlzIHNsaWdodGx5IGRpZmZlcmVudCBmcm9tIGEgcmVndWxhciBvYmplY3Qgc3RydWN0LCBiZWNhdXNlIHdlXG4vLyB3YW50IHRvIG1ha2UgcHJvcGVydGllcyB3aXRoIGB1bmRlZmluZWRgIGluIHRoZWlyIHR5cGUgb3B0aW9uYWwsIGJ1dCBub3Rcbi8vIGB1bmRlZmluZWRgIGl0c2VsZi4gVGhpcyBtZWFucyB0aGF0IHdlIG5lZWQgYSB0eXBlIGNhc3QuXG5zdXBlcnN0cnVjdE9iamVjdChzY2hlbWEpO1xuLyoqXG4gKiBDaGVjayB0aGUgbGFzdCBmaWVsZCBvZiBhIHBhdGggaXMgcHJlc2VudC5cbiAqXG4gKiBAcGFyYW0gY29udGV4dCAtIFRoZSBjb250ZXh0IHRvIGNoZWNrLlxuICogQHBhcmFtIGNvbnRleHQucGF0aCAtIFRoZSBwYXRoIHRvIGNoZWNrLlxuICogQHBhcmFtIGNvbnRleHQuYnJhbmNoIC0gVGhlIGJyYW5jaCB0byBjaGVjay5cbiAqIEByZXR1cm5zIFdoZXRoZXIgdGhlIGxhc3QgZmllbGQgb2YgYSBwYXRoIGlzIHByZXNlbnQuXG4gKi9cbmZ1bmN0aW9uIGhhc09wdGlvbmFsKHsgcGF0aCwgYnJhbmNoIH0pIHtcbiAgICBjb25zdCBmaWVsZCA9IHBhdGhbcGF0aC5sZW5ndGggLSAxXTtcbiAgICByZXR1cm4gaGFzUHJvcGVydHkoYnJhbmNoW2JyYW5jaC5sZW5ndGggLSAyXSwgZmllbGQpO1xufVxuLyoqXG4gKiBBIHN0cnVjdCB3aGljaCBhbGxvd3MgdGhlIHByb3BlcnR5IG9mIGFuIG9iamVjdCB0byBiZSBhYnNlbnQsIG9yIHRvIGJlIHByZXNlbnRcbiAqIGFzIGxvbmcgYXMgaXQncyB2YWxpZCBhbmQgbm90IHNldCB0byBgdW5kZWZpbmVkYC5cbiAqXG4gKiBUaGlzIHN0cnVjdCBzaG91bGQgYmUgdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIHRoZSB7QGxpbmsgb2JqZWN0fSBmcm9tIHRoaXNcbiAqIGxpYnJhcnksIHRvIGdldCBwcm9wZXIgdHlwZSBpbmZlcmVuY2UuXG4gKlxuICogQGRlcHJlY2F0ZWQgVXNlIGBleGFjdE9wdGlvbmFsYCBhbmQgYG9iamVjdGAgZnJvbSBgQG1ldGFtYXNrL3N1cGVyc3RydWN0QD49My4yLjBgIGluc3RlYWQuXG4gKiBAcGFyYW0gc3RydWN0IC0gVGhlIHN0cnVjdCB0byBjaGVjayB0aGUgdmFsdWUgYWdhaW5zdCwgaWYgcHJlc2VudC5cbiAqIEByZXR1cm5zIEEgc3RydWN0IHRvIGNoZWNrIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyB2YWxpZCwgb3Igbm90IHByZXNlbnQuXG4gKiBAZXhhbXBsZVxuICogYGBgdHNcbiAqIGNvbnN0IHN0cnVjdCA9IG9iamVjdCh7XG4gKiAgIGZvbzogZXhhY3RPcHRpb25hbChzdHJpbmcoKSksXG4gKiAgIGJhcjogZXhhY3RPcHRpb25hbChudW1iZXIoKSksXG4gKiAgIGJhejogb3B0aW9uYWwoYm9vbGVhbigpKSxcbiAqICAgcXV4OiB1bmtub3duKCksXG4gKiB9KTtcbiAqXG4gKiB0eXBlIFR5cGUgPSBJbmZlcjx0eXBlb2Ygc3RydWN0PjtcbiAqIC8vIFR5cGUgaXMgZXF1aXZhbGVudCB0bzpcbiAqIC8vIHtcbiAqIC8vICAgZm9vPzogc3RyaW5nO1xuICogLy8gICBiYXI/OiBudW1iZXI7XG4gKiAvLyAgIGJhej86IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gKiAvLyAgIHF1eDogdW5rbm93bjtcbiAqIC8vIH1cbiAqIGBgYFxuICovXG5leHBvcnQgZnVuY3Rpb24gZXhhY3RPcHRpb25hbChzdHJ1Y3QpIHtcbiAgICByZXR1cm4gbmV3IFN0cnVjdCh7XG4gICAgICAgIC4uLnN0cnVjdCxcbiAgICAgICAgdHlwZTogYG9wdGlvbmFsICR7c3RydWN0LnR5cGV9YCxcbiAgICAgICAgdmFsaWRhdG9yOiAodmFsdWUsIGNvbnRleHQpID0+ICFoYXNPcHRpb25hbChjb250ZXh0KSB8fCBzdHJ1Y3QudmFsaWRhdG9yKHZhbHVlLCBjb250ZXh0KSxcbiAgICAgICAgcmVmaW5lcjogKHZhbHVlLCBjb250ZXh0KSA9PiAhaGFzT3B0aW9uYWwoY29udGV4dCkgfHwgc3RydWN0LnJlZmluZXIodmFsdWUsIGNvbnRleHQpLFxuICAgIH0pO1xufVxuLyoqXG4gKiBWYWxpZGF0ZSBhbiB1bmtub3duIGlucHV0IHRvIGJlIHZhbGlkIEpTT04uXG4gKlxuICogVXNlZnVsIGZvciBjb25zdHJ1Y3RpbmcgSlNPTiBzdHJ1Y3RzLlxuICpcbiAqIEBwYXJhbSBqc29uIC0gQW4gdW5rbm93biB2YWx1ZS5cbiAqIEByZXR1cm5zIFRydWUgaWYgdGhlIHZhbHVlIGlzIHZhbGlkIEpTT04sIG90aGVyd2lzZSBmYWxzZS5cbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVKc29uKGpzb24pIHtcbiAgICBpZiAoanNvbiA9PT0gbnVsbCB8fCB0eXBlb2YganNvbiA9PT0gJ2Jvb2xlYW4nIHx8IHR5cGVvZiBqc29uID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBqc29uID09PSAnbnVtYmVyJyAmJiBOdW1iZXIuaXNGaW5pdGUoanNvbikpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICh0eXBlb2YganNvbiA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgbGV0IGV2ZXJ5ID0gdHJ1ZTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoanNvbikpIHtcbiAgICAgICAgICAgIC8vIElnbm9yaW5nIGxpbnRpbmcgZXJyb3Igc2luY2UgZm9yLW9mIGlzIHNpZ25pZmljYW50bHkgc2xvd2VyIHRoYW4gYSBub3JtYWwgZm9yLWxvb3BcbiAgICAgICAgICAgIC8vIGFuZCBwZXJmb3JtYW5jZSBpcyBpbXBvcnRhbnQgaW4gdGhpcyBzcGVjaWZpYyBmdW5jdGlvbi5cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvcHJlZmVyLWZvci1vZlxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBqc29uLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF2YWxpZGF0ZUpzb24oanNvbltpXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlcnkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGV2ZXJ5O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVudHJpZXMgPSBPYmplY3QuZW50cmllcyhqc29uKTtcbiAgICAgICAgLy8gSWdub3JpbmcgbGludGluZyBlcnJvcnMgc2luY2UgZm9yLW9mIGlzIHNpZ25pZmljYW50bHkgc2xvd2VyIHRoYW4gYSBub3JtYWwgZm9yLWxvb3BcbiAgICAgICAgLy8gYW5kIHBlcmZvcm1hbmNlIGlzIGltcG9ydGFudCBpbiB0aGlzIHNwZWNpZmljIGZ1bmN0aW9uLlxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3ByZWZlci1mb3Itb2ZcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbnRyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBlbnRyaWVzW2ldWzBdICE9PSAnc3RyaW5nJyB8fCAhdmFsaWRhdGVKc29uKGVudHJpZXNbaV1bMV0pKSB7XG4gICAgICAgICAgICAgICAgZXZlcnkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXZlcnk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogQSBzdHJ1Y3QgdG8gY2hlY2sgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIGEgdmFsaWQgSlNPTi1zZXJpYWxpemFibGUgdmFsdWUuXG4gKlxuICogTm90ZSB0aGF0IHRoaXMgc3RydWN0IGlzIHVuc2FmZS4gRm9yIHNhZmUgdmFsaWRhdGlvbiwgdXNlIHtAbGluayBKc29uU3RydWN0fS5cbiAqL1xuZXhwb3J0IGNvbnN0IFVuc2FmZUpzb25TdHJ1Y3QgPSBkZWZpbmUoJ0pTT04nLCAoanNvbikgPT4gdmFsaWRhdGVKc29uKGpzb24pKTtcbi8qKlxuICogQSBzdHJ1Y3QgdG8gY2hlY2sgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIGEgdmFsaWQgSlNPTi1zZXJpYWxpemFibGUgdmFsdWUuXG4gKlxuICogVGhpcyBzdHJ1Y3Qgc2FuaXRpemVzIHRoZSB2YWx1ZSBiZWZvcmUgdmFsaWRhdGluZyBpdCwgc28gdGhhdCBpdCBpcyBzYWZlIHRvXG4gKiB1c2Ugd2l0aCB1bnRydXN0ZWQgaW5wdXQuXG4gKi9cbmV4cG9ydCBjb25zdCBKc29uU3RydWN0ID0gY29lcmNlKFVuc2FmZUpzb25TdHJ1Y3QsIHJlZmluZShhbnkoKSwgJ0pTT04nLCAodmFsdWUpID0+IGlzKHZhbHVlLCBVbnNhZmVKc29uU3RydWN0KSksICh2YWx1ZSkgPT4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh2YWx1ZSwgKHByb3BLZXksIHByb3BWYWx1ZSkgPT4ge1xuICAgIC8vIFN0cmlwIF9fcHJvdG9fXyBhbmQgY29uc3RydWN0b3IgcHJvcGVydGllcyB0byBwcmV2ZW50IHByb3RvdHlwZSBwb2xsdXRpb24uXG4gICAgaWYgKHByb3BLZXkgPT09ICdfX3Byb3RvX18nIHx8IHByb3BLZXkgPT09ICdjb25zdHJ1Y3RvcicpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIHByb3BWYWx1ZTtcbn0pKSk7XG4vKipcbiAqIENoZWNrIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBhIHZhbGlkIHtAbGluayBKc29ufSB2YWx1ZSwgaS5lLiwgYSB2YWx1ZSB0aGF0IGlzXG4gKiBzZXJpYWxpemFibGUgdG8gSlNPTi5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyBXaGV0aGVyIHRoZSB2YWx1ZSBpcyBhIHZhbGlkIHtAbGluayBKc29ufSB2YWx1ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRKc29uKHZhbHVlKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgZ2V0U2FmZUpzb24odmFsdWUpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuLyoqXG4gKiBWYWxpZGF0ZSBhbmQgcmV0dXJuIHNhbml0aXplZCBKU09OLlxuICpcbiAqIE5vdGU6XG4gKiBUaGlzIGZ1bmN0aW9uIHVzZXMgc2FuaXRpemVkIEpzb25TdHJ1Y3QgZm9yIHZhbGlkYXRpb25cbiAqIHRoYXQgYXBwbGllcyBzdHJpbmdpZnkgYW5kIHRoZW4gcGFyc2Ugb2YgYSB2YWx1ZSBwcm92aWRlZFxuICogdG8gZW5zdXJlIHRoYXQgdGhlcmUgYXJlIG5vIGdldHRlcnMgd2hpY2ggY2FuIGhhdmUgc2lkZSBlZmZlY3RzXG4gKiB0aGF0IGNhbiBjYXVzZSBzZWN1cml0eSBpc3N1ZXMuXG4gKlxuICogQHBhcmFtIHZhbHVlIC0gSlNPTiBzdHJ1Y3R1cmUgdG8gYmUgcHJvY2Vzc2VkLlxuICogQHJldHVybnMgU2FuaXRpemVkIEpTT04gc3RydWN0dXJlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2FmZUpzb24odmFsdWUpIHtcbiAgICByZXR1cm4gY3JlYXRlKHZhbHVlLCBKc29uU3RydWN0KTtcbn1cbi8qKlxuICogR2V0IHRoZSBzaXplIG9mIGEgSlNPTiB2YWx1ZSBpbiBieXRlcy4gVGhpcyBhbHNvIHZhbGlkYXRlcyB0aGUgdmFsdWUuXG4gKlxuICogQHBhcmFtIHZhbHVlIC0gVGhlIEpTT04gdmFsdWUgdG8gZ2V0IHRoZSBzaXplIG9mLlxuICogQHJldHVybnMgVGhlIHNpemUgb2YgdGhlIEpTT04gdmFsdWUgaW4gYnl0ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRKc29uU2l6ZSh2YWx1ZSkge1xuICAgIGFzc2VydFN0cnVjdCh2YWx1ZSwgSnNvblN0cnVjdCwgJ0ludmFsaWQgSlNPTiB2YWx1ZScpO1xuICAgIGNvbnN0IGpzb24gPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgcmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShqc29uKS5ieXRlTGVuZ3RoO1xufVxuLyoqXG4gKiBUaGUgc3RyaW5nICcyLjAnLlxuICovXG5leHBvcnQgY29uc3QganNvbnJwYzIgPSAnMi4wJztcbmV4cG9ydCBjb25zdCBKc29uUnBjVmVyc2lvblN0cnVjdCA9IGxpdGVyYWwoanNvbnJwYzIpO1xuZXhwb3J0IGNvbnN0IEpzb25ScGNJZFN0cnVjdCA9IG51bGxhYmxlKHVuaW9uKFtudW1iZXIoKSwgc3RyaW5nKCldKSk7XG5leHBvcnQgY29uc3QgSnNvblJwY0Vycm9yU3RydWN0ID0gb2JqZWN0KHtcbiAgICBjb2RlOiBpbnRlZ2VyKCksXG4gICAgbWVzc2FnZTogc3RyaW5nKCksXG4gICAgZGF0YTogZXhhY3RPcHRpb25hbChKc29uU3RydWN0KSxcbiAgICBzdGFjazogZXhhY3RPcHRpb25hbChzdHJpbmcoKSksXG59KTtcbmV4cG9ydCBjb25zdCBKc29uUnBjUGFyYW1zU3RydWN0ID0gdW5pb24oW3JlY29yZChzdHJpbmcoKSwgSnNvblN0cnVjdCksIGFycmF5KEpzb25TdHJ1Y3QpXSk7XG5leHBvcnQgY29uc3QgSnNvblJwY1JlcXVlc3RTdHJ1Y3QgPSBvYmplY3Qoe1xuICAgIGlkOiBKc29uUnBjSWRTdHJ1Y3QsXG4gICAganNvbnJwYzogSnNvblJwY1ZlcnNpb25TdHJ1Y3QsXG4gICAgbWV0aG9kOiBzdHJpbmcoKSxcbiAgICBwYXJhbXM6IGV4YWN0T3B0aW9uYWwoSnNvblJwY1BhcmFtc1N0cnVjdCksXG59KTtcbmV4cG9ydCBjb25zdCBKc29uUnBjTm90aWZpY2F0aW9uU3RydWN0ID0gb2JqZWN0KHtcbiAgICBqc29ucnBjOiBKc29uUnBjVmVyc2lvblN0cnVjdCxcbiAgICBtZXRob2Q6IHN0cmluZygpLFxuICAgIHBhcmFtczogZXhhY3RPcHRpb25hbChKc29uUnBjUGFyYW1zU3RydWN0KSxcbn0pO1xuLyoqXG4gKiBDaGVjayBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgYSB2YWxpZCB7QGxpbmsgSnNvblJwY05vdGlmaWNhdGlvbn0gb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIFdoZXRoZXIgdGhlIGdpdmVuIHZhbHVlIGlzIGEgdmFsaWQge0BsaW5rIEpzb25ScGNOb3RpZmljYXRpb259XG4gKiBvYmplY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0pzb25ScGNOb3RpZmljYXRpb24odmFsdWUpIHtcbiAgICByZXR1cm4gaXModmFsdWUsIEpzb25ScGNOb3RpZmljYXRpb25TdHJ1Y3QpO1xufVxuLyoqXG4gKiBBc3NlcnQgdGhhdCB0aGUgZ2l2ZW4gdmFsdWUgaXMgYSB2YWxpZCB7QGxpbmsgSnNvblJwY05vdGlmaWNhdGlvbn0gb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEBwYXJhbSBFcnJvcldyYXBwZXIgLSBUaGUgZXJyb3IgY2xhc3MgdG8gdGhyb3cgaWYgdGhlIGFzc2VydGlvbiBmYWlscy5cbiAqIERlZmF1bHRzIHRvIHtAbGluayBBc3NlcnRpb25FcnJvcn0uXG4gKiBAdGhyb3dzIElmIHRoZSBnaXZlbiB2YWx1ZSBpcyBub3QgYSB2YWxpZCB7QGxpbmsgSnNvblJwY05vdGlmaWNhdGlvbn0gb2JqZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0SXNKc29uUnBjTm90aWZpY2F0aW9uKHZhbHVlLCBcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbmFtaW5nLWNvbnZlbnRpb25cbkVycm9yV3JhcHBlcikge1xuICAgIGFzc2VydFN0cnVjdCh2YWx1ZSwgSnNvblJwY05vdGlmaWNhdGlvblN0cnVjdCwgJ0ludmFsaWQgSlNPTi1SUEMgbm90aWZpY2F0aW9uJywgRXJyb3JXcmFwcGVyKTtcbn1cbi8qKlxuICogQ2hlY2sgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIGEgdmFsaWQge0BsaW5rIEpzb25ScGNSZXF1ZXN0fSBvYmplY3QuXG4gKlxuICogQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMgV2hldGhlciB0aGUgZ2l2ZW4gdmFsdWUgaXMgYSB2YWxpZCB7QGxpbmsgSnNvblJwY1JlcXVlc3R9IG9iamVjdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzSnNvblJwY1JlcXVlc3QodmFsdWUpIHtcbiAgICByZXR1cm4gaXModmFsdWUsIEpzb25ScGNSZXF1ZXN0U3RydWN0KTtcbn1cbi8qKlxuICogQXNzZXJ0IHRoYXQgdGhlIGdpdmVuIHZhbHVlIGlzIGEgdmFsaWQge0BsaW5rIEpzb25ScGNSZXF1ZXN0fSBvYmplY3QuXG4gKlxuICogQHBhcmFtIHZhbHVlIC0gVGhlIEpTT04tUlBDIHJlcXVlc3Qgb3Igbm90aWZpY2F0aW9uIHRvIGNoZWNrLlxuICogQHBhcmFtIEVycm9yV3JhcHBlciAtIFRoZSBlcnJvciBjbGFzcyB0byB0aHJvdyBpZiB0aGUgYXNzZXJ0aW9uIGZhaWxzLlxuICogRGVmYXVsdHMgdG8ge0BsaW5rIEFzc2VydGlvbkVycm9yfS5cbiAqIEB0aHJvd3MgSWYgdGhlIGdpdmVuIHZhbHVlIGlzIG5vdCBhIHZhbGlkIHtAbGluayBKc29uUnBjUmVxdWVzdH0gb2JqZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0SXNKc29uUnBjUmVxdWVzdCh2YWx1ZSwgXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25hbWluZy1jb252ZW50aW9uXG5FcnJvcldyYXBwZXIpIHtcbiAgICBhc3NlcnRTdHJ1Y3QodmFsdWUsIEpzb25ScGNSZXF1ZXN0U3RydWN0LCAnSW52YWxpZCBKU09OLVJQQyByZXF1ZXN0JywgRXJyb3JXcmFwcGVyKTtcbn1cbmV4cG9ydCBjb25zdCBQZW5kaW5nSnNvblJwY1Jlc3BvbnNlU3RydWN0ID0gc3VwZXJzdHJ1Y3RPYmplY3Qoe1xuICAgIGlkOiBKc29uUnBjSWRTdHJ1Y3QsXG4gICAganNvbnJwYzogSnNvblJwY1ZlcnNpb25TdHJ1Y3QsXG4gICAgcmVzdWx0OiBvcHRpb25hbCh1bmtub3duKCkpLFxuICAgIGVycm9yOiBvcHRpb25hbChKc29uUnBjRXJyb3JTdHJ1Y3QpLFxufSk7XG5leHBvcnQgY29uc3QgSnNvblJwY1N1Y2Nlc3NTdHJ1Y3QgPSBvYmplY3Qoe1xuICAgIGlkOiBKc29uUnBjSWRTdHJ1Y3QsXG4gICAganNvbnJwYzogSnNvblJwY1ZlcnNpb25TdHJ1Y3QsXG4gICAgcmVzdWx0OiBKc29uU3RydWN0LFxufSk7XG5leHBvcnQgY29uc3QgSnNvblJwY0ZhaWx1cmVTdHJ1Y3QgPSBvYmplY3Qoe1xuICAgIGlkOiBKc29uUnBjSWRTdHJ1Y3QsXG4gICAganNvbnJwYzogSnNvblJwY1ZlcnNpb25TdHJ1Y3QsXG4gICAgZXJyb3I6IEpzb25ScGNFcnJvclN0cnVjdCxcbn0pO1xuZXhwb3J0IGNvbnN0IEpzb25ScGNSZXNwb25zZVN0cnVjdCA9IHVuaW9uKFtcbiAgICBKc29uUnBjU3VjY2Vzc1N0cnVjdCxcbiAgICBKc29uUnBjRmFpbHVyZVN0cnVjdCxcbl0pO1xuLyoqXG4gKiBUeXBlIGd1YXJkIHRvIGNoZWNrIHdoZXRoZXIgc3BlY2lmaWVkIEpTT04tUlBDIHJlc3BvbnNlIGlzIGFcbiAqIHtAbGluayBQZW5kaW5nSnNvblJwY1Jlc3BvbnNlfS5cbiAqXG4gKiBAcGFyYW0gcmVzcG9uc2UgLSBUaGUgSlNPTi1SUEMgcmVzcG9uc2UgdG8gY2hlY2suXG4gKiBAcmV0dXJucyBXaGV0aGVyIHRoZSBzcGVjaWZpZWQgSlNPTi1SUEMgcmVzcG9uc2UgaXMgcGVuZGluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUGVuZGluZ0pzb25ScGNSZXNwb25zZShyZXNwb25zZSkge1xuICAgIHJldHVybiBpcyhyZXNwb25zZSwgUGVuZGluZ0pzb25ScGNSZXNwb25zZVN0cnVjdCk7XG59XG4vKipcbiAqIEFzc2VydCB0aGF0IHRoZSBnaXZlbiB2YWx1ZSBpcyBhIHZhbGlkIHtAbGluayBQZW5kaW5nSnNvblJwY1Jlc3BvbnNlfSBvYmplY3QuXG4gKlxuICogQHBhcmFtIHJlc3BvbnNlIC0gVGhlIEpTT04tUlBDIHJlc3BvbnNlIHRvIGNoZWNrLlxuICogQHBhcmFtIEVycm9yV3JhcHBlciAtIFRoZSBlcnJvciBjbGFzcyB0byB0aHJvdyBpZiB0aGUgYXNzZXJ0aW9uIGZhaWxzLlxuICogRGVmYXVsdHMgdG8ge0BsaW5rIEFzc2VydGlvbkVycm9yfS5cbiAqIEB0aHJvd3MgSWYgdGhlIGdpdmVuIHZhbHVlIGlzIG5vdCBhIHZhbGlkIHtAbGluayBQZW5kaW5nSnNvblJwY1Jlc3BvbnNlfVxuICogb2JqZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0SXNQZW5kaW5nSnNvblJwY1Jlc3BvbnNlKHJlc3BvbnNlLCBcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbmFtaW5nLWNvbnZlbnRpb25cbkVycm9yV3JhcHBlcikge1xuICAgIGFzc2VydFN0cnVjdChyZXNwb25zZSwgUGVuZGluZ0pzb25ScGNSZXNwb25zZVN0cnVjdCwgJ0ludmFsaWQgcGVuZGluZyBKU09OLVJQQyByZXNwb25zZScsIEVycm9yV3JhcHBlcik7XG59XG4vKipcbiAqIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgYSB2YWx1ZSBpcyBhIHtAbGluayBKc29uUnBjUmVzcG9uc2V9LlxuICpcbiAqIEBwYXJhbSByZXNwb25zZSAtIFRoZSBvYmplY3QgdG8gY2hlY2suXG4gKiBAcmV0dXJucyBXaGV0aGVyIHRoZSBvYmplY3QgaXMgYSBKc29uUnBjUmVzcG9uc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0pzb25ScGNSZXNwb25zZShyZXNwb25zZSkge1xuICAgIHJldHVybiBpcyhyZXNwb25zZSwgSnNvblJwY1Jlc3BvbnNlU3RydWN0KTtcbn1cbi8qKlxuICogQXNzZXJ0IHRoYXQgdGhlIGdpdmVuIHZhbHVlIGlzIGEgdmFsaWQge0BsaW5rIEpzb25ScGNSZXNwb25zZX0gb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEBwYXJhbSBFcnJvcldyYXBwZXIgLSBUaGUgZXJyb3IgY2xhc3MgdG8gdGhyb3cgaWYgdGhlIGFzc2VydGlvbiBmYWlscy5cbiAqIERlZmF1bHRzIHRvIHtAbGluayBBc3NlcnRpb25FcnJvcn0uXG4gKiBAdGhyb3dzIElmIHRoZSBnaXZlbiB2YWx1ZSBpcyBub3QgYSB2YWxpZCB7QGxpbmsgSnNvblJwY1Jlc3BvbnNlfSBvYmplY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRJc0pzb25ScGNSZXNwb25zZSh2YWx1ZSwgXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25hbWluZy1jb252ZW50aW9uXG5FcnJvcldyYXBwZXIpIHtcbiAgICBhc3NlcnRTdHJ1Y3QodmFsdWUsIEpzb25ScGNSZXNwb25zZVN0cnVjdCwgJ0ludmFsaWQgSlNPTi1SUEMgcmVzcG9uc2UnLCBFcnJvcldyYXBwZXIpO1xufVxuLyoqXG4gKiBDaGVjayBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgYSB2YWxpZCB7QGxpbmsgSnNvblJwY1N1Y2Nlc3N9IG9iamVjdC5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyBXaGV0aGVyIHRoZSBnaXZlbiB2YWx1ZSBpcyBhIHZhbGlkIHtAbGluayBKc29uUnBjU3VjY2Vzc30gb2JqZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNKc29uUnBjU3VjY2Vzcyh2YWx1ZSkge1xuICAgIHJldHVybiBpcyh2YWx1ZSwgSnNvblJwY1N1Y2Nlc3NTdHJ1Y3QpO1xufVxuLyoqXG4gKiBBc3NlcnQgdGhhdCB0aGUgZ2l2ZW4gdmFsdWUgaXMgYSB2YWxpZCB7QGxpbmsgSnNvblJwY1N1Y2Nlc3N9IG9iamVjdC5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0gRXJyb3JXcmFwcGVyIC0gVGhlIGVycm9yIGNsYXNzIHRvIHRocm93IGlmIHRoZSBhc3NlcnRpb24gZmFpbHMuXG4gKiBEZWZhdWx0cyB0byB7QGxpbmsgQXNzZXJ0aW9uRXJyb3J9LlxuICogQHRocm93cyBJZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgbm90IGEgdmFsaWQge0BsaW5rIEpzb25ScGNTdWNjZXNzfSBvYmplY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRJc0pzb25ScGNTdWNjZXNzKHZhbHVlLCBcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbmFtaW5nLWNvbnZlbnRpb25cbkVycm9yV3JhcHBlcikge1xuICAgIGFzc2VydFN0cnVjdCh2YWx1ZSwgSnNvblJwY1N1Y2Nlc3NTdHJ1Y3QsICdJbnZhbGlkIEpTT04tUlBDIHN1Y2Nlc3MgcmVzcG9uc2UnLCBFcnJvcldyYXBwZXIpO1xufVxuLyoqXG4gKiBDaGVjayBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgYSB2YWxpZCB7QGxpbmsgSnNvblJwY0ZhaWx1cmV9IG9iamVjdC5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyBXaGV0aGVyIHRoZSBnaXZlbiB2YWx1ZSBpcyBhIHZhbGlkIHtAbGluayBKc29uUnBjRmFpbHVyZX0gb2JqZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNKc29uUnBjRmFpbHVyZSh2YWx1ZSkge1xuICAgIHJldHVybiBpcyh2YWx1ZSwgSnNvblJwY0ZhaWx1cmVTdHJ1Y3QpO1xufVxuLyoqXG4gKiBBc3NlcnQgdGhhdCB0aGUgZ2l2ZW4gdmFsdWUgaXMgYSB2YWxpZCB7QGxpbmsgSnNvblJwY0ZhaWx1cmV9IG9iamVjdC5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0gRXJyb3JXcmFwcGVyIC0gVGhlIGVycm9yIGNsYXNzIHRvIHRocm93IGlmIHRoZSBhc3NlcnRpb24gZmFpbHMuXG4gKiBEZWZhdWx0cyB0byB7QGxpbmsgQXNzZXJ0aW9uRXJyb3J9LlxuICogQHRocm93cyBJZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgbm90IGEgdmFsaWQge0BsaW5rIEpzb25ScGNGYWlsdXJlfSBvYmplY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRJc0pzb25ScGNGYWlsdXJlKHZhbHVlLCBcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbmFtaW5nLWNvbnZlbnRpb25cbkVycm9yV3JhcHBlcikge1xuICAgIGFzc2VydFN0cnVjdCh2YWx1ZSwgSnNvblJwY0ZhaWx1cmVTdHJ1Y3QsICdJbnZhbGlkIEpTT04tUlBDIGZhaWx1cmUgcmVzcG9uc2UnLCBFcnJvcldyYXBwZXIpO1xufVxuLyoqXG4gKiBDaGVjayBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgYSB2YWxpZCB7QGxpbmsgSnNvblJwY0Vycm9yfSBvYmplY3QuXG4gKlxuICogQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMgV2hldGhlciB0aGUgZ2l2ZW4gdmFsdWUgaXMgYSB2YWxpZCB7QGxpbmsgSnNvblJwY0Vycm9yfSBvYmplY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0pzb25ScGNFcnJvcih2YWx1ZSkge1xuICAgIHJldHVybiBpcyh2YWx1ZSwgSnNvblJwY0Vycm9yU3RydWN0KTtcbn1cbi8qKlxuICogQXNzZXJ0IHRoYXQgdGhlIGdpdmVuIHZhbHVlIGlzIGEgdmFsaWQge0BsaW5rIEpzb25ScGNFcnJvcn0gb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEBwYXJhbSBFcnJvcldyYXBwZXIgLSBUaGUgZXJyb3IgY2xhc3MgdG8gdGhyb3cgaWYgdGhlIGFzc2VydGlvbiBmYWlscy5cbiAqIERlZmF1bHRzIHRvIHtAbGluayBBc3NlcnRpb25FcnJvcn0uXG4gKiBAdGhyb3dzIElmIHRoZSBnaXZlbiB2YWx1ZSBpcyBub3QgYSB2YWxpZCB7QGxpbmsgSnNvblJwY0Vycm9yfSBvYmplY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRJc0pzb25ScGNFcnJvcih2YWx1ZSwgXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25hbWluZy1jb252ZW50aW9uXG5FcnJvcldyYXBwZXIpIHtcbiAgICBhc3NlcnRTdHJ1Y3QodmFsdWUsIEpzb25ScGNFcnJvclN0cnVjdCwgJ0ludmFsaWQgSlNPTi1SUEMgZXJyb3InLCBFcnJvcldyYXBwZXIpO1xufVxuLyoqXG4gKiBHZXRzIGEgZnVuY3Rpb24gZm9yIHZhbGlkYXRpbmcgSlNPTi1SUEMgcmVxdWVzdCAvIHJlc3BvbnNlIGBpZGAgdmFsdWVzLlxuICpcbiAqIEJ5IG1hbmlwdWxhdGluZyB0aGUgb3B0aW9ucyBvZiB0aGlzIGZhY3RvcnksIHlvdSBjYW4gY29udHJvbCB0aGUgYmVoYXZpb3JcbiAqIG9mIHRoZSByZXN1bHRpbmcgdmFsaWRhdG9yIGZvciBzb21lIGVkZ2UgY2FzZXMuIFRoaXMgaXMgdXNlZnVsIGJlY2F1c2UgZS5nLlxuICogYG51bGxgIHNob3VsZCBzb21ldGltZXMgYnV0IG5vdCBhbHdheXMgYmUgcGVybWl0dGVkLlxuICpcbiAqIE5vdGUgdGhhdCB0aGUgZW1wdHkgc3RyaW5nIChgJydgKSBpcyBhbHdheXMgcGVybWl0dGVkIGJ5IHRoZSBKU09OLVJQQ1xuICogc3BlY2lmaWNhdGlvbiwgYnV0IHRoYXQga2luZCBvZiBzdWNrcyBhbmQgeW91IG1heSB3YW50IHRvIGZvcmJpZCBpdCBpbiBzb21lXG4gKiBpbnN0YW5jZXMgYW55d2F5LlxuICpcbiAqIEZvciBtb3JlIGRldGFpbHMsIHNlZSB0aGVcbiAqIFtKU09OLVJQQyBTcGVjaWZpY2F0aW9uXShodHRwczovL3d3dy5qc29ucnBjLm9yZy9zcGVjaWZpY2F0aW9uKS5cbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyAtIEFuIG9wdGlvbnMgb2JqZWN0LlxuICogQHBhcmFtIG9wdGlvbnMucGVybWl0RW1wdHlTdHJpbmcgLSBXaGV0aGVyIHRoZSBlbXB0eSBzdHJpbmcgKGkuZS4gYCcnYClcbiAqIHNob3VsZCBiZSB0cmVhdGVkIGFzIGEgdmFsaWQgSUQuIERlZmF1bHQ6IGB0cnVlYFxuICogQHBhcmFtIG9wdGlvbnMucGVybWl0RnJhY3Rpb25zIC0gV2hldGhlciBmcmFjdGlvbmFsIG51bWJlcnMgKGUuZy4gYDEuMmApXG4gKiBzaG91bGQgYmUgdHJlYXRlZCBhcyB2YWxpZCBJRHMuIERlZmF1bHQ6IGBmYWxzZWBcbiAqIEBwYXJhbSBvcHRpb25zLnBlcm1pdE51bGwgLSBXaGV0aGVyIGBudWxsYCBzaG91bGQgYmUgdHJlYXRlZCBhcyBhIHZhbGlkIElELlxuICogRGVmYXVsdDogYHRydWVgXG4gKiBAcmV0dXJucyBUaGUgSlNPTi1SUEMgSUQgdmFsaWRhdG9yIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SnNvblJwY0lkVmFsaWRhdG9yKG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IHBlcm1pdEVtcHR5U3RyaW5nLCBwZXJtaXRGcmFjdGlvbnMsIHBlcm1pdE51bGwgfSA9IHtcbiAgICAgICAgcGVybWl0RW1wdHlTdHJpbmc6IHRydWUsXG4gICAgICAgIHBlcm1pdEZyYWN0aW9uczogZmFsc2UsXG4gICAgICAgIHBlcm1pdE51bGw6IHRydWUsXG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUeXBlIGd1YXJkIGZvciB7QGxpbmsgSnNvblJwY0lkfS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpZCAtIFRoZSBKU09OLVJQQyBJRCB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIHRoZSBnaXZlbiBJRCBpcyB2YWxpZCBwZXIgdGhlIG9wdGlvbnMgZ2l2ZW4gdG8gdGhlXG4gICAgICogZmFjdG9yeS5cbiAgICAgKi9cbiAgICBjb25zdCBpc1ZhbGlkSnNvblJwY0lkID0gKGlkKSA9PiB7XG4gICAgICAgIHJldHVybiBCb29sZWFuKCh0eXBlb2YgaWQgPT09ICdudW1iZXInICYmIChwZXJtaXRGcmFjdGlvbnMgfHwgTnVtYmVyLmlzSW50ZWdlcihpZCkpKSB8fFxuICAgICAgICAgICAgKHR5cGVvZiBpZCA9PT0gJ3N0cmluZycgJiYgKHBlcm1pdEVtcHR5U3RyaW5nIHx8IGlkLmxlbmd0aCA+IDApKSB8fFxuICAgICAgICAgICAgKHBlcm1pdE51bGwgJiYgaWQgPT09IG51bGwpKTtcbiAgICB9O1xuICAgIHJldHVybiBpc1ZhbGlkSnNvblJwY0lkO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9anNvbi5tanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@metamask/utils/dist/json.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@metamask/utils/dist/misc.mjs":
/*!****************************************************!*\
  !*** ./node_modules/@metamask/utils/dist/misc.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ESCAPE_CHARACTERS_REGEXP: () => (/* binding */ ESCAPE_CHARACTERS_REGEXP),\n/* harmony export */   JsonSize: () => (/* binding */ JsonSize),\n/* harmony export */   calculateNumberSize: () => (/* binding */ calculateNumberSize),\n/* harmony export */   calculateStringSize: () => (/* binding */ calculateStringSize),\n/* harmony export */   getKnownPropertyNames: () => (/* binding */ getKnownPropertyNames),\n/* harmony export */   hasProperty: () => (/* binding */ hasProperty),\n/* harmony export */   isASCII: () => (/* binding */ isASCII),\n/* harmony export */   isNonEmptyArray: () => (/* binding */ isNonEmptyArray),\n/* harmony export */   isNullOrUndefined: () => (/* binding */ isNullOrUndefined),\n/* harmony export */   isObject: () => (/* binding */ isObject),\n/* harmony export */   isPlainObject: () => (/* binding */ isPlainObject)\n/* harmony export */ });\n//\n// Types\n//\n//\n// Type Guards\n//\n/**\n * A {@link NonEmptyArray} type guard.\n *\n * @template Element - The non-empty array member type.\n * @param value - The value to check.\n * @returns Whether the value is a non-empty array.\n */\nfunction isNonEmptyArray(value) {\n    return Array.isArray(value) && value.length > 0;\n}\n/**\n * Type guard for \"nullishness\".\n *\n * @param value - Any value.\n * @returns `true` if the value is null or undefined, `false` otherwise.\n */\nfunction isNullOrUndefined(value) {\n    return value === null || value === undefined;\n}\n/**\n * A type guard for {@link RuntimeObject}.\n *\n * @param value - The value to check.\n * @returns Whether the specified value has a runtime type of `object` and is\n * neither `null` nor an `Array`.\n */\nfunction isObject(value) {\n    return Boolean(value) && typeof value === 'object' && !Array.isArray(value);\n}\n//\n// Other utility functions\n//\n/**\n * A type guard for ensuring an object has a property.\n *\n * @param objectToCheck - The object to check.\n * @param name - The property name to check for.\n * @returns Whether the specified object has an own property with the specified\n * name, regardless of whether it is enumerable or not.\n */\nconst hasProperty = (objectToCheck, name) => Object.hasOwnProperty.call(objectToCheck, name);\n/**\n * `Object.getOwnPropertyNames()` is intentionally generic: it returns the\n * immediate property names of an object, but it cannot make guarantees about\n * the contents of that object, so the type of the property names is merely\n * `string[]`. While this is technically accurate, it is also unnecessary if we\n * have an object with a type that we own (such as an enum).\n *\n * @param object - The plain object.\n * @returns The own property names of the object which are assigned a type\n * derived from the object itself.\n */\nfunction getKnownPropertyNames(object) {\n    return Object.getOwnPropertyNames(object);\n}\n/**\n * Predefined sizes (in Bytes) of specific parts of JSON structure.\n */\nvar JsonSize;\n(function (JsonSize) {\n    JsonSize[JsonSize[\"Null\"] = 4] = \"Null\";\n    JsonSize[JsonSize[\"Comma\"] = 1] = \"Comma\";\n    JsonSize[JsonSize[\"Wrapper\"] = 1] = \"Wrapper\";\n    JsonSize[JsonSize[\"True\"] = 4] = \"True\";\n    JsonSize[JsonSize[\"False\"] = 5] = \"False\";\n    JsonSize[JsonSize[\"Quote\"] = 1] = \"Quote\";\n    JsonSize[JsonSize[\"Colon\"] = 1] = \"Colon\";\n    // eslint-disable-next-line @typescript-eslint/no-shadow\n    JsonSize[JsonSize[\"Date\"] = 24] = \"Date\";\n})(JsonSize = JsonSize || (JsonSize = {}));\n/**\n * Regular expression with pattern matching for (special) escaped characters.\n */\nconst ESCAPE_CHARACTERS_REGEXP = /\"|\\\\|\\n|\\r|\\t/gu;\n/**\n * Check if the value is plain object.\n *\n * @param value - Value to be checked.\n * @returns True if an object is the plain JavaScript object,\n * false if the object is not plain (e.g. function).\n */\nfunction isPlainObject(value) {\n    if (typeof value !== 'object' || value === null) {\n        return false;\n    }\n    try {\n        let proto = value;\n        while (Object.getPrototypeOf(proto) !== null) {\n            proto = Object.getPrototypeOf(proto);\n        }\n        return Object.getPrototypeOf(value) === proto;\n    }\n    catch (_) {\n        return false;\n    }\n}\n/**\n * Check if character is ASCII.\n *\n * @param character - Character.\n * @returns True if a character code is ASCII, false if not.\n */\nfunction isASCII(character) {\n    return character.charCodeAt(0) <= 127;\n}\n/**\n * Calculate string size.\n *\n * @param value - String value to calculate size.\n * @returns Number of bytes used to store whole string value.\n */\nfunction calculateStringSize(value) {\n    const size = value.split('').reduce((total, character) => {\n        if (isASCII(character)) {\n            return total + 1;\n        }\n        return total + 2;\n    }, 0);\n    // Also detect characters that need backslash escape\n    return size + (value.match(ESCAPE_CHARACTERS_REGEXP) ?? []).length;\n}\n/**\n * Calculate size of a number ofter JSON serialization.\n *\n * @param value - Number value to calculate size.\n * @returns Number of bytes used to store whole number in JSON.\n */\nfunction calculateNumberSize(value) {\n    return value.toString().length;\n}\n//# sourceMappingURL=misc.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1ldGFtYXNrL3V0aWxzL2Rpc3QvbWlzYy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0scUJBQXFCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixvQkFBb0I7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyx1Q0FBdUM7QUFDeEM7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2dlb3F1ZXN0LWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL0BtZXRhbWFzay91dGlscy9kaXN0L21pc2MubWpzP2E4MWMiXSwic291cmNlc0NvbnRlbnQiOlsiLy9cbi8vIFR5cGVzXG4vL1xuLy9cbi8vIFR5cGUgR3VhcmRzXG4vL1xuLyoqXG4gKiBBIHtAbGluayBOb25FbXB0eUFycmF5fSB0eXBlIGd1YXJkLlxuICpcbiAqIEB0ZW1wbGF0ZSBFbGVtZW50IC0gVGhlIG5vbi1lbXB0eSBhcnJheSBtZW1iZXIgdHlwZS5cbiAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIFdoZXRoZXIgdGhlIHZhbHVlIGlzIGEgbm9uLWVtcHR5IGFycmF5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNOb25FbXB0eUFycmF5KHZhbHVlKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA+IDA7XG59XG4vKipcbiAqIFR5cGUgZ3VhcmQgZm9yIFwibnVsbGlzaG5lc3NcIi5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgLSBBbnkgdmFsdWUuXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlIGlzIG51bGwgb3IgdW5kZWZpbmVkLCBgZmFsc2VgIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzTnVsbE9yVW5kZWZpbmVkKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQ7XG59XG4vKipcbiAqIEEgdHlwZSBndWFyZCBmb3Ige0BsaW5rIFJ1bnRpbWVPYmplY3R9LlxuICpcbiAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIFdoZXRoZXIgdGhlIHNwZWNpZmllZCB2YWx1ZSBoYXMgYSBydW50aW1lIHR5cGUgb2YgYG9iamVjdGAgYW5kIGlzXG4gKiBuZWl0aGVyIGBudWxsYCBub3IgYW4gYEFycmF5YC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gICAgcmV0dXJuIEJvb2xlYW4odmFsdWUpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpO1xufVxuLy9cbi8vIE90aGVyIHV0aWxpdHkgZnVuY3Rpb25zXG4vL1xuLyoqXG4gKiBBIHR5cGUgZ3VhcmQgZm9yIGVuc3VyaW5nIGFuIG9iamVjdCBoYXMgYSBwcm9wZXJ0eS5cbiAqXG4gKiBAcGFyYW0gb2JqZWN0VG9DaGVjayAtIFRoZSBvYmplY3QgdG8gY2hlY2suXG4gKiBAcGFyYW0gbmFtZSAtIFRoZSBwcm9wZXJ0eSBuYW1lIHRvIGNoZWNrIGZvci5cbiAqIEByZXR1cm5zIFdoZXRoZXIgdGhlIHNwZWNpZmllZCBvYmplY3QgaGFzIGFuIG93biBwcm9wZXJ0eSB3aXRoIHRoZSBzcGVjaWZpZWRcbiAqIG5hbWUsIHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciBpdCBpcyBlbnVtZXJhYmxlIG9yIG5vdC5cbiAqL1xuZXhwb3J0IGNvbnN0IGhhc1Byb3BlcnR5ID0gKG9iamVjdFRvQ2hlY2ssIG5hbWUpID0+IE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdFRvQ2hlY2ssIG5hbWUpO1xuLyoqXG4gKiBgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoKWAgaXMgaW50ZW50aW9uYWxseSBnZW5lcmljOiBpdCByZXR1cm5zIHRoZVxuICogaW1tZWRpYXRlIHByb3BlcnR5IG5hbWVzIG9mIGFuIG9iamVjdCwgYnV0IGl0IGNhbm5vdCBtYWtlIGd1YXJhbnRlZXMgYWJvdXRcbiAqIHRoZSBjb250ZW50cyBvZiB0aGF0IG9iamVjdCwgc28gdGhlIHR5cGUgb2YgdGhlIHByb3BlcnR5IG5hbWVzIGlzIG1lcmVseVxuICogYHN0cmluZ1tdYC4gV2hpbGUgdGhpcyBpcyB0ZWNobmljYWxseSBhY2N1cmF0ZSwgaXQgaXMgYWxzbyB1bm5lY2Vzc2FyeSBpZiB3ZVxuICogaGF2ZSBhbiBvYmplY3Qgd2l0aCBhIHR5cGUgdGhhdCB3ZSBvd24gKHN1Y2ggYXMgYW4gZW51bSkuXG4gKlxuICogQHBhcmFtIG9iamVjdCAtIFRoZSBwbGFpbiBvYmplY3QuXG4gKiBAcmV0dXJucyBUaGUgb3duIHByb3BlcnR5IG5hbWVzIG9mIHRoZSBvYmplY3Qgd2hpY2ggYXJlIGFzc2lnbmVkIGEgdHlwZVxuICogZGVyaXZlZCBmcm9tIHRoZSBvYmplY3QgaXRzZWxmLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0S25vd25Qcm9wZXJ0eU5hbWVzKG9iamVjdCkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmplY3QpO1xufVxuLyoqXG4gKiBQcmVkZWZpbmVkIHNpemVzIChpbiBCeXRlcykgb2Ygc3BlY2lmaWMgcGFydHMgb2YgSlNPTiBzdHJ1Y3R1cmUuXG4gKi9cbmV4cG9ydCB2YXIgSnNvblNpemU7XG4oZnVuY3Rpb24gKEpzb25TaXplKSB7XG4gICAgSnNvblNpemVbSnNvblNpemVbXCJOdWxsXCJdID0gNF0gPSBcIk51bGxcIjtcbiAgICBKc29uU2l6ZVtKc29uU2l6ZVtcIkNvbW1hXCJdID0gMV0gPSBcIkNvbW1hXCI7XG4gICAgSnNvblNpemVbSnNvblNpemVbXCJXcmFwcGVyXCJdID0gMV0gPSBcIldyYXBwZXJcIjtcbiAgICBKc29uU2l6ZVtKc29uU2l6ZVtcIlRydWVcIl0gPSA0XSA9IFwiVHJ1ZVwiO1xuICAgIEpzb25TaXplW0pzb25TaXplW1wiRmFsc2VcIl0gPSA1XSA9IFwiRmFsc2VcIjtcbiAgICBKc29uU2l6ZVtKc29uU2l6ZVtcIlF1b3RlXCJdID0gMV0gPSBcIlF1b3RlXCI7XG4gICAgSnNvblNpemVbSnNvblNpemVbXCJDb2xvblwiXSA9IDFdID0gXCJDb2xvblwiO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tc2hhZG93XG4gICAgSnNvblNpemVbSnNvblNpemVbXCJEYXRlXCJdID0gMjRdID0gXCJEYXRlXCI7XG59KShKc29uU2l6ZSA9IEpzb25TaXplIHx8IChKc29uU2l6ZSA9IHt9KSk7XG4vKipcbiAqIFJlZ3VsYXIgZXhwcmVzc2lvbiB3aXRoIHBhdHRlcm4gbWF0Y2hpbmcgZm9yIChzcGVjaWFsKSBlc2NhcGVkIGNoYXJhY3RlcnMuXG4gKi9cbmV4cG9ydCBjb25zdCBFU0NBUEVfQ0hBUkFDVEVSU19SRUdFWFAgPSAvXCJ8XFxcXHxcXG58XFxyfFxcdC9ndTtcbi8qKlxuICogQ2hlY2sgaWYgdGhlIHZhbHVlIGlzIHBsYWluIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgLSBWYWx1ZSB0byBiZSBjaGVja2VkLlxuICogQHJldHVybnMgVHJ1ZSBpZiBhbiBvYmplY3QgaXMgdGhlIHBsYWluIEphdmFTY3JpcHQgb2JqZWN0LFxuICogZmFsc2UgaWYgdGhlIG9iamVjdCBpcyBub3QgcGxhaW4gKGUuZy4gZnVuY3Rpb24pLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdvYmplY3QnIHx8IHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgbGV0IHByb3RvID0gdmFsdWU7XG4gICAgICAgIHdoaWxlIChPYmplY3QuZ2V0UHJvdG90eXBlT2YocHJvdG8pICE9PSBudWxsKSB7XG4gICAgICAgICAgICBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90byk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZih2YWx1ZSkgPT09IHByb3RvO1xuICAgIH1cbiAgICBjYXRjaCAoXykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuLyoqXG4gKiBDaGVjayBpZiBjaGFyYWN0ZXIgaXMgQVNDSUkuXG4gKlxuICogQHBhcmFtIGNoYXJhY3RlciAtIENoYXJhY3Rlci5cbiAqIEByZXR1cm5zIFRydWUgaWYgYSBjaGFyYWN0ZXIgY29kZSBpcyBBU0NJSSwgZmFsc2UgaWYgbm90LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNBU0NJSShjaGFyYWN0ZXIpIHtcbiAgICByZXR1cm4gY2hhcmFjdGVyLmNoYXJDb2RlQXQoMCkgPD0gMTI3O1xufVxuLyoqXG4gKiBDYWxjdWxhdGUgc3RyaW5nIHNpemUuXG4gKlxuICogQHBhcmFtIHZhbHVlIC0gU3RyaW5nIHZhbHVlIHRvIGNhbGN1bGF0ZSBzaXplLlxuICogQHJldHVybnMgTnVtYmVyIG9mIGJ5dGVzIHVzZWQgdG8gc3RvcmUgd2hvbGUgc3RyaW5nIHZhbHVlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlU3RyaW5nU2l6ZSh2YWx1ZSkge1xuICAgIGNvbnN0IHNpemUgPSB2YWx1ZS5zcGxpdCgnJykucmVkdWNlKCh0b3RhbCwgY2hhcmFjdGVyKSA9PiB7XG4gICAgICAgIGlmIChpc0FTQ0lJKGNoYXJhY3RlcikpIHtcbiAgICAgICAgICAgIHJldHVybiB0b3RhbCArIDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvdGFsICsgMjtcbiAgICB9LCAwKTtcbiAgICAvLyBBbHNvIGRldGVjdCBjaGFyYWN0ZXJzIHRoYXQgbmVlZCBiYWNrc2xhc2ggZXNjYXBlXG4gICAgcmV0dXJuIHNpemUgKyAodmFsdWUubWF0Y2goRVNDQVBFX0NIQVJBQ1RFUlNfUkVHRVhQKSA/PyBbXSkubGVuZ3RoO1xufVxuLyoqXG4gKiBDYWxjdWxhdGUgc2l6ZSBvZiBhIG51bWJlciBvZnRlciBKU09OIHNlcmlhbGl6YXRpb24uXG4gKlxuICogQHBhcmFtIHZhbHVlIC0gTnVtYmVyIHZhbHVlIHRvIGNhbGN1bGF0ZSBzaXplLlxuICogQHJldHVybnMgTnVtYmVyIG9mIGJ5dGVzIHVzZWQgdG8gc3RvcmUgd2hvbGUgbnVtYmVyIGluIEpTT04uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVOdW1iZXJTaXplKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCkubGVuZ3RoO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWlzYy5tanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@metamask/utils/dist/misc.mjs\n");

/***/ })

};
;